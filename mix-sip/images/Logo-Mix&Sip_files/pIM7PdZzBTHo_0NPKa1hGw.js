(function() {var f,aa="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,ca={};function da(a,b){(ca[a]=ca[a]||[]).push(b);var c=aa;a=a.split(".");for(var d=0;d<a.length-1&&c;d++)c=c[a[d]];a=a[a.length-1];c&&c[a]instanceof Function&&(c[a]=b(c[a]))}
function ea(){ea=function(){};if(!aa.Symbol){aa.Symbol=ia;var a=[],b=function(b){return function(d){a=[];d=b(d);for(var e=[],g=0,h=d.length;g<h;g++){var k;a:if(k=d[g],14>k.length)k=!1;else{for(var l=0;14>l;l++)if(k[l]!="jscomp_symbol_"[l]){k=!1;break a}k=!0}k?a.push(d[g]):e.push(d[g])}return e}};da("Object.keys",b);da("Object.getOwnPropertyNames",b);da("Object.getOwnPropertySymbols",function(c){return function(d){b.Bca=Object.getOwnPropertyNames(d);a.push.apply(c(d));return a}})}}var ja=0;
function ia(a){return"jscomp_symbol_"+a+ja++}function ka(){ea();aa.Symbol.iterator||(aa.Symbol.iterator=aa.Symbol("iterator"));ka=function(){}}function la(a){ka();ea();ka();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}}function ma(a){if(!(a instanceof Array)){a=la(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function r(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}var na="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
function oa(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function qa(a,b){if(b){for(var c=aa,d=a.split("."),e=0;e<d.length-1;e++){var g=d[e];g in c||(c[g]={});c=c[g]}d=d[d.length-1];e=c[d];b=b(e);if(b!=e){a=ca[a]||[];for(e=0;e<a.length;e++)b=a[e](b);na(c,d,{configurable:!0,writable:!0,value:b})}}}
qa("WeakMap",function(a){function b(a){this.pA=(k+=Math.random()+1).toString();if(a){ea();ka();a=la(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){if(!oa(a,g)){var b={};b[g]=h;na(a,g,{value:b})}}function d(a){return function(b){var c=a(b);if(oa(b,g)&&oa(b[g],g)&&b[g][g]===h)for(b=0;b<c.length;b++)if(c[b]==g){c.splice(b,1);break}return c}}function e(a){return function(b){c(b);return a(b)}}if(function(){if(!a||!Object.seal)return!1;var b=Object.seal({}),c=Object.seal({}),
d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}())return a;var g="$jscomp_hidden_"+Math.random().toString().substring(2),h={};da("Object.getOwnPropertyNames",d);da("Object.keys",d);da("Reflect.enumerate",d);da("Reflect.ownKeys",d);da("Object.freeze",e);da("Object.preventExtensions",e);da("Object.seal",e);var k=0;b.prototype.set=function(a,b){c(a);if(!oa(a,g))throw Error("WeakMap key fail: "+a);a[g][this.pA]=b;return this};b.prototype.get=
function(a){return oa(a,g)?a[g][this.pA]:void 0};b.prototype.has=function(a){return oa(a,g)&&oa(a[g],this.pA)};b.prototype.delete=function(a){return oa(a,g)&&oa(a[g],this.pA)?delete a[g][this.pA]:!1};return b});
qa("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function c(a,b){var c=a.qn,d={next:function(){if(c){for(;c.head!=a.qn;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}function d(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?g.has(b)?c=g.get(b):(c=""+ ++h,g.set(b,c)):c="p_"+b;var d=a.bz[c];if(d&&oa(a.bz,c))for(a=0;a<d.length;a++){var e=d[a];if(b!==b&&e.key!==
e.key||b===e.key)return{id:c,list:d,index:a,Ag:e}}return{id:c,list:d,index:-1,Ag:void 0}}function e(a){this.bz={};this.qn=b();this.size=0;if(a){a=la(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(la([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;
e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(g){return!1}}())return a;ea();ka();var g=new WeakMap;e.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.bz[c.id]=[]);c.Ag?c.Ag.value=b:(c.Ag={next:this.qn,previous:this.qn.previous,head:this.qn,key:a,value:b},c.list.push(c.Ag),this.qn.previous.next=c.Ag,this.qn.previous=c.Ag,this.size++);return this};e.prototype.delete=function(a){a=d(this,a);return a.Ag&&a.list?(a.list.splice(a.index,1),a.list.length||
delete this.bz[a.id],a.Ag.previous.next=a.Ag.next,a.Ag.next.previous=a.Ag.previous,a.Ag.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.bz={};this.qn=this.qn.previous=b();this.size=0};e.prototype.has=function(a){return!!d(this,a).Ag};e.prototype.get=function(a){return(a=d(this,a).Ag)&&a.value};e.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};e.prototype.keys=function(){return c(this,function(a){return a.key})};e.prototype.values=function(){return c(this,
function(a){return a.value})};e.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});function ra(a,b){ka();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}
qa("Array.prototype.keys",function(a){return a?a:function(){return ra(this,function(a){return a})}});qa("Array.prototype.fill",function(a){return a?a:function(a,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});qa("Array.prototype.values",function(a){return a?a:function(){return ra(this,function(a,c){return c})}});
function ua(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(b.call(c,g,e,a))return{EV:e,mr:g}}return{EV:-1,mr:void 0}}qa("Array.prototype.find",function(a){return a?a:function(a,c){return ua(this,a,c).mr}});qa("Array.prototype.entries",function(a){return a?a:function(){return ra(this,function(a,c){return[a,c]})}});
qa("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var g in e)oa(e,g)&&(a[g]=e[g])}return a}});qa("Array.from",function(a){return a?a:function(a,c,d){ka();c=null!=c?c:function(a){return a};var e=[],g=a[Symbol.iterator];if("function"==typeof g)for(a=g.call(a);!(g=a.next()).done;)e.push(c.call(d,g.value));else for(var g=a.length,h=0;h<g;h++)e.push(c.call(d,a[h]));return e}});
qa("Set",function(a){function b(a){this.ck=new Map;if(a){a=la(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.ck.size}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new a(la([b]));if(!d.has(b)||1!=d.size||d.add(b)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),g=e.next();if(g.done||g.value[0]!=b||g.value[1]!=b)return!1;g=e.next();return g.done||g.value[0]==b||4!=g.value[0].x||g.value[1]!=g.value[0]?
!1:e.next().done}catch(h){return!1}}())return a;ea();ka();b.prototype.add=function(a){this.ck.set(a,a);this.size=this.ck.size;return this};b.prototype.delete=function(a){a=this.ck.delete(a);this.size=this.ck.size;return a};b.prototype.clear=function(){this.ck.clear();this.size=0};b.prototype.has=function(a){return this.ck.has(a)};b.prototype.entries=function(){return this.ck.entries()};b.prototype[Symbol.iterator]=function(){return this.ck.values()};b.prototype.values=function(){return this.ck.values()};
b.prototype.forEach=function(a,b){var e=this;this.ck.forEach(function(g){return a.call(b,g,g,e)})};return b});function va(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}
qa("String.prototype.repeat",function(a){return a?a:function(a){var c=va(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=c),a>>>=1)c+=c;return d}});qa("Math.log10",function(a){return a?a:function(a){return Math.log(a)/Math.LN10}});qa("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==va(this,a,"includes").indexOf(a,c||0)}});
qa("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}});qa("Array.prototype.findIndex",function(a){return a?a:function(a,c){return ua(this,a,c).EV}});function wa(a){this.data=a}wa.prototype.get=function(a,b){if(!this.data)throw Error("no viewConfig, unable to get: "+a);b=void 0===this.data[a]?b:this.data[a];if(void 0===b)throw Error('Could not retrieve "'+a+'" from viewConfig');return b};var xa=(new UAParser).getResult(),ya=xa.browser.name,za=xa.browser.major,Ba=(new wa(window.viewConfig||{})).get("magicButtonEnabled",null),Ca=/\.247$/;
""==window.location.pathname||"/"==window.location.pathname||"/signup"==window.location.pathname||"/login"==window.location.pathname||xa.browser.version.match(Ca)||("Chrome"===ya||"Chromium"==ya)&&49<=za||"Safari"===ya&&9<=za||"Firefox"===ya&&49<=za||"Opera"===ya&&36<=za||("IE"===ya||"Edge"===ya)&&11<=za||"undefined"!=typeof window.localStorage&&window.localStorage.ignore_browser_cache||(Ba&&Ba.test(window.location.search)?window.location.href="/unsupported?playvideo\x3d1":window.location.href="/unsupported");function Da(){}function w(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid argument":Ea.apply(Da,[].concat([b],ma(d))));}function Fa(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid state":Ea.apply(Da,[].concat([b],ma(d))));}
function y(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(null==a)throw Error(2>arguments.length?"argument is null":Ea.apply(Da,[].concat([b],ma(d))));return a}function Ea(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var e=0;return a.replace(/\{}/g,function(){return e<c.length?c[e++]:"{}"})};function Ga(a){this.type=a}Ga.prototype.required=function(a,b){b=b[a];if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Ga.prototype.optional=function(a,b){b=b[a];if(null!=b&&typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
Ga.prototype.de=function(a,b){b=b[a];if(null!=b)if(Array.isArray(b))for(a=0;a<b.length;a++)this.required(String(a),b);else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var Ha=new Ga("string"),Ia=new Ga("boolean"),Ja=new Ga("number"),Ka=new Ga("object");function La(a){if(null==a||"object"!=typeof a)throw new TypeError("expected an object, found: "+a);return a}function A(a,b){return Ja.optional(a,b)||0}
function B(a,b){return Ja.optional(a,b)}function C(a,b){return Ha.required(a,b)}function D(a,b){return Ha.optional(a,b)}function Ma(a,b){return Ia.optional(a,b)||!1}function Na(a,b){return Ia.optional(a,b)}function Oa(a,b,c){return a(Ka.required(b,c))}function F(a,b,c){return(b=Ka.optional(b,c))?a(b):b}function G(a,b,c){return(b=Ka.de(b,c))?b.map(a):b}function Pa(a,b,c){return a(b,Ha.required(b,c))}function Qa(a,b,c){c=Ha.optional(b,c);return null!=c?a(b,c):c}
function Ra(a,b,c){c=Ha.de(b,c);return null!=c?c.map(a.bind(null,b)):c}function Sa(a,b,c){return Ta(Ua,Va.bind(null,a),b,c)}function Ta(a,b,c,d){d=d[c];if(null==d)return d;if("object"!==typeof d)throw new TypeError('expected map for property "'+c+'", found: '+JSON.stringify(d));for(var e=new Map,g=la(Object.keys(d)),h=g.next();!h.done;h=g.next())h=h.value,e.set(a(c,h),b(c,h,d));return e}function Ua(a,b){return b}
function Wa(a,b,c){b=c[b];if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}function Va(a,b,c,d){c=d[c];if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function Xa(a,b,c){b=c[b];if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b}function Ya(a){this.type=a}
Ya.prototype.required=function(a,b){if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Ya.prototype.optional=function(a,b){if(null!=b){if(typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b}};
Ya.prototype.de=function(a,b){if(Array.isArray(b)){if(0==b.length)return;for(var c=0;c<b.length;c++)this.required(a+"["+String(c)+"]",b[c])}else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var $a=new Ya("string"),ab=new Ya("boolean"),bb=new Ya("number"),cb=new Ya("object");function db(a,b){return 0!==b?bb.required(a,b):void 0}function eb(a,b){return bb.optional(a,b)}function fb(a){return bb.de("pages",a)}
function gb(a,b){return!1!==b?ab.required(a,b):void 0}function hb(a,b){return ab.optional(a,b)}function ib(a,b){return $a.required(a,b)}function I(a,b){return $a.optional(a,b)}function jb(a,b,c){return cb.optional(b,c?a(c):null)}function kb(a,b,c){return cb.de(b,c.map(a))}function lb(a,b,c){return $a.required(b,a(b,c))}function mb(a,b,c){return $a.optional(b,c?a(b,c):null)}function nb(a,b,c){return ob(qb,rb.bind(null,a),b,c)}
function ob(a,b,c,d){if(!(d instanceof Map))throw new TypeError('expected Map for property "'+c+'", found: '+JSON.stringify(d));for(var e={},g=la(d.keys()),h=g.next();!h.done;h=g.next())h=h.value,e[a(c,h)]=b(c,d.get(h));return e}function qb(a,b){if("string"!==typeof b)throw new TypeError('expected string key in property "'+a+'", found: '+JSON.stringify(b));return b}
function sb(a,b){if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}function rb(a,b,c){if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function tb(a,b){if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b};var ub=ub||{},K,vb,wb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,M,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc;var O=new function(){this.C0={upload:"/static/r/farawaybay/immovable/js/x9zITKdAvhuJA9i2mpYYlQ.js"};this.w0=!1;this.dJ=.1;this.Ca={u2:330,v2:330,eba:500,iba:300,hba:300,kba:500,kL:300,S2:400,Nz:300,U3:300,qW:1E3,rW:1E3,hq:200,iw:20,Kba:600,YA:300,ik:500,c8:2E3,Uba:500,e9:300,Pq:600,DX:500,jba:150};this.Ut=140;this.hy=1.2;this.YI=150;this.tS=.7;this.gD=30;this.$I="#ffffff";this.jD="#222";this.kD="#fff";this.hD=24;this.dS=300;this.iD=10;this.bJ=this.kS=1.2;this.$_=42;this.X_=24;this.Td=16;this.Z_="Abril Fatface";this.W_="Trocchi";
this.Sd="Arimo";this.Ec=20;this.Fc=4;this.e0=1024;this.cJ=[6,8,10,12,14,16,18,21,24,28,32,36,42,48,56,64,72,80,88,96,104,120,144];this.iS="undefined"!==typeof window&&1<window.devicePixelRatio;this.jS=.33;this.lD=.5;this.k0="undefined"!==typeof window&&window.navigator.userAgent.match(/Macintosh/)?!0:!1;this.l0=5E3;this.m0=400;this.mD=500;this.Oo=255;this.fJ=3;this.ky=10*this.fJ;this.o0=40*this.fJ;this.n0=40;this.eJ=1;this.Kh=3;this.Lh=.95;this.r0=110;this.p0=180;this.q0=145;this.ly=30;this.Wt=50;
this.Po="https://static.canva.com/static/images/placeholder.jpg";this.nS=1438;this.mS=560;this.Li=230/24;this.qS=1E3;this.nD=50;this.t0={MAB5cDHmsFw:"0e94ff",MAB5cMCyv6w:"72c0ff",MAB5cAQJlaQ:"d0eaff",MAB5cEikLyU:"c0f2dc",MAB5cM_6xEM:"83f2d9",MAB5cJzamNA:"00d1c0",MAB5cMvV4WI:"b7ff82",MAB5cEhZV9o:"d3ffb3",MAB5cCZyCJQ:"feffcb",MAB5cHj48Zw:"ffef42",MAB5cK1JDsE:"ffa351",MAB5hidY3ns:"ffde7d",MAB5cFsTlDk:"fff6df",MAB5cKyqi1s:"ffd8cf","MAB5hoaFM-I":"ffa3a1",MAB5cNEJxNs:"ff716e",MAB5cP9grzE:"ff6bcd",MAB5cMwWSfs:"ffc7ec",MAB5cGdDeZ4:"e4b9ff",
MAB5cBzXdGA:"d38cff",MAB5cNvP7Pc:"c06af6",MAB5cKXAlps:"7f72ff",MAB5cCOTPdQ:"9c92ff",MAB5cDcYB4g:"c7c1ff",MAB5cFxeE3w:"e0daf3",MAB5cE5y_5k:"b9b5c7",MAB5cCYeclo:"9a97a5",MAB5cOfCuGs:"73726d",MAB5cPkevM0:"a3a198",MAB5cPNsPAA:"dddbcd","MAB5cOxZt-I":"ff95db",MAAyKuwFB5o:"ffffff",MAAyKtahJms:"ffbd7e",MAAyKgcbIPk:"383838",MAAyKi3v9aM:"ababab",MAAyKiojphI:"3ea198",MAAyKgoNGiU:"f1eae2",MAAyKtzdfJo:"f2e6da",MAAyKjzFRMk:"b6b6b6",MAAyKl0hu7c:"3f0002",MAAyKrQbulQ:"aabee5",MAAyKjqXb3g:"1e404e",MAAyKpadICg:"383838",
MAAyKriHEH4:"fce8d2",MAAyKvlJXOU:"86d694",MAAyKt_1BzE:"abddd8",MAAyKtiLYqQ:"ffcd54",MAAyKu2TdB8:"a12e38",MAAyKojhmk8:"9c77b8",MAAyKvdlAbg:"4473a7",MAAMxVrOHEU:"d3e460",MAAMxR635oY:"3589a1",MAAMJGCfFWw:"8bcfb1",MAAMxcxaYiU:"8bcfb1",MAAMxbOmmrM:"de5947",MAAMxVr6xaM:"ab7253",MAAMxbd7Q4o:"ee826d",MAAMJKph95Q:"9d427a",MAAMJAC_3oM:"969db1",MAAMJEZCTiQ:"54a4a5",MAAMJMQdk_o:"be842e",MAAMJKR_eNE:"318ba2",MAAMJNt_z0k:"f3bc33",MAAMJPRAWEw:"df5a46",MAAMJEguyXk:"54a4a5",MAAMJMMLN98:"9f437b",MAAMJPOvhoc:"df5a46",
MAAMJPQVxis:"ee826c",MAAMJOSYm7w:"f3bc33",MAAMJM5OR40:"b7a77f",MAAMxUoD3Gw:"8cccaf",MAAMxdiUksM:"f3bc33",MAAMxRX8OJ4:"f3bc33",MAAMxbGelwc:"54a4a5",MAAMxSCeicM:"318ba2",MAAMxT7CVYA:"8cccaf"};this.my=3E4;this.Y_=1500;this.rS=5;this.A0=190;this.B0=300;this.f0=88;this.i0=0;this.oD=88;this.uS=10;this.bS=7;this.d0=0;this.a0=this.c0=12;this.b0=0;this.kJ=.7;this.oy=1.3;this.lS=2.5},ec={TITLE:"title",xaa:"subtitle",BODY:"body"},fc={u0:"search",naa:"layout",TEXT:"text",aaa:"backgrounds",Iaa:"uploads"};function gc(a){this.$el=a}gc.prototype.remove=function(){this.$el.remove()};function hc(a){this.$el=a;this.Wv={}}hc.prototype.remove=function(){this.$el.off();this.$el.remove()};hc.prototype.on=function(a,b){w(!this.Wv[a],"listener already registered for event {}",a);this.Wv[a]=b};hc.prototype.off=function(a,b){null==a?this.Wv={}:null!=b&&this.Wv[a]!=b||delete this.Wv[a]};hc.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.Wv[a])&&d.apply(null,[].concat(ma(c)))};function R(a){this.m3=a.fallback;this.DW=a.localePrecedence;this.MN={};this.i=a.messages;this.m8=this.DW[0];this.f9=!!a.returnKeys}R.prototype.format=function(a,b){if(this.f9)return[].join.call(arguments,":");var c=ic(this,a);return c.format.call(c,[].slice.call(arguments,1))};
R.prototype.Ga=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=this.format.apply(this,[].concat([a],ma(c.map(function(a){return"number"===typeof a?a:soydata.SanitizedHtml.from(a).getContent()}))));return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};
function ic(a,b){if(a.MN.hasOwnProperty(b))return a.MN[b];var c=a.m8,d;a.DW.some(function(c){d=a.i[c]&&a.i[c][b];return void 0!==d});d||(c=a.m3,d=a.i[c]&&a.i[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,jc);return a.MN[b]=c}var jc={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function kc(){this.config=window.cmsg;this.YO=this.Pl=this.qf=this.ZK=this.XK=this.pR=this.Vl=this.wc=this.Nf=this.Pd=this.Cc=this.mi=this.$i=this.Me=this.$c=this.Zs=this.Ia=this.NJ=this.vR=this.qq=this.Yy=this.$u=this.ZN=this.eK=this.sf=this.yj=this.IR=this.$K=this.lg=this.xe=this.rg=this.Bk=this.bg=this.Sb=this.PR=this.vP=this.Pa=this.Aa=this.Ea=this.X=this.Rd=this.Ya=this.Xd=this.Bd=this.mF=this.$o=this.rh=this.Zk=this.Qf=this.Hy=this.iL=this.hL=this.gL=this.Gm=this.qc=this.jL=this.zf=this.fh=
this.WJ=this.Wi=this.Qr=this.J=null}function lc(a){a.J||(a.J=new mc(a.config));return a.J}function nc(a){a.Qr||(a.Qr=new oc(a.config));return a.Qr}function pc(a){a.mF||(a.mF=new qc(a.config));return a.mF}function rc(a){a.Wi||(a.Wi=new sc(a.config));return a.Wi}function tc(a){a.WJ||(a.WJ=new uc(a.config));return a.WJ}function xc(a){a.Gm||(a.Gm=new yc(a.config));return a.Gm}function zc(a){a.zf||(a.zf=new Ac(a.config));return a.zf}function Bc(a){a.jL||(a.jL=new Cc(a.config));return a.jL}
function Dc(a){a.qc||(a.qc=new Ec(a.config));return a.qc}function Fc(a){a.gL||(a.gL=new Gc(a.config));return a.gL}function Hc(a){a.hL||(a.hL=new Ic(a.config));return a.hL}function Jc(a){a.Hy||(a.Hy=new Kc(a.config));return a.Hy}function Lc(a){a.$u||(a.$u=new Mc(a.config));return a.$u}function Nc(a){a.Yy||(a.Yy=new Oc(a.config));return a.Yy}function Pc(a){a.X||(a.X=new Qc(a.config));return a.X}function Rc(a){a.Ea||(a.Ea=new Sc(a.config));return a.Ea}
function Tc(a){a.Aa||(a.Aa=new Uc(a.config));return a.Aa}function Vc(a){a.Pa||(a.Pa=new Wc(a.config));return a.Pa}function Xc(a){a.vP||(a.vP=new Yc(a.config));return a.vP}function Zc(a){a.$o||(a.$o=new $c(a.config));return a.$o}function ad(a){a.Xd||(a.Xd=new bd(a.config));return a.Xd}function cd(a){a.Ya||(a.Ya=new dd(a.config));return a.Ya}function ed(a){a.rg||(a.rg=new fd(a.config));return a.rg}function gd(a){a.xe||(a.xe=new hd(a.config));return a.xe}
function id(a){a.IR||(a.IR=new jd(a.config));return a.IR}function kd(a){a.yj||(a.yj=new ld(a.config));return a.yj}function md(a){a.sf||(a.sf=new nd(a.config));return a.sf}function od(a){a.eK||(a.eK=new pd(a.config));return a.eK}function qd(a){a.ZN||(a.ZN=new rd(a.config));return a.ZN}function sd(a){a.qq||(a.qq=new td(a.config));return a.qq}function ud(a){a.Me||(a.Me=new vd(a.config));return a.Me}function wd(a){a.Ia||(a.Ia=new xd(a.config));return a.Ia}
function yd(a){a.Pd||(a.Pd=new zd(a.config));return a.Pd}function Ad(a){a.Nf||(a.Nf=new Bd(a.config));return a.Nf}function Cd(a){a.wc||(a.wc=new Dd(a.config));return a.wc}function Ed(a){a.Vl||(a.Vl=new Fd(a.config));return a.Vl}function Gd(a){a.qf||(a.qf=new Hd(a.config));return a.qf}function Id(a){a.Pl||(a.Pl=new Jd(a.config));return a.Pl}function Kd(a){a.YO||(a.YO=new Ld(a.config));return a.YO}function mc(a){R.apply(this,arguments)}r(mc,R);
function Nd(a){return a.format("objectPanelInfoClose")}function Od(a){return a.format("objectPanelInfoCloseThisInfoPanel")}function Pd(a){return a.format("objectPanelInfoUntitledImage")}mc.prototype.Dc=function(){return this.format("objectPanelInfoRoyaltyFree")};mc.prototype.Gd=function(){return this.format("objectPanelInfoExtended")};function Qd(a,b){return a.format("objectPanelInfoLayouts",b)}function Rd(a){return a.format("objectPanelUploadsPanelWriteOpsDisabledLabel")}
function Sd(a){return a.format("objectPanelUploadsPanelDefaultFolderName")}function Td(a,b){return a.format("objectPanelUploadsPanelSharePopOverPrivateLabelOtherOwner",b)}function Ud(a){return a.format("objectPanelUploadsPanelUnlimitedUseFolder")}function Vd(a){return a.format("objectPanelTextPanelAddHeading")}function Wd(a){return a.format("objectPanelTextPanelAddSubHeading")}function Xd(a){return a.format("objectPanelLayoutsPanelYourDesignsTabLabel")}
function Yd(a){return a.format("objectPanelLayoutsPanelLayoutsTabTitle")}function Zd(a){return a.format("objectPanelLayoutsPanelTeamTemplates")}function $d(a){return a.format("objectPanelMediaItemCostFree")}mc.prototype.jq=function(a){return this.format("objectPanelLicense",a)};function bd(a){R.apply(this,arguments)}r(bd,R);function dd(a){R.apply(this,arguments)}r(dd,R);f=dd.prototype;f.Dj=function(){return this.format("creditCardCreditCardLabel")};f.nu=function(){return this.format("creditCardBillingAddressLabel")};
f.Mk=function(){return this.format("creditCardCardNumberPlaceholder")};f.Dl=function(){return this.format("creditCardMonthPlaceholder")};f.im=function(){return this.format("creditCardYearPlaceholder")};f.Uk=function(){return this.format("creditCardCvcPlaceholder")};function ae(a){return a.format("creditCardRegionPlaceholder")}f.Mo=function(){return this.format("creditCardZipCodePlaceholder")};f.save=function(){return this.format("creditCardSave")};f.XP=function(){return this.format("creditCardSavingTeamCard")};
function oc(a){R.apply(this,arguments)}r(oc,R);oc.prototype.Lg=function(){return this.format("documentPlaceholderText")};function be(a){return a.format("documentUntitledDesign")}function Ec(a){R.apply(this,arguments)}r(Ec,R);Ec.prototype.UC=function(){return this.format("editorControlsUpgrade")};Ec.prototype.am=function(){return this.format("editorControlsShare")};Ec.prototype.download=function(){return this.format("editorControlsDownload")};Ec.prototype.print=function(){return this.format("editorControlsPrint")};
function ce(a){return a.format("editorControlsUnsavedChanges")}function qc(a){R.apply(this,arguments)}r(qc,R);qc.prototype.error=function(){return this.format("findUserInputError")};function sc(a){R.apply(this,arguments)}r(sc,R);sc.prototype.Xo=function(){return this.format("colorPaletteApplyToAll")};function uc(a){R.apply(this,arguments)}r(uc,R);uc.prototype.Qb=function(a){return this.format("colorPickerBrandColor",a)};uc.prototype.Xo=function(){return this.format("colorPickerApplyToAll")};
function de(a){R.apply(this,arguments)}r(de,R);f=de.prototype;f.FW=function(){return this.format("editorFileMenuPaneMagicResize")};f.save=function(){return this.format("editorFileMenuPaneSave")};f.a9=function(){return this.format("editorFileMenuPaneResizeUpgradePrompt")};f.uN=function(){return this.format("editorFileMenuPaneLearnMoreButtonLabel")};f.h4=function(a){return this.format("editorFileMenuPaneLastSavedLabel",a)};function yc(a){R.apply(this,arguments)}r(yc,R);yc.prototype.H0=function(){return this.format("customDimensionsPaneActionResize")};
yc.prototype.times=function(){return this.format("customDimensionsPaneTimes")};yc.prototype.f8=function(){return this.format("customDimensionsPanePixelsUnit")};function ee(a){R.apply(this,arguments)}r(ee,R);ee.prototype.R$=function(){return this.format("documentResizePaneUseCustomDimensions")};ee.prototype.gK=function(){return this.format("documentResizePaneCouldNotBeLoaded")};ee.prototype.jR=function(){return this.format("documentResizePaneTryLoadingAgain")};ee.prototype.HL=function(){return this.format("documentResizePaneFetchingDesignTypes")};
function fe(a){R.apply(this,arguments)}r(fe,R);f=fe.prototype;f.b2=function(){return this.format("magicResizePaneCopyAndResize")};f.gK=function(){return this.format("magicResizePaneCouldNotBeLoaded")};f.jR=function(){return this.format("magicResizePaneTryLoadingAgain")};f.HL=function(){return this.format("magicResizePaneFetchingDesignTypes")};f.l2=function(){return this.format("magicResizePaneCurrentDesignSize")};f.D0=function(){return this.format("magicResizePaneAbracadabraResize")};f.Q4=function(){return this.format("magicResizePaneOhSnap")};
f.L4=function(){return this.format("magicResizePaneMultipleTabs")};function Gc(a){R.apply(this,arguments)}r(Gc,R);Gc.prototype.mm=function(){return this.format("editorPageControlActionMoveUp")};Gc.prototype.lm=function(){return this.format("editorPageControlActionMoveDown")};Gc.prototype.jm=function(){return this.format("editorPageControlActionCopy")};Gc.prototype.km=function(){return this.format("editorPageControlActionDelete")};function Ic(a){R.apply(this,arguments)}r(Ic,R);
function ge(a){R.apply(this,arguments)}r(ge,R);f=ge.prototype;f.OR=function(){return this.format("editorReplaceContentWarningTitle")};f.NR=function(){return this.format("editorReplaceContentWarningText")};f.fp=function(){return this.format("editorReplaceContentConfirmButtonText")};f.Kk=function(){return this.format("editorReplaceContentCancelButtonText")};f.FG=function(){return this.format("editorReplaceContentNeverShowAgain")};function Ac(a){R.apply(this,arguments)}r(Ac,R);
function he(a){return a.format("editorToolbarFilterOptionAdvanced")}function ie(a,b){return a.format("editorToolbarFilter"+b.replace(/\s*/g,""))}function je(a,b){b=b.replace(/(^[a-z])|(\-[a-z])/g,function(a){return(a[1]||a[0]).toUpperCase()});return a.format("editorToolbarFilterRange"+b)}function ke(a){return a.format("editorToolbarElementDelete")}f=Ac.prototype;f.Hd=function(){return this.format("editorToolbarFontSizeAuto")};f.textAlign=function(){return this.format("editorToolbarTextAlign")};
function le(a){return a.format("editorToolbarElementTransparency")}function me(a){return a.format("editorToolbarElementHorizontalAlignLeft")}function ne(a){return a.format("editorToolbarElementHorizontalAlignRight")}function oe(a){return a.format("editorToolbarElementHorizontalAlignCenter")}function pe(a){return a.format("editorToolbarElementVerticalAlignTop")}function qe(a){return a.format("editorToolbarElementVerticalAlignBottom")}
function re(a){return a.format("editorToolbarElementVerticalAlignCenter")}function te(a){return a.format("editorToolbarElementHorizontalDistribute")}function ue(a){return a.format("editorToolbarElementVerticalDistribute")}function ve(a){return a.format("editorToolbarElementPickAColor")}function we(a){return a.format("editorToolbarDeleteMenuDeleteElement")}function xe(){return zc(Lb).format("editorToolbarImagePickAColor")}f.uN=function(){return this.format("editorToolbarLearnMoreButtonLabel")};
f.Fa=function(){return this.format("editorToolbarTransparency")};f.lineHeight=function(){return this.format("editorToolbarLineHeight")};f.letterSpacing=function(){return this.format("editorToolbarLetterSpacing")};function ye(a,b){return a.format("editorToolbarTableItem",b)}function Cc(a){R.apply(this,arguments)}r(Cc,R);Cc.prototype.resize=function(){return this.format("editorSelectionBoxResize")};Cc.prototype.stretch=function(){return this.format("editorSelectionBoxStretch")};
Cc.prototype.rotate=function(){return this.format("editorSelectionBoxRotate")};Cc.prototype.Q8=function(){return this.format("editorSelectionBoxRemoveWatermark")};function Kc(a){R.apply(this,arguments)}r(Kc,R);Kc.prototype.aw=function(){return this.format("canvaForWorkUpgradeMemberLabel")};function ze(a){return a.format("canvaForWorkFeatureUpgradePlusIncreaseProductivity")}function Ae(a){return a.format("canvaForWorkFeatureUpgradeTemplatesBenefit")}
function Be(a){return a.format("canvaForWorkFeatureUpgradeResizeBenefit")}function Ce(a){return a.format("canvaForWorkFeatureUpgradeBrandKitBenefit")}function De(a){return a.format("canvaForWorkFeatureUpgradeFoldersBenefit")}function Ee(a){return a.Ga("canvaForWorkFeatureUpgradeFreeContentBenefit",4E5)}function Fe(a){R.apply(this,arguments)}r(Fe,R);Fe.prototype.post=function(){return this.format("shareViewPost")};Fe.prototype.email=function(){return this.format("shareViewEmail")};
Fe.prototype.send=function(){return this.format("shareViewSend")};Fe.prototype.Hj=function(){return this.format("shareViewEmailInputPlaceholder")};function Ge(a){R.apply(this,arguments)}r(Ge,R);f=Ge.prototype;f.Ze=function(){return this.format("exportPopOverFileType")};f.Du=function(){return this.format("exportPopOverCropMarksAndBleed")};f.Rx=function(){return this.format("exportPopOverTransparentBackground")};f.eu=function(){return this.format("exportPopOverAllPagesLabel")};f.download=function(){return this.format("exportPopOverDownload")};
f.title=function(){return this.format("exportPopOverTitle")};f.AB=function(){return this.format("exportPopOverPng")};f.GA=function(){return this.format("exportPopOverJpg")};f.vr=function(){return this.format("exportPopOverAnimatorCtaText")};f.Zu=function(){return this.format("exportPopOverFileTypeInfoLinkTitle")};f.Cu=function(){return this.format("exportPopOverCropAndBleedInfoLinkTitle")};function He(a,b){return a.format("exportPopOverMultiPageZipWarning",b)}
function Mc(a){R.apply(this,arguments)}r(Mc,R);f=Mc.prototype;f.title=function(){return this.format("fileTypesDialogTitle")};f.AB=function(){return this.format("fileTypesDialogPng")};f.g8=function(){return this.format("fileTypesDialogPngDescription")};f.GA=function(){return this.format("fileTypesDialogJpg")};f.f4=function(){return this.format("fileTypesDialogJpgDescription")};f.Z7=function(){return this.format("fileTypesDialogPdfStandard")};f.a8=function(){return this.format("fileTypesDialogPdfStandardDescription")};
f.X7=function(){return this.format("fileTypesDialogPdfPrint")};f.Y7=function(){return this.format("fileTypesDialogPdfPrintDescription")};f.zM=function(){return this.format("fileTypesDialogGotIt")};function Oc(a){R.apply(this,arguments)}r(Oc,R);f=Oc.prototype;f.title=function(){return this.format("cropAndBleedDialogTitle")};f.qg=function(){return this.format("cropAndBleedDialogSubtitle")};f.j2=function(){return this.format("cropAndBleedDialogCropMarksDescription")};f.a1=function(){return this.format("cropAndBleedDialogBleedAreaDescription")};
f.zM=function(){return this.format("cropAndBleedDialogGotIt")};function Qc(a){R.apply(this,arguments)}r(Qc,R);f=Qc.prototype;f.title=function(){return this.format("shareDesignDialogTitle")};f.T9=function(){return this.format("shareDesignDialogSocial")};f.link=function(){return this.format("shareDesignDialogLink")};f.wn=function(){return this.format("shareDesignDialogInviteLabel")};function Ie(a){return a.format("shareDesignDialogInvitePlaceholder")}f.vn=function(){return this.format("shareDesignDialogInviteButton")};
f.uo=function(){return this.format("shareDesignDialogShareLabel")};f.In=function(){return this.format("shareDesignDialogMessagePlaceholder")};f.ro=function(){return this.format("shareDesignDialogShareButton")};f.Of=function(){return this.format("shareDesignDialogPurchaseButton")};f.Mg=function(){return this.format("shareDesignDialogRestrictedOverlayMessage")};function Je(a){return a.format("shareDesignDialogViewOnFacebook")}function Ke(a){return a.format("shareDesignDialogViewOnTwitter")}f.tq=function(){return this.format("shareDesignDialogOkButton")};
function Le(a){return a.format("shareDesignDialogSharingErrorTitle")}function Me(a,b){return a.format("shareDesignDialogSharingError",b)}function Ne(a){return a.format("shareDesignDialogBackToSharingButton")}function Oe(a){return a.format("shareDesignDialogEditRole")}function Pe(a){return a.format("shareDesignDialogEditRoleShort")}function Qe(a){return a.format("shareDesignDialogViewRole")}function Re(a){return a.format("shareDesignDialogViewRoleShort")}
f.Vc=function(a){return this.format("shareDesignDialogFolders",a)};f.Cn=function(){return this.format("shareDesignDialogLinkLabel")};f.ah=function(){return this.format("shareDesignDialogCopyButton")};f.Qm=function(){return this.format("shareDesignDialogEmbedPublic")};f.Pm=function(){return this.format("shareDesignDialogEmbedMakePublic")};f.Nm=function(){return this.format("shareDesignDialogEmbedLabelHTML")};f.Om=function(){return this.format("shareDesignDialogEmbedLabeloEmbed")};f.Ij=function(){return this.Ga("shareDesignDialogEmbedDescriptionHtml")};
f.ws=function(a,b){return this.format("shareDesignDialogInviteMembersHtml",a,b)};f.Dv=function(){return this.format("shareDesignDialogInviteMemberButton")};f.Cv=function(){return this.format("shareDesignDialogInviteMemberBenefitsTitle")};f.Ev=function(){return this.format("shareDesignDialogInviteMemberError")};function Sc(a){R.apply(this,arguments)}r(Sc,R);f=Sc.prototype;f.Ug=function(){return this.format("publishViewActionClose")};f.Qo=function(){return this.format("publishViewActionCloseHint")};
f.Yt=function(){return this.format("publishViewActionOK")};f.Zt=function(){return this.format("publishViewActionRetry")};function Se(a,b){return a.format("publishViewUnlimitedUseHint",b)}f.yv=function(){return this.format("publishViewHintSeeAllDesigns")};function Uc(a){R.apply(this,arguments)}r(Uc,R);function Te(a){return a.Ga("paymentPageErrorGenericHtml","https://support.canva.com/troubleshooting")}f=Uc.prototype;f.hu=function(){return this.format("paymentPageApplyCouponButtonText")};f.zu=function(){return this.format("paymentPageCouponCodeInputPlaceholder")};
function Ue(a){return a.Ga("paymentPageLicensingIntroMore")}f.wl=function(a){return this.format("paymentPageLicensePrice",a)};function Ve(a,b){return a.format("paymentPageLicenseRemainingMinutes",b)}f.Bm=function(a){return this.format("paymentPageCreditAvailable",a)};f.total=function(a){return this.format("paymentPageTotal",a)};f.Cq=function(a){return this.format("paymentPagePayOption",a)};f.Gr=function(a){return this.format("paymentPageContributedBy",a)};f.dt=function(){return this.format("paymentPagePurchased")};
f.Id=function(){return this.format("paymentPageFree")};f.Qv=function(){return this.format("paymentPageLayoutTitle")};f.Of=function(){return this.format("paymentPagePurchaseButton")};f.XP=function(){return this.format("paymentPageSavingTeamCard")};function We(a){return a.format("paymentPageLicensesDetailsConfirm")}f.ko=function(){return this.format("paymentPageRestrictedOverlayHeading")};f.Mg=function(){return this.format("paymentPageRestrictedOverlayMessage")};f.jo=function(){return this.format("paymentPageRestrictedOverlayDraftButton")};
f.io=function(){return this.format("paymentPageRestrictedOverlayCancelButton")};function Wc(a){R.apply(this,arguments)}r(Wc,R);f=Wc.prototype;f.jd=function(){return this.format("licenseOneTimeUse")};f.Lc=function(){return this.format("licenseOneTimeUseDescription")};f.Dc=function(){return this.format("licenseRoyaltyFree")};f.Nc=function(){return this.format("licenseRoyaltyFreeDescription")};f.Gd=function(){return this.format("licenseExtended")};f.Wd=function(){return this.format("licenseExtendedDescription")};
f.$d=function(){return this.format("licenseNoLicenseOptionDescription")};function Xe(a,b){return a.Ga("licenseLicensesDetailsFullInformation",b)}function Yc(a){R.apply(this,arguments)}r(Yc,R);function Ye(a){R.apply(this,arguments)}r(Ye,R);Ye.prototype.Of=function(){return this.format("watermarkRemovalDialogPurchaseButton")};Ye.prototype.title=function(){return this.format("watermarkRemovalDialogTitle")};function $c(a){R.apply(this,arguments)}r($c,R);f=$c.prototype;f.sG=function(){return this.format("brandTeamMembersLoading")};
f.Qi=function(){return this.format("brandTeamMembersBrandKit")};f.v4=function(){return this.format("brandTeamMembersMembers")};f.Vc=function(){return this.format("brandTeamMembersFolders")};f.FW=function(){return this.format("brandTeamMembersMagicResize")};f.UC=function(){return this.format("brandTeamMembersUpgrade")};function Ze(a){R.apply(this,arguments)}r(Ze,R);function $e(a){return a.format("twentyThreeSecondOnboardingSearchText")}
function af(a){return a.format("twentyThreeSecondOnboardingDragText")}function bf(a){return a.format("twentyThreeSecondOnboardingPublishText")}function cf(a){return a.format("twentyThreeSecondOnboardingYumText")}function df(a){R.apply(this,arguments)}r(df,R);df.prototype.h2=function(a){return this.format("teamUpgradeCreateTeamWelcomeTitleHtml",a)};df.prototype.i2=function(){return this.format("teamUpgradeCreateYourTeam")};
df.prototype.g2=function(a){return this.format("teamUpgradeCreateTeamWelcomeDescription",a)};function ef(a){return a.format("teamUpgradeCreateTrialPeriodPoint1V")}function ff(a,b){return a.format("teamUpgradeCreateTrialPeriodPoint2V",b)}function gf(a){return a.format("teamUpgradeCreateTrialPeriodPoint3V")}function fd(a){R.apply(this,arguments)}r(fd,R);f=fd.prototype;f.UC=function(a){return this.format("teamBillingSignupUpgrade",a)};f.Hx=function(){return this.format("teamBillingSignupStartTrial")};
f.Pw=function(){return this.format("teamBillingSignupRevertCard")};f.Ov=function(){return this.format("teamBillingSignupItemsTitle")};f.ou=function(){return this.format("teamBillingSignupBillingError")};f.Sx=function(){return this.format("teamBillingSignupTryAgain")};f.Su=function(){return this.format("teamBillingSignupEncryption")};f.em=function(a,b){return this.format("teamBillingSignupTotalPrice",a,b)};function hd(a){R.apply(this,arguments)}r(hd,R);
function hf(a){return a.format("starOnboardingActionStayAndPlay")}function jf(a){return a.format("starOnboardingActionKeepExploring")}hd.prototype.y8=function(){return this.format("starOnboardingProgressTitle")};hd.prototype.W9=function(){return this.format("starOnboardingSpecialInstructionsTitle")};hd.prototype.U9=function(){return this.format("starOnboardingSpecialInstructionsHtml")};hd.prototype.V9=function(){return this.format("starOnboardingSpecialInstructionsQuestionText")};
function kf(a){R.apply(this,arguments)}r(kf,R);function jd(a){R.apply(this,arguments)}r(jd,R);jd.prototype.XO=function(){return this.format("viewDesignsPopOverTitle")};jd.prototype.VO=function(){return this.format("viewDesignsPopOverMessage")};jd.prototype.UO=function(){return this.format("viewDesignsPopOverDone")};function lf(a){R.apply(this,arguments)}r(lf,R);lf.prototype.XO=function(){return this.format("downloadPopOverTitle")};lf.prototype.VO=function(){return this.format("downloadPopOverMessage")};
lf.prototype.UO=function(){return this.format("downloadPopOverDone")};function ld(a){R.apply(this,arguments)}r(ld,R);ld.prototype.gy=function(a){return this.format("zoomToolbarZoomPercentage",a)};ld.prototype.cg=function(){return this.format("zoomToolbarFullscreenMode")};ld.prototype.fill=function(){return this.format("zoomToolbarFill")};function nd(a){R.apply(this,arguments)}r(nd,R);function pd(a){R.apply(this,arguments)}r(pd,R);function rd(a){R.apply(this,arguments)}r(rd,R);rd.prototype.lC=function(){return this.format("newLightboxShareLink")};
function mf(a,b,c,d,e){return a.format("newLightboxEmbedCodeBy",c,b,d,e)}function td(a){R.apply(this,arguments)}r(td,R);td.prototype.Jn=function(){return this.format("newFeatureNewLabel")};function nf(a){R.apply(this,arguments)}r(nf,R);function of(a){R.apply(this,arguments)}r(of,R);of.prototype.d1=function(a){return this.format("chartElementCardinalNumber",a)};function xd(a){R.apply(this,arguments)}r(xd,R);f=xd.prototype;f.yw=function(){return this.format("printOrderSummaryPremiumImagesPriceLabel")};
f.Kt=function(){return this.Ga("printOrderSummaryTotalLabelHtml")};f.da=function(a){return this.format("printOrderSummaryPrice",a)};f.jw=function(a){return this.format("printOrderSummaryNumberOfCopies",a)};f.rk=function(){return this.format("printOrderSummarySelectYourPrintOptions")};f.ri=function(){return this.format("printOrderSummarySelectYourShippingOption")};f.Ej=function(a){return this.format("printOrderSummaryCreditUsed",a)};
function pf(a,b){return a.format("printOrderSummaryCreditUsedAndAvailableLabel",b)}f.Nt=function(a){return this.format("printOrderSummaryUnitPrice",a)};f.Kw=function(){return this.format("printOrderSummaryRemoveCouponText")};function qf(a){R.apply(this,arguments)}r(qf,R);f=qf.prototype;f.heading=function(){return this.format("printOrderReceivedHeading")};f.KR=function(){return this.format("printOrderReceivedViewPrintOrdersButtonText")};f.JR=function(){return this.format("printOrderReceivedViewHomepageButtonText")};
f.Y1=function(a){return this.Ga("printOrderReceivedConfirmationEmailMessageHtml",a)};f.B7=function(a){return this.Ga("printOrderReceivedMessageHtml",a,"printOrderReceived__orderNumber")};function vd(a){R.apply(this,arguments)}r(vd,R);vd.prototype.sc=function(a,b){return this.format("printFlowPageNumberOfTotal",a,b)};function rf(a){R.apply(this,arguments)}r(rf,R);f=rf.prototype;f.Gy=function(){return this.format("addressDetailsCannotShipToPostOfficeBoxMessage")};f.oJ=function(){return this.format("addressDetailsAddAdditionalAddressFieldButtonText")};
f.SJ=function(){return this.format("addressDetailsCityLabel")};f.cK=function(){return this.format("addressDetailsContactNumberLabel")};f.hK=function(){return this.format("addressDetailsCountryLabel")};f.YL=function(){return this.format("addressDetailsFullNameLabel")};f.TQ=function(){return this.format("addressDetailsStateLabel")};f.VQ=function(){return this.format("addressDetailsStreetAddressLabel")};f.ZR=function(){return this.format("addressDetailsZipcodeLabel")};f.heading=function(){return this.format("addressDetailsHeading")};
f.WP=function(){return this.format("addressDetailsSaveAddressLabel")};f.Vw=function(){return this.format("addressDetailsSelectSubdivisionText")};function sf(a){R.apply(this,arguments)}r(sf,R);f=sf.prototype;f.heading=function(){return this.format("designProofReviewHeading")};f.description=function(){return this.format("designProofReviewDescription")};f.su=function(){return this.format("designProofReviewCheckImagesAndText")};f.Ar=function(a){return this.Ga("designProofReviewCheckTermsOfUseHtml",a)};
f.ev=function(){return this.format("designProofReviewGeneratingPdfText")};f.Uw=function(){return this.format("designProofReviewSeeUnfixableProblemButtonText")};f.yu=function(){return this.format("designProofReviewContinueToCheckoutButtonText")};function tf(a){R.apply(this,arguments)}r(tf,R);tf.prototype.Au=function(){return this.format("printPaymentAndConfirmationCouponCodeLabel")};tf.prototype.heading=function(){return this.format("printPaymentAndConfirmationHeading")};tf.prototype.LO=function(){return this.format("printPaymentAndConfirmationPaymentDetailsHeading")};
function uf(a){R.apply(this,arguments)}r(uf,R);f=uf.prototype;f.px=function(){return this.format("printOrderFormShippingAddressHeading")};f.ad=function(){return this.format("printOrderFormBackButtonText")};f.Xi=function(){return this.format("printOrderFormContinueButtonText")};f.U7=function(){return this.format("printOrderFormPayNowButtonText")};f.BO=function(){return this.format("printOrderFormOrderErrorHeading")};function zd(a){R.apply(this,arguments)}r(zd,R);f=zd.prototype;f.$S=function(){return this.format("printEditorFormBeginOrderButtonText")};
f.kT=function(){return this.format("printEditorFormCancelOrderButtonText")};f.Xi=function(){return this.format("printEditorFormContinueButtonText")};f.ad=function(){return this.format("printEditorFormBackButtonText")};f.kj=function(){return this.format("printEditorFormNextButtonText")};function Bd(a){R.apply(this,arguments)}r(Bd,R);Bd.prototype.Hh=function(){return this.format("printProofingWhyIsThisImportant")};function Dd(a){R.apply(this,arguments)}r(Dd,R);
function vf(a){return a.Ga("printOrderFreeStandardShippingPriceHtml",10)}function wf(a){return a.format("printOrderFreeStandardShippingPriceVariant2")}function Fd(a){R.apply(this,arguments)}r(Fd,R);Fd.prototype.ai=function(){return this.format("searchMenuFreeOnly")};function xf(a){R.apply(this,arguments)}r(xf,R);xf.prototype.Kk=function(){return this.format("updateDoctypeCancelButtonText")};xf.prototype.oq=function(){return this.format("updateDoctypeMoreInfoLinkText")};
function zf(a){R.apply(this,arguments)}r(zf,R);f=zf.prototype;f.lb=function(){return this.format("downloadIphoneDialogHeadingHtml")};f.gk=function(){return this.format("downloadIphoneDialogOverviewSubheading")};f.Kc=function(){return this.format("downloadIphoneDialogIphoneLabel")};f.Gc=function(){return this.format("downloadIphoneDialogAndroidLabel")};f.Fv=function(){return this.format("downloadIphoneDialogIphoneSubheading")};f.Xw=function(){return this.format("downloadIphoneDialogSendButtonLabel")};
f.nj=function(){return this.format("downloadIphoneDialogPhoneInputPlaceholder")};f.gu=function(){return this.format("downloadIphoneDialogAndroidSubheading")};f.Iw=function(){return this.format("downloadIphoneDialogRegisterButtonLabel")};f.OQ=function(){return this.format("downloadIphoneDialogSomethingWentWrong")};f.eG=function(){return this.format("downloadIphoneDialogInvalidNumber")};function Af(a){R.apply(this,arguments)}r(Af,R);f=Af.prototype;f.heading=function(){return this.format("downloadMobileAppDialogHeading")};
f.Ai=function(){return this.format("downloadMobileAppDialogSubheading")};f.Kc=function(){return this.format("downloadMobileAppDialogIPhoneLabel")};f.Gc=function(){return this.format("downloadMobileAppDialogAndroidLabel")};f.qd=function(){return this.format("downloadMobileAppDialogSubmitButtonLabel")};f.Ng=function(){return this.format("downloadMobileAppDialogSelectDeviceText")};f.eG=function(){return this.format("downloadMobileAppDialogInvalidNumber")};f.success=function(){return this.format("downloadMobileAppDialogSuccess")};
f.OQ=function(){return this.format("downloadMobileAppDialogSomethingWentWrong")};function Hd(a){R.apply(this,arguments)}r(Hd,R);Hd.prototype.Hj=function(){return this.format("teamInviteFormEmailInputPlaceholder")};Hd.prototype.qd=function(){return this.format("teamInviteFormSubmitButtonLabel")};Hd.prototype.ir=function(){return this.format("teamInviteFormUpgradeMessage")};Hd.prototype.So=function(){return this.format("teamInviteFormAddAnotherButtonLabel")};function Jd(a){R.apply(this,arguments)}
r(Jd,R);function Ld(a){R.apply(this,arguments)}r(Ld,R);f=Ld.prototype;f.title=function(){return this.format("popupBlockedDialogTitle")};f.qg=function(){return this.format("popupBlockedDialogSubtitle")};f.Jx=function(){return this.format("popupBlockedDialogStep1Label")};f.Kx=function(){return this.format("popupBlockedDialogStep2Label")};f.Bt=function(){return this.Ga("popupBlockedDialogStep2Html")};function Bf(a){0<a.length&&(a=window.getComputedStyle(a.get(0)))&&a.getPropertyValue("left")};function Cf(a){return new P(function(b){function c(e){e.target===a&&(d.off("transitionend",c),b())}var d=$(a);d.on("transitionend",c)})};function Df(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,Ef(b))}function Ef(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function Ff(a,b){this.name=a;this.defaultValue=b};function Gf(a){this.values=a||{}}function Hf(){return new Gf(La(window.cflags))}Gf.prototype.get=function(a){var b;if({}.hasOwnProperty.call(this.values,a.name)){b=this.values[a.name];var c=typeof b;a=typeof a.defaultValue;w(c===a,"Type mismatch: Configured value ({}) deviates from default value type ({})",c,a)}else b=a.defaultValue;return b};function If(a){this.G=a}
var Jf=new Ff("ad",!1),Kf=new Ff("ag",!0),Lf=new Ff("nb",!1),Mf=new Ff("au",!1),Nf=new Ff("ay",!1),Of=new Ff("av",!1),Pf=new Ff("aw",!1),Qf=new Ff("az",!1),Rf=new Ff("bf",!1),Sf=new Ff("bg",!1),Tf=new Ff("bk",!1),Uf=new Ff("bw",!1),Vf=new Ff("by",!1),Wf=new Ff("cf",50),Xf=new Ff("cn",!1),Yf=new Ff("cv",!1),Zf=new Ff("de",!1),$f=new Ff("dg",1),ag=new Ff("dh",3),bg=new Ff("dn",!1),cg=new Ff("dr",!0),dg=new Ff("ex",!1),eg=new Ff("ee",!1),fg=new Ff("ek",!1),gg=new Ff("em","NONE"),hg=new Ff("en",!1),ig=
new Ff("ep",!0),jg=new Ff("ey",!0),kg=new Ff("ez",!1),lg=new Ff("fd",!1),mg=new Ff("ff",!1),ng=new Ff("fo",!1),og=new Ff("fq",!1),pg=new Ff("fx",!1),qg=new Ff("fz",!0),rg=new Ff("gn",!0),sg=new Ff("gq",!0),tg=new Ff("hn",!1),ug=new Ff("kw",!1);f=If.prototype;f.hz=function(){return this.G.get(Lf)};f.ez=function(){return this.G.get(Mf)};f.DN=function(){return this.G.get(Tf)};f.Oe=function(){return this.G.get(eg)};f.QK=function(){return this.G.get(gg)};var T="undefined"!==typeof _&&"undefined"!==typeof Backbone&&_.extend({},Backbone.Events),U=null,vg=null;function wg(a){this.Eb=a.Eb;this.Ed=a.Ed;this.gc=a.gc;this.df=a.df;this.ac=a.ac;this.sI=a.sI;this.Wy=a.Wy}function xg(a,b,c,d){b=yg(b);if(!b)return null;var e=a.Eb.Da();a=zg(a,b.pa());isNaN(parseFloat(c*d))?(b.pd(a),b.al(e)):(a.jb(c||0),a.eb(d||0),b.pd(a),b.appendTo(e));Ag(b);Bg(b);return b}wg.prototype.FS=function(a,b,c){var d;d={height:a.nl().o(),isCutout:!1,mediaId:a.u(),mediaVersion:0,type:"image",width:a.nl().l()};b=xg(this,d,b,c);Cg(this.sI,Dg(a),b)};
wg.prototype.GS=function(a,b,c,d){switch(a.lc()){case Eg:a=Fg(a,"image",d);xg(this,a,b,c);break;case Gg:a=a.Ka().ps()?Fg(a,"graphic"):Fg(a,"svg");xg(this,a,b,c);break;default:throw Error("Bad media. Composer unable to add media of type: "+a.lc());}};wg.prototype.HS=function(a,b,c,d){(a=a.i$?Ig(a,"svg"):Ig(a,"image",d))&&xg(this,a,b,c)};
function Dg(a){var b=a.nl(),c=a.re();return Jg({files_:[{page:0,quality:"THUMBNAIL",height:c.o(),url:c.na(),width:c.l()},{page:0,quality:"SCREEN",height:b.o(),url:b.na(),width:b.l()}],id:a.u(),origin:Kg,title:a.getName()})}function Fg(a,b,c){var d=a.Ka().ic()[Lg];b={height:d.o(),isCutout:!!c,mediaId:a.u(),mediaVersion:a.Ka().getVersion(),type:b,width:d.l()};a=a.Ka().ps();null!=a&&(b.spritesheetMetadata=Mg(a));return b}
function Ig(a,b,c){if(a.Mb())return{height:a.sb.height,isCutout:!!c,mediaId:a.Mb().u(),mediaVersion:1,type:b,width:a.sb.width}}function Ng(a,b){b.forEach(function(a){a=Dg(a);Og(this.sI,a)},a)}function Pg(a,b){b.forEach(function(a){Qg(this.df,a.u(),a.Ka().getVersion(),a.Ka().ic())},a)}
function zg(a,b){var c=b.clone(),d=Rg(a.Eb.kb().sb);(function(){var a=c.l()/c.o();c.ea(Math.min(c.o(),d.o()*O.Lh));c.la(a*c.o())})();(function(){var a=c.o()/c.l();c.la(Math.min(c.l(),d.l()*O.Lh));c.ea(a*c.l())})();return c}wg.prototype.CI=function(a,b,c){0<b.length&&this.Wy(a,c).upload(b,Sg(a))};function Tg(a,b){a.nU=b}
function Ug(a,b,c,d,e,g){function h(){var a=b.getFile(Lg);return new V(0,0,a.l()*S,a.o()*S)}function k(a){var b,d,g;b=a.clientX-e.F()+c.F();d=a.clientY-e.w()+c.w();g=Math.max(Math.min((a.clientX-J)/Q,1),0);g=1>t?Math.min(Math.max(t,1+g*(t-1)),1):Math.min(Math.max(1,1+g*(t-1)),t);a.clientX>L?(u=!0,g=t):u=!1;m(b,d,g)}function l(a){var b,c=!1,e,h;b=d.get(0).getBoundingClientRect();b=Vg(x.Ed,Wg(b));c=$(a.target).is(".hotspot");a=Xg(fa);e=(b.F()-a.F())/S;h=(b.w()-a.w())/S;$(document).off("mouseup",l);
$(document).off("mousemove",k);!z&&c?p():u&&Yg(b,a)?(g(e,h,z),p()):setTimeout(q,50);$("#hotspots").remove();Zg().write(function(){$("#overlays .align").removeClass("on")})}function m(a,b,c){$g(d[0],{lo:c,Oq:c,Fi:a,Gi:b});a=Xg(fa);b=Vg(x.Ed,Wg(d.get(0).getBoundingClientRect()));u&&ah(a,b)&&(null===ha&&(ha=new bh(d,ta,{left:H,top:E})),a=ch(),dh(ha,N,a))}function n(){window.setTimeout(function(){d.remove()},650)}function p(){m(c.F(),c.w(),1);d.css("left",c.F()).css("top",c.w()).css("opacity",0).addClass("draggedMediaPlacing");
n()}function q(){var a="",b="",e=d.get(0).getBoundingClientRect(),g=x.nU||c,h=e.left-g.F(),e=e.top-g.w();100<h?a="draggedMediaReturningLeft":-100>h&&(a="draggedMediaReturningRight");100<e?b="draggedMediaReturningUp":-100>e&&(b="draggedMediaReturningDown");d.addClass(a).addClass(b).addClass("draggedMediaReturning");0>g.w()&&d.addClass("draggedMediaReturningFading").css("opacity",0);m(g.F(),g.w(),1);x.nU=void 0;n()}var u=!1,v,z=!1,t,x=a,H,E,L,J,Q,S=W,N={},ha=null;0<d.find("img").length&&(z=eh(d.find("img").get(0))>
O.dJ);v=fh(h(),function(){var a=Rg(x.Eb.kb().sb),b=O.Lh*S;return new V(0,0,a.l()*b,a.o()*b)}());t=Math.min(h().l(),v.l())/c.l();H=e.F()-c.F();E=e.w()-c.w();var fa=gh(a.Ed),ta=fa.$el.find(".page__content").get(0).getBoundingClientRect();L=$("#objectPanel").get(0).getBoundingClientRect().right;J=L-$(".uploadsLayoutColumn").outerWidth()/2+20;Q=L-J;hh();d.on("dragstart",function(a){a.preventDefault();return!1});d.css("width",c.l());d.css("height",c.o());d.css("transform-origin",H+"px "+E+"px");m(c.F(),
c.w(),1);d.attr("class","draggedMedia");$("#content").append(d);(function(){var a=d.find("img"),c=$("\x3cli\x3e\x3c/li\x3e");d.toggleClass("cutout",z);c.data("result",b).append(a.clone());d.data("li",c);a.data("screenWidth",v.l());a.data("screenHeight",v.o());ih(d,x.Eb.Da(),!1)})();$(document).on("mousemove",k);$(document).on("mouseup",l)};function jh(a){this.vg=new wa(a)}var kh="PUBLIC_STREAM TEAM_STREAM TEAM_TEMPLATE MARKETPLACE_LAYOUT MARKETPLACE_TEXT PUBLICLY_REMIXABLE".split(" "),lh=["DESIGN_TUTORIAL","FREE_NEW_USER","C4W_INVITED_NEW_USER","C4W_NEW_USER"];jh.prototype=Object.create(wa.prototype);jh.prototype.Cp=function(){var a=this.vg.get("brandColor",null);return a&&mh(a)};jh.prototype.uh=function(){return this.vg.get("onboardingMode",null)};jh.prototype.aM=function(){return this.vg.get("associatedMedia",null)};
function nh(a){return a.vg.get("enabledPublicationContexts",[])}
function oh(a){return(a=a.vg.get("layoutSearchRequest",null))&&new ph({Wh:D("docId",a),query:C("query",a),Gn:Ra(qh,"mediaTypes",a),un:Ta(Ua,Xa,"includeFilters",a),Rm:Ta(Ua,Xa,"excludeFilters",a),filters:Ha.de("filters",a),elevation:D("elevation",a),XE:Ha.de("elevateIds",a),qz:Na("elevatedOnly",a),sort:G(rh,"sort",a),$q:A("skip",a),limit:A("limit",a),fm:Na("translatable",a),locale:D("locale",a),Pf:D("rootSearchId",a),Ig:Na("organic",a),ai:Ma("freeOnly",a),aspectRatio:B("aspectRatio",a),GU:Ma("explain",
a),US:Qa(sh,"asSchema",a),aU:Qa(sh,"designSchemaVersion",a),category:D("category",a),lU:D("domainName",a),yT:Qa(th,"clientFeature",a),set:D("set",a),wX:D("originalQuery",a)})}function uh(a){var b=a.vg.get("recaptchaConfig",{});a=D("siteKey",b)||null;b=D("impl",b)||null;return{KQ:a,uba:b}}jh.prototype.Oz=function(){var a=this.vg.get("account",null);return null!=a?vh(a):null};function wh(a,b){switch(b){case "PACK_10":return"PACK_10";case "PACK_20":return"PACK_20";case "PACK_50":return"PACK_50";case "PACK_100":return"PACK_100";default:throw new TypeError('expected CreditPack for property "'+a+'", found: '+JSON.stringify(b));}}
function xh(a){switch(a){case "PACK_10":return"PACK_10";case "PACK_20":return"PACK_20";case "PACK_50":return"PACK_50";case "PACK_100":return"PACK_100";default:throw new TypeError('expected CreditPack for property "creditPack", found: '+JSON.stringify(a));}}function yh(a,b){switch(b){case "PAY_SYNCHRONOUS":return"PAY_SYNCHRONOUS";case "CANCEL":return"CANCEL";default:throw new TypeError('expected UpdateInvoiceAction for property "'+a+'", found: '+JSON.stringify(b));}}
function zh(a,b){switch(b){case "C4W_FREE_MEDIA":return"C4W_FREE_MEDIA";case "UNLIMITED_IMAGES":return"UNLIMITED_IMAGES";case "CHINA_LAUNCH":return"CHINA_LAUNCH";default:throw new TypeError('expected MediaLicenseDiscount for property "'+a+'", found: '+JSON.stringify(b));}}
function Ah(a,b){switch(b){case "C4W_FREE_MEDIA":return"C4W_FREE_MEDIA";case "UNLIMITED_IMAGES":return"UNLIMITED_IMAGES";case "CHINA_LAUNCH":return"CHINA_LAUNCH";default:throw new TypeError('expected MediaLicenseDiscount for property "'+a+'", found: '+JSON.stringify(b));}}function Bh(a){this.id=a.id;this.hk=a.hk;this.nT=a.nT;this.Pv=a.Pv;this.fc=a.fc;this.dF=a.dF;this.Uu=a.Uu;this.Xg=a.Xg}Bh.prototype.u=function(){return this.id};Bh.prototype.Rz=function(){return this.fc};
function Ch(a){return new Bh({id:D("id",a),hk:D("owningBrand",a),nT:C("cardBrand",a),Pv:C("last4",a),fc:D("country",a),dF:A("expMonth",a),Uu:A("expYear",a),Xg:F(Dh,"billingAddress",a)})}function Eh(a){this.Cd=a.Cd;this.IS=a.IS;this.ZT=a.ZT}function Fh(a){return new Eh({Cd:Oa(Ch,"card",a),IS:B("addedDate",a),ZT:B("deletedDate",a)})}function Gh(a){this.wN=a.wN;this.xN=a.xN;this.yN=a.yN;this.Vd=a.Vd;this.Dh=a.Dh;this.rb=a.rb;this.ww=a.ww}Gh.prototype.bs=function(){return this.Vd};Gh.prototype.Oj=function(){return this.rb};
function Hh(a){return{line1:I("line1",a.wN),line2:I("line2",a.xN),line3:I("line3",a.yN),city:I("city",a.Vd),subdivision:I("subdivision",a.Dh),countryCode:ib("countryCode",a.rb),postcode:I("postcode",a.ww)}}function Dh(a){return new Gh({wN:D("line1",a),xN:D("line2",a),yN:D("line3",a),Vd:D("city",a),Dh:D("subdivision",a),rb:C("countryCode",a),ww:D("postcode",a)})}
function Ih(a){this.id=a.id;this.D=a.D;this.mf=a.mf;this.NZ=a.NZ;this.Yv=a.Yv;this.Vh=a.Vh;this.$T=a.$T;this.TS=a.TS||[];this.tP=a.tP||[]}Ih.prototype.u=function(){return this.id};Ih.prototype.ja=function(){return this.D};function vh(a){return new Ih({id:C("id",a),D:C("brand",a),mf:Ma("stripe",a),NZ:D("stripeKey",a),Yv:A("marketplaceCreditBalance",a),Vh:F(Ch,"defaultCreditCard",a),$T:Ma("delinquent",a),TS:G(Fh,"archivedCards",a),tP:Ra(Jh,"purchaseRoles",a)})}
function Kh(a){this.D=a.D;this.Xg=a.Xg;this.WQ=a.WQ;this.AC=a.AC;this.MZ=a.MZ;this.OP=a.OP}Kh.prototype.ja=function(){return this.D};function Lh(a){return{brand:I("brand",a.D),billingAddress:jb(Hh,"billingAddress",a.Xg),stripeToken:I("stripeToken",a.WQ),stripeCardId:I("stripeCardId",a.AC),stripeCustomerId:I("stripeCustomerId",a.MZ),replaceDefault:gb("replaceDefault",a.OP)}}function Mh(a){this.Yi=a.Yi;this.SS=a.SS;this.FT=a.FT;this.HT=a.HT;this.Xg=a.Xg;this.AC=a.AC;this.oT=a.oT;this.IU=a.IU}
Mh.prototype.yF=function(){return this.Yi};function Nh(a){return{creditCard:ib("creditCard",a.Yi),archiveCard:hb("archiveCard",a.SS),confirmAddition:hb("confirmAddition",a.FT),confirmRemoval:hb("confirmRemoval",a.HT),billingAddress:jb(Hh,"billingAddress",a.Xg),stripeCardId:I("stripeCardId",a.AC),cardIssuerUpdate:jb(Oh,"cardIssuerUpdate",a.oT),externalOrigin:mb(Ph,"externalOrigin",a.IU)}}
function Ph(a,b){switch(b){case "PENDING":return"PENDING";case "PROFITWELL_RETAIN":return"PROFITWELL_RETAIN";default:throw new TypeError('expected ExternalOrigin for property "'+a+'", found: '+JSON.stringify(b));}}function Oh(a){return{last4:I("last4",a.Pv),fingerprint:I("fingerprint",a.pba),expiryMonth:eb("expiryMonth",a.Vu),expiryYear:eb("expiryYear",a.Wu),brand:I("brand",a.D),date:db("date",a.date)}}
function Qh(a){this.D=a.D;this.items=a.items||[];this.currency=a.currency;this.CB=a.CB;this.SB=a.SB}Qh.prototype.ja=function(){return this.D};Qh.prototype.Bf=function(){return this.items};function Rh(a){return{brand:ib("brand",a.D),items:kb(Sh,"items",a.items),currency:ib("currency",a.currency),priceConfig:jb(Th,"priceConfig",a.CB),returnErrors:hb("returnErrors",a.SB)}}function Uh(a){this.message=a.message;this.XA=a.XA;this.yA=a.yA}
function Vh(a){return new Uh({message:C("message",a),XA:Ma("noPaymentMethod",a),yA:Ma("invalidCreditCard",a)})}function Wh(a){this.Ie=a.Ie;this.error=a.error}Wh.prototype.getError=function(){return this.error};function Xh(a){return new Wh({Ie:D("invoice",a),error:F(Vh,"error",a)})}function Yh(a){this.media=a.media;this.version=a.version;this.document=a.document;this.ak=a.ak;this.gb=a.gb;this.wY=a.wY;this.xY=a.xY}Yh.prototype.Mb=function(){return this.media};Yh.prototype.getVersion=function(){return this.version};
Yh.prototype.getDocument=function(){return this.document};function Zh(a){return{media:ib("media",a.media),version:db("version",a.version),document:I("document",a.document),licenseType:lb($h,"licenseType",a.ak),discount:mb(zh,"discount",a.gb),receivingBrand:I("receivingBrand",a.wY),receivingUser:I("receivingUser",a.xY)}}function ai(a){this.order=a.order}ai.prototype.cn=function(){return this.order};function bi(a){return{order:ib("order",a.order)}}function ci(a){this.order=a.order}ci.prototype.cn=function(){return this.order};
function di(a){return{order:ib("order",a.order)}}function ei(a){return{subscription:ib("subscription",a.pg),plan:ib("plan",a.Zn),quantity:db("quantity",a.pk),periodStart:db("periodStart",a.OO),periodEnd:db("periodEnd",a.NO),price:db("price",a.da)}}function fi(a){this.jq=a.jq;this.sK=a.sK;this.jP=a.jP;this.kP=a.kP;this.pg=a.pg;this.EU=a.EU;this.description=a.description}fi.prototype.jV=function(){return this.jq};fi.prototype.getSubscription=function(){return this.pg};fi.prototype.Ge=function(){return this.description};
function Sh(a){return{license:jb(Zh,"license",a.jq),credit:mb(wh,"credit",a.sK),printProduct:jb(bi,"printProduct",a.jP),printShipping:jb(di,"printShipping",a.kP),subscription:jb(ei,"subscription",a.pg),expectedPurchasePrice:eb("expectedPurchasePrice",a.EU),description:I("description",a.description)}}function gi(a){this.Ie=a.Ie;this.items=a.items||[];this.gb=a.gb;this.eo=a.eo;this.action=a.action;this.YU=a.YU;this.FU=a.FU;this.CB=a.CB;this.SB=a.SB;this.userAgent=a.userAgent}gi.prototype.Bf=function(){return this.items};
gi.prototype.getUserAgent=function(){return this.userAgent};function hi(a){return{invoice:ib("invoice",a.Ie),items:kb(Sh,"items",a.items),discount:I("discount",a.gb),removeDiscount:gb("removeDiscount",a.eo),action:mb(yh,"action",a.action),forgiven:hb("forgiven",a.YU),expectedTotal:eb("expectedTotal",a.FU),priceConfig:jb(Th,"priceConfig",a.CB),returnErrors:hb("returnErrors",a.SB),userAgent:I("userAgent",a.userAgent)}}
function ii(a){this.message=a.message;this.sT=a.sT;this.TV=a.TV;this.XA=a.XA;this.yA=a.yA}function ji(a){return new ii({message:C("message",a),sT:Ma("chargeFailed",a),TV:Ma("insufficientCredits",a),XA:Ma("noPaymentMethod",a),yA:Ma("invalidCreditCard",a)})}function ki(a){this.error=a.error}ki.prototype.getError=function(){return this.error};function li(a){return new ki({error:F(ji,"error",a)})}
function mi(a,b){switch(b){case "CREDIT":return"CREDIT";case "LICENSE":return"LICENSE";case "PRINT_PRODUCT":return"PRINT_PRODUCT";case "PRINT_SHIPPING":return"PRINT_SHIPPING";case "SUBSCRIPTION_PRORATION":return"SUBSCRIPTION_PRORATION";case "SUBSCRIPTION":return"SUBSCRIPTION";default:throw new TypeError('expected InvoiceItemType for property "'+a+'", found: '+JSON.stringify(b));}}
function ni(a){this.media=a.media;this.version=a.version;this.title=a.title;this.D=a.D;this.ka=a.ka;this.l4=a.l4;this.$g=a.$g;this.er=a.er;this.da=a.da;this.Xv=a.Xv;this.x9=a.x9;this.ak=a.ak;this.document=a.document;this.qp=a.qp;this.user=a.user}f=ni.prototype;f.Mb=function(){return this.media};f.getVersion=function(){return this.version};f.pb=function(){return this.title};f.ja=function(){return this.D};f.getDocument=function(){return this.document};f.fV=function(){return this.qp};f.Oa=function(){return this.user};
function oi(){}function pi(){return new oi}function qi(a){this.tm=a.tm||[];this.R3=a.R3;this.Y=a.Y;this.limit=a.limit}qi.prototype.dV=function(){return this.tm};qi.prototype.Kb=function(){return this.Y};qi.prototype.Yd=function(){return this.limit};function ri(a){this.Xt=a.Xt||[];this.Y=a.Y}ri.prototype.Kb=function(){return this.Y};function si(a){return new ri({Xt:G(vh,"accounts",a),Y:D("continuation",a)})}function ti(a){this.type=a.type;this.media=a.media}ti.prototype.lc=function(){return this.type};
ti.prototype.Mb=function(){return this.media};function ui(a){return new ti({type:Pa(vi,"type",a),media:F(wi,"media",a)})}function vi(a,b){switch(b){case "MEDIA":return"MEDIA";default:throw new TypeError('expected ProductType for property "'+a+'", found: '+JSON.stringify(b));}}function xi(a){this.type=a.type;this.da=a.da;this.Xv=a.Xv}xi.prototype.lc=function(){return this.type};function yi(a){return new xi({type:Pa(zi,"type",a),da:A("price",a),Xv:A("markedPrice",a)})}
function Ai(a){this.type=a.type;this.QN=a.QN}Ai.prototype.lc=function(){return this.type};function Bi(a){return new Ai({type:Pa(zi,"type",a),QN:B("minutesToExpiry",a)})}function Ci(a){this.ba=a.ba;this.ca=a.ca;this.$g=a.$g;this.IN=a.IN;this.sg=a.sg;this.Cw=a.Cw||[];this.MA=a.MA;this.zc=a.zc||[];this.gb=a.gb}Ci.prototype.Ip=function(){return this.ba};Ci.prototype.ks=function(){return this.ca};Ci.prototype.jn=function(){return this.sg};Ci.prototype.oM=function(){return this.MA};
function wi(a){return new Ci({ba:C("mediaId",a),ca:A("mediaVersion",a),$g:C("contributorName",a),IN:D("mediaTitle",a),sg:C("thumbnailUrl",a),Cw:G(yi,"pricingOptions",a),MA:Pa(Di,"licensing",a),zc:G(Bi,"licenses",a),gb:Qa(Ah,"discount",a)})}function Ei(a){this.Ub=a.Ub;this.document=a.document;this.Zb=a.Zb;this.O=a.O||[]}Ei.prototype.qv=function(){return this.Ub};Ei.prototype.getDocument=function(){return this.document};Ei.prototype.Fb=function(){return this.O};
function Fi(a){this.mode=a.mode;this.De=a.De;this.media=a.media;this.Y=a.Y;this.limit=a.limit}Fi.prototype.Mb=function(){return this.media};Fi.prototype.Kb=function(){return this.Y};Fi.prototype.Yd=function(){return this.limit};function Gi(a){this.Zc=a.Zc||[];this.Y=a.Y}Gi.prototype.HF=function(){return this.Zc};Gi.prototype.Kb=function(){return this.Y};function Hi(a){return new Gi({Zc:G(ui,"products",a),Y:D("continuation",a)})}function Ii(a){this.value=a.value;this.currency=a.currency}
Ii.prototype.rc=function(){return this.value};function Ji(a){return new Ii({value:A("value",a),currency:C("currency",a)})}function Ki(a){this.id=a.id;this.type=a.type;this.vh=a.vh;this.Vo=a.Vo;this.yD=a.yD||[];this.bh=a.bh}Ki.prototype.u=function(){return this.id};Ki.prototype.lc=function(){return this.type};Ki.prototype.Sz=function(){return this.bh};
function Li(a){return new Ki({id:C("id",a),type:Pa(Mi,"type",a),vh:B("percentage",a),Vo:F(Ji,"amount",a),yD:Ra(mi,"applicableInvoiceItemTypes",a),bh:C("couponCode",a)})}function Mi(a,b){switch(b){case "PERCENTAGE":return"PERCENTAGE";case "AMOUNT":return"AMOUNT";default:throw new TypeError('expected DiscountType for property "'+a+'", found: '+JSON.stringify(b));}}function Ni(a){this.D=a.D;this.user=a.user;this.bh=a.bh}Ni.prototype.ja=function(){return this.D};Ni.prototype.Oa=function(){return this.user};
Ni.prototype.Sz=function(){return this.bh};function Oi(a){this.gb=a.gb}function Pi(a){return new Oi({gb:Oa(Li,"discount",a)})}function Qi(a){this.D=a.D;this.user=a.user;this.bh=a.bh;this.Y=a.Y;this.limit=a.limit}f=Qi.prototype;f.ja=function(){return this.D};f.Oa=function(){return this.user};f.Sz=function(){return this.bh};f.Kb=function(){return this.Y};f.Yd=function(){return this.limit};function Ri(a){this.GK=a.GK||[];this.Y=a.Y}Ri.prototype.Kb=function(){return this.Y};
function Si(a){return new Ri({GK:G(Li,"discounts",a),Y:D("continuation",a)})}function Th(a){return{currency:ib("currency",a.currency),creditExchangeRate:db("creditExchangeRate",a.$aa),expiryDate:db("expiryDate",a.xz),mediaPriceModel:cb.required("mediaPriceModel",Ti(a.Jba)),creditPackPriceModel:cb.required("creditPackPriceModel",{prices:kb(Ui,"prices",a.bba.Cb)}),token:ib("token",a.Go)}}
function Ti(a){return{licensingPriceModels:kb(Vi,"licensingPriceModels",a.n4),discountPriceModels:kb(Wi,"discountPriceModels",a.gba)}}function Wi(a){return{discount:lb(zh,"discount",a.gb),licensingPriceModels:kb(Vi,"licensingPriceModels",a.n4)}}function Vi(a){return{licensing:lb(Xi,"licensing",a.MA),licenseTypePrices:kb(Yi,"licenseTypePrices",a.Gba)}}function Yi(a){return{licenseType:lb($h,"licenseType",a.ak),markedPrice:db("markedPrice",a.Xv)}}
function Ui(a){return{creditPack:lb(wh,"creditPack",a.aba),credits:db("credits",a.Ir),markedPrice:db("markedPrice",a.Xv)}}function Zi(a){this.id=a.id;this.Zn=a.Zn;this.D=a.D;this.status=a.status;this.pk=a.pk;this.f_=a.f_;this.uB=a.uB;this.OO=a.OO;this.NO=a.NO;this.aT=a.aT;this.xU=a.xU}Zi.prototype.u=function(){return this.id};Zi.prototype.ja=function(){return this.D};Zi.prototype.nh=function(){return this.status};
function $i(a){return new Zi({id:C("id",a),Zn:Oa(aj,"plan",a),D:C("brand",a),status:Pa(bj,"status",a),pk:A("quantity",a),f_:B("trialEnd",a),uB:B("paidUntil",a),OO:B("periodStart",a),NO:B("periodEnd",a),aT:Ma("billed",a),xU:Ma("eligibleForMediaDiscounts",a)})}
function cj(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function bj(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}function dj(a){this.id=a.id;this.displayName=a.displayName;this.tW=a.tW;this.B_=a.B_;this.tj=a.tj;this.QU=a.QU;this.Uf=a.Uf;this.Bj=a.Bj;this.da=a.da}dj.prototype.u=function(){return this.id};dj.prototype.Lb=function(){return this.displayName};
function aj(a){return new dj({id:C("id",a),displayName:C("displayName",a),tW:Ma("legacy",a),B_:Ma("userLocked",a),tj:Pa(ej,"tier",a),QU:D("featureBundle",a),Uf:A("trialPeriodDays",a),Bj:Pa(fj,"billingInterval",a),da:A("price",a)})}function fj(a,b){switch(b){case "MONTHLY":return"MONTHLY";case "YEARLY":return"YEARLY";default:throw new TypeError('expected BillingInterval for property "'+a+'", found: '+JSON.stringify(b));}}
function ej(a,b){switch(b){case "FREE":return"FREE";case "PAID":return"PAID";default:throw new TypeError('expected Tier for property "'+a+'", found: '+JSON.stringify(b));}}function gj(a){this.D=a.D;this.ST=a.ST;this.Zn=a.Zn;this.Uf=a.Uf;this.KT=a.KT;this.n_=a.n_;this.uB=a.uB;this.status=a.status;this.pk=a.pk;this.nY=a.nY}gj.prototype.ja=function(){return this.D};gj.prototype.nh=function(){return this.status};
function hj(a){return{brand:ib("brand",a.D),currentVersion:eb("currentVersion",a.ST),plan:I("plan",a.Zn),trialPeriodDays:eb("trialPeriodDays",a.Uf),coupon:I("coupon",a.KT),unbilled:hb("unbilled",a.n_),paidUntil:eb("paidUntil",a.uB),status:mb(cj,"status",a.status),quantity:eb("quantity",a.pk),prorate:hb("prorate",a.nY)}}function ij(a){this.pg=a.pg}ij.prototype.getSubscription=function(){return this.pg};function jj(a){return new ij({pg:Oa($i,"subscription",a)})}function kj(a){this.pg=a.pg}
kj.prototype.getSubscription=function(){return this.pg};function lj(a){return new kj({pg:Oa($i,"subscription",a)})};function mj(a){this.N=a}f=mj.prototype;f.Uj=function(a){throw nj(a.response.errorKey);};f.rV=function(a){if(a.error)throw new oj(a.error.message);return a};f.xs=function(a){return a instanceof pj&&"CreditCardInvalid"===a.response.errorType};f.oR=function(a){return qj(this.N,"/billing/creditcards/"+a.Yi,Nh(a)).catch(rj).get(0).then(this.rV).catch(this.xs,this.Uj)};f.Oz=function(a){return sj(this.N,"/billing/brands/"+encodeURIComponent(a)+"/account").catch(rj).get(0).then(La).then(vh)};
function tj(a,b){var c=b.Y,d=b.limit;b=[].concat(ma(b.tm.map(function(a){return"brands\x3d"+encodeURIComponent(a)})),[c&&"continuation\x3d"+encodeURIComponent(c),"limit\x3d"+encodeURIComponent(String(d))]);return sj(a.N,"/billing/paymentaccounts?"+b.filter(function(a){return!!a}).join("\x26")).catch(rj).get(0).then(La).then(si)}
function uj(a,b){var c="/billing/designs/"+encodeURIComponent(b.document)+"/"+encodeURIComponent(b.Zb.toString())+"/licenses";0!==b.O.length&&(c+="?pages\x3d"+b.O.join(","));return sj(a.N,c).catch(rj).get(0).then(La).then(vj)}
function wj(a,b){var c;switch(b.mode){case "DESIGN":c="/billing/products/design";b=[].concat(["productType\x3d"+encodeURIComponent(b.De.Ub),"document\x3d"+encodeURIComponent(b.De.document),"documentVersion\x3d"+encodeURIComponent(String(b.De.Zb))],ma(b.De.O.map(function(a){return"pages\x3d"+encodeURIComponent(String(a))})),[b.Y&&"continuation\x3d"+encodeURIComponent(b.Y),"limit\x3d"+encodeURIComponent(String(b.limit))]);break;case "MEDIA":c="/billing/products/media";b=[].concat(ma(b.media.Iba.map(function(a){return"media\x3d"+
encodeURIComponent(a)})));break;default:throw Error("Unknown Mode");}return sj(a.N,c+"?"+b.filter(function(a){return!!a}).join("\x26")).catch(rj).get(0).then(La).then(Hi)}f.getSubscription=function(a){return sj(this.N,a.D?"/billing/brands/"+a.D+"/subscription?excludeStandard\x3d"+(a.lba?"true":"false"):"/billing/subscriptions/"+a.id).catch(rj).get(0).then(lj)};f.hE=function(a){return qj(this.N,"/billing/invoice",Rh(a)).catch(rj).get(0).then(La).then(Xh).catch(this.xs,this.Uj)};
function xj(a,b){return qj(a.N,"/billing/invoice/"+encodeURIComponent(b.Ie),hi(b)).catch(rj).get(0).then(La).then(li).catch(a.xs,a.Uj)}f.nH=function(a){return qj(this.N,"/billing/invoices/"+encodeURIComponent(a.Ie)+"?pay",{invoice:ib("invoice",a.Ie)}).catch(rj).get(0).then(pi).catch(this.xs,this.Uj)};
function yj(a,b){return sj(a.N,"/billing/discounts?"+["brand\x3d"+encodeURIComponent(b.D),"user\x3d"+encodeURIComponent(b.user),"couponCode\x3d"+encodeURIComponent(b.bh),null!=b.Y?"continuation\x3d"+encodeURIComponent(b.Y):null,"limit\x3d"+encodeURIComponent(String(b.limit))].filter(function(a){return!!a}).join("\x26")).catch(rj).get(0).then(La).then(Si)};function zj(a){this.media=a.media;this.ca=a.ca;this.document=a.document;this.D=a.D;this.da=a.da;this.type=a.type;this.wf=a.wf;this.EL=a.EL||null;this.UY=a.UY;this.ka=a.ka}function Aj(a){return new zj({media:C("media",a),ca:A("mediaVersion",a),document:D("document",a),D:C("brand",a),da:A("price",a),type:Pa(zi,"type",a),wf:A("creationDate",a),EL:B("expirationDate",a),UY:Ma("revoked",a),ka:D("layout",a)})}function Bj(a){this.media=a.media;this.$g=a.$g;this.zc=a.zc||[]}
function Cj(a){return new Bj({media:Oa(Dj,"media",a),$g:C("contributorName",a),zc:G(Aj,"licenses",a)})}function Ej(a){this.document=a.document;this.Zb=a.Zb;this.O=a.O;this.$F=a.$F;this.aG=a.aG}Ej.prototype.serialize=function(){return{document:this.document,documentVersion:this.Zb,pages:this.O,includeContributorNames:this.$F,includeThumbnailUrls:this.aG}};function Fj(a){this.RB=a.RB;this.Sl=null!=a.Sl?a.Sl:null;this.Zb=a.Zb;this.items=a.items||[]}
function vj(a){return new Fj({RB:Ma("requiresLicenses",a),Zb:A("documentVersion",a),Sl:B("responseTimestamp",a),items:G(Cj,"items",a)})}function Gj(a){ni.call(this,a);this.zc=[]}Gj.prototype=Object.create(ni.prototype);Gj.prototype.constructor=Gj;function Hj(a){this.N=a;this.url="/folders"}Hj.prototype.kK=P.method(function(a){return qj(this.N,this.url+"/~",a).get(0).then(Ij)});Hj.prototype.TU=P.method(function(a){a=this.url+"/~?"+a.gR();return sj(this.N,a).get(0).then(Jj)});Hj.prototype.vc=P.method(function(a){var b=a.gR();a=""+this.na(a.vc())+(b?"?"+b:"");return sj(this.N,a).get(0).then(Kj)});Hj.prototype.na=function(a){var b=a.qe();return b?[this.url,"~/system",b.Oa(),b.lc()].join("/"):[this.url,a.u()].join("/")};
P.method(function(a){var b=this.na(a.vc())+"?removeItems";return qj(this.N,b,a).return()});Hj.prototype.PA=P.method(function(a){a=this.na(a.vc())+"?list\x26"+a.gr();return sj(this.N,a).get(0).then(Lj)});Hj.prototype.C4=P.method(function(a){var b=this.na(a.$m())+"?moveItems";return qj(this.N,b,a).return()});Hj.prototype.qR=P.method(function(a){var b;if(a.vc().qe())throw Error("System folders cannot be updated");b=this.url+"/"+a.vc().u();return qj(this.N,b,a).get(0).then(Mj)});function Nj(){}Nj.prototype.gr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};function Oj(a,b){a.to=b;return a}Nj.prototype.N_=function(a){this.items=a;return this};function Pj(a,b){a.from=b;return a}Nj.prototype.Bf=function(){return this.items};Nj.prototype.$m=function(){if(this.from)return Qj(this.from)};
function Rj(a){this.id=a.id||null;this.systemFolder=a.k$;return this}function Qj(a){return Object.freeze(Df(Rj,a))}Rj.prototype.u=function(){return this.id};Rj.prototype.qe=function(){if(this.systemFolder)return Object.freeze(Df(Sj,this.systemFolder))};function Sg(a){return a.qe()?Qj({systemFolder:Object.freeze(Df(Sj,{brand:a.ja(),type:a.qe(),user:a.Oa()}))}):Qj({id:a.u()})}function Sj(){}Sj.prototype.ja=function(){return this.brand};Sj.prototype.lc=function(){return this.type};Sj.prototype.Oa=function(){return this.user};
function Tj(){}function Mj(a){return Object.freeze(Df(Tj,a))}Tj.prototype.vc=function(){if(this.folder)return Uj(this.folder)};Tj.prototype.Ym=function(){return this.access};
function Vj(a){a=void 0===a?{}:a;this.id=a.id||"";this.thumbnail=a.rd;this.systemFolder=a.k$||null;this.acl=a.Ae;this.access=a.F0;this.name=a.name||null;this.description=a.description||null;this.brand=a.D||"";this.itemCount=a.Cba||0;this.user=a.user||"";this.modifiedDate=a.RN||0;this.shared=a.jca||!1;this.type=a.type||Wj;this.userSettings=a.Eca||null}var Wj="DESIGN";function Uj(a){return Object.freeze(Df(Vj,a))}f=Vj.prototype;f.u=function(){return this.id};
f.re=function(){if(this.thumbnail)return Object.freeze(Df(Xj,this.thumbnail))};f.qe=function(){return this.systemFolder};f.Nj=function(){if(this.acl)return Object.freeze(Df(Yj,this.acl))};f.Ym=function(){if(this.access)return this.access};f.getName=function(){return this.name};f.Ge=function(){return this.description};f.ja=function(){return this.brand};f.Oa=function(){return this.user};f.lc=function(){return this.type};f.Rp=function(){if(this.userSettings)return Object.freeze(Df(Zj,this.userSettings))};
f.Ky=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Uj(a)};
var ak=Uj({brand:"",id:"FACEBOOK",itemCount:0,modifiedDate:0,name:"Facebook",systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/upload_folder_facebook.png",width:200},user:""}),bk=Uj({brand:"",id:"UPLOADED_MEDIA",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/default_folder_thumbnail_grey_bg.png",width:200},user:""}),ck=Uj({brand:"",id:"UNLIMITED_USE",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/purchased_folder_thumbnail.png",
width:200},user:""}),dk={faa:ak,Haa:bk,Gaa:ck};function Xj(){}Xj.prototype.o=function(){return this.height};Xj.prototype.l=function(){return this.width};Xj.prototype.na=function(){return this.url};function Yj(a){a=void 0===a?{}:a;this.entries=a.entries}Yj.prototype.Ky=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(Df(Yj,a))};
Yj.prototype.getEntries=function(){if(this.entries)return this.entries.filter(function(a){return!!a}).map(function(a){return Object.freeze(Df(ek,a))})};function ek(a){a=void 0===a?{}:a;this.user=a.user;this.brand=a.D;this.access=a.F0}ek.prototype.Ky=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(Df(ek,a))};ek.prototype.ja=function(){return this.brand};ek.prototype.Ym=function(){return this.access};ek.prototype.Oa=function(){return this.user};function fk(){}f=fk.prototype;
f.gr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Ek=function(a){this.folder=a;return this};function gk(a,b){a.acl=b;return a}f.Rt=function(a){this.name=a;return this};f.I_=function(a){this.description=a;return this};function hk(a){a.trash=!0;return a}f.WR=function(a){this.userSettings=a;return this};f.vc=function(){if(this.folder)return Qj(this.folder)};
f.Nj=function(){if(this.acl)return Object.freeze(Df(Yj,this.acl))};f.getName=function(){return this.name};f.Ge=function(){return this.description};f.Rp=function(){if(this.userSettings)return Object.freeze(Df(Zj,this.userSettings))};
function ik(a,b,c){var d;d=function(){var c=[];a.Nj()&&a.Nj().getEntries()&&a.Nj().getEntries().forEach(function(a){a.ja()!==b&&c.push({brand:a.ja(),access:a.Ym()})});return c}();c&&d.push({brand:b,access:c});c=Object.freeze(Df(Yj,{entries:d}));return gk((new fk).Ek(Sg(a)),c)}function jk(a){this.cT=a.cT;this.qY=a.qY;this.$W=a.$W;this.EY=a.EY;this.vW=a.vW;this.ET=a.ET;this.uW=a.uW;this.Qn=a.Qn}function kk(){}function Lj(a){return Object.freeze(Df(kk,a))}kk.prototype.Bf=function(){if(this.items)return this.items.filter(function(a){return!!a}).map(function(a){return lk(a)})};
kk.prototype.Kb=function(){return this.continuation};kk.prototype.vc=function(){if(this.folder)return Uj(this.folder)};kk.prototype.Ym=function(){return this.access};function mk(){}f=mk.prototype;f.gr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b]||Array.isArray(a[b]))return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Tg=function(a){this.limit=a;return this};f.Ek=function(a){this.folder=a;return this};
function nk(a){a.includeMetadata=!0;return a}f.xj=function(a){this.continuation=a;return this};f.Yd=function(){return this.limit};f.vc=function(){if(this.folder)return Qj(this.folder)};f.gM=function(){return this.decorations};f.Kb=function(){return this.continuation};function ok(){}function Kj(a){return Object.freeze(Df(ok,a))}ok.prototype.vc=function(){if(this.folder)return Uj(this.folder)};function pk(){}f=pk.prototype;
f.gr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.gR=function(){return Object.keys(this).map(function(a){var b=this[a];if(Array.isArray(b))return a+"\x3d"+b.map(encodeURIComponent).join(",");if("object"!==typeof b)return a+"\x3d"+encodeURIComponent(b)},this).filter(Boolean).join("\x26")};f.Ek=function(a){this.folder=a;return this};f.vc=function(){if(this.folder)return Qj(this.folder)};
f.gM=function(){return this.decorations};function qk(){}function Jj(a){return Object.freeze(Df(qk,a))}qk.prototype.Fp=function(){if(this.folders)return this.folders.filter(function(a){return!!a}).map(function(a){return Uj(a)})};qk.prototype.Kb=function(){return this.continuation};function rk(){}f=rk.prototype;f.gr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
f.Tg=function(a){this.limit=a;return this};f.wj=function(a){this.brand=a;return this};f.Tt=function(a){this.user=a;return this};function sk(a,b){a.folderTypes=b;return a}f.xj=function(a){this.continuation=a;return this};f.N_=function(a){this.items=a;return this};f.WR=function(){this.projections||(this.projections=[]);this.projections.push("USER_SETTINGS");return this};f.Yd=function(){return this.limit};f.ja=function(){return this.brand};f.Oa=function(){return this.user};f.Kb=function(){return this.continuation};
f.gR=function(){return Object.keys(this).map(function(a){var b=this[a];if(Array.isArray(b))return a+"\x3d"+b.map(encodeURIComponent).join(",");if("object"!==typeof b)return a+"\x3d"+encodeURIComponent(b)},this).filter(Boolean).join("\x26")};function tk(){}function Ij(a){return Object.freeze(Df(tk,a))}tk.prototype.Ym=function(){return this.access};tk.prototype.vc=function(){if(this.folder)return Uj(this.folder)};function uk(){}f=uk.prototype;
f.gr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Rt=function(a){this.name=a;return this};f.wj=function(a){this.brand=a;return this};f.Tt=function(a){this.user=a;return this};f.WR=function(a){this.userSettings=a;return this};f.getName=function(){return this.name};f.ja=function(){return this.brand};f.Oa=function(){return this.user};f.lc=function(){return this.type};
f.Rp=function(){return this.userSettings};function vk(){this.width=this.height=0;this.url="";this.version=0}vk.prototype.l=function(){return this.width};vk.prototype.o=function(){return this.height};vk.prototype.getVersion=function(){return this.version};vk.prototype.na=function(){return this.url};
function wk(){this.type=xk;this.name=this.id="";this.timestamp=this.version=0;this.trashedTimestamp=null;this.thumbnail=new vk;this.tags=[];this.socialMetadata=this.folders=this.owner=this.marketplaceStatus=null}var xk="DESIGN";
function lk(a){a=$.extend(new wk,a);a.owner&&(a.owner=Object.freeze(Df(yk,a.owner)));if(a.thumbnail){var b;b=(b=a.thumbnail)?$.extend(new vk,b):null;a.thumbnail=b}a.socialMetadata&&(b=a.socialMetadata,b=new jk({cT:Na("brandPublik",b),qY:Na("publik",b),$W:Qa(zk,"myRole",b),EY:A("remixCount",b),vW:A("likerCount",b),ET:A("commentCount",b),uW:Ma("likedByMe",b),Qn:F(Ak,"owner",b)}),a.socialMetadata=b);return a}f=wk.prototype;f.Ky=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return lk(a)};
f.lc=function(){return this.type};f.u=function(){return this.id};f.getName=function(){return this.name};f.getVersion=function(){return this.version};f.kn=function(){return this.timestamp};f.re=function(){return this.thumbnail};f.Qp=function(){return this.tags};f.Fp=function(){return this.folders};f.Mb=function(){return this.media?Dj(this.media):null};f.jV=function(){return this.license?Aj(this.license):null};function yk(){}yk.prototype.Oa=function(){return this.user};yk.prototype.ja=function(){return this.brand};
function Zj(a){this.starred=a.oca};function Bk(){this.xhr=null}Bk.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};Bk.prototype.finish=function(){this.xhr=null};function Ck(a){this.MS=a&&a.analyticsContext||null;this.vJ=a&&a.authToken||null;this.wJ=a&&a.authzToken||null;this.dT=a&&a.brandRestriction||null;this.fT=a&&a.buildName||null;this.gT=a&&a.buildSha||null;this.Eu=a&&a.csrfTokens||{};this.hQ=a&&a.serverRoot||null;this.eZ=!!this.hQ;this.w9=this.hQ?this.hQ+"/_ajax":"/_ajax"}
function Dk(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}function Ek(a){return 200<=a&&300>a}Ck.prototype.get=function(a,b){var c=new Bk;this.send("GET",a,null,!0,null,c,b);return c};function sj(a,b){var c;return(new P(function(d,e){c=a.get(b,function(a,b){Ek(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}Ck.prototype.post=function(a,b,c){var d=new Bk;Fk(this,"POST",a,b,!0,0,d,c);return d};
function qj(a,b,c){var d;return(new P(function(e,g){d=a.post(b,c,function(a,b){Ek(a)?e([b,a]):g([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}function Gk(a,b,c,d){if(a.eZ)throw Error("synchronous XHRs cannot be made with withCredentials");a.send("POST",b,d,!1,c,new Bk,function(){})}function Hk(a,b,c){var d=new Bk;Fk(a,"DELETE",b,null,!0,0,d,c);return d}
function Ik(a,b){var c;return(new P(function(d,e){c=Hk(a,b,function(a,b){Ek(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}function rj(a){var b=Array.isArray(a)&&2===a.length&&"number"===typeof a[1];if(a instanceof Error)throw a;if(b&&Array.isArray(a))throw b=la(a),a=b.next().value,b=b.next().value,a=Jk(a,b),a.jI=b,a;throw Error("unable to parse error or response tuple. HttpServiceError or [?, statusCode] required.");}
function Fk(a,b,c,d,e,g,h,k){var l=Dk(c);if(l in a.Eu){var m=a.Eu[l];a.send(b,c,d,e,m,h,function(n,p){418==n&&1>g?(a.Eu[l]==m&&delete a.Eu[l],Fk(a,b,c,d,e,g+1,h,k)):(k&&k(n,p),h.finish())})}else a.send("GET","/csrf"+l,null,e,null,h,function(m,p){200==m?(l in a.Eu||(a.Eu[l]=String(p)),Fk(a,b,c,d,e,g,h,k)):(k(m,null),h.finish())})}
Ck.prototype.send=function(a,b,c,d,e,g,h){function k(){4==m.readyState&&l()}function l(){var a,b,c;try{a=m.status;var d,e;try{d=m.getResponseHeader("X-Canva-Auth")}catch(k){}try{e=m.getResponseHeader("X-Canva-Authz")}catch(k){}d&&(n.vJ="!"!=d?d:null);e&&(n.wJ="!"!=e?e:null);b=m.responseText}catch(k){if(k.message&&k.message.match(/c00c023f/))a=0,b="";else throw g.finish(),k;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){h(500,null);g.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(k){h(500,null);g.finish();return}}else c=null;h(a,c);g.finish()}b=this.w9+b;var m=g.xhr=new XMLHttpRequest,n=this;m.open(a,b,d);this.eZ&&(m.withCredentials=!0);"GET"!=a&&e&&m.setRequestHeader("X-Csrf-Token",e);this.MS&&m.setRequestHeader("X-Canva-Analytics",this.MS);this.vJ&&m.setRequestHeader("X-Canva-Auth",this.vJ);this.wJ&&m.setRequestHeader("X-Canva-Authz",this.wJ);this.dT&&m.setRequestHeader("X-Canva-Brand",this.dT);this.fT&&m.setRequestHeader("X-Canva-Build-Name",
this.fT);this.gT&&m.setRequestHeader("X-Canva-Build-Sha",this.gT);null===c||void 0===c?a=null:(m.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(m.onreadystatechange=k,m.send(a)):(m.send(a),l())};function pj(a){this.message=a||"HTTP error encountered";this.response=a;this.jI=null}r(pj,Error);function Kk(a){if(null===a.jI)throw Error("HttpServiceError not initialized correctly");return a.jI}
function Jk(a,b){switch(b){case 400:return new Lk(a);case 403:return new Mk(a);case 404:return new Nk(a);case 409:return new Ok(a);case 418:return new Pk;case 429:return new Qk(a);case 500:return new Rk(a);default:return new Sk(a)}}function Tk(a){pj.apply(this,arguments)}r(Tk,pj);function Uk(a){pj.apply(this,arguments)}r(Uk,pj);function Lk(a){Tk.apply(this,arguments)}r(Lk,Tk);function Mk(a){Tk.apply(this,arguments)}r(Mk,Tk);function Nk(a){Tk.apply(this,arguments)}r(Nk,Tk);
function Ok(a){Tk.apply(this,arguments)}r(Ok,Tk);function Qk(a){Tk.apply(this,arguments)}r(Qk,Tk);function Rk(a){Uk.apply(this,arguments)}r(Rk,Uk);function Pk(){Tk.call(this,"CSRF token expired")}r(Pk,Tk);function Sk(a){pj.apply(this,arguments)}r(Sk,pj);function Vk(a){this.N=a;this.url="/metrics"}function Wk(a,b){return qj(a.N,a.url,Xk(b)).get(0).then(La).then(Yk)}function Zk(a,b){return qj(a.N,a.url,$k(b)).get(0).then(La).then(Yk)};function al(a,b){switch(b){case "HISTOGRAM":return"HISTOGRAM";case "TIMELINE":return"TIMELINE";default:throw new TypeError('expected MetricType for property "'+a+'", found: '+JSON.stringify(b));}}function bl(a){this.Gs=a.Gs;this.name=a.name;this.value=a.value}bl.prototype.getName=function(){return this.name};bl.prototype.rc=function(){return this.value};function Xk(a){return{metricType:lb(al,"metricType",a.Gs),name:ib("name",a.name),value:db("value",a.value)}}
function cl(a){this.Gs=a.Gs;this.name=a.name;this.events=a.events||new Map}cl.prototype.getName=function(){return this.name};function $k(a){var b=lb(al,"metricType",a.Gs),c=ib("name",a.name);a=ob(qb,sb,"events",a.events);return{metricType:b,name:c,events:a}}function dl(){}function Yk(){return new dl};function el(){}el.prototype.now=function(){return Date.now()};var fl=new el;var hl=new gl;function gl(){}f=gl.prototype;f.setInterval=function(a,b){return window.setInterval(a,b)};f.clearInterval=function(a){window.clearInterval(a)};f.setTimeout=function(a,b){return window.setTimeout(a,b)};f.clearTimeout=function(a){window.clearTimeout(a)};f.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};f.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function il(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function jl(a,b,c,d){this.name=a;this.Sh=b;this.Hs=c;this.startTime=d;this.events=new Map}jl.prototype.va=function(a){this.events.set(a,this.Sh.now()-this.startTime)};jl.prototype.done=function(){this.events.size&&kl(this.Hs,this.name,this.events)};function ll(a,b){this.name=a;this.Hs=b}ll.prototype.update=function(a){ml(this.Hs,this.name,a)};function nl(a,b,c){this.fZ=a;this.Sh=b;this.J7=c}function ol(a){var b=window.cstart;if(void 0===b)throw Error("cstart undefined");return new nl(a,fl,b)}
nl.prototype.KM=function(a){return new ll(a,this)};function kl(a,b,c){b=new cl({Gs:"TIMELINE",name:b,events:c});Zk(a.fZ,b).catch(function(){})}function ml(a,b,c){Wk(a.fZ,new bl({Gs:"HISTOGRAM",name:b,value:c})).catch(function(){})};var pl=[-Infinity,5E3,8E3,13E3,21E3,34E3,55E3,89E3,144E3,233E3,377E3,61E4,Infinity];function ql(){this.Ty=Array(pl.length-1);this.Ty.fill(0)}ql.prototype.update=function(a){for(var b=0;b+1<pl.length&&!(pl[b]<=a&&a<pl[b+1]);)b++;this.Ty[b]++};ql.prototype.serialize=function(){for(var a=[],b=0;b<this.Ty.length;b++)0<this.Ty[b]&&a.push({lower:pl[b],upper:pl[b+1],count:this.Ty[b]});return{buckets:a}};function rl(a){this.cd=a;this.UE=a.F();this.WE=a.w();if(a.Qk){var b=a.Ux;this.UE=b.F();this.WE=b.w();b.F();a.F();b.w();a.w()}}f=rl.prototype;f.F=function(){return this.cd.ed().F()+this.UE};f.$b=rl.prototype.F;f.w=function(){return this.cd.ed().w()+this.WE};f.kc=rl.prototype.w;f.l=function(){return this.cd.ed().l()};f.ph=rl.prototype.l;f.o=function(){return this.cd.ed().o()};f.lh=rl.prototype.o;f.Za=function(){return this.F()+this.l()};f.Ld=rl.prototype.Za;f.wa=function(){return this.w()+this.o()};
f.gd=rl.prototype.wa;f.Ta=function(){return 0};f.setSize=function(a,b){var c=this.cd.ed();c.la(a);c.ea(b);sl(this.cd,c)};f.la=function(a){var b=this.cd.ed();b.la(a);sl(this.cd,b)};f.ea=function(a){var b=this.cd.ed();b.ea(a);sl(this.cd,b)};f.jb=function(a){var b=this.cd.ed();b.jb(a-this.UE);sl(this.cd,b)};f.eb=function(a){var b=this.cd.ed();b.eb(a-this.WE);sl(this.cd,b)};f.setPosition=function(a,b){var c=this.cd.ed();c.setPosition(a-this.UE,b-this.WE);sl(this.cd,c)};
function tl(a){this.Lk=a;a=ul(this.Lk.map(function(a){return a.$b()}));var b=vl(this.Lk.map(function(a){return a.Ld()})),c=ul(this.Lk.map(function(a){return a.kc()})),d=vl(this.Lk.map(function(a){return a.gd()}));this.width=b-a;this.height=d-c}f=tl.prototype;f.F=function(){return ul(this.Lk.map(function(a){return a.$b()}))};f.$b=tl.prototype.F;f.w=function(){return ul(this.Lk.map(function(a){return a.kc()}))};f.kc=tl.prototype.w;f.l=function(){return this.width};f.ph=tl.prototype.l;f.o=function(){return this.height};
f.lh=tl.prototype.o;f.Za=function(){return this.F()+this.l()};f.Ld=tl.prototype.Za;f.wa=function(){return this.w()+this.o()};f.gd=tl.prototype.wa;f.Ta=function(){return 0};f.R=function(){return this.Lk[0].R()};f.pa=function(){return new V(this.F(),this.w(),this.l(),this.o())};f.Nv=function(a){return a?Yg(this.pa(),a.pa()):!1};f.setSize=function(){};f.la=function(){};f.ea=function(){};f.jb=function(a){var b=a-this.F();this.Lk.forEach(function(a){a.jb(a.F()+b)})};
f.eb=function(a){var b=a-this.w();this.Lk.forEach(function(a){a.eb(a.w()+b)})};f.setPosition=function(a,b){var c=a-this.F(),d=b-this.w();this.Lk.forEach(function(a){a.setPosition(a.F()+c,a.w()+d)})};function bh(a,b,c){this.elem=a;this.Kl=b;this.height=a.height();this.width=a.width();this.zR=void 0!==c;this.origin=c}f=bh.prototype;f.F=function(){return(this.elem[0].getBoundingClientRect().left-this.Kl.left)/W};f.$b=bh.prototype.F;
f.w=function(){return(this.elem[0].getBoundingClientRect().top-this.Kl.top)/W};f.kc=bh.prototype.w;f.l=function(){return this.elem[0].getBoundingClientRect().width/W};f.ph=bh.prototype.l;f.o=function(){return this.elem[0].getBoundingClientRect().height/W};f.lh=bh.prototype.o;f.Za=function(){return this.F()+this.l()};f.Ld=bh.prototype.Za;f.wa=function(){return this.w()+this.o()};f.gd=bh.prototype.wa;f.Ta=function(){return 0};f.setSize=function(){};f.la=function(){};f.ea=function(){};
f.jb=function(a){var b;this.zR?(b=wl(this.elem[0]).lo,a=a*W+this.Kl.left+(b-1)*this.origin.left,$g(this.elem[0],{Fi:a})):this.elem.css("left",a*W+this.Kl.left)};f.eb=function(a){var b;this.zR?(b=wl(this.elem[0]).Oq,a=a*W+this.Kl.top+(b-1)*this.origin.top,$g(this.elem[0],{Gi:a})):this.elem.css("top",a*W+this.Kl.top)};
f.setPosition=function(a,b){var c;this.zR?(c=wl(this.elem[0]),a=a*W+this.Kl.left+(c.lo-1)*this.origin.left,b=b*W+this.Kl.top+(c.Oq-1)*this.origin.top,$g(this.elem[0],{Fi:a,Gi:b})):this.elem.css("left",a*W+this.Kl.left).css("top",b*W+this.Kl.top)};function xl(a){this.Wr=a.Wr;this.Xr=a.Xr;this.user=a.user;this.D=a.D;this.Yn=a.Yn;this.xm=a.xm;this.tj=a.tj;this.rb=a.rb;this.ug=a.ug}function yl(a){return new xl({Wr:C("experience",a),Xr:Ta(Ua,Xa,"experiments",a)||new Map,user:D("user",a)||null,D:D("brand",a)||null,Yn:Na("personal",a)||null,xm:B("cohort",a)||null,tj:D("tier",a)||null,rb:D("countryCode",a)||null,ug:D("userLocale",a)||null})};function zl(a){xl.call(this,a)}r(zl,xl);function Al(a){xl.call(this,a);this.Go=a.Go}r(Al,xl);function Bl(a){xl.call(this,a);this.url=a.url}r(Bl,xl);function Cl(a){this.config=a;this.aj=this.De=null;this.TG=[];this.ready=!1}function Dl(a,b){b=El(El(El(El(El(El(new Fl,"id",b.u()),"username",b.oh()),"personalBrand",b.Wz()),"displayName",b.Lb()),"largeAvatarUrl",b.bM("200")),"roles",b.sv()&&b.sv().join(", "));return El(El(El(El(b,"current_subscription",a.config.tj),"locale",a.config.ug),"user_cohort",a.config.xm),"country_code",a.config.rb)}function Gl(a,b){return Object.assign({},b,{category:a})}
function Hl(a,b){var c=Object.assign({},b),d={};a.De&&(c.design=a.De);c.experience=a.config.Wr;a.config.Xr.forEach(function(a,b){c["Experiment:"+b]=a;d[b]=a});c.experiments=JSON.stringify(d);a.config.D&&(c.brand=a.config.D);null!=a.config.Yn&&(c.personal=a.config.Yn);null!=a.config.xm&&(c.cohort=a.config.xm);a.config.tj&&(c.tier=a.config.tj);null!=a.config.rb&&(c.country_code=a.config.rb);null!=a.config.ug&&(c.locale=a.config.ug);c.product_variant="web-1";Il(c);return c}
function Il(a){try{var b=window.crypto||window.msCrypto,c=new Uint8Array(16);b.getRandomValues(c);a.insert_id=btoa(String.fromCharCode.apply(null,c))}catch(d){}}Cl.prototype.ys=function(){return this.ready};
function Jl(a,b){var c=window.lastUserTraits||(new Fl).Jk(),d=El(new Fl,"__user",a);a=a!==c.get("__user");if(b&&Kl(b)){for(var e=la(b),g=e.next();!g.done;g=e.next()){var h=la(g.value),g=h.next().value,h=h.next().value;a=a||h!==c.get(g)}c=la(b.keys());for(e=c.next();!e.done;e=c.next())e=e.value,El(d,e,b.get(e))}a&&(window.lastUserTraits=d.Jk());return a}
function Ll(a,b){var c=window.lastUserTraits||(new Fl).Jk();a=El(new Fl,"__user",a);if(c&&Kl(c))for(var d=la(c.keys()),e=d.next();!e.done;e=d.next())e=e.value,"__user"!==e&&El(a,e,c.get(e));if(b&&Kl(b))for(c=la(b.keys()),e=c.next();!e.done;e=c.next())d=e.value,El(a,d,b.get(d));window.lastUserTraits=a.Jk()}function Kl(a){w(a instanceof Map,"Could not convert traits to an object; traits value not considered a Map instance");return!0}
function Ml(a,b,c,d,e,g){var h={};h.type=b;h.section=c;h.subsection=d;h.location=e;g&&Object.assign(h,g);a.track("button_click",h)}function Nl(a,b,c){a.track("tab_clicked",{type:b,location:c})}function Ol(a,b){var c=U;c.De=a;c.aj=b;c.track("design_open",{design:c.De,source:"editor",template:c.aj})}function Pl(a){a.track("design_shared",Gl("Share Design",{design:a.De,template:a.aj,medium:"email",location:"publish",edit_access:void 0}))}function Ql(a,b){a.aj?a.va(X(b,"template",a.aj)):a.va(b)}
function Rl(a,b,c,d){a.track("link_click",{type:b,section:"editor",subsection:c,location:d})}function Sl(a,b,c,d){a.track("dialog_close",{type:b,section:"editor",subsection:c,location:d})}function Tl(a,b){a.track("broken_layout_used",{id:b||"unknown"})}function Ul(a){U.track(a,{design:wb.hc(),section:"editor",subsection:"toolbar",location:"top"})}function Vl(a){U.track("chart_insert",{chart_type:a})}
function Wl(a,b,c){var d=U;a={element_type:a};b&&(a.media_id=b);c&&(a.media_type=c);d.track("element_used",a)}function Xl(a,b,c,d){U.track("design_renderability_check",{design:a,renderable:b,warnings:c,error:d})}function Yl(a,b,c,d,e,g){a.track(b,{type:c,section:d,subsection:e,location:g})}Cl.prototype.zoom=function(a,b,c,d,e){this.track("zoom",{type:a,section:b,subsection:c,location:d,value:e})};Cl.prototype.va=function(a){return this.track(a.name,a.wH)};Cl.prototype.Oj=function(){return this.config.rb};
function Zl(a,b){this.name=a;this.wH={};b&&(this.wH.category=b)}function X(a,b,c){if(a.wH[b])throw Error("duplicated property");a.wH[b]=c;return a}function Fl(){this.items=[]}function El(a,b,c){a.items.push({key:b,value:c});return a}Fl.prototype.Jk=function(){return new Map(this.items.map(function(a){return[a.key,a.value]}))};function $l(a){Cl.call(this,a);this.ma=null}r($l,Cl);f=$l.prototype;f.track=function(a,b){window.console.log("analytics:track",this.ma,a,Hl(this,b));return P.resolve()};f.identify=function(a,b,c){this.ma=a;Jl(a,b)&&(Ll(a,b),window.console.log("analytics:identify",a,b,c));return P.resolve()};f.alias=function(a){window.console.log("analytics:alias",this.ma,a);this.ma=a};f.set=function(a){window.console.log("analytics:set",this.ma,a);return P.resolve()};
f.union=function(a){window.console.log("analytics:union",this.ma,a)};function am(a,b){Cl.call(this,a);this.H=b;this.readyState="PENDING";this.H8=3E4;this.Bv=this.YF=null}r(am,Cl);
function bm(a){var b=dm(),c=new am(a,hl);em(c).then(function(){for(c.ready=!0;c.TG&&0<c.TG.length;)c.TG.shift()();c.TG=null}).catch(function(){});window.segmentAnalyticsLoaded||(window.segmentAnalyticsLoaded=!0,em(c).then(function(){var b={path:location.pathname,url:location.href};dm().page(b,{integrations:{Leanplum:!1}});a.user||(b=window.Appcues||null)&&b.anonymous();b=(new UAParser).getResult();El(El(new Fl,"Most recent browser",b.browser.name+" "+b.browser.version),"timezone",(new Date).getTimezoneOffset()/
-60).Jk()}).catch(function(){}),b.load(a.Go));return c}function dm(){Fa("undefined"!==typeof window.analytics,"SegmentAnalytics: window['analytics'] not available");return window.analytics}f=am.prototype;f.track=function(a,b){var c=this;return em(this).then(function(d){return new P(function(e){d.track(a,Hl(c,b),{integrations:{Leanplum:!1}},e)})}).catch(function(){})};
f.identify=function(a,b,c){var d=this;return em(this).then(function(e){if(!Jl(a,b))return d.YF||P.resolve();d.YF=new P(function(g){Ll(a,b);e.identify(a,d.uI(b),c,function(){d.YF=null;g()})});return d.YF}).catch(function(){})};f.alias=function(a){em(this).then(function(b){return b.alias(a)}).catch(function(){})};f.set=function(a){var b=this;return em(this).then(function(c){return new P(function(d){return c.identify(b.uI(a),d)})}).catch(function(){})};f.union=function(){};
f.uI=function(a){var b={};if(a&&Kl(a)){a=la(a);for(var c=a.next();!c.done;c=a.next()){var d=la(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};
function em(a){var b=dm();if(null!==a.Bv)return a.Bv;if("SUCCESS"===a.readyState)return P.resolve(b);if("FAILURE"===a.readyState)return P.reject(Error("Segment initialization failed"));a.Bv=new P(function(c,d){var e=a.H.setTimeout(function(){a.readyState="FAILURE";a.Bv=null;d(Error("Segment initialization failed"))},a.H8);b.ready(function(){"FAILURE"!==a.readyState&&(a.H.clearTimeout(e),a.readyState="SUCCESS",a.Bv=null,c(dm()))})});return a.Bv};function fm(a,b,c){Cl.call(this,a);this.url=a.url;this.H=b;this.BW=c}r(fm,Cl);
function gm(a){window.sensorsDataAnalytic201505="sa";var b={},c={};window.sa=(c.para=(b.name="sa",b.server_url=a.url,b.heatmap={},b.cross_domain=!0,b.show_log=!1,b.send_type="ajax",b),c);b=new P(function(a,b){var c=document.createElement("script");c.src="https://static.canva.com/static/lib/sensorsdata-1.10.9.min.js";c.onerror=function(a){return b(a)};c.onload=function(){return a(window.sa)};document.body.appendChild(c)});return new fm(a,hl,b)}f=fm.prototype;
f.track=function(a,b){return this.BW.then(function(c){return c.track(a,b)})};f.identify=function(a,b){var c=this;return this.BW.then(function(d){d.login(a);b&&d.setProfile(c.uI(b))})};f.alias=function(){};f.set=function(){};f.union=function(){};f.uI=function(a){var b={};if(a&&Kl(a)){a=la(a);for(var c=a.next();!c.done;c=a.next()){var d=la(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};function hm(a){var b;dm();if(a instanceof zl)b=new $l(a);else if(a instanceof Al)b=bm(a);else if(a instanceof Bl)b=gm(a);else throw Error("Invalid analytics config");a.user&&b.identify(a.user,null);return b}
function im(){var a=La(window.analyticsConfig),b=C("impl",a);switch(b){case "console":return hm(new zl(yl(a)));case "segment":return b=yl(a),a=new Al({Wr:b.Wr,Xr:b.Xr,user:b.user,D:b.D,Yn:b.Yn,xm:b.xm,tj:b.tj,Go:C("segmentWriteKey",a),rb:b.rb,ug:b.ug}),hm(a);case "sensorsdata":return b=yl(a),a=new Bl({Wr:b.Wr,Xr:b.Xr,user:b.user,D:b.D,Yn:b.Yn,xm:b.xm,tj:b.tj,url:C("sensorsDataUrl",a),rb:b.rb,ug:b.ug}),hm(a);default:throw Error('No such analytics type: "'+b+'"');}};function jm(){return km("file_menu","resize_button","document_resize")}function lm(){return km("object_panel","exclusive_media_usage","non_discounted")}function mm(){return km("object_panel","free_media_filter")}function nm(a){return om("homepage",a.Si,a.feature)}function pm(a){return om("editor",a.Si,a.feature)}function km(a,b,c){a=X(X(X(new Zl("upgrade_cta_clicked"),"section","editor"),"subsection",a),"location",b);c&&X(a,"variant",c);return a}
function qm(a,b,c){return X(X(X(X(X(new Zl("upgrade_dialog_cta_clicked"),"section",a),"subsection","upgrade_dialog"),"location","bottom"),"feature",b),"planType",c)}function om(a,b,c){return X(X(X(X(new Zl("upgrade_dialog_loaded"),"section",a),"subsection","upgrade_dialog"),"can_upgrade",b),"feature",c)};function rm(a,b){var c=sm;return X(X(X(new Zl("team_member_invited","Invites"),"email_invited",a),"role_invited",c),"location",b)};function tm(){return{iI:function(a){return new P(function(b){function c(b){P.resolve(a(d)).then(function(){e||P.delay(b).then(function(){c(Math.min(1.6*b,3E4))})})}function d(a){b(a);e=!0}w(!0,"initialInterval must be positive");w(!0,"maxInterval must be greater than initialInterval");w(!0,"increaseFactor must not be less than 1");var e=!1;c(1E3)})}}};function V(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}function um(a){return a?new V(a.left||0,a.top||0,a.width||0,a.height||0):vm.clone()}function Wg(a){return um({left:a.left,top:a.top,width:a.width,height:a.height})}function wm(a,b){a=a||null;b=b||null;return null===a&&null===b?!0:null===a||null===b?!1:a.height===b.height&&a.left===b.left&&a.top===b.top&&a.width===b.width}var vm=new V(0,0,0,0);f=V.prototype;
f.serialize=function(){return{left:this.left,top:this.top,width:this.width,height:this.height}};f.clone=function(){return new V(this.left,this.top,this.width,this.height)};function xm(a){var b=isFinite(a.left)&&isFinite(a.top)&&isFinite(a.width)&&isFinite(a.height);return!(isNaN(a.left)||isNaN(a.top)||isNaN(a.width)||isNaN(a.height))&&b}f.F=function(){return this.left};f.$b=V.prototype.F;f.w=function(){return this.top};f.kc=V.prototype.w;f.Za=function(){return this.left+this.width};f.Ld=V.prototype.Za;
f.wa=function(){return this.top+this.height};f.gd=V.prototype.wa;f.l=function(){return this.width};f.ph=V.prototype.l;f.o=function(){return this.height};f.lh=V.prototype.o;f.Pp=function(){return{width:this.width,height:this.height}};function ym(a){return{x:a.jl(),y:a.kl()}}f.jl=function(){return this.left+this.width/2};f.kl=function(){return this.top+this.height/2};f.jb=function(a){this.left=a;return this};f.eb=function(a){this.top=a;return this};
f.setPosition=function(a,b){this.left=a;this.top=b;return this};f.la=function(a){this.width=a;return this};f.ea=function(a){this.height=a;return this};f.setSize=function(a,b){this.width=a;this.height=b;return this};f.bi=function(){return this.width/this.height};f.translate=function(a,b){this.left+=a;this.top+=b;return this};f.scale=function(a,b){void 0===b&&(b=a);this.left*=a;this.top*=b;this.width*=a;this.height*=b;return this};
function zm(a,b,c,d,e){a.translate(-b,-c);a.scale(d,e);a.translate(b,c)}function Am(a,b){a.left-=b;a.top-=b;a.width+=2*b;a.height+=2*b}function Bm(a,b,c){a.width+=b;a.height+=c;return a}function Cm(a,b){a.left=b.left-(a.width-b.width)/2;a.top=b.top-(a.height-b.height)/2;return a}function Dm(a,b){var c=a.bi();a.bi()>b.bi()?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);Cm(a,b);return a}
function fh(a,b){var c=a.bi();a.bi()<b.bi()?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);Cm(a,b);return a}f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Yg(a,b){return a.Za()<=b.F()||a.wa()<=b.w()||a.F()>=b.Za()||a.w()>=b.wa()?!1:!0}
f.touches=function(a){return.25>Math.abs(this.w()-a.wa())||.25>Math.abs(this.wa()-a.w())?this.F()<=a.Za()&&this.Za()>=a.F():.25>Math.abs(this.Za()-a.F())||.25>Math.abs(this.F()-a.Za())?this.w()<=a.wa()&&this.wa()>=a.w():!1};function Hm(a,b){return a.F()<=b.F()&&a.w()<=b.w()&&a.Za()>=b.Za()&&a.wa()>=b.wa()}function Im(a,b){a.Za()>b.Za()&&a.translate(b.Za()-a.Za(),0);a.F()<b.F()&&a.translate(b.F()-a.F(),0);a.wa()>b.wa()&&a.translate(0,b.wa()-a.wa());a.w()<b.w()&&a.translate(0,b.w()-a.w())}
function Jm(a,b,c){0!=(c&1)&&a.jb(b.l()-a.Za());0!=(c&2)&&a.eb(b.o()-a.wa());return a}
function Km(a,b,c){c=Lm(c);a.clone();var d,e;if(wm(a,b))return 0;if(0<=c&&90>c){var g=c*Math.PI/180;c=a.clone();d=b.wa()-c.w();e=d*Math.tan(g);c.translate(e,d);if(c.touches(b))return-(d/Math.cos(g));c=a.clone();e=b.F()-c.Za();d=e/Math.tan(g);c.translate(e,d);if(c.touches(b))return d/Math.cos(g)}else if(90<=c&&180>c){g=(c-90)*Math.PI/180;c=a.clone();d=b.F()-c.Za();e=d*Math.tan(g);c.translate(d,e);if(c.touches(b))return d/Math.cos(g);c=a.clone();e=b.w()-c.wa();d=e/Math.tan(g);c.translate(d,e);if(c.touches(b))return d/
Math.cos(g)}else if(180<=c&&270>c){g=(c-180)*Math.PI/180;c=a.clone();d=b.w()-c.wa();e=d*Math.tan(g);c.translate(e,d);if(c.touches(b))return d/Math.cos(g);c=a.clone();e=b.Za()-c.F();d=e/Math.tan(g);c.translate(e,d);if(c.touches(b))return-(d/Math.cos(g))}else if(270<=c&&360>c){g=(c-270)*Math.PI/180;c=a.clone();d=b.Za()-c.F();e=d*Math.tan(g);c.translate(d,e);if(c.touches(b))return-(d/Math.cos(g));c=a.clone();e=b.wa()-c.w();d=e/Math.tan(g);c.translate(d,e);if(c.touches(b))return-(d/Math.cos(g))}return Infinity}
;var Mm={Page1:{items:[{type:"columns",children:[{type:"item"}]}]},Page2:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page3:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page4:{items:[{type:"item"},{type:"item"}]},Page5:{items:[{type:"item"},{type:"item"},{type:"item"}]},Page6:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page7:{items:[{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"}]}]},
Page8:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page8_1:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page8_2:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]},Page9:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page10:{items:[{type:"columns",children:[{type:"item",
width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"item"}]}]}]},Page11:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page12:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page13:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"}]}]}]},Page14:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page15:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page16:{items:[{type:"item",height:50},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:33.33},{type:"item"}]}]},Page17:{items:[{type:"item",
height:40},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page18:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page19:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page20:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]}]},Page21:{items:[{type:"columns",
children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page22:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page23:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page24:{items:[{type:"item",height:75},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}]},Page25:{items:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}]},Page27:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page28:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page29:{items:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page30:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page31:{items:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page32:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]}]},Page33:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page34:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},
{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page35:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page36:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}]},{type:"item"}]},{type:"item"},{type:"item"}]}]},Page37:{items:[{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page38:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page39:{items:[{type:"item",height:80},
{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page40:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page41:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page42:{items:[{type:"item"},{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page43:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]}]}]},Page44:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page45:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page46:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page47:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page48:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page49:{items:[{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page50:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},
{type:"item"}]}]},Page51:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item"}]},Page52:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page53:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page54:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page55:{items:[{type:"columns",children:[{type:"item",width:50},{type:"item",
width:25},{type:"item"}],height:50},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}]}]},Page56:{items:[{type:"columns",children:[{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},
{type:"item"}]}]}]},Page57:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page58:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]}]},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"item"}]}]},Page59:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page60:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],height:33.33},
{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:50},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item",height:25},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page61:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},
{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page62:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page63:{items:[{type:"columns",children:[{type:"item",width:80},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}],height:80},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page64:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page65:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",
children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page66:{items:[{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item",
height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}]}]},Page67:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page68:{items:[{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page69:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:40},{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"}],height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:40},{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page70:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",
width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page71:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page72:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}],height:33.33},{type:"item"}],width:50},{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page73:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page74:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page75:{items:[{type:"columns",
children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page76:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page77:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:66.67},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page78:{items:[{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}],height:30},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:15},{type:"item",width:70},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:45},{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}]}]},Page79:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page80:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page81:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}],width:33.33},{type:"item"}],height:40},{type:"item",height:40},{type:"columns",children:[{type:"item",width:16.67},
{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item"}]}]},Page82:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]}]}]},Page83:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},
Page84:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",
children:[{type:"item"},{type:"item"}]}]}]},Page86:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page87:{items:[{type:"columns",children:[{type:"rows",
children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:33.33},{type:"item"}]}],height:75},{type:"columns",children:[{type:"item",width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page88:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},
{type:"item",height:50},{type:"item"}]}]}]},Page89:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page90:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page91:{items:[{type:"columns",children:[{type:"item",
width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:33.33},{type:"item"}]},
{type:"item"}]}]}]},Page92:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}],width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],
height:33.33},{type:"item"}]}]}]},Page93:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page94:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page95:{items:[{type:"columns",
children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],
width:16.67},{type:"item"}]}]},Page96:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]},{type:"item"},{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]},{type:"item"}]},{type:"item"}]}]},{type:"item"}]}]},Page97:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page98:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}],width:25},{type:"item"}]}]},Page99:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page100:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}],
height:50},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page101:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page102:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page103:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]}]},Page104:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}};var Nm={BARCHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.2},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},BARCHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.45},data:{columns:[{cells:["Item 1",
"Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},BARCHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.7},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",
to:"#a149a6",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},BARCHART4:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.2},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#0094eb",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},BARCHART5:{left:0,top:0,width:640,height:480,type:"group",
generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.45},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#00cea4",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},BARCHART6:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.7},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},
{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#c94f98",to:"#c94f98",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},LINECHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,
fontSize:O.Td}}},LINECHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},LINECHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1",
"Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#a149a6",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},LINECHART4:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#0094eb",to:"#0094eb",
colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},LINECHART5:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#00cea4",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},LINECHART6:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",
chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#c94f98",to:"#c94f98",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},PIECHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",
interpolation:{from:"#2de6d5",to:"#596cb3",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},PIECHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00ada9",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},PIECHART3:{left:0,top:0,width:640,height:480,
type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#684092",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},DONUTCHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,
10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#596cb3",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},DONUTCHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00ada9",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}},
DONUTCHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#684092",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Sd,fontSize:O.Td}}}};function Om(a){a&&a.id&&null!=a.version&&(this.id=a.id,this.version=a.version)}function Pm(a){return Qm(new Om(a.layout),a)}function Qm(a,b){$.extend(!0,a,_.omit(b,"layout"));return a}function Rm(a,b){$.extend(!0,a,_.omit(b.content.pages[0],"layout"));return a}function Sm(a,b,c){if(a=a.elements&&a.elements[0]){var d=a.spacing;void 0===d&&(d=O.iD);_.extend(a,Tm(b,c,d,!1).serialize())}}f=Om.prototype;f.getName=function(){return this.name};
f.Hg=function(){var a={elements:this.elements,width:this.width,height:this.height,dpi:this.dpi},b=this.serialize();if(b&&a.elements){var c=(new Um(b)).iu().serialize();a.elements.forEach(function(a){a.origin=c;a.contents&&a.contents.forEach(function(a){a.origin=c})})}return a};f.clone=function(){return Qm(new Om(this.serialize()),this.Hg())};f.serialize=function(){return this.id&&this.version?{id:this.id,version:this.version}:null};f.la=function(a){this.width=a};f.ea=function(a){this.height=a};
f.l=function(){return this.width};f.o=function(){return this.height};function Vm(a){function b(a){a.mediaId&&c.push(new Wm({id:a.mediaId,version:a.mediaVersion}));a.fontMedia&&c.push(Xm(a.fontMedia));Array.isArray(a.htmlFontMedia)&&(c=c.concat(a.htmlFontMedia.map(Xm)))}var c=[];a.elements&&a.elements.length&&a.elements.forEach(function(a){b(a);a.contents&&a.contents.length&&a.contents.forEach(b)});return c};function Ym(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b.length||(b=[1,0,0,0,1,0,0,0,1]);this.m=new Float32Array(b)}function Zm(a){var b=new Ym;b.m[2]=a[0];b.m[5]=a[1];return b}function $m(a){return[a.m[2],a.m[5]]}f=Ym.prototype;
f.multiply=function(a){var b=new Ym;b.m[0]=this.m[0]*a.m[0]+this.m[1]*a.m[3]+this.m[2]*a.m[6];b.m[1]=this.m[0]*a.m[1]+this.m[1]*a.m[4]+this.m[2]*a.m[7];b.m[2]=this.m[0]*a.m[2]+this.m[1]*a.m[5]+this.m[2]*a.m[8];b.m[3]=this.m[3]*a.m[0]+this.m[4]*a.m[3]+this.m[5]*a.m[6];b.m[4]=this.m[3]*a.m[1]+this.m[4]*a.m[4]+this.m[5]*a.m[7];b.m[5]=this.m[3]*a.m[2]+this.m[4]*a.m[5]+this.m[5]*a.m[8];b.m[6]=this.m[6]*a.m[0]+this.m[7]*a.m[3]+this.m[8]*a.m[6];b.m[7]=this.m[6]*a.m[1]+this.m[7]*a.m[4]+this.m[8]*a.m[7];b.m[8]=
this.m[6]*a.m[2]+this.m[7]*a.m[5]+this.m[8]*a.m[8];this.m=b.m;return this};f.transform=function(a){var b=new Ym;b.m=this.m;this.m=a.m;return this.multiply(b)};f.translate=function(a,b){var c=new Ym;c.m[2]=a;c.m[5]=b;return this.transform(c)};f.reflect=function(){var a=new Ym;a.m[0]=-1;a.m[4]=-1;return this.transform(a)};f.scale=function(a,b){var c=new Ym;c.m[0]=a;c.m[4]=void 0===b?a:b;return this.transform(c)};
function an(a,b){var c=new Ym,d=b*Math.PI/180;b=Math.cos(d);d=Math.sin(d);c.m[0]=b;c.m[1]=d;c.m[2]=-0*b-0*d;c.m[3]=-1*d;c.m[4]=b;c.m[5]=-0*b+0*d;return a.transform(c)}f.rotate=function(a){if(0===a||360===Math.abs(a))return this;var b=new Ym,c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);b.m[0]=a;b.m[1]=c;b.m[3]=-1*c;b.m[4]=a;return this.transform(b)};f.toArray=function(){return Array.prototype.slice.call(this.m)};function bn(a,b,c){return Math.min(Math.max(a,b||0),c||1)}function cn(a,b,c){c=bn(c);var d=a+c*(b-a);a=dn(a,b,c);0<a&&21>a&&(d=parseFloat(d.toPrecision(a)));return d}function dn(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=0;b.forEach(function(a){a=a.toString().split(".");d+=a[0].length;2===a.length&&(d+=a[1].length)});return d};function en(){this.nb=[255,0,255];this.hj=[300,100,50]}function fn(a,b,c,d){a.hj=[b,c,d];var e;e=b/60;c/=100;d/=100;b=Math.floor(e);var g=e-b;e=d*(1-c);var h=d*(1-g*c);c=d*(1-(1-g)*c);b%=6;a.nb=[Math.round(255*[d,h,e,e,c,d][b]),Math.round(255*[c,d,d,h,e,e][b]),Math.round(255*[e,e,c,d,d,h][b])];return a}f=en.prototype;f.lV=function(){return this.hj[1]};f.rc=function(){return this.hj[2]};f.xk=function(a){return fn(this,this.hj[0],this.hj[1],a)};
function gn(a,b,c,d){a.nb=[b,c,d];a.hj=hn(b,c,d);return a}function jn(a,b,c){var d=new en;a=a*Math.PI/180;b=[c,Math.cos(a)*b,Math.sin(a)*b];b=kn(b[0],b[1],b[2]);d.nb=ln(b[0],b[1],b[2]);d.hj=hn(d.nb[0],d.nb[1],d.nb[2]);return d}function mn(a){var b=new en;if(!/^#?[0-9a-f]{1,6}$/i.test(a))throw new SyntaxError('Invalid hexadecimal color: "'+a+'"');"#"==a.charAt(0)&&(a=a.slice(1));var c=Math.ceil(a.length/3);return gn(b,nn(a,0*c,c),nn(a,1*c,c),nn(a,2*c,c))}
function on(a){return 0==(a.nb[0]&-256|a.nb[1]&-256|a.nb[2]&-256)}f.qa=function(){return"#"+(256+this.nb[0]).toString(16).slice(-2)+(256+this.nb[1]).toString(16).slice(-2)+(256+this.nb[2]).toString(16).slice(-2)};function pn(a){a=qn(a.nb[0],a.nb[1],a.nb[2]);a=rn(a[0],a[1],a[2]);var b=a[1],c=a[2],d=Math.sqrt(b*b+c*c),b=(180*Math.atan2(c,b)/Math.PI+360)%360,b=0===Math.round(1E4*d)?NaN:b;return[b,d,a[0]]}f.clone=function(){var a=new en;a.nb=this.nb;a.hj=this.hj;return a};
f.gv=function(){return Math.round(Math.sqrt(.241*this.nb[0]*this.nb[0]+.691*this.nb[1]*this.nb[1]+.068*this.nb[2]*this.nb[2]))};function sn(a){return fn(new en,a.hj[0],a.hj[1],100)}function tn(a,b,c){return gn(new en,Math.round(a.nb[0]+(b.nb[0]-a.nb[0])*c),Math.round(a.nb[1]+(b.nb[1]-a.nb[1])*c),Math.round(a.nb[2]+(b.nb[2]-a.nb[2])*c))}
function un(a,b,c){b=pn(b);a=pn(a);var d;180<Math.abs(b[0]-a[0])?(d=360-Math.abs(b[0]-a[0]),d=b[0]>a[0]?a[0]-c*d:a[0]+c*d):d=cn(a[0],b[0],c);d=(0>d?360+d:d)%360;var e=cn(a[1],b[1],c);c=cn(a[2],b[2],c);return jn(d,e,c)}
function vn(a,b,c,d,e){function g(a,b,c){return cn(a+c,a-c,bn((a-(b-5))/10))}b=void 0===b?1:b;e=void 0===e?36:e;c=(void 0===c?110:c)*b;d=(void 0===d?10:d)*b;b*=e;var h=pn(a),k=h[0],l=h[1],h=h[2];switch(!0){case 55<k&&65>k:k=g(k,60,-c);break;case 0<k&&60>k:k-=c;break;case 295<k&&305>k:k=g(k,300,c);break;case 240<k&&300>k:k+=c;break;default:k=360>=k+c?k+c:k-c}var l=l+d,h=g(h,93-e,b),m=jn(k,l,h);return function(b,c){var d=a.qa();return"#ffffff"===d&&0===b?d:un(a,m,b/Math.max(c-1,1)).qa()}}
f.equals=function(a){return null!=a&&a.serialize()===this.serialize()};function wn(a){var b=mh(a.from),c=mh(a.to);return b instanceof en&&c instanceof en?function(a,e){return un(b,c,a/Math.max(e-1,1)).qa()}:null}function mh(a){try{return xn(a)}catch(b){}return null}
function xn(a){var b=String(a);if("#"===b.slice(0,1))return mn(b);if("hsl("===b.slice(0,4)){a=new en;var c=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/.exec(b);if(!c)throw new SyntaxError('Invalid HSL color: "'+b+'"');var b=+c[2],d=+c[3],b=b/100,d=d/100,e=b*(.5>d?d:1-d),g=d+e,c=[+c[1],100*(0<d?2*e/g:b),100*g];return fn(a,c[0],c[1],c[2])}if("rgb("===b.slice(0,4)){a=new en;c=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(b);if(!c)throw new SyntaxError('Invalid RGB color: "'+b+'"');return gn(a,
+c[1],+c[2],+c[3])}if(6>=b.length)return mn(b);throw Error("could not parse color: "+a);}function yn(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function hn(a,b,c){a/=255;b/=255;c/=255;var d=Math.max(a,b,c),e=Math.min(a,b,c),g;if(d==e)g=e=0;else{var h=d-e,e=h/d;switch(d){case a:g=(b-c)/h+(b<c?6:0);break;case b:g=(c-a)/h+2;break;case c:g=(a-b)/h+4}g/=6}return[360*g,100*e,100*d]}
function ln(a,b,c){a=[a,b,c];a=a.map(function(a){return bn(a/100)});b=[];b[0]=3.2404542*a[0]-1.5371385*a[1]-.4985314*a[2];b[1]=-.969266*a[0]+1.8760108*a[1]+.041556*a[2];b[2]=.0556434*a[0]-.2040259*a[1]+1.0572252*a[2];b=b.map(function(a){return.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055});return b=b.map(function(a){return bn(Math.round(255*a),0,255)})}
function qn(a,b,c){a=[a,b,c];a=a.map(function(a){return bn(a/255)});a=a.map(function(a){return.04045>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)});b=[];b[0]=.4124564*a[0]+.3575761*a[1]+.1804375*a[2];b[1]=.2126729*a[0]+.7151522*a[1]+.072175*a[2];b[2]=.0193339*a[0]+.119192*a[1]+.9503041*a[2];return b=b.map(function(a){return 100*a})}
function rn(a,b,c){function d(a){return.008856452<a?Math.pow(a,1/3):a/.12841855+.137931034}a=[a/95.047,b/100,c/108.883];b=[];b[0]=116*d(a[1])-16;b[1]=500*(d(a[0])-d(a[1]));b[2]=200*(d(a[1])-d(a[2]));return b}function kn(a,b,c){function d(a){return.206896552<a?a*a*a:.12841855*(a-.137931034)}a=(a+16)/116;return[95.047*d(isNaN(b)?a:a+b/500),100*d(a),108.883*d(isNaN(c)?a:a-c/200)]}function nn(a,b,c){var d=parseInt(a.charAt(b),16)|0;return 16*d+(1==c?d:parseInt(a.charAt(b+1),16)|0)}
function zn(a,b,c){return gn(new en,a.nb[0]+Math.round(c*(b.nb[0]-a.nb[0])),a.nb[1]+Math.round(c*(b.nb[1]-a.nb[1])),a.nb[2]+Math.round(c*(b.nb[2]-a.nb[2])))}f.serialize=en.prototype.qa;f.toString=en.prototype.qa;function An(){}An=Backbone.View.extend({className:"colorPicker showColorCode"});f=An.prototype;f.initialize=function(a){this.zl=a.zl;this.Og=!!a.Og;this.Pb=(a.Pb||An.cS).clone();this.eB=this.eB.bind(this);this.gB=this.gB.bind(this);this.fB=this.fB.bind(this);this.hB=this.hB.bind(this)};f.events=function(){return{"mousedown .colorPickerSpectrum":this.C6,"mousedown .colorPickerValue":this.D6,"keydown .colorPickerHexCode":this.t6,"input .colorPickerHexCode":this.k6,"change .colorPickerApplyAllCheckbox":this.W4}};
f.Np=function(){return this.Pb.clone()};f.kC=function(a){a.equals(this.Pb)||(this.Pb=a.clone(),Bn(this),Cn(this),Dn(this),this.trigger("preview",this.Np()))};function En(a,b){a.$(".colorPickerApplyAllCheckbox").prop("checked",b)}f.render=function(){this.$el.addClass("on");this.$el.toggleClass("showApplyAll",this.Og);this.$el.html(Fn({YD:this.zl.format("colorPickerColorCode"),Og:this.Og,zD:this.zl.Xo()}).toString());Bn(this);Cn(this);Dn(this);return this};
f.remove=function(){var a=this;this.$el.removeClass("on");this.$el.one("animationend",function(){$(document).off("mousemove",a.eB);$(document).off("mouseup",a.gB);$(document).off("mousemove",a.fB);$(document).off("mouseup",a.hB);Backbone.View.prototype.remove.call(a)});return this};
function Bn(a){var b=Gn(a.Pb.hj[0]),c=(An.sS-An.iy)*a.Pb.lV()/100,d=c*Math.cos(b),b=c*Math.sin(b);a.$(".colorPickerSpectrum \x3e .marker").css("transform","translate("+d+"px, "+b+"px)");a.$(".colorPickerValue").css("background-color",sn(a.Pb).qa())}function Cn(a){var b=a.Pb.rc(),b=(An.xS-2*An.iy)*(100-b)/100;a.$(".colorPickerValue \x3e .marker").css("transform","translateX("+b+"px)")}function Dn(a){var b=a.$(".colorPickerHexCode");b.blur();b.val(a.Pb.qa().slice(1))}
function Hn(a,b){var c=b.clientX,d=b.clientY;b=a.$(".colorPickerSpectrum").get(0).getBoundingClientRect();var e=b.left+b.width/2,g=b.top+b.height/2;b=In(e,g,c,d);c=100*Math.min(Jn(e,g,c,d)/(An.sS-An.iy),1);d=a.Pb.rc();fn(a.Pb,b,c,d);Bn(a);Dn(a);a.trigger("preview",a.Np())}function Kn(a,b){b=b.clientX;var c=a.$(".colorPickerValue").get(0).getBoundingClientRect();a.Pb.xk(100-100*Math.max(0,Math.min((b-c.left-An.iy)/(An.xS-2*An.iy),1)));Cn(a);Dn(a);a.trigger("preview",a.Np())}
f.C6=function(a){0===a.button&&(a.preventDefault(),Hn(this,a),this.undelegateEvents(),this.$(".colorPickerSpectrum").addClass("mousedown"),$(document).on("mousemove",this.eB),$(document).on("mouseup",this.gB))};f.eB=function(a){Hn(this,a)};f.gB=function(a){$(document).off("mousemove",this.eB);$(document).off("mouseup",this.gB);this.$(".colorPickerSpectrum").removeClass("mousedown");this.delegateEvents();Hn(this,a)};
f.D6=function(a){0===a.button&&(a.preventDefault(),Kn(this,a),this.undelegateEvents(),this.$(".colorPickerValue").addClass("mousedown"),$(document).on("mousemove",this.fB),$(document).on("mouseup",this.hB))};f.fB=function(a){Kn(this,a)};f.hB=function(a){$(document).off("mousemove",this.fB);$(document).off("mouseup",this.hB);this.$(".colorPickerValue").removeClass("mousedown");this.delegateEvents();Kn(this,a)};f.t6=function(a){if(13===a.which||27===a.which)a.preventDefault(),this.trigger("confirm")};
f.k6=function(){var a=this.$(".colorPickerHexCode"),b=a.val(),c=b.replace(/\W+/g,"").replace(/[^0-9a-f]/gi,""),b=b.length-c.length,c=c.slice(0,6),d=mh(c);this.Pb=d?d:An.cS.clone();b=a[0].selectionStart-b;a.val(c);a[0].setSelectionRange(b,b);Bn(this);Cn(this);this.trigger("preview",this.Np())};f.W4=function(){var a=this.$(".colorPickerApplyAllCheckbox").prop("checked");this.trigger("applyAll",a)};An.cS=gn(new en,255,255,255);An.sS=100;An.iy=10;An.xS=200;function Fn(a){soy.asserts.assertType(goog.isString(a.YD)||a.YD instanceof goog.soy.data.SanitizedContent,"colorCodeLabel",a.YD,"string|goog.soy.data.SanitizedContent");var b=a.YD;soy.asserts.assertType(goog.isBoolean(a.Og)||1===a.Og||0===a.Og,"showApplyAll",a.Og,"boolean");var c=!!a.Og;soy.asserts.assertType(goog.isString(a.zD)||a.zD instanceof goog.soy.data.SanitizedContent,"applyAllLabel",a.zD,"string|goog.soy.data.SanitizedContent");a=a.zD;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"colorPickerSpectrum"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerValue"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerColorCode"\x3e'+
soy.$$escapeHtml(b)+' #\x3cinput class\x3d"colorPickerHexCode" spellcheck\x3d"false"\x3e\x3c/div\x3e'+(c?'\x3cdiv class\x3d"colorPickerApplyAll"\x3e\x3clabel class\x3d"colorPickerApplyAllLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"colorPickerApplyAllCheckbox" /\x3e'+soy.$$escapeHtml(a)+"\x3c/label\x3e\x3c/div\x3e":""))};function Ln(a){var b=goog.asserts.assertArray(a.dd,"expected parameter 'colors' of type list\x3c[hexString: string]\x3e.");soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var c=a.label;soy.asserts.assertType(null==a.ey||goog.isBoolean(a.ey)||1===a.ey||0===a.ey,"workingPalette",a.ey,"boolean|null|undefined");a=a.ey;var d='\x3cdiv class\x3d"'+(a?"workingPalette":"pinnedPalette")+'"\x3e'+(c?'\x3ch3 class\x3d"colorPaletteLabel"\x3e'+
soy.$$escapeHtml(c)+"\x3c/h3\x3e":"")+'\x3cmenu class\x3d"colorPaletteGroup"\x3e'+(a?'\x3cli class\x3d"colorPaletteAdd"\x3e\x3c/li\x3e':""),c=b.length;for(a=0;a<c;a++){var e,g=b[a];e=(e=void 0,{});soy.asserts.assertType(goog.isString(g.Eg)||g.Eg instanceof goog.soy.data.SanitizedContent,"hexString",g.Eg,"string|goog.soy.data.SanitizedContent");g=g.Eg;e=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"colorPaletteEntry" data-color\x3d"#'+soy.$$escapeHtmlAttribute(g)+'" title\x3d"#'+soy.$$escapeHtmlAttribute(g)+
'" style\x3d"'+(e.Yb?"/*"+e.Yb+"*/":"")+"color: #"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(g))+';" \x3e\x3c/li\x3e');d+=e}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/menu\x3e\x3c/div\x3e")}
function Mn(a){soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var b=a.label;soy.asserts.assertType(null==a.title||a.title instanceof goog.soy.data.SanitizedContent||goog.isString(a.title),"title",a.title,"null|string|undefined");var c=a.title;soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"colorPaletteCta" href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.url))+'" '+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+' target\x3d"_blank"\x3e+ '+soy.$$escapeHtml(b)+"\x3c/a\x3e")}
function Nn(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.Xo)||a.Xo instanceof goog.soy.data.SanitizedContent,"applyToAll",a.Xo,"string|goog.soy.data.SanitizedContent");var c=a.Xo;soy.asserts.assertType(null==a.xy||a.xy instanceof goog.soy.data.SanitizedContent||goog.isString(a.xy),"applyToAllColor",a.xy,"null|string|undefined");var d=a.xy;soy.asserts.assertType(null==a.yy||a.yy instanceof goog.soy.data.SanitizedContent||goog.isString(a.yy),"applyToAllResult",a.yy,"null|string|undefined");
a=a.yy;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"colorPaletteApplyAll"\x3e\x3clabel class\x3d"colorPaletteApplyAllLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"colorPaletteApplyAllCheckbox"\x3e'+soy.$$escapeHtml(c)+(d?'\x3cspan class\x3d"colorPaletteApplyAllColor" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+"background: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(d))+'"\x3e\x3c/span\x3e\x3cspan class\x3d"colorPaletteApplyAllArrow"\x3e\x26#9654;\x3c/span\x3e\x3cspan class\x3d"colorPaletteApplyAllResult" style\x3d"'+
(b.Yb?"/*"+b.Yb+"*/":"")+"background: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(a))+'"\x3e\x3c/span\x3e':"")+"\x3c/label\x3e\x3c/div\x3e")};function On(){}On=Backbone.View.extend({className:"colorPalette"});f=On.prototype;f.initialize=function(a){this.zl=a.zl;this.Oi=!1;this.Wi=a.Wi;this.My=a.My;this.Ll=a.Ll;this.qu=Pn({HX:a.qu,JW:a.W.G.get($f),IW:a.W.G.get(ag)});this.Qy=(this.Pb=a.Pb)&&this.Pb.clone();this.eP=!1;this.Te=null;this.YB=a.YB;this.wD=!!a.wD;this.Og=!!a.Og;this.wy=a.wy;this.wV=!1;this.Ul=null;this.j=a.j;this.W=a.W;(this.window=a.window||null)&&$(this.window).on("resize.colorPaletteView",_.throttle(this.tC.bind(this),50))};
f.events=function(){return{"click .colorPaletteAdd":this.G5,"click .colorPaletteEntry":this.j5,"click .colorPaletteCta":this.i5,"change .colorPaletteApplyAllCheckbox":this.X4,mousedown:this.B6,"mousedown .colorPaletteEntry":this.A6}};function Pn(a){var b=-1===a.JW?a.HX:a.HX.slice(0,a.JW);return-1===a.IW?b:b.map(function(b){return new Qn({dd:b.Dg().slice(0,a.IW),name:b.getName()})})}
function Rn(a){function b(a){return new Sn({name:null,Eg:a})}return[new Qn({name:a.Wi.format("colorPaletteDefaultColors"),dd:"ff5c5c ffbd4a fff952 99e265 35b729 44d9e6 2eb2ff 5271ff b760e6 ff63b1".split(" ").map(b)}),new Qn({name:"",dd:["000000","666666","a8a8a8","d9d9d9","ffffff"].map(b)})]}
f.render=function(){var a={},b=$("\x3cdiv\x3e").appendTo(this.$el);this.$el.addClass("on");for(var c=[].concat(ma(this.qu),ma(Rn(this))).filter(function(a){return 0<a.Dg().length}),c=la(c),d=c.next();!d.done;d=c.next()){d=d.value;b.append(Ln({dd:d.Dg().map(function(a){return{Eg:a.Eg}}),label:d.getName()}).toString());for(var d=la(d.Dg()),e=d.next();!e.done;e=d.next())a["#"+e.value.Eg]=!0}this.wD&&this.W.G.get(mg)&&b.prepend(Mn({label:this.Wi.format("colorPaletteAddPaletteCta"),url:"/brand"}).toString());
c=Tn(this.Ll.di()).filter(function(b){return a[b]?!1:a[b]=!0});b.prepend(Ln({ey:!0,dd:c.map(function(a){return{Eg:a.replace("#","")}}),label:this.Wi.format("colorPaletteDocumentColors")}).toString());this.YB&&(this.$el.addClass("colorPaletteScrollable"),b.addClass("disableAncestorScroll"),this.Ul=new Un(b),this.Ul.render());this.listenTo(this.Ll,"paletteEntry:add",this.R4);this.listenTo(this.Ll,"paletteEntry:remove",this.T6);this.listenTo(this.Ll,"paletteEntry:sync",this.tC);return this};
f.appendTo=function(a){this.render().$el.appendTo(a);this.tC()};f.tC=function(){if(this.$el.width()){var a=Math.floor(this.$el.width()/40);this.$el.find(".colorPaletteGroup").each(function(b,c){c=$(c);b=$(c).find("li");for(var d=[];0<b.length;)d.push(b.splice(0,a));c.children().detach();d.forEach(function(a){var b=$("\x3cdiv\x3e").addClass("colorPalette__row");a.forEach(function(a){b.append(a)});b.appendTo(c)});d.length&&d[d.length-1].length<a&&c.find(".colorPalette__row:nth-last-child(2)").addClass("colorPalette__row--roundSecondLast")})}};
f.Np=function(){return this.Pb&&this.Pb.clone()};f.kC=function(a){null===a&&null!==this.Pb?(this.Pb=null,this.trigger("preview",a,this.Oi)):a.equals(this.Pb)||(this.Pb=a.clone(),this.trigger("preview",a,this.Oi),this.Og&&(this.wV||(this.wV=!0,this.$el.append(Nn({Xo:this.Wi.Xo(),xy:this.wy?this.wy.qa():null,yy:this.Pb?this.Pb.qa():null}).toString())),this.$(".colorPaletteApplyAllResult").css("background",a.qa())));a&&this.Te&&(this.Te.kC(a),this.$(".colorPaletteAdd").css("color",a.qa()));return this};
f.confirm=function(){(null===this.Pb&&null!==this.Qy||this.Pb&&!this.Pb.equals(this.Qy))&&Vn(this);return this};function Wn(a){a.Te&&(a.Te.remove(),a.Te=null,a.trigger("hideColorPicker"));a.eP&&(Xn(a),a.eP=!1);a.$(".colorPaletteAdd").css("color","transparent")}
f.remove=function(){Wn(this);this.Ul&&(this.Ul.remove(),this.Ul=null);this.$el.hasClass("on")&&(this.$el.removeClass("on"),this.$el.one("animationend",Backbone.View.prototype.remove.bind(this)),this.Qy&&Yn(this,this.Qy)&&this.j.track("brand_color_used"));this.window&&$(this.window).off("resize.colorPaletteView");return this};function Vn(a){a.Qy=a.Np();a.trigger("confirm",a.Oi)}
function Xn(a){if(a.Pb){var b=a.Pb.qa();a.$(".colorPaletteEntry").toArray().some(function(a){return $(a).data("color")===b})||(Zn(a.Ll,a.Pb),Vn(a))}}f.j5=function(a){a.preventDefault();a=$(a.currentTarget).data("color");if(a=mh(a))this.kC(a),this.Te||this.confirm()};
f.G5=function(a){a.preventDefault();this.Te?Wn(this):(this.Te||(this.Te=new An({zl:this.zl,Pb:this.Pb,Og:!1}),this.listenTo(this.Te,"preview",this.R6),this.listenTo(this.Te,"confirm",this.J5),this.listenTo(this.Te,"applyAll",this.S4),this.Te.render(),this.My.gm(this.Te.$el,this.$(".colorPaletteAdd")),this.trigger("showColorPicker")),En(this.Te,this.Oi))};f.X4=function(a){a=!0===$(a.target).prop("checked");this.Oi!==a&&(this.Oi=a,this.trigger("changeApplyAll",this.Oi),this.Te&&En(this.Te,this.Oi))};
f.i5=function(){Ml(this.j,"add_another_palette","editor","toolbar","color_palette")};f.B6=function(a){0===a.button&&(0<$(a.target).closest(".colorPaletteAdd, .colorPaletteEntry").length?a.preventDefault():Wn(this))};
f.A6=function(a){if(0===a.button&&(a.preventDefault(),!$(a.currentTarget).parents(".pinnedPalette").length)){var b=$(a.currentTarget).data("color"),c=(new $n({target:a.currentTarget})).uJ(a.clientX,a.clientY);this.listenTo(c,"end",function(a){var e=mh(b);!e||this.$el.is(a)||this.$el.get(0).contains(a)||(ao(this.Ll,e),Vn(this));this.stopListening(c)})}};
f.R4=function(a){if(!Yn(this,a)&&!bo(this,a)){a=a.qa();var b=$("\x3cli\x3e");b.addClass("colorPaletteEntry");b.data("color",a);b.attr("data-color",a);b.css("color",a);b.insertAfter(this.$(".colorPaletteAdd"))}};function Yn(a,b){var c=b.qa().substr(1);return a.qu.some(function(a){return a.dd.some(function(a){return a.Eg===c})})}function bo(a,b){var c=b.qa().substr(1);return Rn(a).some(function(a){return a.dd.some(function(a){return a.Eg===c})})}
f.T6=function(a){var b=a.qa();this.$(".workingPalette .colorPaletteEntry").filter(function(){return $(this).data("color")===b}).remove()};f.R6=function(a){this.Te&&(this.eP=!0,this.kC(a))};f.J5=function(){Wn(this);this.confirm()};f.S4=function(a){this.Oi!==a&&(this.Oi=a,this.trigger("changeApplyAll",this.Oi),this.$(".colorPaletteApplyAllCheckbox").prop("checked",this.Oi))};function $n(a){this.target=a.target;this.Lm=null;this.NE={x:0,y:0};this.OE=void 0!==a.OE?a.OE:5;this.sU=!1;this.EC=null;this.WW=this.C3.bind(this);this.XW=this.D3.bind(this)}f=$n.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.uJ=function(a,b){this.NE.x=a;this.NE.y=b;this.Lm=this.target.cloneNode(!0);document.addEventListener("mousemove",this.WW);document.addEventListener("mouseup",this.XW);return this};
f.release=function(a){document.removeEventListener("mousemove",this.WW);document.removeEventListener("mouseup",this.XW);$(this.target).removeClass("fauxDraggerTarget");this.Lm&&this.Lm.parentNode&&this.Lm.parentNode.removeChild(this.Lm);this.Lm=null;this.trigger("end",a);this.off()};f.C3=function(a){var b=a.pageX-this.NE.x;a=a.pageY-this.NE.y;this.sU?$(this.Lm).css("top",this.EC.top+a+"px").css("left",this.EC.left+b+"px"):(Math.abs(b)>this.OE||Math.abs(a)>this.OE)&&this.aL()};
f.D3=function(a){a.preventDefault();a.target instanceof Element&&this.release(a.target)};f.aL=function(){this.EC=this.target.getBoundingClientRect();$(this.Lm).css("top",this.EC.top+"px").css("left",this.EC.left+"px").addClass("fauxDraggerClone");$(this.target).addClass("fauxDraggerTarget");document.body.appendChild(this.Lm);this.trigger("start");this.sU=!0};function co(a,b){this.item={Lv:!1,elements:[],xw:null,timestamp:0,nm:null,pm:null};this.yC=a;this.JZ=(b||"anonymous")+"-copybuffer"}function eo(a){var b=JSON.stringify({elements:a.item.elements.map(function(a){return a.serialize()}),timestamp:a.item.timestamp,activeFilterable:a.item.nm,activeText:a.item.pm});try{a.yC.setItem(a.JZ,b)}catch(c){}}
function fo(a){var b;return a.yC&&(b=a.yC.getItem(a.JZ))&&(b=JSON.parse(b),b.timestamp>a.item.timestamp)?{elements:(b.elements||[]).map(function(a){return yg(a)}),xw:null,timestamp:b.timestamp,nm:b.activeFilterable,pm:b.activeText}:null}
function go(a,b){a.item.timestamp=Date.now();a.item.Lv=!0;a.item.elements=[b];a.item.nm=null;b.Sp()&&-1!==b.Pz()&&(a.item.nm={elementIndex:0,filterableIndex:b.Pz()});a.item.pm=null;b.se()&&-1!==b.zb()&&(a.item.pm={elementIndex:0,textIndex:b.zb()});a.item.xw=null;a.yC&&eo(a)}function ho(a,b){var c=cc;c.item.timestamp=Date.now();c.item.Lv=!1;c.item.elements=a;c.item.xw=b?b:null;c.yC&&eo(c)}
function io(){var a=cc,b=fo(a);return b?b:{Lv:a.item.Lv,elements:a.item.elements,xw:a.item.xw,timestamp:a.item.timestamp,nm:a.item.nm,pm:a.item.pm}};function jo(a,b){this.H=a;this.WZ=b||null;this.RI=this.zH=null}jo.prototype.read=function(a){this.zH||(ko++,lo.splice(ko,0,this));this.zH=a;if(mo==no||mo==oo)this.H.requestAnimationFrame(po),mo=qo;return this};jo.prototype.write=function(a){this.RI||(ro++,so.splice(ro,0,this));this.RI=a;mo==no&&(this.H.requestAnimationFrame(po),mo=qo);return this};function Zg(a){return new jo(hl,a)}var no=0,qo=1,oo=3,mo=no,lo=[],so=[],ko=0,ro=0;
function po(){var a,b;mo=2;ro=-1;for(a=0;a<lo.length;a++){ko=a;b=lo[a];var c=b.zH;b.zH=null;c&&c.call(b.WZ,b)}lo.length=0;ko=-1;mo=oo;for(a=0;a<so.length;a++)ro=a,b=so[a],c=b.RI,b.RI=null,c&&c.call(b.WZ,b);so.length=0;ro=-1;mo!=qo&&(mo=no)};function to(){this.N=Ib;this.url="/designschool"};function uo(){}function vo(a){return Object.freeze(Df(uo,a))};var wo=new Ff("fg",!0);function xo(a){this.ta=a.ta;this.G=a.G}function yo(a){var b=["featureOnboardingManager",a.Tk.u()].join("."),c=null;try{c=zo(b)}catch(d){}return new xo({G:a.G,ta:c})}function Ao(a){return a.ta&&a.G.get(wo)}function Bo(a){return Ao(a)&&!!Co(a.ta,Do)}var Do="magicResize";function Eo(a){this.j=a.j;this.W=a.W;this.qK=a.qK;this.Bg=a.Bg;this.ta=a.ta;this.IQ=!1}function Fo(a,b){if(a.IQ?0:b===Go||b===Ho?!Io(a):1){var c=a.qK(),d=c.pH;c.on("signup",function(){$(window).off("beforeunload");var c=b===Jo,g=Ao(a.Bg);c&&g?(c=a.Bg,Ao(c)&&Ko(c.ta,Do),c=a.Bg,Ao(c)&&Ko(c.ta,"onboardingPending"),window.location.reload()):b===Ho||b===Lo?window.location.reload():window.location=d});c.on("hide",function(){a.IQ=!1});c.show(b);a.IQ=!0;b!==Go&&b!==Ho||Mo(a)}}
function Io(a){var b=No;return a.ta?!!Co(a.ta,b):!0}function Mo(a){var b=No;a.ta&&Ko(a.ta,b)}function Oo(a){a=[Po,a.u()].join(".");var b=null;try{b=zo(a)}catch(c){}return b}var Po="EditorCtaHandler",No="ExclusiveMediaUpgradeDialogShown";function Qo(a,b){this.action=a;this.param=b}var Ro={zaa:"tab",u0:"search",jaa:"folder"};function So(){var a=window.location.hash;if(!a)return null;a=a.slice(1).split("\x3d");if(2!==a.length)return null;var b;b=a[0];var c=_.values(Ro);b=b&&-1<c.indexOf(b)?b:null;if(!b)return null;var d;try{d=decodeURIComponent(a[1])}catch(e){d=a[1]}a=d;c=_.values(fc);return"tab"===b&&-1===c.indexOf(a)||!/^[\w ]+$/.test(d)?null:new Qo(b,d||null)};function To(a){this.dd=Uo(a);this.ZD=null}function Uo(a){if(a){var b={};return a.filter(function(a){a=a.qa();return b[a]?!1:b[a]=!0})}return[]}function Vo(a,b){return 0<=Tn(a).indexOf(b.qa())}To.prototype.Ce=function(){this.ZD=null};function Wo(a,b){on(b)&&!Vo(a,b)&&(a.dd.push(b),a.Ce())}function Xo(a,b){on(b)&&Vo(a,b)&&(a.dd=a.dd.filter(function(a){return!a.equals(b)}),a.Ce())}To.prototype.unshift=function(a){on(a)&&!Vo(this,a)&&(this.dd.unshift(a),this.Ce())};
function Yo(){var a=new To;a.dd=[];a.Ce();return a}To.prototype.Dg=function(){return this.dd};function Tn(a){a.ZD||(a.ZD=a.dd.map(function(a){return a.qa()}));return a.ZD}To.prototype.serialize=function(){this.Ce();return this.dd.map(function(a){return a.serialize()})};function Zo(a){function b(a){var b=m+In(h,k,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-n;$("#overlays .rotation.align").addClass("on");var c=b%45;0>c&&(c+=45);var d=b>l.Ta(),e=d&&42<c,d=!d&&3>c,g=3>c||42<c;if(a.shiftKey)t=!1,$("#overlays .rotationGuide").removeClass("willSnap"),g||(p=!1);else{g?$("#overlays .rotationGuide").addClass("willSnap"):(t=!1,$("#overlays .rotationGuide").removeClass("willSnap"));if(t)return!1;
e?(b=b+45-c,t=!0):d&&($("#overlays .rotationGuide").addClass("willSnap"),b-=c,t=!0)}a=b;$("#overlays .rotationGuide").css("transform",$o({Rw:a}));c=a=b;0>c&&(c=360+c);v.html(Math.round(c)+"\x26deg;").css("transform",$o({Rw:360-a}));l.Zl(b);l instanceof ap&&bp(l);return!1}function c(){l.tg=!1;z.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("on");l.bk&&l.bk();$(".cornerHandles .rotate").empty();$("#overlays .align").removeClass("on");$("#overlays .rotationGuide").removeClass("willSnap");
$(document).off("keydown",q);$(document).off("keydown",u);if(m!=l.Ta()){var a={elementIndex:l.K(),pageIndex:cp(K,l.R()),"new":{rotation:l.Ta()},old:{rotation:m}};M.register(new Y(dp,a))}}T.trigger("hideContextualControlsRequested");ep();var d=$(this),e=$(this).parents(".selectionBox").data("element");if(e){var g=e.offset(),h=g.left+e.width()/2,k=g.top+e.height()/2,l=e.data("canvaElement");if(l){var m=l.Ta(),n=In(h,k,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?
a.clientY:a.originalEvent.touches[0].clientY),p=!1,q=function(a){a.shiftKey&&$("#overlays .rotationGuide").hasClass("willSnap")&&(p=!0,$("#overlays .rotationGuide").removeClass("willSnap"))},u=function(){p&&(p=!1,$("#overlays .rotationGuide").addClass("willSnap"))},v=$('\x3cspan class\x3d"degrees"\x3e\x3c/span\x3e');$(".cornerHandles .rotate").append(v);d.addClass("on");$(document).on("keydown",q);$(document).on("keyup",u);var z=new fp($(document));l.tg=!0;z.on("mousemove|touchmove",b).on("mouseup|touchend",
c);a=gp(l);var t=!1,e=$("#overlays").get(0).getBoundingClientRect();$("#overlays .rotation.align").first().css("left",a.x-e.left+"px").css("top",a.y-e.top+"px");$("#overlays .rotationGuide").first().css("left",a.x-e.left+"px").css("top",a.y-e.top+"px").css("margin-top",-1*hp(l)/2+"px").css("height",hp(l)+"px");return!1}}};function ip(a,b){this.zJ=a;this.namespace=void 0===b?null:b}function zo(a){if(window.localStorage)return new ip(window.localStorage,a);throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");}ip.prototype.setItem=function(a,b){try{return this.zJ.setItem(null==this.namespace?a:this.namespace+"."+a,b),!0}catch(c){return!1}};ip.prototype.getItem=function(a){return this.zJ.getItem(null==this.namespace?a:this.namespace+"."+a)};
function Co(a,b){try{var c=a.getItem(b);return null!==c?JSON.parse(c):null}catch(d){return null}}function Ko(a,b){try{var c=JSON.stringify(!0);a.setItem(b,c)}catch(d){}}ip.prototype.removeItem=function(a){this.zJ.removeItem(null==this.namespace?a:this.namespace+"."+a)};function jp(a){this.type=a.type;this.ta=a.ta;this.H=a.H;this.i=a.i}
jp.prototype.show=function(){var a=this,b=kp,c;a:switch(this.type){case lp:c={Zy:"upgraderWelcomeDialog--freeMedia",hd:"https://static.canva.com/static/images/free_media_dialog_header.png",title:this.i.format("upgraderWelcomeDialogFreeMediaTitle",3E5),Dy:this.i.Ga("upgraderWelcomeDialogFreeMediaBodyHtml"),button:this.i.format("upgraderWelcomeDialogFreeMediaButton")};break a;default:throw Error("Could not get model for unknown UpgraderWelcomeDialog.Type: "+this.type);}b=new b({content:mp(c).$el,hf:this.type!==lp,H:this.H});
b.$el.addClass("upgraderWelcomeDialog");return np(b).tap(function(){Ko(a.ta,""+a.type)})};function op(a){a.H.setTimeout(function(){return a.show()},1500)}var lp="FREE_MEDIA",pp=new Ff("ga",!1);function qp(a){this.$el=a}r(qp,gc);
function mp(a){var b=$,c;soy.asserts.assertType(a.Dy instanceof soydata.SanitizedHtml||a.Dy instanceof soydata.UnsanitizedText||goog.isString(a.Dy),"bodyHtml",a.Dy,"soydata.SanitizedHtml");c=a.Dy;soy.asserts.assertType(goog.isString(a.button)||a.button instanceof goog.soy.data.SanitizedContent,"button",a.button,"string|goog.soy.data.SanitizedContent");var d=a.button;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");
var e=a.title;soy.asserts.assertType(goog.isString(a.hd)||a.hd instanceof goog.soy.data.SanitizedContent,"imageUrl",a.hd,"string|goog.soy.data.SanitizedContent");var g=a.hd;soy.asserts.assertType(null==a.Zy||a.Zy instanceof goog.soy.data.SanitizedContent||goog.isString(a.Zy),"cssClasses",a.Zy,"null|string|undefined");a=a.Zy;c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"upgraderWelcomeDialog__headerImage" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(g))+'"\x3e\x3csection class\x3d"upgraderWelcomeDialog__content'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e\x3cheader class\x3d"upgraderWelcomeDialog__header"\x3e\x3ch2\x3e'+soy.$$escapeHtml(e)+'\x3c/h2\x3e\x3c/header\x3e\x3cdiv class\x3d"upgraderWelcomeDialog__body"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cfooter class\x3d"upgraderWelcomeDialog__footer"\x3e\x3cbutton class\x3d"button done upgraderWelcomeDialog__button"\x3e\x3cdiv class\x3d"upgraderWelcomeDialog__buttonContent"\x3e'+rp({za:"upgraderWelcomeDialog__buttonIcon",color:"#FFF"})+soy.$$escapeHtml(d)+
"\x3c/div\x3e\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");b=b(c.toString());return new qp(b)};function sp(a){this.W=a.W;this.G=a.G;this.Tc=a.Tc;this.Bg=a.Bg;this.Xb=a.Xb;this.sp=a.sp;this.Z=a.Z;this.i=a.i;this.j=a.j;this.Ne=a.Ne;this.ta=a.ta;this.Tk=a.Tk;this.Bu=a.Bu;this.La=a.La;this.fb=a.fb;this.tb=a.tb;this.fa=a.fa}
sp.prototype.go=function(a,b,c,d,e,g){a=a&&a.content;b=new tp(b);if(!a)throw Error("Malformed document. Missing content.");up(this,a,b,c,d,e,g);d=this.G.get(pp)?lp:null;var h;try{h=zo("upgraderWelcomeDialog."+this.Tk.u())}catch(k){h=null}d&&h&&!Bo(this.Bg)&&!c.uh()&&(c=this.i,c.vR||(c.vR=new nf(c.config)),h=new jp({i:c.vR,H:hl,ta:h,type:d}),Co(h.ta,""+h.type)||op(h))};
function up(a,b,c,d,e,g,h){a.j.identify(a.Tk.u(),Dl(a.j,a.Tk).Jk());b={content:b,uc:c,Y2:!(-1==lh.indexOf(d.uh())&&!d.uh()),Tc:a.Tc,sp:a.sp,Xb:a.Xb,cj:d,I0:g,q$:h,i:a.i,Qi:e,W:a.W,G:a.G,Bu:a.Bu,j:a.j,tb:a.tb,fa:a.fa,La:a.La,fb:a.fb,NU:function(){var b=["C4W_UPGRADED_USER","C4W_INVITED_EXISTING_USER"],c=d.uh(),e;if(K){if(-1!=lh.indexOf(d.uh())){var g=a.i;g.lg||(g.lg=new kf(g.config));(new vp(K,d,g.lg)).go()}g=new wp(a.Z,d,a.i,a.W);if(!c&&a.ta&&"1"==a.ta.getItem("onboardingPhase")){if(a.W.G.get(Yf)){var h,
q;q=a.i;q.$K||(q.$K=new lf(q.config));q=q.$K;h=_.defaults({},h,{j:a.j,wg:"download_hint",Ne:a.Ne,FC:5,title:q.XO(),content:q.VO(),We:q.UO(),anchor:$("button.editorActionExport"),xD:"download",position:xp});new yp(h)}a.ta.setItem("onboardingPhase","2");h="first_design";a.W.G.get(qg)&&(h="appcues_first_design_1");a.j.identify(a.Tk.u(),El(new Fl,"onboarding",h).Jk())}window.CANVA_EMBED||("FREE_NEW_USER"===c?(g.go(),zp(a),e="regular"):Ap()?(g.go(),zp(a),new yp({j:a.j,wg:"five_saves_view_designs",Ne:a.Ne,
FC:5,title:id(a.i).XO(),content:$('\x3cp class\x3d"viewYourDesigns"\x3e\x3c/p\x3e').text(id(a.i).VO()),We:id(a.i).UO(),anchor:$("#editorLogo"),xD:"homepage"}),e="layouts"):-1<b.indexOf(c)&&(Bp({uh:c,ez:a.W.ez(),E8:0<=nh(d).indexOf("TEAM_TEMPLATE"),xe:gd(a.i)}).start(),e="c4w"));e&&a.j.identify(a.Tk.u(),El(new Fl,"onboarding",e).Jk())}}};Cp(b)}function zp(a){a.ta&&a.ta.setItem("onboardingPhase","1")};function Dp(a,b,c){var d=this;Date.now();this.uc=b;this.Xk=a.doctype?Ep(a.doctype):null;this.TZ=a.pages||[];this.vd=a.keywords||[];this.locale=a.locale||null;this.mg=Yo();this.fonts=[];this.Tu=Yo();this.Ml=Yo();new Map;a.palette&&a.palette.forEach(function(a){var b="!"===a.charAt(0);if(a=mh(b?a.slice(1):a))b?Wo(this.Tu,a):(Wo(this.mg,a),Wo(this.Ml,a))},this);0===this.mg.Dg().length&&(this.mg=new To,this.Ml=new To,this.Tu.Dg().forEach(function(a){Xo(this.mg,a);Xo(this.Ml,a)},this));this.O=[];this.Pi=
null;this.title=new Fp(c,a.title,this.kb().getName());this.title.on("change",this.I3.bind(this));this.DI={title:{},subtitle:{},body:{}};$.extend(this.DI,a.defaultFonts);this.zr={title:{fontSize:O.$_,fontFamily:O.Z_},subtitle:{fontSize:O.X_,fontFamily:O.W_},body:{fontSize:O.Td,fontFamily:O.Sd}};$.extend(this.zr,a.canvaDefaultFonts);a=Gp(this,a);a.pages?a.pages.forEach(function(a){d.O.push(new Hp(d,a))}):this.O.push(new Hp(this,this.Hg()));Ip(this,0);this.SM=!1}f=Dp.prototype;f.kb=function(){return this.uc};
f.Hg=function(){return this.uc.Hg()};f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(Dp.prototype,Backbone.Events);f=Dp.prototype;f.di=function(){return this.Ml};
function Jp(a){var b=[];K.ia().forEach(function(c){0<c.C().parents(".group.chart").length||(c.qs&&c.qs().forEach(function(d,e){d instanceof en&&a.equals(d)&&b.push({element:c,index:e,type:"TEXT"})}),c.bb&&c.bb().forEach(function(d,e){d instanceof en&&a.equals(d)&&b.push({element:c,index:e,type:"FILL"})}))});return b}
f.AH=function(){var a=this,b=this.Ml,c=Yo();this.mg.Dg().forEach(function(a){Wo(c,a)});this.O.forEach(function(b){b.di().Dg().forEach(function(b){Vo(a.Tu,b)||Wo(c,b)})});for(var b=b.Dg(),d=c.Dg(),e=b.length-1,g=d.length-1;0<=e;)0>g||b[e].qa()!==d[g].qa()?this.trigger("paletteEntry:remove",b[e]):g--,e--;for(;0<=g;)this.trigger("paletteEntry:add",d[g]),g--;this.trigger("paletteEntry:sync");this.Ml=c};
f.HB=function(){var a=[];this.O.forEach(function(b){b.ia().forEach(function(b){(b instanceof Kp||b instanceof ap)&&b.iv().forEach(function(b){-1==a.indexOf(b)&&a.push(b)})})});this.fonts=a};function Zn(a,b){if(on(b)){var c=Tn(a.Ml);0<c.length&&c[0]===b.qa()||(ao(a,b),Xo(a.Tu,b),a.mg.unshift(b),a.Ml.unshift(b),a.trigger("paletteEntry:add",b),a.trigger("paletteEntry:sync"))}}
function ao(a,b){on(b)&&Vo(a.Ml,b)&&(Wo(a.Tu,b),Xo(a.mg,b),Xo(a.Ml,b),a.trigger("paletteEntry:remove",b),a.trigger("paletteEntry:sync"))}function Lp(a){return Tn(a.mg).concat(a.Tu.Dg().map(function(a){return"!"+a.qa()}))}
f.serialize=function(){var a;a=this.O.reduce(function(a,c){c.Fh||a.push(c.serialize());return a},[]);a={canvaDefaultFonts:this.zr,defaultFonts:this.DI,layout:this.kb().u(),doctype:this.Xk?Mp(this.Xk):null,pages:a,palette:Lp(this),title:this.title.rl()};this.vd&&0<this.vd.length&&(a.keywords=this.vd);return a};f.pb=function(){return this.title};f.Pj=function(){return this.vd};function Np(a,b){a.vd=b;""!==a.vd.join("")&&(a.trigger("change:keywords",a),a.trigger("change",a))}f.eg=function(){return this.locale};
f.setLocale=function(a){var b=this.locale;this.locale=a;this.locale!==b&&(this.trigger("change:locale",this),this.trigger("change",this))};function Op(a){return Rg(a.uc.sb).o()||(a.TZ[0]||{}).height||0}function Pp(a){return Rg(a.uc.sb).l()||(a.TZ[0]||{}).width||0}f.Sj=function(){return this.uc.sb.Sj()};f.Da=function(){for(var a=0;a<this.O.length;a++)if(this.O[a].Hf())return this.O[a];return this.O[0]};function Qp(a){var b=a.Da();return cp(a,b)}f.Fb=function(){return this.O};f.jc=function(){return this.O.length};
function Rp(a){return a.O.filter(function(a){return!a.Fh})}function Ip(a,b){b=Math.min(Math.max(0,b),a.O.length-1);b=a.O[b];var c=b.Hf();b.wk(!0);var d=b.Hf();c!==d&&a.trigger("page:change:selected",a,b)}function cp(a,b){return b?a.O.indexOf(b):-1}
function Sp(a){var b=new Hp(a,a.Hg());if(0<a.O.length){var c=Tp(a.O[a.O.length-1]);0<c.length&&(c=c[c.length-1].clone(),c.appendTo(b),c.Gb()&&Up(c))}a.O.push(b);a.trigger("page:add",a,b);b.ia().forEach(function(a){b.trigger("element:add",b,a)});return b}
function Vp(a,b,c,d){var e=a.O.indexOf(b),g=!0;!1===d&&(g=!1);Wp(b,a);-1==e?(a.O.splice(c,0,b),a.trigger("page:add",a,b,c,g)):(a.O.splice(c,0,a.O.splice(e,1)[0]),a.trigger("page:move",a,b,e,c));-1==e&&b.ia().forEach(function(a){b.trigger("element:add",b,a)})}function Xp(a,b){var c=Qp(a),d=a.O.indexOf(b);-1<d&&(a.O.splice(d,1),b.remove(),c>d&&c--,Ip(a,Math.max(0,Math.min(a.O.length-1,c))),a.trigger("page:remove",a,b,d))}
f.Wa=function(){var a=[],b=this.O.map(function(a){return a.Wa()});return a.concat.apply(a,b)};function Yp(){return K.O.some(function(a){return 0<a.Wa().length})}f.ia=function(){var a=[],b=this.O.map(function(a){return a.ia()});return a.concat.apply(a,b)};function Zp(a){a=a.ia();var b=a.filter(function(a){return a.Xj()});a.filter(function(a){return a.Iv()}).forEach(function(a){a.Tz().forEach(function(a){b.push(a)})});return b}
function $p(a){var b={};Zp(a).filter(function(a){return a.Nb()}).map(function(a){return a.Nb()}).forEach(function(a){aq(yb,a)&&(b[a.u()]=a)});return _.values(b)}function bq(a){return Zp(a).some(function(a){return(a=a.Nb())&&!aq(yb,a)?!0:!1})}f.cs=function(a){return $.extend(!0,{},this.zr[a],this.DI[a])};
function Gp(a,b){b=$.extend(!0,{},b);(function(a){var b=[];(a.pages||[]).forEach(function(a){(a.elements||[]).forEach(function(a){"text"===a.type?b.push(a):"svg"===a.type&&a.contents&&a.contents.forEach(function(a){"text"===a.type&&b.push(a)})})});return b})(b).forEach(function(b){var d=Object.keys(ec).map(function(a){return ec[a]}),e=b.style;-1<d.indexOf(e)&&(d=a.cs(e),void 0===b.fontFamily&&(b.fontFamily=d.fontFamily),void 0===b.fontSize&&(b.fontSize=d.fontSize))});return b}
function cq(a){function b(a,h){if(Array.isArray(h))h.forEach(function(e){d=d&&c(a,e);"object"==typeof e&&b(a,e)});else for(var k in h)if(h.hasOwnProperty(k)){var l=h[k];"invalid"===k&&l?(e="Invalid "+(h.type||a),d=!1):"childRange"!==k||dq(l)||(e="Invalid group childRange",d=!1);d=d&&c(k,l);"object"==typeof l&&b(k,l)}}function c(a,b){return"number"===typeof b&&isNaN(b)?(e="Invalid value NaN for "+a,!1):!0}var d=!0,e="";b("document",a);return{result:d,description:e}}
function dq(a){return!!(a&&2===a.length&&0<a[0]&&a[1]>=a[0])}f.isEmpty=function(){return 0<this.ia().length?this.ia().every(function(a){return a.Fh}):!0};f.I3=function(){this.trigger("change:title",this);this.trigger("change",this)};f.resize=function(a,b){this.uc=a;this.Xk=b;this.O.forEach(function(b){b.resize(a)});this.trigger("resize");this.trigger("change")};f.lR=function(a,b,c){this.uc=b;this.Xk=c;this.O.forEach(function(b,c){b.lR(a.pages[c])});this.trigger("resize");this.trigger("change")};
function eq(){return K.O.some(function(a){return a.Hv()})};function fq(){Error.captureStackTrace&&Error.captureStackTrace(this,fq)}fq.prototype=Object.create(Error.prototype);function gq(){fq.call(this)}gq.prototype=Object.create(fq.prototype);function hq(){fq.call(this)}hq.prototype=Object.create(fq.prototype);function iq(){fq.call(this)}iq.prototype=Object.create(fq.prototype);function jq(a,b,c){this.N=a;this.QK=b;this.h9=c;this.path="/documents"}function kq(a){var b=Ib,c;a:switch(c=Jb.QK(),c){case "NONE":c="NONE";break a;case "LOG":c="LOG";break a;case "THROW":c="THROW";break a;default:throw Error("unknown DocumentDeserializationMode: "+c);}return new jq(b,c,a)}f=jq.prototype;f.duplicate=function(a){return qj(this.N,this.path+"?duplicate\x3d"+encodeURIComponent(a.id),lq(a)).get(0).tap(mq(this,"CreateDocumentResponseProto (duplicate)",nq)).then(oq)};
f.delete=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?delete",null).return()};f.move=function(a,b,c){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?move",{owner:{user:b,brand:c}}).get(0).get("doc")};f.bt=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?publicify",null).return()};f.Vx=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?unpublicify",null).return()};
f.GJ=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?brandPublicify",null).return()};f.HJ=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?brandUnpublicify",null).return()};f.JC=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?templatify",null).return()};f.TC=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?untemplatify",null).return()};
f.getDocument=function(a){a=[this.path,null!=a.$f?"/"+encodeURIComponent(a.$f):"","?includePages\x3d"+encodeURIComponent(String(!!a.tA))].join("");return sj(this.N,a).get(0).tap(mq(this,"GetDocumentResponseProto",pq)).then(qq)};
function rq(a,b){b=[a.path+"?",null!=b.Y?"\x26continuation\x3d"+encodeURIComponent(b.Y):"",null!=b.ka?"\x26designType\x3d"+encodeURIComponent(b.ka):"",b.Vr?"\x26excludeApiDocuments":"",b.yL?"\x26excludeEmpty":"",0<b.tl.length?"\x26ids\x3d"+encodeURIComponent(b.tl.join(",")):"",null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit.toString()):"",null!=b.nd?"\x26brand\x3d"+encodeURIComponent(b.nd.D):"",null!=b.nd&&null!=b.nd.user?"\x26user\x3d"+encodeURIComponent(b.nd.user):"",0<b.rH.length?"\x26principalRoles\x3d"+
encodeURIComponent(b.rH.join(",")):"",b.oY?"\x26public":"",0<b.XR.length?"\x26withoutTags\x3d"+encodeURIComponent(b.XR.join(",")):""].join("").replace("?\x26","?");return sj(a.N,b).get(0).tap(mq(a,"FindDocumentsResponseProto",sq)).then(function(a){return{documents:a.documents.map(tq),continuation:a.continuation}})}function uq(a,b){return sj(a.N,a.path+"/"+encodeURIComponent(b)+"/acl").get(0).then(vq)}
function wq(a,b){return qj(a.N,a.path+"/"+encodeURIComponent(b.document)+"/acl",xq(b)).get(0).then(yq)}f.search=function(a){return sj(this.N,this.path+"/search?query\x3d"+encodeURIComponent(a.query)).get(0).tap(mq(this,"SearchDocumentsResponseProto",zq)).then(Aq)};function Bq(a,b){return qj(a.N,a.path+"/"+encodeURIComponent(b.$f)+"/imagesets?generate",Cq(b)).then(Dq)}function Eq(a){var b=Ab;return sj(b.N,b.path+"/"+encodeURIComponent(a)+"/media").get(0).then(Fq)}
function mq(a,b,c){return function(d){try{c(La(d))}catch(e){switch(a.QK){case "THROW":throw e;case "LOG":a.h9.log("Failed deserialization of "+b,{error:e})}}}};function Gq(){this.remix=this.edit=this.view=this["default"]=null}Gq.prototype.eV=function(){return this["default"]};Gq.prototype.sl=function(){return this.view};Gq.prototype.gV=function(){return this.edit};function Hq(a){var b=new Gq;a&&$.extend(b,a);return b}function Iq(a){this.width=a.width;this.height=a.height;this.url=a.url}function Jq(){}function oq(a){return Object.freeze(Df(Jq,a))}Jq.prototype.getDocument=function(){return tq(this.document)};Jq.prototype.getSession=function(){return this.session};
function Kq(){}function qq(a){return Object.freeze(Df(Kq,a))}Kq.prototype.getDocument=function(){return tq(this.document)};function Lq(){}Lq.prototype.o=function(){return this.height};Lq.prototype.kM=function(){return this.images};Lq.prototype.getVersion=function(){return this.version};Lq.prototype.l=function(){return this.width};function Mq(a){if(!a)return null;a=$.extend(new Lq,a);if(a.images){var b;b=(b=a.images)?b.map(Nq):null;a.images=b}return a}function Oq(){}Oq.prototype.R=function(){return this.page};
Oq.prototype.na=function(){return this.url};Oq.prototype.getKey=function(){return this.key};function Nq(a){return a?$.extend(new Oq,a):null}function Pq(){}Pq.prototype.u=function(){return this.id};Pq.prototype.getVersion=function(){return this.version};Pq.prototype.kM=function(){return this.images};function Qq(a){a=Df(Pq,a);var b=a.images;if(b)for(var c in b)b[c]=Rq(b[c]);return a}function Fq(a){return a.map(Qq)}function Sq(){}function Aq(a){return Object.freeze(Df(Sq,a))}
Sq.prototype.Yz=function(){return this.results?this.results.map(Tq):[]};function Vq(){}function Tq(a){return Object.freeze(Df(Vq,a))}Vq.prototype.pb=function(){return this.title};Vq.prototype.u=function(){return this.id};Vq.prototype.re=function(){var a=this.thumbnail;return new Iq({width:B("width",a),height:B("height",a),url:C("url",a)})};function Wq(a){switch(a){case Xq:return Yq;case Zq:return $q;case ar:return br;case cr:return dr;case er:return fr;default:throw Error();}}
function gr(a){switch(a){case Yq:return Xq;case $q:return Zq;case br:return ar;case dr:return cr;case fr:return er;default:throw Error();}}function hr(a,b,c){return new ir({nd:new jr({user:a,D:b}),UP:new kr({nB:lr,xd:Wq(c)}),origin:new mr({type:nr})})}function or(){}f=or.prototype;f.hv=function(){return this.extensions};f.u=function(){return this.id};f.He=function(){return this.draft};f.Qp=function(){return this.tags};
function pr(a,b){if((a=a.draft)&&a.imageSets&&a.imageSets.thumbnail){a=a.imageSets.thumbnail.images;for(var c=0;c<a.length;c++)if(a[c].page==b+1)return a[c].url}return null}f.pb=function(){try{return this.draft.content.title.trim()||null}catch(a){return null}};f.getVersion=function(){var a=this.draft;return a?a.version:-1};var Xq="NONE",er="EDITOR",Zq="OWNER",cr="REMIXER",ar="VIEWER";
function zk(a,b){switch(b){case "NONE":return Xq;case "EDITOR":return er;case "OWNER":return Zq;case "REMIXER":return cr;case "VIEWER":return ar;default:throw Error('unexpected accessRole type for property "'+a+'": '+b);}}var qr={NONE:0,VIEWER:1,REMIXER:2,EDITOR:3,OWNER:4};function tq(a){var b=new or;$.extend(b,a);b.extensions=Hq(a.extensions);return b};function rr(a,b){switch(b){case "MINIMIZE_HEIGHT":return"MINIMIZE_HEIGHT";case "MAXIMIZE_FONT_SIZE":return"MAXIMIZE_FONT_SIZE";default:throw new TypeError('expected ReflowMode for property "'+a+'", found: '+JSON.stringify(b));}}function sr(a,b){switch(b){case "rows":return"COLUMN";case "columns":return"ROW";case "item":return"ITEM";default:throw new TypeError('expected GridStructureType for property "'+a+'", found: '+JSON.stringify(b));}}
function ur(a,b){switch(b){case "NON_ZERO":return"NON_ZERO";case "EVEN_ODD":return"EVEN_ODD";default:throw new TypeError('expected ShapeElementPathFillRule for property "'+a+'", found: '+JSON.stringify(b));}}function vr(a,b){switch(b){case "CHART":return"CHART";default:throw new TypeError('expected GroupGeneratorType for property "'+a+'", found: '+JSON.stringify(b));}}
function wr(a,b){switch(b){case "BAR":return"BAR";case "PIE":return"PIE";case "LINE":return"LINE";case "DONUT":return"DONUT";default:throw new TypeError('expected ChartType for property "'+a+'", found: '+JSON.stringify(b));}}function xr(a,b){switch(b){case "INTERPOLATE":return"INTERPOLATE";case "PALETTE":return"PALETTE";default:throw new TypeError('expected ColoringType for property "'+a+'", found: '+JSON.stringify(b));}}
function yr(a,b){switch(b){case "RGB":return"RGB";case "HSV":return"HSV";case "HSL":return"HSL";case "LAB":return"LAB";case "HCL":return"HCL";default:throw new TypeError('expected ColorSpace for property "'+a+'", found: '+JSON.stringify(b));}}function zr(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.Je=a.Je;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.color=a.color;this.list=a.list}f=zr.prototype;f.Jc=function(){return this.fontSize};
f.mv=function(){return this.Je};f.hs=function(){return this.letterSpacing};f.ml=function(){return this.lineHeight};f.Jb=function(){return this.color};f.DF=function(){return this.list};function Ar(a){return new zr({fontFamily:D("fontFamily",a),fontSize:B("fontSize",a),bold:Na("bold",a),italic:Na("italic",a),Je:D("justification",a),letterSpacing:B("letterSpacing",a),lineHeight:B("lineHeight",a),color:D("color",a),list:Na("list",a)})}function Br(a){this.title=a.title;this.qg=a.qg;this.body=a.body}
Br.prototype.pb=function(){return this.title};function Cr(a){return new Br({title:F(Ar,"title",a),qg:F(Ar,"subtitle",a),body:F(Ar,"body",a)})}function Dr(a){this.ka=a.ka;this.title=a.title;this.description=a.description;this.vd=a.vd||[];this.zr=a.zr;this.XT=a.XT;this.O=a.O||[];this.doctype=a.doctype;this.mg=a.mg||[]}f=Dr.prototype;f.pb=function(){return this.title};f.Ge=function(){return this.description};f.Pj=function(){return this.vd};f.Fb=function(){return this.O};f.di=function(){return this.mg};
function Er(a){return new Dr({ka:C("layout",a),title:D("title",a),description:D("description",a),vd:Ha.de("keywords",a),zr:F(Cr,"canvaDefaultFonts",a),XT:F(Cr,"defaultFonts",a),O:G(Fr,"pages",a),doctype:Oa(Ep,"doctype",a),mg:Ha.de("palette",a)})}function Gr(a){this.height=a.height;this.width=a.width;this.Sc=a.Sc;this.elements=a.elements||[];this.type=a.type;this.ka=a.ka;this.pi=a.pi}f=Gr.prototype;f.o=function(){return this.height};f.l=function(){return this.width};f.ia=function(){return this.elements};
f.lc=function(){return this.type};f.ns=function(){return this.pi};function Fr(a){return new Gr({height:A("height",a),width:A("width",a),Sc:B("dpi",a),elements:G(Hr,"elements",a),type:D("type",a),ka:F(Xm,"layout",a),pi:F(Ir,"resizeContentBox",a)})}function Jr(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.Fa=a.Fa;this.rotation=a.rotation;this.link=a.link;this.Rc=a.Rc;this.index=a.index;this.Fd=a.Fd;this.Md=a.Md;this.origin=a.origin}f=Jr.prototype;
f.w=function(){return this.top};f.F=function(){return this.left};f.o=function(){return this.height};f.l=function(){return this.width};f.MF=function(){return this.Fa};f.Ta=function(){return this.rotation};f.bn=function(){return this.link};f.K=function(){return this.index};f.Cf=function(){return this.origin};
function Hr(a){switch(a.type){case "image":return w("image"===a.type),new Kr({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Fa:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Rc:Ma("userEdited",a),index:B("index",a),Fd:B("elementIndex",a),Md:B("groupIndex",a),origin:F(Lr,"origin",a),xa:B("flipOrientation",a),filter:F(Mr,"filter",a),ba:D("mediaId",a),ca:B("mediaVersion",a),hb:Na("mediaApproved",a),Gb:Na("isBackground",a),oc:Na("isRecolorable",a),Zd:Na("isCutout",
a),Gf:Na("isDark",a),backgroundColor:D("backgroundColor",a),Ba:F(Ir,"imageBox",a),Uc:G(Nr,"fillColors",a)});case "text":return w("text"===a.type),new Or({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Fa:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Rc:Ma("userEdited",a),index:B("index",a),Fd:B("elementIndex",a),Md:B("groupIndex",a),origin:F(Lr,"origin",a),xa:B("flipOrientation",a),style:D("style",a),html:D("html",a),fontFamily:D("fontFamily",a),fontSize:B("fontSize",
a),color:D("color",a),bold:Na("bold",a),italic:Na("italic",a),list:Na("list",a),hl:F(Xm,"fontMedia",a),rn:G(Xm,"htmlFontMedia",a),Je:D("justification",a),ke:D("verticalAlignment",a),letterSpacing:B("letterSpacing",a),lineHeight:B("lineHeight",a),xl:Ja.de("lineLengths",a),padding:B("padding",a),textTransform:D("textTransform",a),border:F(Pr,"border",a),kG:G(Qr,"kerning",a),EH:Qa(rr,"reflowMode",a),Ch:F(Rr,"stylesOverriden",a)});case "svg":return w("svg"===a.type),new Sr({top:A("top",a),left:A("left",
a),height:A("height",a),width:A("width",a),Fa:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Rc:Ma("userEdited",a),index:B("index",a),Fd:B("elementIndex",a),Md:B("groupIndex",a),origin:F(Lr,"origin",a),xa:B("flipOrientation",a),ba:D("mediaId",a),ca:B("mediaVersion",a),hb:Na("mediaApproved",a),Gb:Na("isBackground",a),oc:Na("isRecolorable",a),Zd:Na("isCutout",a),contents:G(Tr,"contents",a),scale:B("scale",a),Uc:G(Nr,"fillColors",a),Bi:F(Ur,"svgMetadata",a)});case "graphic":return w("graphic"===
a.type),new Vr({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Fa:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Rc:Ma("userEdited",a),index:B("index",a),Fd:B("elementIndex",a),Md:B("groupIndex",a),origin:F(Lr,"origin",a),xa:B("flipOrientation",a),ba:D("mediaId",a),ca:B("mediaVersion",a),hb:Na("mediaApproved",a),scale:B("scale",a),Uc:G(Nr,"fillColors",a),Qg:F(Wr,"spritesheetMetadata",a)});case "grid":return w("grid"===a.type),new Xr({top:A("top",a),left:A("left",
a),height:A("height",a),width:A("width",a),Fa:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Rc:Ma("userEdited",a),index:B("index",a),Fd:B("elementIndex",a),Md:B("groupIndex",a),origin:F(Lr,"origin",a),xa:B("flipOrientation",a),spacing:B("spacing",a),items:G(Yr,"items",a),contents:G(Zr,"contents",a),Uc:G(Nr,"fillColors",a)});case "group":return w("group"===a.type),new $r({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Fa:B("transparency",a),rotation:B("rotation",
a),link:D("link",a),Rc:Ma("userEdited",a),index:B("index",a),Fd:B("elementIndex",a),Md:B("groupIndex",a),origin:F(Lr,"origin",a),RD:Ja.de("childRange",a),wF:Qa(vr,"generatorType",a),xb:F(as,"chart",a)});case "shape":return w("shape"===a.type),new bs({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Fa:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Rc:Ma("userEdited",a),index:B("index",a),Fd:B("elementIndex",a),Md:B("groupIndex",a),origin:F(Lr,"origin",a),xa:B("flipOrientation",
a),viewBox:F(Ir,"viewBox",a),mj:G(cs,"paths",a)});default:throw Error("unknown case: "+a.type);}}
function Kr(a){Jr.call(this,{type:"IMAGE",top:a.top,left:a.left,height:a.height,width:a.width,Fa:a.Fa,rotation:a.rotation,link:a.link,Rc:a.Rc,index:a.index,Fd:a.Fd,Md:a.Md,origin:a.origin,xa:a.xa,filter:a.filter,ba:a.ba,ca:a.ca,hb:a.hb,Gb:a.Gb,oc:a.oc,Zd:a.Zd,Gf:a.Gf,backgroundColor:a.backgroundColor,Ba:a.Ba,Uc:a.Uc});this.xa=a.xa;this.filter=a.filter;this.ba=a.ba;this.ca=a.ca;this.hb=a.hb;this.Gb=a.Gb;this.oc=a.oc;this.Zd=a.Zd;this.Gf=a.Gf;this.backgroundColor=a.backgroundColor;this.Ba=a.Ba;this.Uc=
a.Uc||[]}r(Kr,Jr);f=Kr.prototype;f.jM=function(){return this.filter};f.Ip=function(){return this.ba};f.ks=function(){return this.ca};f.lM=function(){return this.Gf};f.jh=function(){return this.backgroundColor};f.an=function(){return this.Ba};
function Or(a){Jr.call(this,{type:"TEXT",top:a.top,left:a.left,height:a.height,width:a.width,Fa:a.Fa,rotation:a.rotation,link:a.link,Rc:a.Rc,index:a.index,Fd:a.Fd,Md:a.Md,origin:a.origin,xa:a.xa,style:a.style,html:a.html,fontFamily:a.fontFamily,fontSize:a.fontSize,color:a.color,bold:a.bold,italic:a.italic,list:a.list,hl:a.hl,rn:a.rn,Je:a.Je,ke:a.ke,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,xl:a.xl,padding:a.padding,textTransform:a.textTransform,border:a.border,kG:a.kG,EH:a.EH,Ch:a.Ch});
this.xa=a.xa;this.style=a.style;this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.italic=a.italic;this.list=a.list;this.hl=a.hl;this.rn=a.rn||[];this.Je=a.Je;this.ke=a.ke;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.xl=a.xl||[];this.padding=a.padding;this.textTransform=a.textTransform;this.border=a.border;this.kG=a.kG||[];this.EH=a.EH;this.Ch=a.Ch}r(Or,Jr);f=Or.prototype;f.Jc=function(){return this.fontSize};
f.Jb=function(){return this.color};f.DF=function(){return this.list};f.mv=function(){return this.Je};f.rs=function(){return this.ke};f.hs=function(){return this.letterSpacing};f.ml=function(){return this.lineHeight};f.ls=function(){return this.padding};
function Sr(a){Jr.call(this,{type:"SVG",top:a.top,left:a.left,height:a.height,width:a.width,Fa:a.Fa,rotation:a.rotation,link:a.link,Rc:a.Rc,index:a.index,Fd:a.Fd,Md:a.Md,origin:a.origin,xa:a.xa,ba:a.ba,ca:a.ca,hb:a.hb,Gb:a.Gb,oc:a.oc,Zd:a.Zd,contents:a.contents,scale:a.scale,Uc:a.Uc,Bi:a.Bi});this.xa=a.xa;this.ba=a.ba;this.ca=a.ca;this.hb=a.hb;this.Gb=a.Gb;this.oc=a.oc;this.Zd=a.Zd;this.contents=a.contents||[];this.scale=a.scale;this.Uc=a.Uc||[];this.Bi=a.Bi}r(Sr,Jr);Sr.prototype.Ip=function(){return this.ba};
Sr.prototype.ks=function(){return this.ca};function Vr(a){Jr.call(this,{type:"GRAPHIC",top:a.top,left:a.left,height:a.height,width:a.width,Fa:a.Fa,rotation:a.rotation,link:a.link,Rc:a.Rc,index:a.index,Fd:a.Fd,Md:a.Md,origin:a.origin,xa:a.xa,ba:a.ba,ca:a.ca,hb:a.hb,scale:a.scale,Uc:a.Uc,Qg:a.Qg});this.xa=a.xa;this.ba=a.ba;this.ca=a.ca;this.hb=a.hb;this.scale=a.scale;this.Uc=a.Uc||[];this.Qg=a.Qg}r(Vr,Jr);Vr.prototype.Ip=function(){return this.ba};Vr.prototype.ks=function(){return this.ca};
Vr.prototype.ps=function(){return this.Qg};function Xr(a){Jr.call(this,{type:"GRID",top:a.top,left:a.left,height:a.height,width:a.width,Fa:a.Fa,rotation:a.rotation,link:a.link,Rc:a.Rc,index:a.index,Fd:a.Fd,Md:a.Md,origin:a.origin,xa:a.xa,spacing:a.spacing,items:a.items,contents:a.contents,Uc:a.Uc});this.xa=a.xa;this.spacing=a.spacing;this.items=a.items||[];this.contents=a.contents||[];this.Uc=a.Uc||[]}r(Xr,Jr);Xr.prototype.pe=function(){return this.spacing};Xr.prototype.Bf=function(){return this.items};
function $r(a){Jr.call(this,{type:"GROUP",top:a.top,left:a.left,height:a.height,width:a.width,Fa:a.Fa,rotation:a.rotation,link:a.link,Rc:a.Rc,index:a.index,Fd:a.Fd,Md:a.Md,origin:a.origin,RD:a.RD,wF:a.wF,xb:a.xb});this.RD=a.RD||[];this.wF=a.wF;this.xb=a.xb}r($r,Jr);
function bs(a){Jr.call(this,{type:"SHAPE",top:a.top,left:a.left,height:a.height,width:a.width,Fa:a.Fa,rotation:a.rotation,link:a.link,Rc:a.Rc,index:a.index,Fd:a.Fd,Md:a.Md,origin:a.origin,xa:a.xa,viewBox:a.viewBox,mj:a.mj});this.xa=a.xa;this.viewBox=a.viewBox;this.mj=a.mj||[]}r(bs,Jr);function ds(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.Je=a.Je;this.color=a.color}ds.prototype.Jc=function(){return this.fontSize};ds.prototype.mv=function(){return this.Je};
ds.prototype.Jb=function(){return this.color};function Rr(a){return new ds({fontFamily:Na("fontFamily",a),fontSize:Na("fontSize",a),bold:Na("bold",a),italic:Na("italic",a),Je:Na("justification",a),color:Na("color",a)})}function es(a){this.type=a.type;this.index=a.index;this.origin=a.origin}es.prototype.K=function(){return this.index};es.prototype.Cf=function(){return this.origin};
function Tr(a){switch(a.type){case "text":return w("text"===a.type),new fs({index:A("index",a),origin:F(Lr,"origin",a),html:C("html",a),left:A("left",a),top:A("top",a),width:A("width",a),height:A("height",a),fontFamily:D("fontFamily",a),fontSize:B("fontSize",a),italic:Na("italic",a),bold:Na("bold",a),Je:D("justification",a),list:Na("list",a),textTransform:D("textTransform",a),color:D("color",a),xl:Ja.de("lineLengths",a),letterSpacing:B("letterSpacing",a),lineHeight:A("lineHeight",a),hl:F(Xm,"fontMedia",
a),rn:G(Xm,"htmlFontMedia",a),ao:B("preferredFontSize",a)});case "image":return Zr(a);default:throw Error("unknown case: "+a.type);}}
function fs(a){es.call(this,{type:"TEXT",index:a.index,origin:a.origin,html:a.html,left:a.left,top:a.top,width:a.width,height:a.height,fontFamily:a.fontFamily,fontSize:a.fontSize,italic:a.italic,bold:a.bold,Je:a.Je,list:a.list,textTransform:a.textTransform,color:a.color,xl:a.xl,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,hl:a.hl,rn:a.rn,ao:a.ao});this.html=a.html;this.left=a.left;this.top=a.top;this.width=a.width;this.height=a.height;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;
this.italic=a.italic;this.bold=a.bold;this.Je=a.Je;this.list=a.list;this.textTransform=a.textTransform;this.color=a.color;this.xl=a.xl||[];this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.hl=a.hl;this.rn=a.rn||[];this.ao=a.ao}r(fs,es);f=fs.prototype;f.F=function(){return this.left};f.w=function(){return this.top};f.l=function(){return this.width};f.o=function(){return this.height};f.Jc=function(){return this.fontSize};f.mv=function(){return this.Je};f.DF=function(){return this.list};
f.Jb=function(){return this.color};f.hs=function(){return this.letterSpacing};f.ml=function(){return this.lineHeight};function gs(a){es.call(this,{type:"IMAGE",index:a.index,origin:a.origin,ba:a.ba,tG:a.tG,ca:a.ca,Ba:a.Ba,xa:a.xa,backgroundColor:a.backgroundColor,hb:a.hb,filter:a.filter});this.ba=a.ba;this.tG=a.tG;this.ca=a.ca;this.Ba=a.Ba;this.xa=a.xa;this.backgroundColor=a.backgroundColor;this.hb=a.hb;this.filter=a.filter}r(gs,es);f=gs.prototype;f.Ip=function(){return this.ba};f.ks=function(){return this.ca};
f.an=function(){return this.Ba};f.jh=function(){return this.backgroundColor};f.jM=function(){return this.filter};function Zr(a){w("image"===a.type);return new gs({index:A("index",a),origin:F(Lr,"origin",a),ba:D("mediaId",a),tG:D("localMediaId",a),ca:B("mediaVersion",a),Ba:F(Ir,"imageBox",a),xa:A("flipOrientation",a),backgroundColor:D("backgroundColor",a),hb:Na("mediaApproved",a),filter:F(Mr,"filter",a)})}function hs(a){this.width=a.width}hs.prototype.l=function(){return this.width};
function Pr(a){return new hs({width:A("width",a)})}function is(a){this.GX=a.GX;this.cu=a.cu}function Qr(a){return new is({GX:C("pair",a),cu:A("adjustment",a)})}function js(a){this.type=a.type;this.width=a.width;this.height=a.height;this.children=a.children||[]}js.prototype.lc=function(){return this.type};js.prototype.l=function(){return this.width};js.prototype.o=function(){return this.height};js.prototype.getChildren=function(){return this.children};
function Yr(a){return new js({type:Qa(sr,"type",a),width:B("width",a),height:B("height",a),children:G(Yr,"children",a)})}function ks(a){this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height}ks.prototype.w=function(){return this.top};ks.prototype.F=function(){return this.left};ks.prototype.l=function(){return this.width};ks.prototype.o=function(){return this.height};function Ir(a){return new ks({top:A("top",a),left:A("left",a),width:A("width",a),height:A("height",a)})}
function ls(a){this.index=a.index;this.color=a.color}ls.prototype.K=function(){return this.index};ls.prototype.Jb=function(){return this.color};function Nr(a){return new ls({index:A("index",a),color:C("color",a)})}function ms(a){this.viewBox=a.viewBox;this.VZ=a.VZ||[];this.RX=a.RX||[];this.rT=a.rT;this.ZZ=a.ZZ}function Ur(a){return new ms({viewBox:Oa(Ir,"viewBox",a),VZ:G(Ir,"textHolderBoxes",a),RX:G(Ir,"photoHolderBoxes",a),rT:F(Ir,"centerBox",a),ZZ:Na("tile",a)})}
function ns(a){this.blur=a.blur;this.brightness=a.brightness;this.contrast=a.contrast;this.saturation=a.saturation;this.rf=a.rf;this.vignette=a.vignette;this.Yf=a.Yf;this.Eh=a.Eh;this.name=a.name}ns.prototype.gv=function(){return this.brightness};ns.prototype.lV=function(){return this.saturation};ns.prototype.getName=function(){return this.name};
function Mr(a){return new ns({blur:B("blur",a),brightness:B("brightness",a),contrast:B("contrast",a),saturation:B("saturation",a),rf:B("tint",a),vignette:B("vignette",a),Yf:B("xpro",a),Eh:B("tintAmount",a),name:D("name",a)})}function os(a){this.fill=a.fill;this.gl=a.gl;this.d=a.d}function cs(a){return new os({fill:C("fill",a),gl:Qa(ur,"fillRule",a),d:C("d",a)})}function ps(a){this.name=a.name;this.cells=a.cells||[]}ps.prototype.getName=function(){return this.name};
function qs(a){return new ps({name:D("name",a),cells:Ha.de("cells",a)})}function rs(a){this.ra=a.ra||[]}function ss(a){return new rs({ra:G(qs,"columns",a)})}function ts(a){this.data=a.data;this.iW=a.iW;this.Wc=a.Wc;this.HA=a.HA;this.CT=a.CT;this.vs=a.vs;this.mg=a.mg;this.Ti=a.Ti;this.UX=a.UX;this.ZS=a.ZS;this.wW=a.wW;this.mU=a.mU}ts.prototype.getData=function(){return this.data};ts.prototype.gs=function(){return this.Wc};ts.prototype.mM=function(){return this.HA};ts.prototype.di=function(){return this.mg};
function as(a){return new ts({data:Oa(ss,"data",a),iW:B("labelColumn",a),Wc:Oa(Ar,"labelTextStyle",a),HA:F(Xm,"labelFontMedia",a),CT:Pa(xr,"coloringType",a),vs:F(us,"interpolation",a),mg:F(vs,"palette",a),Ti:Pa(wr,"chartType",a),UX:F(ws,"pie",a),ZS:F(xs,"bar",a),wW:F(ys,"line",a),mU:F(zs,"donut",a)})}function As(a){this.spacing=a.spacing;this.padding=a.padding}As.prototype.pe=function(){return this.spacing};As.prototype.ls=function(){return this.padding};
function ws(a){return new As({spacing:B("spacing",a),padding:B("padding",a)})}function Bs(a){this.spacing=a.spacing;this.padding=a.padding}Bs.prototype.pe=function(){return this.spacing};Bs.prototype.ls=function(){return this.padding};function xs(a){return new Bs({spacing:B("spacing",a),padding:B("padding",a)})}function Cs(a){this.spacing=a.spacing;this.padding=a.padding}Cs.prototype.pe=function(){return this.spacing};Cs.prototype.ls=function(){return this.padding};
function ys(a){return new Cs({spacing:B("spacing",a),padding:B("padding",a)})}function Ds(a){this.spacing=a.spacing;this.padding=a.padding}Ds.prototype.pe=function(){return this.spacing};Ds.prototype.ls=function(){return this.padding};function zs(a){return new Ds({spacing:B("spacing",a),padding:B("padding",a)})}function Es(a){this.BT=a.BT;this.from=a.from;this.to=a.to}Es.prototype.$m=function(){return this.from};
function us(a){return new Es({BT:Pa(yr,"colorSpace",a),from:C("from",a),to:C("to",a)})}function Fs(a){this.dd=a.dd||[]}Fs.prototype.Dg=function(){return this.dd};function vs(a){return new Fs({dd:Ha.de("colors",a)})}function Gs(a){this.type=a.type}
function Lr(a){switch(a.type){case "CANVA":return w("CANVA"===a.type),new Hs;case "FACEBOOK":return w("FACEBOOK"===a.type),new Is;case "LAYOUT":return w("LAYOUT"===a.type),new Js({id:C("id",a),version:A("version",a)});case "DOCUMENT":return w("DOCUMENT"===a.type),new Ks({id:C("id",a),version:A("version",a)});default:throw Error("unknown case: "+a.type);}}function Hs(){this.type="CANVA"}r(Hs,Gs);function Is(){this.type="FACEBOOK"}r(Is,Gs);
function Js(a){this.type="LAYOUT";this.id=a.id;this.version=a.version}r(Js,Gs);Js.prototype.u=function(){return this.id};Js.prototype.getVersion=function(){return this.version};function Ks(a){this.type="DOCUMENT";this.id=a.id;this.version=a.version}r(Ks,Gs);Ks.prototype.u=function(){return this.id};Ks.prototype.getVersion=function(){return this.version};function Ls(a,b){switch(b){case "USER":return"USER";case "BRAND":return"BRAND";case "EXTENSION":return"EXTENSION";case "DEFAULT":return"DEFAULT";default:throw new TypeError('expected AccessControlListActorType for property "'+a+'", found: '+JSON.stringify(b));}}var Yq="NONE",br="VIEWER",dr="REMIXER",fr="EDITOR",$q="OWNER";
function Ms(a,b){switch(b){case Yq:return"NONE";case br:return"VIEWER";case dr:return"REMIXER";case fr:return"EDITOR";case $q:return"OWNER";default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}
function Ns(a,b){switch(b){case "NONE":return Yq;case "VIEWER":return br;case "REMIXER":return dr;case "EDITOR":return fr;case "OWNER":return $q;default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}var nr="MANUAL";function Os(a,b){switch(b){case nr:return"MANUAL";case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function Ps(a,b){switch(b){case "MANUAL":return nr;case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}function Qs(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function Rs(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function Ss(a,b){switch(b){case "ANDROID_1":return"android-1";case "ANDROID_2":return"android-2";case "IOS_1":return"ios-1";case "IOS_1_1":return"ios-1.1";case "IOS_2":return"ios-2";case "WEB_1":return"web-1";case "WEB_2":return"web-2";default:throw new TypeError('expected Schema for property "'+a+'", found: '+JSON.stringify(b));}}
function sh(a,b){switch(b){case "android-1":return"ANDROID_1";case "android-2":return"ANDROID_2";case "ios-1":return"IOS_1";case "ios-1.1":return"IOS_1_1";case "ios-2":return"IOS_2";case "web-1":return"WEB_1";case "web-2":return"WEB_2";default:throw new TypeError('expected Schema for property "'+a+'", found: '+JSON.stringify(b));}}
function Ts(a,b){switch(b){case "EDITING_AFFECTED":return"EDITING_AFFECTED";case "RENDERING_AFFECTED":return"RENDERING_AFFECTED";case "UNREPRESENTABLE":return"UNREPRESENTABLE";default:throw new TypeError('expected ConversionLoss for property "'+a+'", found: '+JSON.stringify(b));}}var lr="SET";
function Us(a,b){switch(b){case lr:return"SET";case "DOWNGRADE":return"DOWNGRADE";case "UPGRADE":return"UPGRADE";default:throw new TypeError('expected RoleChangeOp for property "'+a+'", found: '+JSON.stringify(b));}}function Vs(a,b){switch(b){case "LOW":return"LOW";case "MEDIUM":return"MEDIUM";default:throw new TypeError('expected ImagesetsGenerationPriority for property "'+a+'", found: '+JSON.stringify(b));}}function Ws(a){this.rules=a.rules||[];this.version=a.version;this.Qn=a.Qn}
Ws.prototype.getVersion=function(){return this.version};function Xs(a){return new Ws({rules:G(Ys,"rules",a),version:A("version",a),Qn:Oa(Zs,"owner",a)})}function $s(a){this.type=a.type;this.nd=a.nd;this.xd=a.xd;this.origin=a.origin;this.timestamp=a.timestamp}$s.prototype.lc=function(){return this.type};$s.prototype.rv=function(){return this.xd};$s.prototype.Cf=function(){return this.origin};$s.prototype.kn=function(){return this.timestamp};
function Ys(a){return new $s({type:Pa(Ls,"type",a),nd:F(Zs,"principal",a),xd:Pa(Ns,"role",a),origin:F(at,"origin",a),timestamp:B("timestamp",a)})}function jr(a){this.D=a.D;this.user=a.user}jr.prototype.ja=function(){return this.D};jr.prototype.Oa=function(){return this.user};function bt(a){return{brand:ib("brand",a.D),user:I("user",a.user)}}function Zs(a){return new jr({D:C("brand",a),user:D("user",a)})}function mr(a){this.type=a.type;this.id=a.id}mr.prototype.lc=function(){return this.type};
mr.prototype.u=function(){return this.id};function ct(a){return{type:lb(Os,"type",a.type),id:I("id",a.id)}}function at(a){return new mr({type:Pa(Ps,"type",a),id:D("id",a)})}function dt(a){this.default=a.default;this.view=a.view;this.DY=a.DY;this.eL=a.eL}dt.prototype.eV=function(){return this.default};dt.prototype.sl=function(){return this.view};dt.prototype.gV=function(){return this.eL};function et(a){return new dt({default:D("default",a),view:D("view",a),DY:D("remix",a),eL:D("edit",a)})}
function ft(a){this.type=a.type}function Mp(a){switch(a.type){case "REFERENCE":return{type:"REFERENCE",id:ib("id",a.id),version:db("version",a.version)};case "INLINE":return{type:"INLINE",width:db("width",a.width),height:db("height",a.height),units:lb(Qs,"units",a.units)};default:throw Error();}}
function Ep(a){switch(a.type){case "REFERENCE":return w("REFERENCE"===a.type),new gt({id:C("id",a),version:A("version",a)});case "INLINE":return w("INLINE"===a.type),new ht({width:A("width",a),height:A("height",a),units:Pa(Rs,"units",a)});default:throw Error("unknown case: "+a.type);}}function gt(a){this.type="REFERENCE";this.id=a.id;this.version=a.version}r(gt,ft);gt.prototype.u=function(){return this.id};gt.prototype.getVersion=function(){return this.version};
function ht(a){this.type="INLINE";this.width=a.width;this.height=a.height;this.units=a.units}r(ht,ft);ht.prototype.l=function(){return this.width};ht.prototype.o=function(){return this.height};ht.prototype.Sj=function(){return this.units};function it(a){this.id=a.id;this.version=a.version}it.prototype.u=function(){return this.id};it.prototype.getVersion=function(){return this.version};function jt(a){return new it({id:C("id",a),version:A("version",a)})}
function kt(a){this.id=a.id;this.hk=a.hk;this.wf=a.wf;this.origin=a.origin;this.Sm=a.Sm;this.tags=a.tags||[];this.Ae=a.Ae;this.Gj=a.Gj;this.version=a.version;this.timestamp=a.timestamp;this.RC=a.RC;this.Sy=a.Sy||new Map}f=kt.prototype;f.u=function(){return this.id};f.Cf=function(){return this.origin};f.hv=function(){return this.Sm};f.Qp=function(){return this.tags};f.Nj=function(){return this.Ae};f.He=function(){return this.Gj};f.getVersion=function(){return this.version};f.kn=function(){return this.timestamp};
function lt(a){return new kt({id:C("id",a),hk:C("owningBrand",a),wf:A("creationDate",a),origin:F(jt,"origin",a),Sm:F(et,"extensions",a),tags:Ha.de("tags",a),Ae:F(Xs,"acl",a),Gj:Oa(mt,"draft",a),version:A("version",a),timestamp:B("timestamp",a),RC:F(nt,"trashed",a),Sy:Ta(Ua,Wa,"contributors",a)})}function ot(a){this.timestamp=a.timestamp}ot.prototype.kn=function(){return this.timestamp};function nt(a){return new ot({timestamp:A("timestamp",a)})}
function pt(a){this.content=a.content;this.zh=a.zh;this.version=a.version;this.timestamp=a.timestamp;this.oa=a.oa;this.ld=a.ld;this.tN=a.tN||[];this.rA=a.rA;this.Pi=a.Pi}f=pt.prototype;f.getContent=function(){return this.content};f.getVersion=function(){return this.version};f.kn=function(){return this.timestamp};f.getSession=function(){return this.oa};f.jc=function(){return this.ld};f.CF=function(){return this.tN};f.aM=function(){return this.Pi};
function mt(a){return new pt({content:Oa(qt,"content",a),zh:C("schema",a),version:A("version",a),timestamp:A("timestamp",a),oa:B("session",a),ld:A("pageCount",a),tN:G(Xm,"layouts",a),rA:Oa(rt,"imageSets",a),Pi:D("associatedMedia",a)})}function st(a){this.title=a.title;this.description=a.description;this.vd=a.vd||[];this.doctype=a.doctype}st.prototype.pb=function(){return this.title};st.prototype.Ge=function(){return this.description};st.prototype.Pj=function(){return this.vd};
function qt(a){return new st({title:D("title",a),description:D("description",a),vd:Ha.de("keywords",a),doctype:Oa(Ep,"doctype",a)})}function tt(a){this.rd=a.rd;this.Aw=a.Aw}tt.prototype.re=function(){return this.rd};function rt(a){return new tt({rd:Oa(ut,"thumbnail",a),Aw:F(ut,"preview",a)})}function vt(a){this.height=a.height;this.width=a.width;this.version=a.version;this.images=a.images||[]}vt.prototype.o=function(){return this.height};vt.prototype.l=function(){return this.width};
vt.prototype.getVersion=function(){return this.version};vt.prototype.kM=function(){return this.images};function ut(a){return new vt({height:A("height",a),width:A("width",a),version:A("version",a),images:G(wt,"images",a)})}function xt(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url}xt.prototype.getKey=function(){return this.key};xt.prototype.R=function(){return this.page};xt.prototype.na=function(){return this.url};
function wt(a){return new xt({bucket:C("bucket",a),key:C("key",a),page:A("page",a),url:D("url",a)})}function yt(a){this.width=a.width;this.height=a.height;this.url=a.url}yt.prototype.l=function(){return this.width};yt.prototype.o=function(){return this.height};yt.prototype.na=function(){return this.url};function zt(a){return new yt({width:B("width",a),height:B("height",a),url:C("url",a)})}function At(a){this.id=a.id;this.title=a.title;this.AT=a.AT||new Map}At.prototype.u=function(){return this.id};
At.prototype.pb=function(){return this.title};function lq(a){return{id:ib("id",a.id),title:I("title",a.title),colorReplacements:ob(qb,tb,"colorReplacements",a.AT)}}function Bt(a){this.$f=a.$f;this.version=a.version;this.oa=a.oa;this.Ye=a.Ye;this.J0=a.J0||[];this.tA=a.tA;this.T3=a.T3;this.j9=a.j9||[]}Bt.prototype.getVersion=function(){return this.version};Bt.prototype.getSession=function(){return this.oa};Bt.prototype.getExtension=function(){return this.Ye};
function Ct(a){this.type=a.type;this.id=a.id;this.version=a.version}Ct.prototype.u=function(){return this.id};Ct.prototype.getVersion=function(){return this.version};
function Dt(a){switch(a.type){case "RASTER":return w("RASTER"===a.type),new Et({id:C("id",a),version:A("version",a),files:G(Ft,"files",a)});case "VECTOR":return w("VECTOR"===a.type),new Gt({id:C("id",a),version:A("version",a),files:G(Ft,"files",a),Qg:F(Wr,"spritesheetMetadata",a)});case "DESIGN":return w("DESIGN"===a.type),new Ht({id:C("id",a),version:A("version",a),files:G(Ft,"files",a)});case "FONT":return w("FONT"===a.type),new It({id:C("id",a),version:A("version",a),files:G(Jt,"files",a)});case "ELEMENT_GROUP":return w("ELEMENT_GROUP"===
a.type),new Kt({id:C("id",a),version:A("version",a),files:G(Ft,"files",a)});case "UNKNOWN":return w("UNKNOWN"===a.type),new Lt({id:C("id",a),version:A("version",a),files:G(Mt,"files",a)});default:throw Error("unknown case: "+a.type);}}function Et(a){Ct.call(this,{type:"RASTER",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}r(Et,Ct);Et.prototype.ic=function(){return this.files};
function Gt(a){Ct.call(this,{type:"VECTOR",id:a.id,version:a.version,files:a.files,Qg:a.Qg});this.files=a.files||[];this.Qg=a.Qg}r(Gt,Ct);Gt.prototype.ic=function(){return this.files};Gt.prototype.ps=function(){return this.Qg};function Ht(a){Ct.call(this,{type:"DESIGN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}r(Ht,Ct);Ht.prototype.ic=function(){return this.files};function It(a){Ct.call(this,{type:"FONT",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}
r(It,Ct);It.prototype.ic=function(){return this.files};function Kt(a){Ct.call(this,{type:"ELEMENT_GROUP",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}r(Kt,Ct);Kt.prototype.ic=function(){return this.files};function Lt(a){Ct.call(this,{type:"UNKNOWN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}r(Lt,Ct);Lt.prototype.ic=function(){return this.files};
function Nt(a){this.url=a.url;this.y_=a.y_;this.width=a.width;this.height=a.height;this.Zx=a.Zx;this.AZ=a.AZ;this.oi=a.oi}Nt.prototype.na=function(){return this.url};Nt.prototype.l=function(){return this.width};Nt.prototype.o=function(){return this.height};Nt.prototype.IF=function(){return this.oi};function Ft(a){return new Nt({url:C("url",a),y_:Ma("urlDenied",a),width:A("width",a),height:A("height",a),Zx:Ma("watermarked",a),AZ:Ma("spritesheet",a),oi:Qa(Ot,"quality",a)})}
function Pt(a){this.url=a.url}Pt.prototype.na=function(){return this.url};function Jt(a){return new Pt({url:C("url",a)})}function Qt(a){this.url=a.url;this.width=a.width;this.height=a.height;this.Zx=a.Zx;this.oi=a.oi}Qt.prototype.na=function(){return this.url};Qt.prototype.l=function(){return this.width};Qt.prototype.o=function(){return this.height};Qt.prototype.IF=function(){return this.oi};
function Mt(a){return new Qt({url:C("url",a),width:B("width",a),height:B("height",a),Zx:Na("watermarked",a),oi:Qa(Ot,"quality",a)})}function Rt(a){this.Ae=a.Ae}Rt.prototype.Nj=function(){return this.Ae};function vq(a){return new Rt({Ae:Oa(Xs,"acl",a)})}function St(a){this.tl=a.tl||[];this.nd=a.nd;this.rH=a.rH||[];this.yL=a.yL;this.oY=a.oY;this.XR=a.XR||[];this.ka=a.ka;this.Vr=a.Vr;this.Y=a.Y;this.limit=a.limit}St.prototype.Kb=function(){return this.Y};St.prototype.Yd=function(){return this.limit};
function Tt(a){this.kU=a.kU||[];this.Y=a.Y}Tt.prototype.Kb=function(){return this.Y};function sq(a){return new Tt({kU:G(lt,"documents",a),Y:D("continuation",a)})}function Ut(a){this.id=a.id;this.c_=a.c_;this.Ow=a.Ow||[];this.Y=a.Y}Ut.prototype.u=function(){return this.id};Ut.prototype.Yz=function(){return this.Ow};Ut.prototype.Kb=function(){return this.Y};function zq(a){return new Ut({id:C("id",a),c_:A("totalHits",a),Ow:G(Vt,"results",a),Y:D("continuation",a)})}
function Wt(a){this.Qq=a.Qq;this.Jq=a.Jq;this.id=a.id;this.title=a.title;this.description=a.description;this.hk=a.hk;this.wf=a.wf;this.RC=a.RC;this.rd=a.rd;this.Ku=a.Ku}f=Wt.prototype;f.uM=function(){return this.Qq};f.tM=function(){return this.Jq};f.u=function(){return this.id};f.pb=function(){return this.title};f.Ge=function(){return this.description};f.re=function(){return this.rd};
function Vt(a){return new Wt({Qq:C("searchId",a),Jq:A("rank",a),id:C("id",a),title:C("title",a),description:D("description",a),hk:C("owningBrand",a),wf:A("creationDate",a),RC:Ma("trashed",a),rd:Oa(zt,"thumbnail",a),Ku:C("designTypeDisplayName",a)})}function Xt(a){this.document=a.document;this.Ye=a.Ye;this.vE=a.vE;this.zW=a.zW;this.gP=a.gP||[]}Xt.prototype.getDocument=function(){return this.document};Xt.prototype.getExtension=function(){return this.Ye};
function xq(a){return{document:ib("document",a.document),extension:I("extension",a.Ye),defaultRoleChange:jb(Yt,"defaultRoleChange",a.vE),linkRoleChange:jb(Yt,"linkRoleChange",a.zW),principalRoleChanges:kb(Zt,"principalRoleChanges",a.gP)}}function $t(a){this.Ae=a.Ae}$t.prototype.Nj=function(){return this.Ae};function yq(a){return new $t({Ae:Oa(Xs,"acl",a)})}function kr(a){this.nB=a.nB;this.xd=a.xd}kr.prototype.rv=function(){return this.xd};
function Yt(a){return{op:lb(Us,"op",a.nB),role:lb(Ms,"role",a.xd)}}function ir(a){this.nd=a.nd;this.origin=a.origin;this.UP=a.UP;this.timestamp=a.timestamp}ir.prototype.Cf=function(){return this.origin};ir.prototype.kn=function(){return this.timestamp};function Zt(a){return{principal:cb.required("principal",bt(a.nd)),origin:cb.required("origin",ct(a.origin)),roleChange:cb.required("roleChange",Yt(a.UP)),timestamp:eb("timestamp",a.timestamp)}}
function au(a){this.$f=a.$f;this.version=a.version;this.$s=a.$s;this.force=a.force}au.prototype.getVersion=function(){return this.version};function Cq(a){return{doc:ib("doc",a.$f),version:db("version",a.version),priority:lb(Vs,"priority",a.$s),force:hb("force",a.force)}}function bu(){}function Dq(){return new bu};function cu(a){this.id=a.id;this.hk=a.hk;this.wf=a.wf;this.origin=a.origin;this.Sm=a.Sm;this.tags=a.tags||[];this.Ae=a.Ae;this.Gj=a.Gj;this.version=a.version;this.timestamp=a.timestamp;this.Sy=a.Sy||new Map}f=cu.prototype;f.u=function(){return this.id};f.Cf=function(){return this.origin};f.hv=function(){return this.Sm};f.Qp=function(){return this.tags};f.Nj=function(){return this.Ae};f.He=function(){return this.Gj};f.getVersion=function(){return this.version};f.kn=function(){return this.timestamp};
function du(a){return new cu({id:C("id",a),hk:C("owningBrand",a),wf:A("creationDate",a),origin:F(jt,"origin",a),Sm:Oa(et,"extensions",a),tags:Ha.de("tags",a),Ae:F(Xs,"acl",a),Gj:Oa(eu,"draft",a),version:A("version",a),timestamp:B("timestamp",a),Sy:Ta(Ua,Wa,"contributors",a)})}function fu(a){this.zh=a.zh;this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.oa=a.oa;this.ld=a.ld;this.media=a.media||[];this.rA=a.rA;this.Pi=a.Pi}f=fu.prototype;f.getContent=function(){return this.content};
f.getVersion=function(){return this.version};f.kn=function(){return this.timestamp};f.getSession=function(){return this.oa};f.jc=function(){return this.ld};f.Mb=function(){return this.media};f.aM=function(){return this.Pi};function eu(a){return new fu({zh:C("schema",a),content:Oa(Er,"content",a),version:A("version",a),timestamp:A("timestamp",a),oa:B("session",a),ld:A("pageCount",a),media:G(Xm,"media",a),rA:Oa(rt,"imageSets",a),Pi:D("associatedMedia",a)})}
function gu(a){this.document=a.document;this.oa=a.oa}gu.prototype.getDocument=function(){return this.document};gu.prototype.getSession=function(){return this.oa};function nq(a){return new gu({document:Oa(du,"document",a),oa:A("session",a)})}function hu(a){this.document=a.document;this.df=a.df||[];this.oa=a.oa;this.AS=a.AS;this.fK=a.fK}hu.prototype.getDocument=function(){return this.document};hu.prototype.getSession=function(){return this.oa};
function pq(a){return new hu({document:Oa(du,"document",a),df:G(Dt,"mediaMap",a),oa:B("session",a),AS:Pa(Ns,"accessRole",a),fK:Qa(Ts,"conversionLoss",a)})};function iu(a,b,c,d,e){this.Sa=a;this.N=b;this.context=c;this.dr=null;this.SZ=d;this.aq=!1;this.eA=this.PX=this.$t=this.tw=this.om=null;this.j=e}f=iu.prototype;f.start=function(){null!=this.context.id&&(ju(this,6666),ku(this))};function ju(a,b){b!=a.$t&&(null!=a.om&&window.clearInterval(a.om),a.$t=b,a.om=null!=b?window.setInterval(function(){a.save()},b):null)}function ku(a){12E5!=a.PX&&(null!=a.tw&&window.clearInterval(a.tw),a.PX=12E5,a.tw=window.setInterval(function(){a.sync()},12E5))}
f.save=function(){this.context.gj()&&this.sync()};f.sync=function(){function a(a){var e=b.$t;a=a.throttle;if(b.dr==c){b.dr=null;var g=e;!0===a?g=Math.min(2*b.$t,6E5):!1===a&&(g=Math.max(b.$t-1E3,6666));g!=b.$t&&ju(b,g)}return e}if(this.aq&&null!=this.context.id&&!this.dr){var b=this,c=new lu(b.N,b.context,b.j);b.dr=c;b.dr.sync().then(a).then(function(a){b.SZ.update(a)})}};
f.close=function(){this.aq=!1;this.dr&&(this.dr.stop(),this.dr=null);this.om&&(window.clearInterval(this.om),this.om=null);this.tw&&(window.clearInterval(this.tw),this.tw=null)};f.wQ=function(a){this.context.wQ(a)};f.post=function(a,b){var c=this.context,d=null;3!=c.nf&&(c.Nk!=a?(c.nf=3,c.state=null):(c.nf=0,c.state=b,c.Nk++,d=c.Nk));mu(c);a=d;null!=a&&(this.eA=b);return a};f.$v=function(a){this.eA||(this.eA=a)};function nu(a,b){return!(!a.eA||_.isEqual(a.eA,b))}
f.bt=function(a){var b=this.context.u();if(this.context.gj())return P.reject(new hq);if(!this.context.Zz())return P.reject(new gq);if(!b)return P.reject(new iq);switch(a){case "BRAND":return this.Sa.GJ(b);case "GLOBAL":return this.Sa.bt(b)}return P.reject(new fq)};f.Vx=function(a){var b=this.context.u();if(!b)return P.reject(new iq);switch(a){case "BRAND":return this.Sa.HJ(b);case "GLOBAL":return this.Sa.Vx(b)}return P.reject(new fq)};
f.JC=function(){var a=this.context.u();return a?this.Sa.JC(a):P.reject(Error("synced context has no id"))};f.TC=function(){var a=this.context.u();return a?this.Sa.TC(a):P.reject(Error("synced context has no id"))};f.hc=function(){return this.context.u()};function ou(a){return a.context.hv().eV()}f.timestamp=function(){return this.context.kn()};f.version=function(){return this.context.Nk};f.fe=function(){return this.context.fe};f.gj=function(){return this.context.gj()};f.Mv=function(){return this.context.Mv()};
f.state=function(){return this.context.Zz()};function pu(a,b,c,d,e,g,h,k,l,m){this.id=a;this.Nk=c;this.tu=d;this.fe=e;this.dC=g;this.state=k;this.mW=null;this.timestamp=h;this.Sm=l;this.fK=m;this.kW=this.nf=b;this.rI=null}f=pu.prototype;f.u=function(){return this.id};f.hv=function(){return this.Sm};f.kn=function(){return this.timestamp};f.gj=function(){return 0==this.nf||1==this.nf};f.Mv=function(){return 3!=this.nf};f.Zz=function(){return this.state};
f.wQ=function(a){if(this.rI)throw Error("Cannot overwrite DocumentContext sync listener");this.rI=a};function qu(a,b,c){b==a.Nk&&c==a.fe&&0==a.nf&&(a.nf=1,mu(a))}function ru(a,b,c){3!=a.nf&&a.fe==b&&(b=c.document.draft,b.version<=a.fe||(a.timestamp=b.timestamp,a.fe=b.version,a.dC=b.session,a.dC!=a.tu&&(a.Nk++,a.nf=3,a.state=null),mu(a)))}
function su(a,b,c,d,e){3!=a.nf&&(e=e.document.draft,a.fe==d&&(a.mW=b,a.Nk==c&&(a.nf=2),a.timestamp=e.timestamp,a.fe=e.version,a.dC=e.session,a.tu=e.session,mu(a)))}function tu(a,b,c,d){3==a.nf||a.fe>c||(a.timestamp=d.timestamp,a.fe=d.version,a.dC=d.session,a.dC!=a.tu?(a.Nk++,a.nf=3,a.state=null):a.Nk==b&&(a.nf=2),mu(a))}function mu(a){a.nf!=a.kW&&null!=a.id&&(a.kW=a.nf,a.rI&&a.rI(a.nf))}function lu(a,b,c){this.N=a;this.context=b;this.fr=this.request=this.callback=null;this.j=c}
function uu(a){var b=.2*Math.random()-.1;return null==a?5E3:6E5<a?6E5:a*(1.6+b)}lu.prototype.stop=function(){this.callback=null;this.request&&(this.request.cancel(),this.request=null);null!=this.fr&&(window.clearTimeout(this.fr),this.fr=null)};lu.prototype.sync=function(){if(this.callback)throw Error("already syncing");return new P(function(a){this.callback=a;vu(this,uu(null),1)}.bind(this))};lu.prototype.finish=function(a,b){var c=this.callback;c&&(this.callback=null,c({success:a,throttle:b}))};
function wu(a,b){var c=null,d=!1,e=b;if(null!=a){var g=[],h;for(h in b)"pages"===h||_.isEqual(b[h],a[h])||g.push(h);a=a.pages;h=b.pages;if(a&&h){var k=a.length==h.length,l=!_.isEqual(a,h);if(0==g.length&&k&&l){for(b=0;b<a.length;b++)if(!_.isEqual(a[b],h[b]))if(null==c)c=b;else{c=null;break}null!=c&&(e=h[c])}else l||1!=g.length||"title"!=g[0]||(e={title:b.title},d=!0)}}return{r$:d,Us:c,l8:e}}
function vu(a,b,c){function d(d,g){window.clearTimeout(a.fr);a.request=null;a.fr=null;var h=g&&null!=g.throttle?!!g.throttle:null,m=!1;p&&200==d?su(e,n,k,l,g):p&&409==d?tu(e,k,l,g):p||200!=d?0!=d&&(p&&403==d&&g.session&&(e.tu=g.session),m=!0):ru(e,l,g);m?a.fr=window.setTimeout(function(){vu(a,uu(b),c+1)},b):a.finish(200==d,h,d,c)}var e=a.context,g=e.u(),h=e.tu,k=e.Nk,l=e.fe,m,n=e.Zz(),p=e.gj();if(p&&n)m=wu(e.mW,n),g="/documents"+(null==g?"":"/"+encodeURIComponent(g)+"/content"),m.r$?g+="/title":null!=
m.Us&&(g+="/pages/"+m.Us),g+="?version\x3d"+encodeURIComponent(l.toString())+(null==h?"":"\x26session\x3d"+encodeURIComponent(h.toString()))+"";else{if(null==g)return;g="/documents/"+encodeURIComponent(g)+"?includePages\x3dfalse"+(null==h?"":"\x26session\x3d"+encodeURIComponent(h.toString()))}a.fr=window.setTimeout(function(){var d=a.callback;a.callback=null;a.request&&a.request.cancel();a.request=null;a.fr=null;a.callback=d;vu(a,uu(b),c+1)},b);p?(a.request=a.N.post(g,m.l8,d),qu(e,k,l)):a.request=
a.N.get(g,d)};function xu(){this.N=Ib};function yu(a){this.sg=a.sg;this.YZ=a.YZ;this.XZ=a.XZ;this.uU=a.uU;this.displayName=a.displayName;this.EK=a.EK;this.uZ=a.uZ;this.np=a.np;this.Km=a.Km;this.qT=a.qT}yu.prototype.jn=function(){return this.sg};yu.prototype.Lb=function(){return this.displayName};
function zu(a){return new yu({sg:C("thumbnailUrl",a),YZ:A("thumbnailWidth",a),XZ:A("thumbnailHeight",a),uU:C("editorPath",a),displayName:C("displayName",a),EK:C("dimensionsLabel",a),uZ:Ma("showNewBadge",a),np:D("doctypeId",a),Km:D("doctypeName",a),qT:D("categoryId",a)})}function Au(a){this.NF=a.NF;this.options=a.options||[]}Au.prototype.Qj=function(){return this.options};function Bu(a){return new Au({NF:C("groupingDisplayName",a),options:G(zu,"options",a)})}function Cu(a){this.OF=a.OF||[]}
function Du(a){return new Cu({OF:G(Bu,"groups",a)})};function Eu(a){this.N=a;this.MK="/doctypes"}Eu.prototype.kb=function(a){a=this.MK+"/"+encodeURIComponent(a.id)+"?"+a.gr();return sj(this.N,a).get(0).then(La).then(Fu)};Eu.prototype.createDocumentType=function(a){return qj(this.N,this.MK,Gu(a)).get(0).then(La).then(Hu)};
function Iu(a,b){b=[a.MK+"?",null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit.toString()):"",null!=b.visible?"\x26visible\x3d"+encodeURIComponent(String(b.visible)):"",null!=b.Vp?"\x26includeAllDescriptions\x3d"+encodeURIComponent(String(b.Vp)):"",0<b.tl.length?"\x26ids\x3d"+encodeURIComponent(b.tl.join(",")):"",null!=b.Y?"\x26continuation\x3d"+encodeURIComponent(b.Y):""].join("").replace("?\x26","?");return sj(a.N,b).get(0).then(La).then(Ju)};function Ku(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "INSTAGRAM":return"INSTAGRAM";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "QQ":return"QQ";case "SLACK":return"SLACK";case "TRELLO":return"TRELLO";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "VKONTAKTE":return"VKONTAKTE";case "WECHAT":return"WECHAT";case "WEIBO":return"WEIBO";default:throw new TypeError('expected SocialPlatform for property "'+a+'", found: '+
JSON.stringify(b));}}
function Lu(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "INSTAGRAM":return"INSTAGRAM";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "QQ":return"QQ";case "SLACK":return"SLACK";case "TRELLO":return"TRELLO";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "VKONTAKTE":return"VKONTAKTE";case "WECHAT":return"WECHAT";case "WEIBO":return"WEIBO";default:throw new TypeError('expected SocialPlatform for property "'+a+'", found: '+
JSON.stringify(b));}}function Mu(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "GROUP":return"GROUP";case "PAGE":return"PAGE";default:throw new TypeError('expected SocialTargetType for property "'+a+'", found: '+JSON.stringify(b));}}function Nu(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "GROUP":return"GROUP";case "PAGE":return"PAGE";default:throw new TypeError('expected SocialTargetType for property "'+a+'", found: '+JSON.stringify(b));}}
function Ou(a,b){switch(b){case "PIXELS":return"PIXELS";case "INCHES":return"INCHES";case "CENTIMETERS":return"CENTIMETERS";case "MILLIMETERS":return"MILLIMETERS";default:throw new TypeError('expected DocumentTypeDimensionsUnits for property "'+a+'", found: '+JSON.stringify(b));}}
function Pu(a,b){switch(b){case "PIXELS":return"PIXELS";case "INCHES":return"INCHES";case "CENTIMETERS":return"CENTIMETERS";case "MILLIMETERS":return"MILLIMETERS";default:throw new TypeError('expected DocumentTypeDimensionsUnits for property "'+a+'", found: '+JSON.stringify(b));}}function Qu(a,b){switch(b){case "IMAGE":return"IMAGE";case "PDF":return"PDF";default:throw new TypeError('expected DocumentTypeDefaultExportSettings for property "'+a+'", found: '+JSON.stringify(b));}}
function Ru(a,b){switch(b){case "IMAGE":return"IMAGE";case "PDF":return"PDF";default:throw new TypeError('expected DocumentTypeDefaultExportSettings for property "'+a+'", found: '+JSON.stringify(b));}}
function tp(a){this.id=a.id;this.name=a.name;this.qj=a.qj;this.category=a.category;this.visible=a.visible;this.oC=a.oC;this.Ls=a.Ls;this.hw=a.hw||[];this.rd=a.rd;this.dz=a.dz||new Map;this.sb=a.sb;this.tE=a.tE;this.Vs=a.Vs;this.Up=a.Up;this.version=a.version;this.CN=a.CN||[];this.FO=a.FO||[];this.rP=a.rP||[]}f=tp.prototype;f.u=function(){return this.id};f.getName=function(){return this.name};f.re=function(){return this.rd};f.getVersion=function(){return this.version};
function Su(a){return{id:I("id",a.id),name:I("name",a.name),sentenceName:I("sentenceName",a.qj),category:I("category",a.category),visible:hb("visible",a.visible),showAsNew:hb("showAsNew",a.oC),multiPage:hb("multiPage",a.Ls),newPageElements:kb(Tu,"newPageElements",a.hw),thumbnail:jb(Uu,"thumbnail",a.rd),descriptions:nb(Vu,"descriptions",a.dz),dimensions:jb(Wu,"dimensions",a.sb),defaultExportSettings:mb(Qu,"defaultExportSettings",a.tE),pdfExportSettings:jb(Xu,"pdfExportSettings",a.Vs),imageExportSettings:jb(Yu,
"imageExportSettings",a.Up),version:eb("version",a.version),localizedDescriptions:kb(Zu,"localizedDescriptions",a.CN),pageFormats:kb($u,"pageFormats",a.FO),publishHints:kb(av,"publishHints",a.rP)}}
function bv(a){return new tp({id:D("id",a),name:D("name",a),qj:D("sentenceName",a),category:D("category",a),visible:Na("visible",a),oC:Na("showAsNew",a),Ls:Na("multiPage",a),hw:G(cv,"newPageElements",a),rd:F(dv,"thumbnail",a),dz:Sa(ev,"descriptions",a),sb:F(fv,"dimensions",a),tE:Qa(Ru,"defaultExportSettings",a),Vs:F(gv,"pdfExportSettings",a),Up:F(hv,"imageExportSettings",a),version:B("version",a),CN:G(iv,"localizedDescriptions",a),FO:G(jv,"pageFormats",a),rP:G(kv,"publishHints",a)})}
function lv(a,b,c){return new tp({id:"custom",name:(new mv({width:a,height:b,units:c})).print(),qj:"design",sb:new mv({width:a,height:b,units:c}),visible:!1,order:0,Ls:!0,oC:!1,custom:new mv({width:a,height:b,units:c}),Up:new nv({Sc:96,oba:"JPG",ep:null,Eba:null,Dba:null}),Vs:new ov({Sc:300})})}f.Hg=function(){var a=this.Up,b=Rg(this.sb);return{elements:this.hw,width:b.l(),height:b.o(),dpi:a&&a.Sc}};
function pv(a){a=a.hw;return Array.isArray(a)?a.filter(function(a){return"fixed"===a.type}).map(Tu):[]}function qv(a){a=pv(a);a=_.min(_.pluck(a,"left"));return Math.min(0,a)}function rv(a){a=pv(a);a=_.min(_.pluck(a,"top"));return Math.min(0,a)}function sv(a){var b=pv(a),b=_.max(b.map(function(a){return a.top+a.height})),c=rv(a);a=a.sb?Rg(a.sb).o():0;return Math.max(a,b)-c}
function tv(a){var b=pv(a),b=_.max(b.map(function(a){return a.left+a.width})),c=qv(a);a=a.sb?Rg(a.sb).l():0;return Math.max(a,b)-c}function uv(a){this.type=a.type;this.sb=a.sb;this.PL=a.PL||[];this.YN=a.YN;this.MJ=a.MJ}uv.prototype.lc=function(){return this.type};function $u(a){return{type:I("type",a.type),dimensions:cb.required("dimensions",Wu(a.sb)),fixedElements:kb(Tu,"fixedElements",a.PL),nameTemplate:I("nameTemplate",a.YN),cardinality:cb.required("cardinality",vv(a.MJ))}}
function jv(a){return new uv({type:D("type",a),sb:Oa(fv,"dimensions",a),PL:G(cv,"fixedElements",a),YN:D("nameTemplate",a),MJ:Oa(wv,"cardinality",a)})}function xv(a){this.lower=a.lower;this.upper=a.upper}function vv(a){return{lower:eb("lower",a.lower),upper:eb("upper",a.upper)}}function wv(a){return new xv({lower:B("lower",a),upper:B("upper",a)})}function yv(a){this.type=a.type}
function av(a){switch(a.type){case "SHARE_SPEC":return{type:"SHARE_SPEC",platform:mb(Ku,"platform",a.platform),targetType:mb(Mu,"targetType",a.pf)};case "DOWNLOAD_SPEC":return{type:"DOWNLOAD_SPEC",format:mb(Qu,"format",a.format),fileType:I("fileType",a.Ze),compression:I("compression",a.ep),dpi:eb("dpi",a.Sc),jpgQuality:eb("jpgQuality",a.Zj),jpgTargetFileSizeKb:eb("jpgTargetFileSizeKb",a.gq)};default:throw Error();}}
function kv(a){switch(a.type){case "SHARE_SPEC":return w("SHARE_SPEC"===a.type),new zv({platform:Qa(Lu,"platform",a),pf:Qa(Nu,"targetType",a)});case "DOWNLOAD_SPEC":return w("DOWNLOAD_SPEC"===a.type),new Av({format:Qa(Ru,"format",a),Ze:D("fileType",a),ep:D("compression",a),Sc:B("dpi",a),Zj:B("jpgQuality",a),gq:B("jpgTargetFileSizeKb",a)});default:throw Error("unknown case: "+a.type);}}function zv(a){this.type="SHARE_SPEC";this.platform=a.platform;this.pf=a.pf}r(zv,yv);
function Av(a){this.type="DOWNLOAD_SPEC";this.format=a.format;this.Ze=a.Ze;this.ep=a.ep;this.Sc=a.Sc;this.Zj=a.Zj;this.gq=a.gq}r(Av,yv);function Bv(a){this.locale=a.locale;this.name=a.name;this.qj=a.qj;this.HO=a.HO||new Map}Bv.prototype.eg=function(){return this.locale};Bv.prototype.getName=function(){return this.name};function Zu(a){return{locale:ib("locale",a.locale),name:ib("name",a.name),sentenceName:ib("sentenceName",a.qj),pageNameTemplates:ob(qb,tb,"pageNameTemplates",a.HO)}}
function iv(a){return new Bv({locale:C("locale",a),name:C("name",a),qj:C("sentenceName",a),HO:Ta(Ua,Xa,"pageNameTemplates",a)})}function Cv(a){this.type=a.type;this.placeholder=a.placeholder;this.url=a.url;this.tn=a.tn;this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height;this.Fa=a.Fa}f=Cv.prototype;f.lc=function(){return this.type};f.na=function(){return this.url};f.w=function(){return this.top};f.F=function(){return this.left};f.l=function(){return this.width};f.o=function(){return this.height};
f.MF=function(){return this.Fa};function Tu(a){return{type:ib("type",a.type),placeholder:I("placeholder",a.placeholder),url:I("url",a.url),image:I("image",a.tn),top:db("top",a.top),left:db("left",a.left),width:db("width",a.width),height:db("height",a.height),transparency:eb("transparency",a.Fa)}}
function cv(a){return new Cv({type:C("type",a),placeholder:D("placeholder",a),url:D("url",a),tn:D("image",a),top:A("top",a),left:A("left",a),width:A("width",a),height:A("height",a),Fa:B("transparency",a)})}function Dv(a){this.bucket=a.bucket;this.key=a.key;this.url=a.url;this.width=a.width;this.height=a.height}Dv.prototype.getKey=function(){return this.key};Dv.prototype.na=function(){return this.url};Dv.prototype.l=function(){return this.width};Dv.prototype.o=function(){return this.height};
function Uu(a){return{bucket:I("bucket",a.bucket),key:I("key",a.key),url:I("url",a.url),width:eb("width",a.width),height:eb("height",a.height)}}function dv(a){return new Dv({bucket:D("bucket",a),key:D("key",a),url:D("url",a),width:B("width",a),height:B("height",a)})}function Ev(a){this.locale=a.locale;this.name=a.name;this.qj=a.qj;this.$L=a.$L;this.rd=a.rd}Ev.prototype.eg=function(){return this.locale};Ev.prototype.getName=function(){return this.name};Ev.prototype.re=function(){return this.rd};
function Vu(a){return{locale:ib("locale",a.locale),name:I("name",a.name),sentenceName:I("sentenceName",a.qj),gender:I("gender",a.$L),thumbnail:jb(Uu,"thumbnail",a.rd)}}function ev(a){return new Ev({locale:C("locale",a),name:D("name",a),qj:D("sentenceName",a),$L:D("gender",a),rd:F(dv,"thumbnail",a)})}function mv(a){this.height=a.height;this.width=a.width;this.units=a.units}mv.prototype.o=function(){return this.height};mv.prototype.l=function(){return this.width};mv.prototype.Sj=function(){return this.units};
function Wu(a){return{height:db("height",a.height),width:db("width",a.width),units:lb(Ou,"units",a.units)}}function fv(a){return new mv({height:A("height",a),width:A("width",a),units:Pa(Pu,"units",a)})}function Fv(a){switch(a){case "PIXELS":return"px";case "CENTIMETERS":return"cm";case "INCHES":return"in";case "MILLIMETERS":return"mm";default:throw Error("Unknown units: "+a);}}mv.prototype.print=function(){var a=this.l(),b=this.o(),c=Fv(this.Sj());return a+" "+c+" × "+b+" "+c};
function Rg(a){var b;switch(a.Sj()){case "PIXELS":return a;case "CENTIMETERS":b=a.l()/2.54*96;a=a.o()/2.54*96;break;case "INCHES":b=96*a.l();a=96*a.o();break;case "MILLIMETERS":b=a.l()/25.4*96;a=a.o()/25.4*96;break;default:throw Error("Unknown units: "+a.Sj());}return new mv({units:"PIXELS",width:b,height:a})}function ov(a){this.Sc=a.Sc}function Xu(a){return{dpi:eb("dpi",a.Sc)}}function gv(a){return new ov({Sc:B("dpi",a)})}
function nv(a){this.Ze=a.Ze;this.ep=a.ep;this.Sc=a.Sc;this.Zj=a.Zj;this.gq=a.gq}function Yu(a){return{fileType:I("fileType",a.Ze),compression:I("compression",a.ep),dpi:eb("dpi",a.Sc),jpgQuality:eb("jpgQuality",a.Zj),jpgTargetFileSizeKb:eb("jpgTargetFileSizeKb",a.gq)}}function hv(a){return new nv({Ze:D("fileType",a),ep:D("compression",a),Sc:B("dpi",a),Zj:B("jpgQuality",a),gq:B("jpgTargetFileSizeKb",a)})}
function Gu(a){return{category:I("category",a.category),visible:hb("visible",a.visible),showAsNew:hb("showAsNew",a.oC),multiPage:hb("multiPage",a.Ls),newPageElements:kb(Tu,"newPageElements",a.hw),thumbnail:jb(Uu,"thumbnail",a.rd),descriptions:nb(Vu,"descriptions",a.dz),dimensions:jb(Wu,"dimensions",a.sb),pdfExportSettings:jb(Xu,"pdfExportSettings",a.Vs),imageExportSettings:jb(Yu,"imageExportSettings",a.Up)}}function Gv(a){this.uc=a.uc}function Hu(a){return new Gv({uc:Oa(bv,"docType",a)})}
function Hv(a){this.id=a.id;this.Vp=a.Vp;this.locale=a.locale}Hv.prototype.u=function(){return this.id};Hv.prototype.eg=function(){return this.locale};Hv.prototype.gr=function(){var a={id:ib("id",this.id),includeAllDescriptions:gb("includeAllDescriptions",this.Vp),locale:I("locale",this.locale)};return Object.keys(a).map(function(b){var c=a[b];if(void 0!==c&&"object"!==typeof c)return b+"\x3d"+encodeURIComponent(c)}).filter(function(a){return!!a}).join("\x26")};function Iv(a){this.uc=a.uc}
function Fu(a){return new Iv({uc:Oa(bv,"docType",a)})}function Jv(a){this.limit=a.limit;this.visible=a.visible;this.Vp=a.Vp;this.tl=a.tl||[];this.Y=a.Y}Jv.prototype.Yd=function(){return this.limit};Jv.prototype.Kb=function(){return this.Y};function Kv(a){this.Lu=a.Lu||[];this.Y=a.Y}Kv.prototype.Kb=function(){return this.Y};function Ju(a){return new Kv({Lu:G(bv,"docTypes",a),Y:D("continuation",a)})};function Lv(a,b){switch(b){case "DOWNLOAD":return"DOWNLOAD";case "WORKFLOW":return"WORKFLOW";default:throw new TypeError('expected DestinationCode for property "'+a+'", found: '+JSON.stringify(b));}}function Mv(a,b){switch(b){case "PNG":return"PNG";case "PDF":return"PDF";case "JPG":return"JPG";default:throw new TypeError('expected FileFormat for property "'+a+'", found: '+JSON.stringify(b));}}
function Nv(a,b){switch(b){case "LOSSLESS":return"LOSSLESS";case "LOSSY":return"LOSSY";case "NONE":return"NONE";default:throw new TypeError('expected OptimizationStrategy for property "'+a+'", found: '+JSON.stringify(b));}}function Ov(a,b){switch(b){case "PRINT":return"PRINT";case "SCREEN":return"SCREEN";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected ExportMediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}
function Pv(a,b){switch(b){case "HIGH":return"HIGH";case "MEDIUM":return"MEDIUM";case "LOW":return"LOW";default:throw new TypeError('expected Priority for property "'+a+'", found: '+JSON.stringify(b));}}function Qv(a,b){switch(b){case "COMPLETE":return"COMPLETE";case "FAILED":return"FAILED";case "CREATED":return"CREATED";default:throw new TypeError('expected ExportStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Rv(a){this.ku=a.ku;this.Wh=a.Wh;this.NK=a.NK;this.hU=a.hU;this.PQ=a.PQ;this.$s=a.$s;this.WX=a.WX;this.$X=a.$X;this.MY=a.MY;this.yX=a.yX||[];this.zh=a.zh}
function Sv(a){return{attachment:hb("attachment",a.ku),docId:ib("docId",a.Wh),docVersion:eb("docVersion",a.NK),docMedia:jb(Tv,"docMedia",a.hU),spec:jb(Uv,"spec",a.PQ),priority:mb(Pv,"priority",a.$s),pollableJob:hb("pollableJob",a.WX),prefetchDocument:hb("prefetchDocument",a.$X),renderSpec:jb(Vv,"renderSpec",a.MY),outputSpecs:kb(Wv,"outputSpecs",a.yX),schema:lb(Ss,"schema",a.zh)}}function Xv(a){return{bleedMicrons:eb("bleedMicrons",a.Taa),resizeBleedBackground:gb("resizeBleedBackground",a.bca)}}
function Vv(a){return{bleed:jb(Xv,"bleed",a.pu),crops:gb("crops",a.Kr),mediaQuality:lb(Ov,"mediaQuality",a.SA),mediaDpi:db("mediaDpi",a.Es),pages:fb(a.O),watermark:gb("watermark",a.Gca),scaleFactor:eb("scaleFactor",a.Qd),removeCanvas:hb("removeCanvas",a.gt)}}function Yv(a){return{type:lb(Zv,"type",a.type),queue:jb($v,"queue",a.queue),workflow:jb(aw,"workflow",a.Ih)}}
function Zv(a,b){switch(b){case "WORKFLOW":return"WORKFLOW";case "QUEUE":return"QUEUE";default:throw new TypeError('expected Destination2Type for property "'+a+'", found: '+JSON.stringify(b));}}function $v(a){return{queueName:ib("queueName",a.Vba),token:I("token",a.Go),expiryHours:eb("expiryHours",a.mba)}}function aw(a){return{taskToken:ib("taskToken",a.vca)}}
function Wv(a){return{destination:jb(Yv,"destination",a.destination),format:lb(Mv,"format",a.format),pages:fb(a.O),jpg:jb(bw,"jpg",a.GA),png:jb(cw,"png",a.AB),pdf:jb(dw,"pdf",a.Nba)}}function bw(a){return{width:eb("width",a.width),height:eb("height",a.height),jpgQuality:eb("jpgQuality",a.Zj),targetImageSizeKb:eb("targetImageSizeKb",a.Mx),zipped:hb("zipped",a.TI)}}
function cw(a){return{width:eb("width",a.width),height:eb("height",a.height),zipped:hb("zipped",a.TI),optimizationStrategy:mb(Nv,"optimizationStrategy",a.AO)}}function dw(a){return{rasterizePages:hb("rasterizePages",a.Wba)}}function ew(a){this.type=a.type;this.pu=a.pu;this.Kr=a.Kr;this.destination=a.destination;this.Es=a.Es;this.format=a.format;this.AO=a.AO;this.SA=a.SA;this.O=a.O||[];this.Mx=a.Mx;this.KV=a.KV;this.GV=a.GV;this.TI=a.TI;this.Zj=a.Zj;this.gt=a.gt}ew.prototype.lc=function(){return this.type};
ew.prototype.Fb=function(){return this.O};
function Uv(a){return{type:lb(fw,"type",a.type),bleed:hb("bleed",a.pu),crops:hb("crops",a.Kr),destination:mb(Lv,"destination",a.destination),mediaDpi:db("mediaDpi",a.Es),format:lb(Mv,"format",a.format),optimizationStrategy:mb(Nv,"optimizationStrategy",a.AO),mediaQuality:lb(Ov,"mediaQuality",a.SA),pages:fb(a.O),targetImageSizeKb:eb("targetImageSizeKb",a.Mx),imageWidth:eb("imageWidth",a.KV),imageHeight:eb("imageHeight",a.GV),zipped:hb("zipped",a.TI),jpgQuality:eb("jpgQuality",a.Zj),removeCanvas:hb("removeCanvas",
a.gt)}}function fw(a,b){switch(b){case "CUSTOM":return"CUSTOM";case "PRINT":return"PRINT";case "SCREEN":return"SCREEN";default:throw new TypeError('expected ExportType for property "'+a+'", found: '+JSON.stringify(b));}}function gw(a){this.Jj=a.Jj}gw.prototype.iM=function(){return this.Jj};function hw(a){return new gw({Jj:Oa(iw,"export",a)})}function jw(a){this.id=a.id;this.qB=a.qB;this.status=a.status;this.Dz=a.Dz}jw.prototype.u=function(){return this.id};jw.prototype.nh=function(){return this.status};
function iw(a){return new jw({id:B("id",a),qB:F(kw,"output",a),status:Pa(Qv,"status",a),Dz:D("failureReason",a)})}function lw(a){this.title=a.title;this.fF=a.fF||[]}lw.prototype.pb=function(){return this.title};function kw(a){return new lw({title:D("title",a),fF:G(mw,"exportBlobs",a)})}function nw(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url;this.width=a.width;this.height=a.height}f=nw.prototype;f.getKey=function(){return this.key};f.R=function(){return this.page};f.na=function(){return this.url};
f.l=function(){return this.width};f.o=function(){return this.height};function mw(a){return new nw({bucket:C("bucket",a),key:C("key",a),page:A("page",a),url:D("url",a),width:B("width",a),height:B("height",a)})}function ow(a){this.ku=a.ku;this.id=a.id}ow.prototype.u=function(){return this.id};function pw(a){this.Jj=a.Jj}pw.prototype.iM=function(){return this.Jj};function qw(a){return new pw({Jj:Oa(iw,"export",a)})}function rw(a){this.id=a.id}rw.prototype.u=function(){return this.id};
function sw(){}function tw(){return new sw};function uw(a,b){this.N=a;this.path="/export";this.ON=void 0!=b?b.ON:1E3;this.HW=void 0!=b?b.HW:3E4;this.UV=void 0!=b?b.UV:1.6}uw.prototype.eE=function(a){var b=this;return qj(this.N,this.path,Sv(a)).get(0).then(La).then(hw).bind(this).then(function(a){y(a.Jj.id);var d=a.Jj.id;return vw(b,a.Jj,b.ON).catch(P.CancellationError,function(a){return ww(b,new rw({id:d})).finally(function(){return P.reject(a)})})})};
function vw(a,b,c){c=Math.max(c||0,a.ON);return"FAILED"===b.status?P.reject(b):"CREATED"!==b.status?P.resolve(b):P.delay(c).cancellable().bind(a).then(function(){w(!!b.id,"Job id required to get an export");return this.iM(new ow({id:b.id,ku:!0}))}).then(function(a){return vw(this,a.Jj,Math.min(c*this.UV,this.HW))})}uw.prototype.iM=function(a){return sj(this.N,this.path+"/"+encodeURIComponent(a.id+"")+("?attachment\x3d"+encodeURIComponent(a.ku+""))).get(0).then(La).then(qw)};
function ww(a,b){return Ik(a.N,a.path+"/"+encodeURIComponent(b.id+"")).get(0).then(La).then(tw)};var xw={eaa:"FACEBOOK",kaa:"GOOGLE",laa:"INSTAGRAM",qaa:"LINKEDIN",saa:"PINTEREST",taa:"QQ",vaa:"SLACK",Daa:"TRELLO",Eaa:"TUMBLR",Faa:"TWITTER",Jaa:"VKONTAKTE",Kaa:"WECHAT",Laa:"WEIBO"};
function yw(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "INSTAGRAM":return"INSTAGRAM";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "QQ":return"QQ";case "SLACK":return"SLACK";case "TRELLO":return"TRELLO";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "VKONTAKTE":return"VKONTAKTE";case "WECHAT":return"WECHAT";case "WEIBO":return"WEIBO";default:throw new TypeError('expected Platform for property "'+a+'", found: '+JSON.stringify(b));
}}
function zw(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "INSTAGRAM":return"INSTAGRAM";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "QQ":return"QQ";case "SLACK":return"SLACK";case "TRELLO":return"TRELLO";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "VKONTAKTE":return"VKONTAKTE";case "WECHAT":return"WECHAT";case "WEIBO":return"WEIBO";default:throw new TypeError('expected Platform for property "'+a+'", found: '+JSON.stringify(b));}}
function Aw(a,b){switch(b){case "GET_BASIC_PROFILE":return"GET_BASIC_PROFILE";case "GET_EMAIL":return"GET_EMAIL";case "PUBLISH":return"PUBLISH";case "PUBLISH_TO_GROUP":return"PUBLISH_TO_GROUP";case "PUBLISH_TO_PAGE":return"PUBLISH_TO_PAGE";default:throw new TypeError('expected Permission for property "'+a+'", found: '+JSON.stringify(b));}}
function Bw(a,b){switch(b){case "GET_BASIC_PROFILE":return"GET_BASIC_PROFILE";case "GET_EMAIL":return"GET_EMAIL";case "PUBLISH":return"PUBLISH";case "PUBLISH_TO_GROUP":return"PUBLISH_TO_GROUP";case "PUBLISH_TO_PAGE":return"PUBLISH_TO_PAGE";default:throw new TypeError('expected Permission for property "'+a+'", found: '+JSON.stringify(b));}}
function Cw(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "PAGE":return"PAGE";case "GROUP":return"GROUP";default:throw new TypeError('expected TargetType for property "'+a+'", found: '+JSON.stringify(b));}}function Dw(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "PAGE":return"PAGE";case "GROUP":return"GROUP";default:throw new TypeError('expected TargetType for property "'+a+'", found: '+JSON.stringify(b));}}
function Ew(a){this.platform=a.platform;this.AR=a.AR;this.uv=a.uv||[];this.Ju=a.Ju||[];this.username=a.username}Ew.prototype.oh=function(){return this.username};function Fw(a){return new Ew({platform:Pa(zw,"platform",a),AR:Ma("userDeniedAuthorization",a),uv:Ra(Bw,"grantedPermissions",a),Ju:Ra(Bw,"deniedPermissions",a),username:D("username",a)})};var Gw={neverShowReplacePageContentWarning:"aa"};function Hw(a){this.N=a;this.path="/profile"}Hw.prototype.Oa=P.method(function(a){return sj(this.N,this.path+"/users/"+encodeURIComponent(a)).get(0).then(Iw)});function Jw(a,b){return sj(a.N,a.path+"/users/"+encodeURIComponent(b)+"?detailed").get(0).then(Kw)}
function Lw(a){return sj(a.N,a.path+"/user/uiinfo").get(0).then(function(a){for(var c=_.invert(Gw),d=la(Object.keys(a)),e=d.next();!e.done;e=d.next())e=e.value,c[e]&&(a[c[e]]=a[e],delete a[e]);return a})}function Mw(a,b,c){return Lw(a).then(function(a){Gw[b]&&(delete a[b],b=Gw[b]);if(a[b]===c)return a;a[b]=c;return qj(this.N,this.path+"/user/uiinfo",a).get(0)}.bind(a))}function Nw(a,b){return qj(a.N,a.path+"/brands/"+encodeURIComponent(b.brand),b).get(0).then(Ow)}
Hw.prototype.ja=function(a){return sj(this.N,this.path+"/brands/"+encodeURIComponent(a)).get(0).then(Pw)};Hw.prototype.dZ=P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ja())+"/invitations";return qj(this.N,b,a).spread(Qw)});
P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ja())+"/invitations?"+(null!=a.Kb()?"\x26continuation\x3d"+encodeURIComponent(a.Kb()):"")+(null!=a.Yd()?"\x26limit\x3d"+encodeURIComponent(a.Yd()):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(a.w3()?"\x26includeLinkInvitations\x3d"+encodeURIComponent(a.w3()):"");return sj(this.N,a).spread(Rw)});
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ja())+"/invitations?update\x3dtrue";return qj(this.N,b,Sw(a)).spread(Tw)});
Hw.prototype.Hz=P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ja())+"/members?"+(a.includeAvatars?"\x26includeAvatars\x3d"+encodeURIComponent(a.includeAvatars):"")+(a.includeEmails?"\x26includeEmails\x3d"+encodeURIComponent(a.includeEmails):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(null!=a.Kb()?"\x26continuation\x3d"+encodeURIComponent(a.Kb()):"")+(null!=a.Yd()?"\x26limit\x3d"+encodeURIComponent(a.Yd()):"")+(null!=a.users?"\x26users\x3d"+encodeURIComponent(a.users.join(",")):
"");return sj(this.N,a).spread(Uw)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ja())+"/members";return qj(this.N,b,a).spread(Vw)});function Ww(a,b){return sj(a.N,a.path+"/users/"+encodeURIComponent(b.user)+"/oauth/"+encodeURIComponent(b.platform)).get(0).then(La).then(Xw)};var sm="MEMBER";function Jh(a,b){switch(b){case "MEMBER":return sm;case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}function Yw(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Zw(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function $w(a,b){switch(b){case "AD":return"AD";case "AE":return"AE";case "AF":return"AF";case "AG":return"AG";case "AI":return"AI";case "AL":return"AL";case "AM":return"AM";case "AO":return"AO";case "AQ":return"AQ";case "AR":return"AR";case "AS":return"AS";case "AT":return"AT";case "AU":return"AU";case "AW":return"AW";case "AX":return"AX";case "AZ":return"AZ";case "BA":return"BA";case "BB":return"BB";case "BD":return"BD";case "BE":return"BE";case "BF":return"BF";case "BG":return"BG";case "BH":return"BH";
case "BI":return"BI";case "BJ":return"BJ";case "BL":return"BL";case "BM":return"BM";case "BN":return"BN";case "BO":return"BO";case "BQ":return"BQ";case "BR":return"BR";case "BS":return"BS";case "BT":return"BT";case "BV":return"BV";case "BW":return"BW";case "BY":return"BY";case "BZ":return"BZ";case "CA":return"CA";case "CC":return"CC";case "CD":return"CD";case "CF":return"CF";case "CG":return"CG";case "CH":return"CH";case "CI":return"CI";case "CK":return"CK";case "CL":return"CL";case "CM":return"CM";
case "CN":return"CN";case "CO":return"CO";case "CR":return"CR";case "CU":return"CU";case "CV":return"CV";case "CW":return"CW";case "CX":return"CX";case "CY":return"CY";case "CZ":return"CZ";case "DE":return"DE";case "DJ":return"DJ";case "DK":return"DK";case "DM":return"DM";case "DO":return"DO";case "DZ":return"DZ";case "EC":return"EC";case "EE":return"EE";case "EG":return"EG";case "EH":return"EH";case "ER":return"ER";case "ES":return"ES";case "ET":return"ET";case "FI":return"FI";case "FJ":return"FJ";
case "FK":return"FK";case "FM":return"FM";case "FO":return"FO";case "FR":return"FR";case "GA":return"GA";case "GB":return"GB";case "GD":return"GD";case "GE":return"GE";case "GF":return"GF";case "GG":return"GG";case "GH":return"GH";case "GI":return"GI";case "GL":return"GL";case "GM":return"GM";case "GN":return"GN";case "GP":return"GP";case "GQ":return"GQ";case "GR":return"GR";case "GS":return"GS";case "GT":return"GT";case "GU":return"GU";case "GW":return"GW";case "GY":return"GY";case "HK":return"HK";
case "HM":return"HM";case "HN":return"HN";case "HR":return"HR";case "HT":return"HT";case "HU":return"HU";case "ID":return"ID";case "IE":return"IE";case "IL":return"IL";case "IM":return"IM";case "IN":return"IN";case "IO":return"IO";case "IQ":return"IQ";case "IR":return"IR";case "IS":return"IS";case "IT":return"IT";case "JE":return"JE";case "JM":return"JM";case "JO":return"JO";case "JP":return"JP";case "KE":return"KE";case "KG":return"KG";case "KH":return"KH";case "KI":return"KI";case "KM":return"KM";
case "KN":return"KN";case "KP":return"KP";case "KR":return"KR";case "KW":return"KW";case "KY":return"KY";case "KZ":return"KZ";case "LA":return"LA";case "LB":return"LB";case "LC":return"LC";case "LI":return"LI";case "LK":return"LK";case "LR":return"LR";case "LS":return"LS";case "LT":return"LT";case "LU":return"LU";case "LV":return"LV";case "LY":return"LY";case "MA":return"MA";case "MC":return"MC";case "MD":return"MD";case "ME":return"ME";case "MF":return"MF";case "MG":return"MG";case "MH":return"MH";
case "MK":return"MK";case "ML":return"ML";case "MM":return"MM";case "MN":return"MN";case "MO":return"MO";case "MP":return"MP";case "MQ":return"MQ";case "MR":return"MR";case "MS":return"MS";case "MT":return"MT";case "MU":return"MU";case "MV":return"MV";case "MW":return"MW";case "MX":return"MX";case "MY":return"MY";case "MZ":return"MZ";case "NA":return"NA";case "NC":return"NC";case "NE":return"NE";case "NF":return"NF";case "NG":return"NG";case "NI":return"NI";case "NL":return"NL";case "NO":return"NO";
case "NP":return"NP";case "NR":return"NR";case "NU":return"NU";case "NZ":return"NZ";case "OM":return"OM";case "PA":return"PA";case "PE":return"PE";case "PF":return"PF";case "PG":return"PG";case "PH":return"PH";case "PK":return"PK";case "PL":return"PL";case "PM":return"PM";case "PN":return"PN";case "PR":return"PR";case "PS":return"PS";case "PT":return"PT";case "PW":return"PW";case "PY":return"PY";case "QA":return"QA";case "RE":return"RE";case "RO":return"RO";case "RS":return"RS";case "RU":return"RU";
case "RW":return"RW";case "SA":return"SA";case "SB":return"SB";case "SC":return"SC";case "SD":return"SD";case "SE":return"SE";case "SG":return"SG";case "SH":return"SH";case "SI":return"SI";case "SJ":return"SJ";case "SK":return"SK";case "SL":return"SL";case "SM":return"SM";case "SN":return"SN";case "SO":return"SO";case "SR":return"SR";case "SS":return"SS";case "ST":return"ST";case "SV":return"SV";case "SX":return"SX";case "SY":return"SY";case "SZ":return"SZ";case "TC":return"TC";case "TD":return"TD";
case "TF":return"TF";case "TG":return"TG";case "TH":return"TH";case "TJ":return"TJ";case "TK":return"TK";case "TL":return"TL";case "TM":return"TM";case "TN":return"TN";case "TO":return"TO";case "TR":return"TR";case "TT":return"TT";case "TV":return"TV";case "TW":return"TW";case "TZ":return"TZ";case "UA":return"UA";case "UG":return"UG";case "UM":return"UM";case "US":return"US";case "UY":return"UY";case "UZ":return"UZ";case "VA":return"VA";case "VC":return"VC";case "VE":return"VE";case "VG":return"VG";
case "VI":return"VI";case "VN":return"VN";case "VU":return"VU";case "WF":return"WF";case "WS":return"WS";case "YE":return"YE";case "YT":return"YT";case "ZA":return"ZA";case "ZM":return"ZM";case "ZW":return"ZW";case "ZZ":return"ZZ";default:throw new TypeError('expected CountryCode for property "'+a+'", found: '+JSON.stringify(b));}}
function ax(a){this.platform=a.platform;this.valid=a.valid;this.permissions=a.permissions||[];this.uv=a.uv||[];this.Ju=a.Ju||[];this.username=a.username;this.xg=a.xg;this.yY=a.yY;this.accessToken=a.accessToken}ax.prototype.oh=function(){return this.username};ax.prototype.bM=function(){return this.xg};
function bx(a){return new ax({platform:Pa(zw,"platform",a),valid:Ma("valid",a),permissions:Ra(Bw,"permissions",a),uv:Ra(Bw,"grantedPermissions",a),Ju:Ra(Bw,"deniedPermissions",a),username:D("username",a),xg:D("avatarUrl",a),yY:Na("refreshRecommended",a),accessToken:D("accessToken",a)})}function cx(a){this.user=a.user;this.platform=a.platform;this.n3=a.n3}cx.prototype.Oa=function(){return this.user};function dx(a){this.summary=a.summary}function Xw(a){return new dx({summary:Oa(bx,"summary",a)})}
function ex(a){this.version=a.version;this.sizes=a.sizes||new Map;this.status=a.status}ex.prototype.getVersion=function(){return this.version};ex.prototype.nh=function(){return this.status};function gx(a){return{version:db("version",a.version),sizes:nb(hx,"sizes",a.sizes),status:mb(Yw,"status",a.status)}}function ix(a){return new ex({version:A("version",a),sizes:Sa(jx,"sizes",a),status:Qa(Zw,"status",a)})}function kx(a){this.size=a.size;this.width=a.width;this.height=a.height;this.url=a.url}
kx.prototype.Pp=function(){return this.size};kx.prototype.l=function(){return this.width};kx.prototype.o=function(){return this.height};kx.prototype.na=function(){return this.url};function hx(a){return{size:db("size",a.size),width:db("width",a.width),height:db("height",a.height),url:ib("url",a.url)}}function jx(a){return new kx({size:A("size",a),width:A("width",a),height:A("height",a),url:C("url",a)})}function Sn(a){this.Eg=a.Eg;this.name=a.name}Sn.prototype.getName=function(){return this.name};
function lx(a){return new Sn({Eg:C("hexString",a),name:D("name",a)})}function Qn(a){this.dd=a.dd||[];this.name=a.name}Qn.prototype.Dg=function(){return this.dd};Qn.prototype.getName=function(){return this.name};function mx(a){return new Qn({dd:G(lx,"colors",a),name:D("name",a)})}function nx(a){this.family=a.family;this.size=a.size;this.bold=a.bold;this.italic=a.italic;this.media=a.media}nx.prototype.Pp=function(){return this.size};nx.prototype.Mb=function(){return this.media};
function ox(a){return new nx({family:D("family",a),size:A("size",a),bold:Na("bold",a),italic:Na("italic",a),media:F(Xm,"media",a)})}function px(a){this.name=a.name;this.font=a.font}px.prototype.getName=function(){return this.name};function qx(a){return new px({name:D("name",a),font:F(ox,"font",a)})}function rx(a){this.name=a.name;this.LC=a.LC||[]}rx.prototype.getName=function(){return this.name};function sx(a){return new rx({name:D("name",a),LC:G(qx,"textStyles",a)})}
function tx(a){this.Qb=a.Qb;this.Ly=a.Ly||[];this.KC=a.KC||[]}tx.prototype.Cp=function(){return this.Qb};function ux(a){return new tx({Qb:F(lx,"brandColor",a),Ly:G(mx,"colorPalettes",a),KC:G(sx,"textStylePalettes",a)})}function vx(a){this.id=a.id;this.username=a.username;this.zB=a.zB;this.displayName=a.displayName;this.LM=a.LM;this.Vd=a.Vd;this.rb=a.rb;this.FD=a.FD;this.locale=a.locale;this.sE=a.sE}f=vx.prototype;f.u=function(){return this.id};f.oh=function(){return this.username};f.Wz=function(){return this.zB};
f.Lb=function(){return this.displayName};f.bs=function(){return this.Vd};f.Oj=function(){return this.rb};f.cV=function(){return this.FD};f.eg=function(){return this.locale};function Sw(a){return{brand:ib("brand",a.D),removeEmail:I("removeEmail",a.Zba),removeInviteLink:hb("removeInviteLink",a.$ba)}}function wx(){}function Tw(){return new wx}function xx(a){this.vY=a.vY};function yx(){this.enabled=null;this.allowedReferrers=[]}yx.prototype.isEnabled=function(){return this.enabled};function zx(){this.id="";this.brandname=this.displayName=null;this.thirdParty=this.layoutContributor=this.contributor=this.personal=!1;this.billingInfo=this.brandKit=this.apiSettings=null}f=zx.prototype;f.u=function(){return this.id};f.Lb=function(){return this.displayName};f.dM=function(){return this.brandname};f.XV=function(){return this.contributor};f.bW=function(){return this.layoutContributor};
f.ei=function(){return this.personal};f.eW=function(){return this.thirdParty};f.Dp=function(){return this.brandKit?ux(this.brandKit):null};function Ow(a){if(!a)return null;a=Df(zx,a);var b;b=(b=a.apiSettings)?Df(yx,b):null;a.apiSettings=b;return a}function Ax(a){a=void 0===a?{}:a;this.id=a.id||"";this.displayName=a.displayName||null;this.brandname=a.Uaa||null;this.personal=a.Yn||!1;this.contributor=a.Yaa||!1;this.layoutContributor=a.Fba||!1;this.thirdParty=a.xca||!1;this.brandColor=a.Qb||null}f=Ax.prototype;
f.u=function(){return this.id};f.Lb=function(){return this.displayName};f.dM=function(){return this.brandname};f.XV=function(){return this.contributor};f.bW=function(){return this.layoutContributor};f.ei=function(){return this.personal};f.eW=function(){return this.thirdParty};f.Cp=function(){return this.brandColor};function Pw(a){return a?Df(Ax,a):null}
function Bx(){this.brand="";this.owner=this.billingInfo=this.hiddenMagicTemplates=this.personal=this.brandKit=this.apiSettings=this.displayName=this.brandname=null}f=Bx.prototype;f.Lo=function(a){this.brand=a;return this};f.u=function(){return this.brand};f.Rt=function(a){this.brandname=a;return this};f.getName=function(){return this.brandname};function Cx(a,b){a.displayName=b;return a}f.Lb=function(){return this.displayName};function Dx(a){a.personal=!1;return a}
function Ex(a){a=void 0===a?{}:a;this.id=a.id||"UNKNOWN_USER_ID";this.username=a.username||"";this.personalBrand=a.zB||"";this.displayName=a.displayName||"";this.homepage=a.LM||null;this.city=a.Vd||null;this.countryCode=a.rb||null;this.avatar=a.FD||null;this.roles=a.gca||[];this.deactivated=a.sE||!1;this.locale=a.locale||"en"}f=Ex.prototype;f.u=function(){return this.id};f.oh=function(){return this.username};f.Wz=function(){return this.personalBrand};f.Lb=function(){return this.displayName};
f.bs=function(){return this.city};f.Oj=function(){return this.countryCode};f.fv=function(){return this.avatar};f.sv=function(){return this.roles};function Iw(a){if(!a)return null;a=Df(Ex,a);a.avatar&&(a.avatar=ix(a.avatar));return a}function Ak(a){return Iw(a)}
f.NC=function(){var a=Object.assign({},this,{avatar:this.avatar&&gx(this.avatar)});return new vx({id:C("id",a),username:D("username",a),zB:D("personalBrand",a),displayName:D("displayName",a),LM:D("homepage",a),Vd:D("city",a),rb:Qa($w,"countryCode",a),FD:Oa(ix,"avatar",a),locale:C("locale",a),sE:Ma("deactivated",a)})};f.bM=function(a){var b=this.fv();return b&&(a=b.sizes.get(a))?a.na():null};
function Fx(){this.id="";this.creationDate=0;this.temporary=this.deactivated=!1;this.email=this.displayName="";this.emailStatus=null;this.username="";this.apiDetails=this.google=this.facebook=this.credentials=this.avatar=this.userNotificationSettings=this.countryCode=this.city=this.homepage=null;this.roles=[];this.personalBrand="";this.brands={};this.uiInfo=null;this.locale="";this.phoneNumber=this.profession=null}f=Fx.prototype;f.u=function(){return this.id};f.Lb=function(){return this.displayName};
f.fj=function(){return this.email};f.ZV=function(){return"VERIFIED"===this.emailStatus};f.oh=function(){return this.username};f.bs=function(){return this.city};f.Oj=function(){return this.countryCode};f.hZ=function(a){this.countryCode=a};f.fv=function(){return this.avatar};f.sv=function(){return this.roles};f.Wz=function(){return this.personalBrand};f.dV=function(){return this.brands};f.aA=function(){return this.uiInfo};f.eg=function(){return this.locale};f.setLocale=function(a){this.locale=a};
function Kw(a){var b;if(!a)return null;b=Df(Fx,a);b.avatar&&(b.avatar=ix(b.avatar));a.userNotificationSettings&&(b.userNotificationSettings=new xx({vY:Ma("receiveSocialEmails",a.userNotificationSettings)}));return b}f.bM=function(a){var b=this.fv();return b&&(a=b.sizes.get(a))?a.na():null};
f.NC=function(){return Iw({id:this.id,username:this.username,personalBrand:this.personalBrand,displayName:this.displayName,homepage:this.homepage,city:this.city,countryCode:this.countryCode,avatar:this.avatar&&gx(this.avatar),roles:this.roles,deactivated:this.deactivated,locale:this.locale})};var Gx=ix({version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}});function Hx(){}
Hx.prototype.fj=function(){return this.email};Hx.prototype.rv=function(){return this.role};function Ix(){}Ix.prototype.wj=function(a){this.brand=a;return this};Ix.prototype.ja=function(){return this.brand};function Jx(a,b){a.invitees=b;return a}function Kx(a,b){a.utmContent=b;return a}function Lx(){}function Qw(a){return Object.freeze(Df(Lx,a))}function Mx(){}Mx.prototype.Kb=function(){return this.continuation};Mx.prototype.getCount=function(){return this.count};
function Rw(a){return Object.freeze(Df(Mx,a))}function Nx(a){a=void 0===a?{}:a;this.user=a.user;this.email=a.email;this.role=a.xd}Nx.prototype.Oa=function(){return this.user};Nx.prototype.fj=function(){return this.email};Nx.prototype.rv=function(){return this.role};function Ox(a){a=Df(Nx,a);a.user=Iw(a.user);return Object.freeze(a)}function Px(){}f=Px.prototype;f.wj=function(a){this.brand=a;return this};f.ja=function(){return this.brand};f.xj=function(a){this.continuation=a;return this};f.Kb=function(){return this.continuation};
f.Tg=function(a){this.limit=a;return this};f.Yd=function(){return this.limit};function Qx(a){a.includeAvatars=!0;return a}function Rx(a){a.includeEmails=!0;return a}function Sx(a){a.countOnly=!0;return a}function Tx(a,b){a.users=b;return a}function Ux(a){a=void 0===a?{}:a;this.members=a.v4;this.continuation=a.Y}Ux.prototype.EF=function(){return this.members};Ux.prototype.Kb=function(){return this.continuation};Ux.prototype.getCount=function(){return this.count};
function Uw(a){a=Df(Ux,a);a.members&&(a.members=a.members.map(Ox));return Object.freeze(a)}function Vx(){}Vx.prototype.EF=function(){return this.members};Vx.prototype.ja=function(){return this.brand};function Vw(a){a=Df(Vx,a);a.members&&(a.members=a.members.map(Ox));return Object.freeze(a)};function Wx(){this.N=Ib;this.path="/social"};function Xx(){}function Yx(){var a=Df(Xx,window.clientInfo),b;b=Df(Zx,a.brandInfo);b.brand=Pw(b.brand);b.subscription&&(b.subscription=$i(b.subscription));b=Object.freeze(b);a.brandInfo=b;b=Df($x,a.user);b.avatar&&(b.avatar=ix(b.avatar));b=Object.freeze(b);a.user=b;return Object.freeze(a)}function ay(a){return a.brandInfo}function by(a){return a.user}function Zx(){}Zx.prototype.ja=function(){return this.brand};Zx.prototype.Dp=function(){return this.brandKit?ux(this.brandKit):null};
Zx.prototype.getSubscription=function(){return this.subscription||null};function cy(a){return a.brandMembersCount}function dy(a){return a.brandInvitationsCount}function $x(){}f=$x.prototype;f.u=function(){return this.id};f.cV=function(){return this.avatar};f.fj=function(){return this.email};f.ZV=function(){return this.emailVerified};f.oh=function(){return this.username};f.Lb=function(){return this.displayName};f.sv=function(){return this.roles};f.Wz=function(){return this.personalBrand};f.aA=function(){return this.uiInfo};
f.eg=function(){return this.locale};f.Rz=function(){return this.country};f.NC=function(){return Iw({id:this.u(),username:this.oh(),personalBrand:this.Wz(),displayName:this.Lb(),avatar:gx(this.cV()),roles:this.sv(),countryCode:this.Rz(),locale:this.eg()})};function ey(){this.N=Ib;this.url="/session"}function fy(a){return qj(a.N,a.url+"/brand?invalidateCache",null)}function gy(a){return qj(a.N,a.url+"/user?invalidateCache",null)};function hy(a){this.N=a;this.url="/shares"}hy.prototype.vM=function(a){return sj(this.N,this.url+"/"+encodeURIComponent(a.id)).get(0).then(La).then(iy)};function jy(a,b){return qj(a.N,a.url+"/targetqueues",ky(b)).get(0).then(La).then(ly)}
function my(a,b){return sj(a.N,a.url+"/targetqueues?"+(b.user?"\x26user\x3d"+encodeURIComponent(b.user):"")+(b.D?"\x26brand\x3d"+encodeURIComponent(b.D):"")+(b.pf?"\x26targetType\x3d"+encodeURIComponent(b.pf):"")+(b.externalId?"\x26externalId\x3d"+encodeURIComponent(b.externalId):"")+(b.platform?"\x26platform\x3d"+encodeURIComponent(b.platform):"")+(b.Y?"\x26continuation\x3d"+encodeURIComponent(b.Y):"")+("\x26limit\x3d"+encodeURIComponent(String(b.limit)))).get(0).then(La).then(ny)}
function oy(a,b){return qj(a.N,a.url+"/email/document/"+encodeURIComponent(b.ob),py(b)).get(0).then(La).then(qy)}function ry(a,b){return sj(a.N,a.url+"/email/quota/"+encodeURIComponent(b.Yw)).get(0).then(La).then(sy)};function ty(a,b){switch(b){case "NEW":return"NEW";case "IN_PROGRESS":return"IN_PROGRESS";case "SUCCESS":return"SUCCESS";case "FAILURE":return"FAILURE";default:throw new TypeError('expected Status for property "'+a+'", found: '+JSON.stringify(b));}}function uy(a,b){switch(b){case "PNG":return"PNG";case "PDF":return"PDF";case "JPG":return"JPG";default:throw new TypeError('expected ShareFileFormat for property "'+a+'", found: '+JSON.stringify(b));}}
function vy(a,b){switch(b){case "PNG":return"PNG";case "PDF":return"PDF";case "JPG":return"JPG";default:throw new TypeError('expected ShareFileFormat for property "'+a+'", found: '+JSON.stringify(b));}}
function wy(a,b){switch(b){case "PREPARATION_REQUIRED":return"PREPARATION_REQUIRED";case "PREPARATION_STARTED":return"PREPARATION_STARTED";case "PREPARATION_COMPLETED":return"PREPARATION_COMPLETED";case "PREPARATION_FAILED":return"PREPARATION_FAILED";default:throw new TypeError('expected PreparationStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function xy(a,b){switch(b){case "WAITING_FOR_MEDIA":return"WAITING_FOR_MEDIA";case "READY_FOR_UPLOAD":return"READY_FOR_UPLOAD";case "MEDIA_GENERATION_FAILED":return"MEDIA_GENERATION_FAILED";case "LOCKED_FOR_UPLOAD":return"LOCKED_FOR_UPLOAD";case "UPLOAD_IN_PROGRESS":return"UPLOAD_IN_PROGRESS";case "UPLOAD_COMPLETED":return"UPLOAD_COMPLETED";case "UPLOAD_FAILED":return"UPLOAD_FAILED";case "DELETED_BY_USER":return"DELETED_BY_USER";case "SKIPPED":return"SKIPPED";default:throw new TypeError('expected UploadTaskStatus for property "'+
a+'", found: '+JSON.stringify(b));}}function yy(a,b){switch(b){case "UPLOAD_NOW":return"UPLOAD_NOW";case "SCHEDULE_FOR_DATE":return"SCHEDULE_FOR_DATE";case "APPEND_TO_QUEUE":return"APPEND_TO_QUEUE";case "PREPEND_TO_QUEUE":return"PREPEND_TO_QUEUE";case "SKIP_UPLOAD":return"SKIP_UPLOAD";default:throw new TypeError('expected Action for property "'+a+'", found: '+JSON.stringify(b));}}
function zy(a,b){switch(b){case "UPLOAD_NOW":return"UPLOAD_NOW";case "SCHEDULE_FOR_DATE":return"SCHEDULE_FOR_DATE";case "APPEND_TO_QUEUE":return"APPEND_TO_QUEUE";case "PREPEND_TO_QUEUE":return"PREPEND_TO_QUEUE";case "SKIP_UPLOAD":return"SKIP_UPLOAD";default:throw new TypeError('expected Action for property "'+a+'", found: '+JSON.stringify(b));}}
function Ay(a,b){switch(b){case "WEB_1":return"WEB_1";case "WEB_2":return"WEB_2";default:throw new TypeError('expected DocumentSchema for property "'+a+'", found: '+JSON.stringify(b));}}function By(a,b){switch(b){case "QUEUED":return"QUEUED";case "SCHEDULED":return"SCHEDULED";case "MANUAL":return"MANUAL";default:throw new TypeError('expected UploadType for property "'+a+'", found: '+JSON.stringify(b));}}function Cy(a){this.platform=a.platform;this.pf=a.pf;this.externalId=a.externalId}
function Dy(a){return{platform:lb(yw,"platform",a.platform),targetType:lb(Cw,"targetType",a.pf),externalId:I("externalId",a.externalId)}}function Ey(a){this.id=a.id;this.platform=a.platform;this.Nx=a.Nx;this.WS=a.WS||[];this.version=a.version;this.document=a.document;this.Zb=a.Zb;this.message=a.message;this.title=a.title;this.OA=a.OA;this.status=a.status;this.w_=a.w_;this.cz=a.cz;this.url=a.url;this.xp=a.xp;this.bU=a.bU;this.v_=a.v_;this.u_=a.u_;this.x_=a.x_}f=Ey.prototype;f.u=function(){return this.id};
f.getVersion=function(){return this.version};f.getDocument=function(){return this.document};f.pb=function(){return this.title};f.nh=function(){return this.status};f.na=function(){return this.url};f.hV=function(){return this.xp};
function Fy(a){return new Ey({id:C("id",a),platform:Pa(zw,"platform",a),Nx:F(Gy,"targetQueue",a),WS:G(Hy,"attachments",a),version:A("version",a),document:D("document",a),Zb:B("documentVersion",a),message:D("message",a),title:D("title",a),OA:D("linkUrl",a),status:Pa(ty,"status",a),w_:Pa(xy,"uploadTaskStatus",a),cz:Ma("deleted",a),url:D("url",a),xp:D("errorMessage",a),bU:B("desiredUploadDate",a),v_:B("uploadStartDate",a),u_:B("uploadEndDate",a),x_:Qa(By,"uploadType",a)})}
function Iy(a){this.id=a.id;this.wf=a.wf;this.user=a.user;this.D=a.D;this.action=a.action;this.status=a.status;this.bY=a.bY;this.Wx=a.Wx||[]}Iy.prototype.u=function(){return this.id};Iy.prototype.Oa=function(){return this.user};Iy.prototype.ja=function(){return this.D};Iy.prototype.nh=function(){return this.status};
function Jy(a){return new Iy({id:C("id",a),wf:A("creationDate",a),user:C("user",a),D:C("brand",a),action:Pa(zy,"action",a),status:Pa(ty,"status",a),bY:Pa(wy,"preparationStatus",a),Wx:G(Fy,"uploads",a)})}
function Ky(a){this.id=a.id;this.user=a.user;this.D=a.D;this.platform=a.platform;this.pf=a.pf;this.externalId=a.externalId;this.HU=a.HU;this.JU=a.JU;this.paused=a.paused;this.h_=a.h_||[];this.i_=a.i_;this.tY=a.tY;this.uY=a.uY;this.XY=a.XY;this.YY=a.YY;this.timeZone=a.timeZone;this.Tl=a.Tl;this.cz=a.cz}Ky.prototype.u=function(){return this.id};Ky.prototype.Oa=function(){return this.user};Ky.prototype.ja=function(){return this.D};
function Gy(a){return new Ky({id:C("id",a),user:C("user",a),D:C("brand",a),platform:Pa(zw,"platform",a),pf:Pa(Dw,"targetType",a),externalId:D("externalId",a),HU:D("externalName",a),JU:D("externalThumb",a),paused:Ma("paused",a),h_:G(Ly,"triggerPatterns",a),i_:A("triggerPatternsCount",a),tY:A("queuedUploadsCount",a),uY:A("queuedUploadsHistoricCount",a),XY:A("scheduledUploadsCount",a),YY:A("scheduledUploadsHistoricCount",a),timeZone:D("timeZone",a),Tl:Ma("restricted",a),cz:Ma("deleted",a)})}
function My(a){this.user=a.user;this.D=a.D;this.document=a.document;this.Zb=a.Zb;this.O=a.O||[];this.C_=a.C_||[];this.message=a.message;this.title=a.title;this.OA=a.OA;this.Gj=a.Gj;this.DK=a.DK||[];this.Dt=a.Dt||[];this.action=a.action;this.WY=a.WY;this.zh=a.zh;this.pI=a.pI;this.Tm=a.Tm}f=My.prototype;f.Oa=function(){return this.user};f.ja=function(){return this.D};f.getDocument=function(){return this.document};f.Fb=function(){return this.O};f.pb=function(){return this.title};f.He=function(){return this.Gj};
function Ny(a){return{user:ib("user",a.user),brand:ib("brand",a.D),document:I("document",a.document),documentVersion:eb("documentVersion",a.Zb),pages:fb(a.O),userUploads:kb(Oy,"userUploads",a.C_),message:I("message",a.message),title:I("title",a.title),linkUrl:I("linkUrl",a.OA),draft:I("draft",a.Gj),destinations:kb(Dy,"destinations",a.DK),targetQueues:$a.de("targetQueues",a.Dt),action:lb(yy,"action",a.action),scheduleDate:I("scheduleDate",a.WY),schema:mb(Ay,"schema",a.zh),supportErrorResponse:gb("supportErrorResponse",
a.pI),fileFormat:mb(uy,"fileFormat",a.Tm)}}function Py(a){this.type=a.type}function Qy(a){switch(a.type){case "SUCCESS":return w("SUCCESS"===a.type),new Ry({id:C("id",a),am:Oa(Jy,"share",a)});case "ERROR":return w("ERROR"===a.type),new Sy({message:C("message",a)});default:throw Error("unknown case: "+a.type);}}function Ry(a){this.type="SUCCESS";this.id=a.id;this.am=a.am}r(Ry,Py);Ry.prototype.u=function(){return this.id};Ry.prototype.vM=function(){return this.am};
function Sy(a){this.type="ERROR";this.message=a.message}r(Sy,Py);function Ty(a){this.id=a.id}Ty.prototype.u=function(){return this.id};function Uy(a){this.am=a.am}Uy.prototype.vM=function(){return this.am};function iy(a){return new Uy({am:Oa(Jy,"share",a)})}function Vy(a){this.user=a.user;this.D=a.D;this.platform=a.platform;this.pf=a.pf;this.timeZone=a.timeZone;this.externalId=a.externalId;this.Tl=a.Tl}Vy.prototype.Oa=function(){return this.user};Vy.prototype.ja=function(){return this.D};
function ky(a){return{user:ib("user",a.user),brand:ib("brand",a.D),platform:lb(yw,"platform",a.platform),targetType:lb(Cw,"targetType",a.pf),timeZone:I("timeZone",a.timeZone),externalId:I("externalId",a.externalId),restricted:hb("restricted",a.Tl)}}function Wy(a){this.Nx=a.Nx}function ly(a){return new Wy({Nx:Oa(Gy,"targetQueue",a)})}function Xy(a){this.user=a.user;this.D=a.D;this.platform=a.platform;this.pf=a.pf;this.externalId=a.externalId;this.Tl=a.Tl;this.Y=a.Y;this.limit=a.limit}
Xy.prototype.Oa=function(){return this.user};Xy.prototype.ja=function(){return this.D};Xy.prototype.Kb=function(){return this.Y};Xy.prototype.Yd=function(){return this.limit};function Yy(a){this.Dt=a.Dt||[];this.Y=a.Y}Yy.prototype.Kb=function(){return this.Y};function ny(a){return new Yy({Dt:G(Gy,"targetQueues",a),Y:D("continuation",a)})}function Zy(a){this.d=a.d;this.h=a.h;this.m=a.m}function Ly(a){return new Zy({d:A("d",a),h:A("h",a),m:A("m",a)})}
function $y(a){this.ob=a.ob;this.jU=a.jU;this.mode=a.mode;this.Ye=a.Ye;this.ua=a.ua;this.Tr=a.Tr||[];this.hd=a.hd;this.Yw=a.Yw;this.XC=a.XC;this.BH=a.BH}$y.prototype.hc=function(){return this.ob};$y.prototype.getExtension=function(){return this.Ye};
function py(a){return{documentId:ib("documentId",a.ob),documentUrl:I("documentUrl",a.jU),mode:ib("mode",a.mode),extension:I("extension",a.Ye),brandId:I("brandId",a.ua),emails:$a.de("emails",a.Tr),imageUrl:I("imageUrl",a.hd),senderId:I("senderId",a.Yw),utmSource:I("utmSource",a.XC),recaptchaToken:I("recaptchaToken",a.BH)}}function az(a){this.xP=a.xP}function qy(a){return new az({xP:Na("recaptchaRequired",a)})}function bz(a){this.Yw=a.Yw}function cz(a){this.up=a.up}
function sy(a){return new cz({up:A("emailsRemaining",a)})}function dz(a){this.displayName=a.displayName;this.bucket=a.bucket;this.HV=a.HV;this.JV=a.JV;this.hd=a.hd;this.er=a.er;this.Tm=a.Tm;this.order=a.order}dz.prototype.Lb=function(){return this.displayName};dz.prototype.cn=function(){return this.order};
function Hy(a){return new dz({displayName:D("displayName",a),bucket:C("bucket",a),HV:C("imageKey",a),JV:D("imageThumbKey",a),hd:C("imageUrl",a),er:D("thumbUrl",a),Tm:Pa(vy,"fileFormat",a),order:B("order",a)})}function Oy(a){return{key:ib("key",a.key),displayName:I("displayName",a.displayName)}};function kp(){}kp=Backbone.View.extend();kp.prototype.initialize=function(a){a=_.defaults({},a,{Cr:!0,content:$(),hf:!0,yo:!0});this.H=a.H;this.Cr=!!a.Cr;this.content=a.content;this.Od=new ez({style:this.Jp(),H:this.H});this.listenTo(this.Od,"maskClick",this.blur);this.result=1;this.hf=!!a.hf;this.Qe=!!a.Qe;this.yo=!!a.yo;this.title=a.yo?a.title:"";this.Dz=null;this.yx=!1};kp.hS=300;f=kp.prototype;f.blur=function(){this.Cr&&(this.result=0,this.remove())};f.cancel=function(){this.result=1;this.remove()};
f.fail=function(a){this.result=3;this.Dz=a||null;this.remove()};f.events=function(){return{"click .close":this.IG,"click .dialogMaskCloseButton":this.IG,"click button.done":this.ok}};f.Jp=function(){return fz};f.ok=function(){this.result=2;this.remove()};f.IG=function(a){a.preventDefault();this.cancel()};
f.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.Od.hide();this.yx=!1;this.trigger("hide",this.result);this.H.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},kp.hS);return this};f.render=function(){this.$el.html(this.template(this.si()));this.$(".content").append(this.content);this.$(".dialog").data("Canva_Views_Dialog",this);return this};
f.si=function(){return{showCloseButton:this.hf,showDialogMaskCloseButton:this.Qe,showTitle:this.yo,title:this.title}};f.E9=function(a){this.$("h2").text(a);this.title=a};
f.show=function(){function a(d){d.target===d.currentTarget&&(b.off("animationend transitionend",a),c.trigger("showTransitionEnd",c))}var b,c=this;this.render();b=this.$el.children(".dialog");this.Od.show(this.$el);this.yx=!0;this.trigger("show",this);il(function(){b.removeClass("preparing");b.on("animationend transitionend",a)});return this};function np(a){return new P(function(a,c){this.once("hide",function(d){3!==d?a(d):c(this.Dz)}.bind(this));this.show()}.bind(a))}f.template=_.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2 class\x3d"dialog__title"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');function gz(){}gz=kp.extend({className:"fontUploadDialog"});gz.create=function(a){return new gz(a)};f=gz.prototype;f.events=function(){return _.extend(kp.prototype.events.call(this),{"click .fontUploadDialogConfirm":this.w5,"click .fontUploadDialogFinish":this.ok,"click .fontUploadDialogCancel":this.lT})};f.initialize=function(a){kp.prototype.initialize.call(this,{H:hl,hf:!0,Cr:!0,Qe:!1});this.error=null;this.bg=a.bg;this.Kz=this.bg.cba();this.opentype=opentype;this.progress=!1};
f.render=function(){kp.prototype.render.call(this);hz(this);this.$(".fontFileInput").remove();var a=$('\x3cinput class\x3d"fontFileInput" type\x3d"file" accept\x3d".ttf,.otf,.woff"\x3e');this.$el.append(a);a.on("change",this.b5.bind(this));return this};
f.b5=function(){var a={message:this.bg.Xba()},b=this.$(".fontFileInput")[0].files;if(b.length&&/.*\.(ttf|otf|woff)$/gi.test(b[0].name)){if(this.error=null,this.rF=b[0],this.Kz=this.rF.name,this.opentype){var c=new FileReader;c.onload=function(){if(c.result)try{var b=this.opentype.parse(c.result);b&&b.supported?b.names&&b.names.fullName&&b.names.fullName.en&&(this.Kz=b.names.fullName.en):this.error=a}catch(e){this.error=a}else this.error=a;this.show()}.bind(this);c.readAsArrayBuffer(this.rF);return}}else this.error=
{message:this.bg.Raa()};this.show()};f.w5=function(){this.$(".fontUploadDialogDisclaimerCheck").prop("checked")?(this.progress=1,this.$(".fontUploadDialogBlurb").html(this.bg.Rba()),this.$(".fontUploadDialogConfirm").addClass("buttonProgress").html('\x3cspan class\x3d"buttonProgressIndicator"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonProgressText"\x3e'+this.bg.Dca()+"\x26hellip;\x3c/span\x3e"),this.rF&&this.trigger("fontUpload",this.rF)):iz(this)};
function jz(a){return{canEditFontName:!1,error:null!=a.error?a.error.message:!1,supportUrl:null!=a.error?a.error.qI:null,supportTitle:null!=a.error?a.error.rca:"fonts",fontName:a.Kz,progress:a.progress||!1,sorrySomethingWentWrong:a.bg.nca(),pleaseSeeSupportArticle:a.bg.Qba(),beforeYouUpload:a.bg.Saa(),fontNameHeading:a.bg.qba(),ok:a.bg.ok(),youMustConfirm:a.bg.Ica(),iOwnThisFont:a.bg.tba(),uploadAway:a.bg.Cca(),cancelUpload:a.bg.lT()}}
function iz(a){a.$(".fontUploadDialogDisclaimerError").addClass("on");setTimeout(function(){this.$(".fontUploadDialogDisclaimerError").removeClass("on")}.bind(a),3200)}f.kf=function(a){this.error=a;hz(this)};function hz(a){a.$(".fontUploadDialogContents").remove();a.$(".dialog .content").append(a.dK(jz(a)))}f.wZ=function(a){this.progress=Math.round(100*a);this.$(".buttonProgressIndicator").css("width",String(this.progress)+"%")};f.lT=function(){this.trigger("fontUploadCancel");this.cancel()};
f.dK=_.template('\x3cdiv class\x3d"fontUploadDialogContents"\x3e\x3c% if (error) { %\x3e\x3ch2\x3e\x3c%- sorrySomethingWentWrong %\x3e\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogError"\x3e\x3cp\x3e\x3c%- error %\x3e\x3c/p\x3e\x3c% if (supportUrl !\x3d null) { %\x3e\x3cp\x3e\x3c%- pleaseSeeSupportArticle %\x3e\x3ca href\x3d"\x3c%- supportUrl %\x3e" target\x3d"_blank"\x3e\x3c%- supportTitle %\x3e\x3c/a\x3e \x3c/p\x3e\x3c% } %\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogFinish"\x3e\x3c%- ok %\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ch2\x3e\x3c%- beforeYouUpload %\x3e\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogDisclaimer"\x3e\x3cp\x3e\x3cstrong\x3e\x3c%- fontNameHeading %\x3e\x3c/strong\x3e: \x3c% if (canEditFontName) { %\x3e\x3cinput class\x3d"fontUploadDialogFontName" autocomplete\x3d"off" value\x3d"\x3c%- fontName %\x3e"\x3e\x3c% } else { %\x3e\x3c%- fontName %\x3e\x3c% } %\x3e\x3c/p\x3e\x3cp\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerError"\x3e\x3c%- youMustConfirm %\x3e\x3c/span\x3e\x3clabel\x3e\x3cinput class\x3d"fontUploadDialogDisclaimerCheck" type\x3d"checkbox"\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerText"\x3e\x3c%- iOwnThisFont %\x3e\x3c/span\x3e\x3c/label\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogConfirm"\x3e\x3c%- uploadAway %\x3e\x3c/button\x3e\x3cspan class\x3d"fontUploadDialogCancel"\x3e\x3c%- cancelUpload %\x3e\x3c/span\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');function kz(){}kz=Backbone.View.extend({className:"multipageDialog"});f=kz.prototype;f.initialize=function(a){this.H=hl;this.yg=0;this.iF=a.iF||[];this.Vi=void 0===a.Vi||a.Vi;this.Qe=!!a.Qe;this.Od=new ez({H:this.H,style:fz});this.O=a.O;this.O.forEach(function(a){this.listenTo(a,"next",this.M9);this.listenTo(a,"back",this.O9)},this)};f.events=function(){return{click:this.Jf,"click .dialogMaskCloseButton":this.hide}};
f.hide=function(){this.$el.addClass("multipageDialogDisappearing");this.Od.hide();this.H.setTimeout(function(){this.trigger("hide")}.bind(this),300)};f.Jf=function(a){$(a.target).is(".multipageDialogPage, .multipageDialogPageWrapper")&&this.Vi&&this.hide()};
f.render=function(){var a=this;(function(){a.iF.forEach(function(b){a.$el.addClass(b)})})();(function(){a.O.forEach(function(a){a.$el.detach()});a.$el.empty()})();a.Qe&&a.$el.append('\x3cbutton class\x3d"buttonLink dialogMaskCloseButton"\x3eClose\x3c/button\x3e');(function(){a.O.forEach(function(b){var c,d;c=$("\x3cdiv\x3e").addClass("multipageDialogPageWrapper");d=$("\x3cdiv\x3e").addClass("multipageDialogPage");c.append(d);d.append(b.render().$el);a.$el.append(c)})})();lz(this,this.yg);return this};
f.show=function(){this.$el.addClass("multipageDialogAppearing");this.Od.show(this.render().$el);this.H.setTimeout(function(){this.$el.removeClass("multipageDialogAppearing")}.bind(this),300)};f.M9=function(){var a=this.yg+1;a>=this.O.length?this.hide():lz(this,a)};f.O9=function(){var a=this.yg-1;0>a?this.hide():lz(this,a)};
function lz(a,b){a.trigger("pageChange",a.O[b]);var c=a.$(".multipageDialogPageWrapper"),d=a.$(".multipageDialogPage");a.yg=b;c.css("transform","translateY("+-100*b+"%)");d.removeClass("multipageDialogCurrentPage");d.eq(b).addClass("multipageDialogCurrentPage")};function mz(a){var b={},c=a.NS.jl(),d=a.gp.l(),e=c-a.margin-a.II.F(),g=a.II.Za()-c-a.margin;b.left=Math.round((g>=d||g>=e?c+a.margin:c-a.margin-d)-a.aX.F())+"px";c=a.NS.kl();d=a.gp.o();e=c-a.margin-a.II.w();g=a.II.wa()-c-a.margin;b.top=Math.round((g>=d||g>=e?c+a.margin:c-a.margin-d)-a.aX.w())+"px";return b}function nz(a){this.sy=a.sy;this.bA=a.bA;this.margin=a.margin||0;this.zC=a.zC}
nz.prototype.gm=function(a,b){if(0!==b.length&&0!==a.length){this.sy(a);var c=a.get(0),d=b.get(0),e=c.offsetParent||c.ownerDocument.body;b=this.bA().get(0)||c.ownerDocument.body;c=Wg(c.getBoundingClientRect());d=Wg(d.getBoundingClientRect());e=Wg(e.getBoundingClientRect());b=Wg(b.getBoundingClientRect());Am(d,this.margin);Am(b,-this.margin);b=this.zC({margin:this.margin,NS:d,gp:c,aX:e,II:b});a.css(b)}};function oz(){}oz=kp.extend();oz.prototype.initialize=function(a){kp.prototype.initialize.call(this,_.extend(a,{H:hl}));this.HK=a.HK};oz.prototype.render=function(){kp.prototype.render.call(this);this.$(".dialog").addClass("alert");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e'+(this.HK?this.HK:"OK")+"\x3c/button\x3e\x3c/p\x3e");return this};var xp="top",pz={LEFT:"left",oaa:"leftTop",Baa:xp,Caa:"topLeft",uaa:"rightTop"};function qz(){}qz=kp.extend();f=qz.prototype;f.initialize=function(a){kp.prototype.initialize.call(this,_.extend({H:hl},a));this.We=a.We||"Done";this.ux=void 0!==a.ux?a.ux:!0;this.py=null;this.YX=a.position instanceof Array?a.position:[a.position||xp];this.position=null;this.Mf=_.defaults({},a.Mf,{left:0,top:0});this.pw=a.pw||!1;this.on("hide",this.UT);this.keydown=this.keydown.bind(this)};
f.N8=function(){$(document).off("keydown",this.keydown)};f.Jp=function(){return rz};f.getCurrentPosition=function(){return this.position};f.render=function(){kp.prototype.render.call(this);this.$(".dialog").addClass("popover").addClass(this.pw?"paddingLess":"").prepend('\x3cdiv class\x3d"pointer"\x3e\x3c/div\x3e');this.ux&&this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e'+this.We+"\x3c/button\x3e\x3c/p\x3e");return this};
f.yi=function(a){if(!this.py){var b=_.debounce(this.gm.bind(this),300);window.addEventListener("resize",b,!1);this.on("remove",function(){window.removeEventListener("resize",b,!1)})}this.show();$(document).on("keydown",this.keydown);this.on("remove",this.N8);sz(this,a);this.gm();return this};function tz(){this.SO=this.Nl=this.dialogLeft=this.dialogTop=null}
f.gm=function(){for(var a,b,c=0;c<this.YX.length;c++){a=b=this.YX[c];var d=this.pw?5:13,e=this.pw?20:40,g=this.py,h=g.offset(),k=h.top-$(document).scrollTop(),l=g.outerWidth(),m=g.outerHeight(),n=this.$(".dialog").outerHeight(),p=this.$(".dialog").outerWidth(),q=this.$el.width(),g=new tz,u=Math.round(h.left+l/2-p/2);switch(a){case xp:g.dialogLeft=u+p+10>q?q-p-10:u;g.dialogLeft+=this.Mf.left;g.dialogTop=Math.round(k)+m+d+this.Mf.top;a=u-g.dialogLeft;g.Nl="calc(50% - 7px + "+a+"px)";break;case "topLeft":g.dialogLeft=
h.left+p+10>q?q-p-10:h.left;g.dialogLeft+=this.Mf.left;g.dialogTop=Math.round(k)+m+d+this.Mf.top;g.Nl=g.dialogLeft+d;break;case "left":g.dialogLeft=h.left+l+this.Mf.left;g.dialogTop=k-n/2+d+this.Mf.top;break;case "leftTop":g.dialogLeft=h.left+l+this.Mf.left+d;g.dialogTop=k+m/2-e+this.Mf.top;10>g.dialogTop&&(g.SO=g.dialogTop-10,g.dialogTop=10);break;case "rightTop":g.dialogLeft=h.left-p+this.Mf.left-d,g.dialogTop=k+m/2-e+this.Mf.top,10>g.dialogTop&&(g.SO=g.dialogTop-10,g.dialogTop=10)}d=a=g;e=this.$(".dialog");
if(!(d.dialogLeft+e.outerWidth()>$(window).width()||d.dialogTop+e.outerHeight()>$(window).height()))break}this.position=b;this.$(".dialog").css("top",a.dialogTop).css("left",a.dialogLeft);c=this.$(".pointer");c.removeClass(_.values(pz).join(" ")).addClass(b);c.css("left",a.Nl||"");c.css("margin-top",a.SO||"");return this};function sz(a,b){a.UT();a.py=b;b.addClass("on");b.blur()}f.UT=function(){this.py&&this.py.removeClass("on")};
f.keydown=function(a){27===a.which&&(this.cancel(),a.stopPropagation(),a.preventDefault())};function uz(a){soy.asserts.assertType(goog.isString(a.UI)||a.UI instanceof goog.soy.data.SanitizedContent,"zoomInLabel",a.UI,"string|goog.soy.data.SanitizedContent");var b=a.UI;soy.asserts.assertType(goog.isString(a.WI)||a.WI instanceof goog.soy.data.SanitizedContent,"zoomOutLabel",a.WI,"string|goog.soy.data.SanitizedContent");var c=a.WI;soy.asserts.assertType(goog.isString(a.uF)||a.uF instanceof goog.soy.data.SanitizedContent,"fullscreenModeLabel",a.uF,"string|goog.soy.data.SanitizedContent");var d=
a.uF;soy.asserts.assertType(goog.isString(a.GG)||a.GG instanceof goog.soy.data.SanitizedContent,"normalModeLabel",a.GG,"string|goog.soy.data.SanitizedContent");var e=a.GG,g=goog.asserts.assertArray(a.vf,"expected parameter 'zoomLevels' of type list\x3cstring\x3e."),h=goog.asserts.assertArray(a.Z$,"expected parameter 'zoomTranslations' of type list\x3cstring\x3e."),k=goog.asserts.assertNumber(a.Fm,"expected parameter 'currentZoomIndex' of type int.");soy.asserts.assertType(goog.isString(a.nF)||a.nF instanceof
goog.soy.data.SanitizedContent,"fitLabel",a.nF,"string|goog.soy.data.SanitizedContent");var l=a.nF;soy.asserts.assertType(goog.isString(a.kF)||a.kF instanceof goog.soy.data.SanitizedContent,"fillLabel",a.kF,"string|goog.soy.data.SanitizedContent");var m=a.kF;soy.asserts.assertType(goog.isBoolean(a.Ur)||1===a.Ur||0===a.Ur,"enablePresentationMode",a.Ur,"boolean");a=!!a.Ur;b='\x3csection class\x3d"zoomer zoomer__pane '+(a?"zoomer--presentation":"")+'"\x3e\x3cdiv class\x3d"zoomer__toolbar"\x3e'+(a?'\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__fullscreen" title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__normal" title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e\x3c/button\x3e\x3cdiv class\x3d"zoomer__divider"\x3e\x3c/div\x3e':"")+'\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__out" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x26ndash;\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__prev" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x26nbsp;\x3c/button\x3e\x3cspan class\x3d"zoomer__item zoomer__toolbarItem zoomer__status zoomer__zoomLevel"\x3e'+
soy.$$escapeHtml(g[k])+'\x3c/span\x3e\x3cspan class\x3d"zoomer__item zoomer__toolbarItem zoomer__status zoomer__pageIndex"\x3e\x3c/span\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__in" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e+\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__next" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x26nbsp;\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"zoomer__popover zoomer__pane"\x3e\x3cul class\x3d"zoomer__popoverList"\x3e';
c=g.length;for(d=0;d<c;d++)e=g[d],b+='\x3cli data-zoom\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"zoomer__item zoomer__popoverItem '+(d==k?"zoomer__item--selected":"")+'"\x3e'+("fit"==e?soy.$$escapeHtml(l):"fill"==e?soy.$$escapeHtml(m):soy.$$escapeHtml(h[d]))+"\x3c/li\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+'\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"zoomer__popoverArrow"\x3e\x3c/div\x3e\x3c/section\x3e')};function vz(a,b,c){Backbone.View.call(this,{className:"zoomToolbar"});this.H=a;this.yj=b;this.Ur=c;this.vf=[];this.Fm=0;this.cg=!1;this.gy=this.DV=0;this.paused=!1;this.vp=this.vp.bind(this)}r(vz,Backbone.View);f=vz.prototype;f.uJ=function(a,b){this.vf=b;this.Fm=Math.max(0,b.indexOf("100%"));this.gy=parseInt(this.vf[this.Fm],10);this.render().$el.appendTo(a)};
f.events=function(){return{"click .zoomer__out":this.T_,"click .zoomer__in":this.S_,"click .zoomer__next":this.O4,"click .zoomer__prev":this.p8,"click .zoomer__fullscreen":this.ZL,"click .zoomer__normal":this.P4,"click .zoomer__popover .zoomer__item":this.Y$,"click .zoomer__zoomLevel":this.$Z,"mouseenter .zoomer__popover":this.$Z.bind(this,!0),"mouseleave .zoomer":this.CV}};f.S_=function(){this.trigger("zoomInClick")};f.T_=function(){0<this.Fm&&this.trigger("zoomOutClick")};f.O4=function(){this.trigger("nextPageClick")};
f.p8=function(){this.trigger("prevPageClick")};f.ZL=function(){this.trigger("presentationModeClick");this.vp()};f.P4=function(){this.exitFullscreen()};f.Y$=function(a){this.trigger("zoomLevelClick",$(a.currentTarget).data("zoom"))};f.$Z=function(a){this.cg||(this.H.clearTimeout(this.DV),this.$el.toggleClass("zoomer--expanded",a))};f.CV=function(){var a=this;this.DV=this.H.setTimeout(function(){a.$el.removeClass("zoomer--expanded")},500)};
f.O$=function(a,b){a="string"==typeof a?this.vf.indexOf(a):-1;-1<a&&(this.Fm=a);this.$el.removeClass("zoomer--minZoom zoomer--maxZoom");0===a?this.$el.addClass("zoomer--minZoom"):a===this.vf.indexOf("fill")-1&&this.$el.addClass("zoomer--maxZoom");a=this.vf[this.Fm];"number"!=typeof b||"fill"!=a&&"fit"!=a||(this.gy=100*b,a=this.gy.toFixed(1));a=this.yj.gy(parseInt(a,10));this.$el.find(".zoomer__zoomLevel").text(a);this.$el.find(".zoomer__popoverItem").removeClass("zoomer__item--selected").eq(this.Fm).addClass("zoomer__item--selected")};
f.r_=function(a){this.$el.removeClass("zoomer--firstPage zoomer--lastPage");var b=Qp(a);a=a.jc();0===b&&this.$el.addClass("zoomer--firstPage");b===a-1&&this.$el.addClass("zoomer--lastPage");this.$el.find(".zoomer__pageIndex").text(++b+" / "+a);this.cg&&this.paused&&this.vp()};f.exitFullscreen=function(){this.cg&&(this.$el.removeClass("zoomer--fullscreenMode"),this.cg=!1,this.trigger("fullscreenMode",this.cg))};
f.vp=function(){this.$el.addClass("zoomer--fullscreenMode");this.cg=!0;this.CV();this.trigger("fullscreenMode",this.cg)};function wz(a){a.paused=!1;$("body").removeClass("zoomer--fullscreenWindowMode");$("#content").off("click",a.vp)}
f.render=function(){var a=this;this.el.innerHTML=uz({vf:this.vf,Fm:this.Fm,Ur:this.Ur,Z$:this.vf.map(function(b){return a.yj.gy(parseInt(b,10))}),UI:this.yj.format("zoomToolbarZoomIn"),WI:this.yj.format("zoomToolbarZoomOut"),uF:this.yj.cg(),GG:this.yj.format("zoomToolbarNormalMode"),kF:this.yj.fill(),nF:this.yj.format("zoomToolbarFit")});return this};var W=1;function xz(a,b,c,d,e,g){this.Ed=a;this.Ki=b;this.VX=c;this.QO=!1;this.H=d;this.W=e;this.j=g;this.tB=!1;this.lastIndex=0;this.uw=!0;this.VW=0;this.RF=this.RF.bind(this)}function yz(a,b,c,d,e,g,h){d=new vz(hl,d,e.G.get(Zf));a=new xz(a,d,a.$el,hl,e,g);zz(a);d.listenTo(c,"documentView:zoom",d.O$);d.listenTo(b,"page:change:selected",d.r_);d.on("fullscreenMode",h);d.r_(b);a.listenTo(c,"pausePresentationOnExit",a.T7);return a}
function zz(a){var b=$(".documentContainer"),c=_.values(Az);a.CM=a.CM.bind(a);a.Ki.uJ(b,c);a.listenTo(a.Ki,{zoomInClick:a.T1,zoomOutClick:a.V1,nextPageClick:a.TJ,prevPageClick:a.UJ,zoomLevelClick:a.U1,presentationModeClick:a.I1,fullscreenMode:a.F3});$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){var b=$("body");if(Bz())Cz(a);else if(a.uw){a.lastIndex=Qp(a.Ed.model);var c=a.Ki;$("body").addClass("zoomer--fullscreenWindowMode");c.paused=!0;
$("#content").on("click",c.vp);a.uw=b.hasClass("modalContentVisible")}else Dz(a)});$(document).on("keyup",function(b){return Ez(a,b)});$(window).on("mousewheel wheel",a.CM)}
function Ez(a,b){if(!$("body").hasClass("modalContentVisible"))if(!b.metaKey&&!b.ctrlKey&&!b.altKey)switch(b.which){case 27:if(Bz())return a.uw=!1,!0;a.Ki.paused&&Dz(a);break;case 38:case 37:case 33:return a.UJ(),!1;case 40:case 39:case 34:case 32:case 13:return a.TJ(),!1;case 116:return a.Ki.ZL(),!1}else if(b.ctrlKey&&b.shiftKey&&13===b.which)return a.Ki.ZL(),!1}f=xz.prototype;f.F3=function(a){$("body");this.lastIndex=Qp(this.Ed.model);a?(this.uw=!1,Fz().vp()):(this.uw=!1,Fz().exitFullscreen(),Dz(this))};
function Dz(a){var b=$("body");wz(a.Ki);a.Ki.exitFullscreen();O.oD=O.f0;b.off("mousemove",a.RF);b.removeClass("fullscreenMode fullscreenModeLinkAnimations fullscreenModeTransitionIn");Gz(a.Ed,!1);Hz(a.Ed,a.lastIndex)}function Cz(a){var b=$("body");wz(a.Ki);O.oD=O.i0;hh();Iz();b.addClass("fullscreenMode");Gz(a.Ed,!0);b.on("mousemove",a.RF);P.delay(100).then(function(){Hz(a.Ed,a.lastIndex);return P.delay(100)}).then(function(){b.addClass("fullscreenModeTransitionIn")})}
f.T7=function(a){Bz()&&(this.uw=a)};f.RF=function(a){var b=$("body");120>a.clientY?b.addClass("hoverTop"):120>$(window).outerHeight()-a.clientY?b.addClass("zoomer--hoverBottom"):b.removeClass("zoomer--hoverBottom hoverTop");this.H.clearTimeout(this.VW);a=$(a.target);a.is(".zoomer__toolbar")||a.parents(".zoomer__toolbar").length||(this.VW=this.H.setTimeout(function(){return b.removeClass("zoomer--hoverBottom hoverTop")},Mz))};
f.CM=function(a){var b=this,c=a.originalEvent.wheelDeltaY||a.originalEvent.deltaY,d=a.originalEvent.wheelDeltaX||a.originalEvent.deltaX,c=Math.abs(d)>Math.abs(c)?d:c;!this.Ki.cg&&this.VX&&this.VX.find(a.target).length&&a.ctrlKey&&(a.preventDefault(),Nz(this,c));this.Ki.cg&&!this.tB&&(120<=c?(this.UJ(),this.tB=!0,this.H.setTimeout(function(){b.tB=!1},600)):-120>=c&&(this.TJ(),this.tB=!0,this.H.setTimeout(function(){b.tB=!1},600)))};
function Nz(a,b){a.QO||(0<b?a.Ki.S_():a.Ki.T_(),a.QO=!0,a.H.setTimeout(function(){return a.QO=!1},250))}f.T1=function(){var a=Oz(this.Ed);this.j.zoom("zoom_in","editor","zoom_toolbar","bottom_right",a);return!1};f.V1=function(){var a=Pz(this.Ed);this.j.zoom("zoom_out","editor","zoom_toolbar","bottom_right",a);return!1};f.U1=function(a){Qz(this.Ed,a);this.j.zoom("popover_item","editor","zoom_toolbar","bottom_right",a);return!1};
f.I1=function(){Yl(this.j,"fullscreen_mode","button","editor","zoom_toolbar","bottom_right");return!1};f.TJ=function(){var a=this.Ed,b=Qp(a.model);b+1<a.model.jc()&&Hz(a,b+1);return!1};f.UJ=function(){var a=this.Ed,b=Qp(a.model);0<=b-1&&Hz(a,b-1);return!1};var Mz=5E3;f=xz.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;function Cp(a){O.k0&&$("html").addClass("isMac");$("#content").addClass("preparing");Rz();window.setTimeout(function(){Sz(a.content,a.uc,a.cj,a.i,a.I0,a.q$);Tz({La:a.La,fb:a.fb,tb:a.tb,fa:a.fa});var b=new Uz({i:zc(a.i)});$("#canvaDocument").before(b.render());b.init({Qi:a.Qi,i:a.i,j:a.j});Vz({i:a.i,Tc:a.Tc,sp:a.sp,Xb:a.Xb,G:a.G});a.Bu(vb,K,T,kd(a.i),a.W,a.j,function(a){Nb.toggle(a,K.ia())});Wz(a.i);Xz(!!a.Y2);Yz(0,!0);a.NU&&a.NU();$("body").hasClass("preroll")?(window.setTimeout(function(){window.requestAnimationFrame(Zz)},
O.Ca.ik*O.hy),window.setTimeout(function(){$z()},2E3)):window.setTimeout(function(){$("#content").removeClass("preparing").addClass("on")},O.Ca.ik*O.hy)},O.Ec)}function Zz(){var a=$(".preroll .prerollDelay6");if(1>a.length)window.requestAnimationFrame(Zz);else $(a).one("animationend",$z)}function $z(){$("#content").removeClass("preparing").addClass("on");$("#search").css("transform","translateX(0)");$("body").removeClass("preroll")}
function Rz(){Qb=Pb=Ob=0;var a=aA("editorPageToolbarStylesheet");if(null!=a)for(var b=0;b<a.length&&!(".pageToolbar"==a[b].selectorText?(Qb=parseInt(a[b].style.marginTop,10),Ob=parseInt(a[b].style.width,10)):".pageToolbar.vertical"==a[b].selectorText&&(Pb=parseInt(a[b].style.width,10)),Pb&&Ob&&Qb);b++);}function aA(a){for(var b=null,c=0;c<document.styleSheets.length;c++)if(document.styleSheets[c].ownerNode.id==a){b=document.styleSheets[c];break}return null==b?null:b.cssRules||null}
function Yz(a,b){if(!bA&&!cA){var c=$("#objectPanel");dA();var d=$(".layer",c).eq(0).width();a=Math.ceil(d/O.r0);var e=Math.ceil(d/O.p0),d=Math.ceil(d/O.q0),g=aA("objectPanelStylesheet");null!=g&&(g[0].style.width=Math.round(100/a*10)/10+"%",g[1].style.width=Math.round(100/e*10)/10+"%",g[2].style.width=Math.round(100/d*10)/10+"%");eA();window.setTimeout(function(){c.find(".results \x3e .layer \x3e .inner \x3e .browseCategories").each(function(){fA($(this),!0)})},O.Ec);vb&&vb.RA(b)}}
function gA(a){return wb.Mv()?wb.gj()?new P(function(b,c){function d(a){2==a?(e(),b()):1!=a&&0!=a&&(e(),c())}function e(){window.clearTimeout(g);T.off("session:sync",d)}var g=window.setTimeout(function(){e();c()},a||O.Y_);T.on("session:sync",d);wb.save()}):P.resolve():P.reject()};function hA(a){this.N=a.N;this.zO=a.zO;this.De=a.De;this.oa=a.oa;this.mL=a.mL;this.dR=a.dR;this.BJ=a.BJ;this.fL=a.fL}
hA.prototype.VP=function(){if(!this.mL&&!O.w0&&this.oa&&this.oa.Mv()&&!$("#savingError").hasClass("on")){if(0<this.dR.QC.length)return"You're in the middle of uploading an image. Are you sure you want to leave the Canva editor?";if(this.oa.gj())return this.oa.save(),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";var a=K;if(a&&nu(this.oa,a.serialize()))return a.trigger("change"),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";
this.oa.close();this.BJ||(a=Math.floor((Date.now()-this.zO)/1E3),Gk(this.N,"/session/editor/"+encodeURIComponent(this.De)+"?close",this.fL,{docId:this.De,session:this.oa.context.tu,durationSecs:a}))}};var iA="bold fontFamily fontSize italic justification letterSpacing lineHeight list textTransform".split(" ");function jA(a){a=a.children(".inner").get(0);a=kA(a);for(var b=window.getSelection(),c=a.filter(function(a){return lA(b,a,!1)}),d=a.map(function(a){return a.textContent||""}).join(""),e="",g=0,h=b.rangeCount;g!=h;g++)e+=b.getRangeAt(g).toString();d=mA(d,e);(e=a.length)&&"BR"==a[e-1].nodeName&&--e;return c.length>=e&&d}
function mA(a,b){if(a==b)return!0;a=a.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");b=b.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");return a==b}function nA(a){var b=window.getSelection();return 0<b.rangeCount&&(b=b.getRangeAt(0).cloneRange(),b.collapse(!0),a=a.get(0))?(b.setStart(a,0),b.toString().slice(-1)):""}
function oA(a){var b=window.getSelection();if(0==b.rangeCount)return-1;a=a.children(".inner");if(0==a.length)return-1;a=a.get(0);return pA(b,a)?b.toString().length:-1}function qA(a){var b=window.getSelection();if(0==b.rangeCount)return!0;a=a.children(".inner");if(0==a.length)return!0;a=a.get(0);return pA(b,a)?b.isCollapsed:!0}
function pA(a,b){if(!b||rA(a))return!1;var c=a.getRangeAt(0);a=c.startContainer;c=c.endContainer;if(!a||!c)return!1;a=3==a.nodeType||4==a.nodeType?sA(a):a;var d=3==c.nodeType||4==c.nodeType?sA(c):c,c=!(b!=a&&b!=d);b=!(!b.contains(a)&&!b.contains(d));return c||b}function tA(a,b){var c=a.cb(b).children(".inner");uA(c);vA(c);c.find("*").css({"font-size":"","line-height":"","letter-spacing":"",color:""});c.find("br").removeAttr("color");wA(a,b)}
function wA(a,b){function c(a){if(1!==a.length)return!1;a=a.get(0);if(a.nodeType!==Node.ELEMENT_NODE)return!1;var b=a.nodeName.toLowerCase();return"ul"===b||"li"===b?!1:1===a.parentNode.childNodes.length}for(var d=a.Tb(b),e=a.cb(b).children(".inner").contents(),g=e,h=!1;c(e);)xA(d,e.get(0)),h=!0,e=e.contents();h&&(g.replaceWith(e),a.rj(b,d))}
function xA(a,b){function c(a){a=a.match(/"[^"]*"|'[^']*'|[^\s"',]+/g);if(!a)return"";a=a[0];var b=a.charAt(0);if('"'===b||"'"===b)a=a.slice(1,-1).trim();return a}var d=b.nodeName.toLowerCase();if("b"===d||"strong"===d)a.bold=!0;else{var e=b.style.fontWeight;a.bold="bold"===e||"600"<=e&&"900">=e}"i"===d||"em"===d?a.italic=!0:(e=b.style.fontStyle,a.italic="italic"===e||"oblique"===e);e=mh(b.style.color);b.color&&(e=mh(b.color));e&&(a.color=e.qa());e=null;(e="font"===d?c(b.face):c(b.style.fontFamily))&&
(b=yA(e))&&(a.fontFamily=b)}function zA(a){var b=[],c=[],d=a.children(".inner").get(0);kA(d).forEach(function(d){"br"!==d.nodeName.toLowerCase()&&(d=AA(sA(d),a),Array.prototype.push.apply(b,d.$e),Array.prototype.push.apply(c,d.Af))});return{$e:b,Af:c}}
function BA(a,b){var c=a.clone();c.addClass("doNotTransform");c.children(".inner").addClass("doNotTransform");c.appendTo("#limbo");CA(c,b);for(var d=c.find(".char"),e=0,g=[],h=DA(d),k=1;k<h.length;k++)if(!EA(h[k-1],h[k])){var l=d.index(h[k]);g.push(l-e);e=l}g.push(d.length-e);c.remove();a.data("cachedLineLengths",g);b&&(g=g.map(function(a){return a-1}));return g}function DA(a){return a.filter(function(){return 0!==this.offsetHeight||0!==this.offsetWidth})}
function EA(a,b){var c=a.offsetTop-b.offsetTop;return 0<=c||c>=b.offsetHeight-a.offsetHeight}
function CA(a,b){function c(){if(this.nodeType===Node.ELEMENT_NODE){var a=this.nodeName.toLowerCase();if("br"===a)if(b){var e=document.createElement("span");e.textContent="​";e.classList.add("char");$(this).before(e)}else return;if("script"!==a&&"style"!==a){e=$(this).contents();if("span"===a){if(this.classList.contains("fauxCaret"))return;if(this.classList.contains("char")){if(1===e.length&&e[0].nodeType===Node.TEXT_NODE&&1===e[0].data.length)return;e.replaceAll(this)}}e.each(c)}}else this.nodeType===
Node.TEXT_NODE&&(a=this.data.split("").map(function(a){var b=document.createElement("span");b.classList.add("char");d.test(a)&&b.classList.add("diacriticalMark");b.appendChild(document.createTextNode(a));return b}),$(this).replaceWith(a))}var d=/[\u0300-\u036f]/,e=String(a.data("fontFamily"));Kb&&FA(e)||a.children(".inner").each(c)}function GA(a,b){!b&&a.data("kernPairs")||a.find(".char").each(function(){var a=$(this),b=a.contents();0<b.length?a.replaceWith(b):a.remove()})}var HA=!1;
function IA(a,b){function c(a){return" "===a||"\n"===a||"\t"===a||"\r"===a||"᠎"===a||"\u2028"===a||"\u2029"===a||"﻿"===a}CA(a);var d=[],e=a.children(".inner"),g=e.find(".char"),h=a.data("letterSpacing")||0,k=0!==h?h/1E3+"em":"0",l=a.parent(),m=a.prev();if(function(){return b.reduce(function(a,b){return a+b},0)}()===g.length){e.addClass("explicitLineBreaksLayoutMode");e.find(".implicitLineBreak").remove();a.removeData("ephemeralLetterSpacing");a.css("letter-spacing",k);a.data("cachedLineLengths",b);
document.body.contains(a[0])||(e.addClass("doNotTransform"),a.addClass("doNotTransform"),a.appendTo("#limbo"),d.push(function(){0<l.length?0<m.length?a.insertAfter(m):a.prependTo(l):a.detach();a.removeClass("doNotTransform");e.removeClass("doNotTransform")}));var n=0,p=-1,q=0,u=0,v=0;b.forEach(function(a){var b=n,e=Math.min(b+a,g.length);if(!(b>=e)){for(var h=b,k=e-1;h<=k&&c(g[h].firstChild.data);)h++;for(;h<=k&&c(g[k].firstChild.data);)k--;d.push(function(){g.slice(b,h).addClass("superfluousWhitespace");
g.slice(k+1,e).addClass("superfluousWhitespace")});h<=k&&(0<=p&&EA(g[p],g[h])&&d.push(function(){$("\x3cbr\x3e").addClass("implicitLineBreak").insertBefore(g[b])}),p=k,h!==k&&(a=g[k].offsetLeft+g[k].offsetWidth-g[h].offsetLeft,a>q&&(q=a,u=h,v=k)));n=e}});k=e[0].offsetWidth;if(q>k){var z=DA(g.slice(u,v+1)).length,k=(k-q)/z,z=parseFloat(window.getComputedStyle(e[0]).getPropertyValue("font-size")),t=Math.max(h-1E3/12,1E3*k/z),x=a.data("index")||0;d.push(function(){var b=a.data("canvaElement");b&&b.WH(x,
t)})}d.forEach(function(a){a()});HA=!0;JA(a);HA=!1}}function KA(a,b){HA||(GA(a,b),a.removeData("cachedLineLengths"),b=a.children(".inner"),b.hasClass("explicitLineBreaksLayoutMode")&&(b.removeClass("explicitLineBreaksLayoutMode"),b.find(".implicitLineBreak").remove(),b.find(".superfluousWhitespace").removeClass("superfluousWhitespace"),JA(a)))}
function uA(a){for(var b=a.find("*"),c=b.length-1;0<=c;c--){var d=b[c],e=d.nodeName.toLowerCase();"br"!==e&&"div"!==e&&"ul"!==e&&"li"!==e&&"p"!==e&&(("span"!==e&&"font"!==e||0!==d.attributes.length)&&""!==d.textContent.trim()||$(d).contents().replaceAll(d))}a.get(0).normalize()}
function vA(a){function b(a,b){if(!a||!b)return!1;var e;if(a.nodeType===Node.ELEMENT_NODE){e=a.nodeName.toLowerCase();if("br"===e||"div"===e||"ul"===e||"li"===e||"p"===e)return!1;for(;(a=a.lastChild)&&a.nodeType===Node.ELEMENT_NODE;)if("br"===a.nodeName.toLowerCase())return!1}return b.nodeType===Node.ELEMENT_NODE&&(e=b.nodeName.toLowerCase(),"ul"===e||"li"===e)?!1:!0}a.find("div, p").each(function(){var a=$(this);b(this.previousSibling,this.firstChild||this.nextSibling)&&$("\x3cbr\x3e").insertBefore(this);
b(this.lastChild||this.previousSibling,this.nextSibling)&&$("\x3cbr\x3e").insertAfter(this);a.replaceWith(a.contents())})}function rA(a){if(0===a.rangeCount)return!1;a=a.getRangeAt(0);return null!=a.startContainer&&!(a.startContainer instanceof Object)||null!=a.endContainer&&!(a.endContainer instanceof Object)}
function LA(a){function b(a){var b;$.browser.msie?(b=document.selection.createRange(),b.collapse(!0),b=b.parentElement()):b=window.getSelection().getRangeAt(0).startContainer;return a.contains(b)}var c=[],d=[],e=window.getSelection(),g=a.children(".inner").get(0);if(rA(e))return{$e:[],Af:[]};qA(a)?1==e.rangeCount&&b(g)&&(g=AA(sA(e.getRangeAt(0).startContainer),a),c=c.concat(g.$e),d=d.concat(g.Af)):kA(g).filter(function(a){return lA(e,a,!0)&&a.nodeType==Node.TEXT_NODE}).forEach(function(b){b=AA(sA(b),
a);c=c.concat(b.$e);d=d.concat(b.Af)});c=c.filter(function(a,b){return c.lastIndexOf(a)===b});d=d.filter(function(a,b){return d.lastIndexOf(a)===b});return{$e:c,Af:d}}
function AA(a,b){var c,d,e=[],g=[],h=b.children(".inner").get(0);c=b.get(0);var k=b.data("fontName");b=b.data("fill");if(a==h||a==c)c=k,d=mh(b),c&&e.push(c),d&&g.push(d.qa());else{for(;a!==h;)"font"==a.tagName.toLowerCase()&&((c=a.getAttribute("face"))&&e.push(c),(d=mh($(a).css("color")||a.getAttribute("color")))&&g.push(d.qa())),a=a.parentElement;0==e.length&&k&&e.push(k);0==g.length&&b&&g.push(b)}return{$e:e,Af:g}}
function kA(a){for(var b=[],c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];0==d.childNodes.length?b.push(d):b=b.concat(kA(d))}return b}function sA(a){if(a.parentElement)return a.parentElement;for(a=a.parentNode;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.parentNode;return a}
function lA(a,b,c){if(a.containsNode)return a.containsNode(b,c);c=document.createRange();c.selectNodeContents(b);b=0;for(var d;b<a.rangeCount;++b){d=a.getRangeAt(b);try{if(0>=d.compareBoundaryPoints(d.START_TO_START,c)&&0<=d.compareBoundaryPoints(d.END_TO_END,c))return!0}catch(e){if(e.code!==DOMException.WRONG_DOCUMENT_ERR)throw e;}}return!1}function MA(a){if(!a)return[];for(var b=/<font[^>]+\bface="([^"]+)/gi,c,d=[];c=b.exec(a);)c=c[1].replace(/('|&#39;)/g,""),d.push(c);return _.uniq(d)}
function NA(a){var b=a.html().toString();a.data("fontFamily")&&(b+='\x3cfont face\x3d"'+a.data("fontFamily")+'"\x3e\x3c/font\x3e');return MA(b).filter(function(a){return null!==OA(Kb,a)})}function PA(a,b){b?this.cb(a).data("fontMedia",{id:b.id,version:b.version}):this.cb(a).removeData("fontMedia")}function QA(a,b){function c(a){return{id:a.u(),version:a.getVersion()}}b&&0<b.length?this.cb(a).data("htmlFontMedia",b.map(c)):this.cb(a).removeData("htmlFontMedia")}
function RA(a,b,c,d){function e(a){if(a){var d="'"+m.family+"'",e;if(e=Jb)e=Jb.G.get(Jf);e?d+=", notdef":$.browser.msie||(d+=", "+m.generic);h.css("font-family",d).css("font-weight",void 0!==m.weight?m.weight:"");h.toggleClass("noBold",!m.variants.bold);h.toggleClass("noItalic",!m.variants.italic);h.toggleClass("noBoldItalic",!m.variants.boldItalic);JA(h);g.trigger("change:fontFamily",this,h,b)}c&&c(a)}var g=this,h=this.cb(a),k=h.data("fontName"),l=!1;b&&FA(String(b))&&(l=!0);d||h.find("font").removeAttr("face");
b!==k&&(this.ht(a),this.Lw(a),KA(h),l&&uA(h));if(void 0===b)h.removeData("fontName").removeData("fontFamily").removeData("fontWeight").removeData("fontMedia").removeData("htmlFontMedia").css("font-family","").css("font-weight",""),c&&c(!0);else if(Kb){h.data("fontFamily",b);var m=OA(Kb,b);d=SA(b);m||d?(h.data("fontName",m.name||m.family).data("fontFamily",m.family),this.Tq(a,d),TA(Kb,d,b,e)):c&&c(!1)}else c&&c(!1)}
function UA(a,b,c){var d=this.cb(a),e=parseFloat(d.data("fontSize"))/b;if(isNaN(e)||!c&&(2<=e||.5>=e))this.ht(a),this.Lw(a),KA(d);void 0===b?d.removeData("fontSize").css("font-size",""):(d.data("fontSize",b).css("font-size",b*O.Li+"%"),!0!==c&&JA(d,!0))}function VA(a){this.ve(this.zb(),a)}function WA(a){return this.cb(a).data("fontSize")||O.hD}function XA(){for(var a=[],b=0;b<this.KF();b++){var c=this.cb(b).data("fontFamily");c&&a.push(""+c)}return a}
function YA(a,b){a=this.cb(a);void 0===b?a.removeData("justification").css("text-align",""):a.data("justification",b).css("text-align",b)}
function ZA(a,b){function c(a,b,c){a.children(".inner").find("*").filter(function(){var a=mh($(this).css("color")||$(this).attr("color"));return a&&a.equals(b)}).attr("color",c?c.qa():"")}function d(a,b,c){b?a.data("fill",b.qa()).css("color",b.qa()):a.removeData("fill").css("color","");c&&a.find("*").removeAttr("color").css("color","")}a=this.cb(a);var e=jA(a),g=qA(a),h=a.is(".focused"),k=mh(a.data("fill")),l=mh(LA(a).Af[0]);h&&b&&document.execCommand("foreColor",!1,b.qa());h&&g?(e=0<LA(a).Af.length,
k=l&&l.equals(k),!e||k?d(a,b,!1):c(a,l,b)):(e||g)&&d(a,b,h)}function $A(a,b){a=this.cb(a);a.is(".focused")&&document.execCommand("bold",!1,null);if(jA(a)||qA(a))void 0===b?a.removeData("bold").removeClass("bold"):(a.data("bold",b),b?a.addClass("bold"):a.removeClass("bold"));JA(a,!0)}
function aB(a,b){a=this.cb(a);a.is(".focused")&&document.execCommand("italic",!1,null);if(jA(a)||qA(a))void 0===b?a.removeData("italic").removeClass("italic"):(a.data("italic",b),b?a.addClass("italic"):a.removeClass("italic"));JA(a,!0)}
function bB(a,b){function c(){var b;l.focus();e()?b=!0:(l.click(),b=e());b&&(document.execCommand("selectAll",!1,null),document.execCommand("insertUnorderedList",!1,null),tA(g,a),document.execCommand("selectAll",!1,null),d());l.attr("contentEditable",m)}function d(){window.setTimeout(function(){JA(h,!0)},0)}function e(){return null!==window.getSelection().focusNode&&"BODY"!==window.getSelection().focusNode.tagName}var g=this,h=this.cb(a),k=0<h.find("li").length;if(!!b!==k){var l=h.children(".inner"),
m=String(l.prop("contentEditable"));l.attr("contentEditable","true");l.focus();cB(l,c)}b?h.data("list",!0):h.removeData("list")}function dB(a){return"uppercase"===this.cb(a).data("textTransform")}function eB(a,b){a=this.cb(a);b?a.data("textTransform",b).css("text-transform",b):a.removeData("textTransform").css("text-transform","none");JA(a,!0)}
function fB(a,b){a=this.cb(a);var c=a.children(".inner");b?(a.data("lineHeight",b),c.css("line-height",b/100)):(a.removeData("lineHeight"),c.css("line-height",O.Ut/100));JA(a,!0)}function gB(a){return this.cb(a).data("lineHeight")||O.Ut}function hB(a,b){a=this.cb(a);a.removeData("ephemeralLetterSpacing");void 0===b||0===b?(a.removeData("letterSpacing"),a.css("letter-spacing","0")):(a.data("letterSpacing",b),a.css("letter-spacing",b/1E3+"em"));JA(a,!0)}
function iB(a,b){a=this.cb(a);var c=0!==b?b/1E3+"em":"0";a.data("ephemeralLetterSpacing",b);a.css("letter-spacing",c)}function jB(a){a=this.cb(a);var b=a.data("ephemeralLetterSpacing"),c=a.data("letterSpacing")||0;b!==c&&a.css("letter-spacing",0!==c?c/1E3+"em":"0");a.removeData("ephemeralLetterSpacing")}function kB(a){a=this.cb(a);var b=a.data("ephemeralLetterSpacing");return void 0!==b?b:a.data("letterSpacing")||0}function lB(a){return this.cb(a).data("kernPairs")||{}}
function mB(a,b){return(a=this.cb(a).data("kernPairs"))&&a.hasOwnProperty(b)?parseFloat(a[b]):0}function nB(a){a=this.cb(a);a.data("kernPairs")&&(a.removeData("kernPairs"),GA(a,!0))}
function oB(a){var b=this.cb(a);a=this.es(a);if(0<Object.keys(a).length){if(CA(b),a=b.data("kernPairs")||null)if(b=b[0].querySelectorAll(".char"),0!==b.length)for(var c=b[0].firstChild.data,d=1;d<b.length;d++){var e=b[d].firstChild.data,c=a[c+e]||0;0===c?b[d].removeAttribute("style"):b[d].style.marginLeft=c/1E3+"em";c=e}}else GA(b)}function pB(a,b,c){if(2===c.length){var d=this.cb(a);a=this.es(a);a[c]=b;d.data("kernPairs",a)}}function qB(a,b){this.cb(a).data("kernPairs",b)}
function rB(){var a=this.Fe();0<a.parents("#overlays").length&&sB(a)}function tB(a){var b=this.es(a),c=[];b&&0!==Object.keys(b).length&&Object.keys(b).forEach(function(a){c.push({pair:a,adjustment:b[a]})});return c}function uB(a){if(void 0===a||0===a.length)return null;var b={};a.forEach(function(a){b[a.pair]=a.adjustment});return b}
function vB(a){function b(a){if(a=SA(a))return{id:a.id,version:a.version}}function c(){var a=h.data("cachedLineLengths");if(!a){a=h[0].style;if(""===a.fontFamily||""===a.width)return;a=h.data("fontScaling");if(void 0!==a&&1!==a||h.hasClass("focused"))return;a=BA(h)}g.lineLengths=a}function d(){var b=e.RH(a);0!==b.length&&(g.kerning=b)}var e=this,g={index:a},h=this.cb(a),k=String(h.data("fontFamily")),k=FA(k);(function(){var a=h.clone();KA(a,!0);g.html=a.children(".inner").html()})();(function(){iA.forEach(function(a){var b=
h.data(a);void 0!==b&&(g[a]=b)});h.data("fill")&&(g.color=h.data("fill"))})();k||(c(),d());(function(){var a=SA(g.fontFamily);a?g.fontMedia={id:a.id,version:a.version}:h.data("fontMedia")&&(g.fontMedia=h.data("fontMedia"));var c=NA(h).map(b).filter(function(a){return!!a}).filter(function(b){return!a||b.id!==a.id});0<c.length?g.htmlFontMedia=c:h.data("htmlFontMedia")&&(g.htmlFontMedia=h.data("htmlFontMedia"))})();return g};function Um(a){this.type=a.type;this.id=a.id||"";this.version=a.version||0}Um.prototype.lc=function(){return this.type};Um.prototype.u=function(){return this.id};Um.prototype.iu=function(){this.type=wB;return this};Um.prototype.serialize=function(){return this.type===wB||this.type===xB?{type:this.type,id:this.id,version:this.version}:this.type?{type:this.type}:null};function yB(a){this.source=a;this.filename="";this.viewBox=[]}function zB(a){if(a===AB)return AB;if(a=mh(a||""))return a}function BB(a){if(a===AB)return AB;if(a instanceof en)return a.qa()}yB.prototype.L_=function(a){this.filename=a;return this};var AB="inherit";function CB(a,b){a:{var c;try{c=$.parseXML(a)}catch(d){a=null;break a}a=$(c.documentElement)}return!a||!b&&DB(a)||EB(a)?!1:!0}function DB(a){return GB(a).some(function(a){return-1===HB.indexOf(a.localName.toLowerCase())})}function EB(a){return GB(a).some(function(a){a=a.attributes;for(var c=0;c<a.length;c++){var d=a[c].name.toLowerCase(),e;if(e="xlink:href"===d)e=a[c].value,e=!("#"===e.charAt(0)||IB.test(e));if(e||-1===JB.indexOf(d))return!0}return!1})}
function GB(a){a=a.get(0);var b=Array.from(a.getElementsByTagName("*"));return[a].concat(b)}
var IB=/^data:image\/[^,;]+;base64,/,HB="circle clippath defs desc ellipse feblend fecolormatrix fecomponenttransfer fecomposite feconvolvematrix fediffuselighting fedisplacementmap fedistantlight feflood fefunca fefuncb fefuncg fefuncr fegaussianblur feimage femerge femergenode femorphology feoffset fepointlight fespecularlighting fespotlight fetile feturbulence filter g hkern image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg symbol text textpath title tref tspan use view vkern".split(" "),JB=
"amplitude azimuth basefrequency baseline-shift bias class clip clip-path clip-rule clippathunits color color-interpolation color-interpolation-filters color-profile color-rendering cursor cx cy d diffuseconstant direction display divisor dominant-baseline dx dy edgemode elevation enable-background exponent fill fill-opacity fill-rule filter filterres filterunits flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight fx fy g1 g2 glyph-orientation-horizontal glyph-orientation-vertical gradienttransform gradientunits height id image-rendering in in2 intercept k k1 k2 k3 k4 kernelmatrix kernelunitlength kerning lengthadjust letter-spacing lighting-color limitingconeangle marker-end marker-mid marker-start markerheight markerunits markerwidth mask maskcontentunits maskunits method mode numoctaves offset opacity operator order orient overflow pathlength patterncontentunits patterntransform patternunits pointer-events points pointsatx pointsaty pointsatz preservealpha preserveaspectratio primitiveunits r radius refx refy result rotate rx ry scale seed shape-rendering slope spacing specularconstant specularexponent spreadmethod startoffset stddeviation stitchtiles stop-color stop-opacity stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style surfacescale tablevalues targetx targety text-anchor text-decoration text-rendering textlength transform type u1 u2 unicode-bidi values version viewbox viewtarget visibility width word-spacing writing-mode x x1 x2 xchannelselector xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space xmlns xmlns:svg xmlns:xlink y y1 y2 ychannelselector z zoomandpan".split(" ");function KB(a){var b=a.indexOf("\x3csvg",0),c=a.slice(0,b);-1===c.toUpperCase().indexOf("\x3c!DOCTYPE")&&(a=c+'\x3c!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"\x3e\n'+a.slice(b));return a}function LB(a){function b(a){return 0!==a.filter(function(a){return isNaN(a)}).length}var c=($($.parseXML(a)).find("svg").attr("viewBox")||"").split(/\s/);a=c.map(function(a,b){return parseFloat(c[b])});return 4!==a.length||b(a)?[]:a}
function MB(a){function b(a){a=g.attr(a);return"undefined"==typeof a||""===a?NaN:parseFloat(a.replace(/[^0-9\.]/g,""))}var c=$("#limbo"),d=!1;0>=c.length&&(c=$('\x3cdiv id\x3d"limbo"\x3e\x3c/div\x3e'),$("body").append(c),d=!0);var e=$($.parseXML(a)),g,h,k,l,m;if(4!==LB(a).length){g=e.find("svg");if(!g)throw Error("SVG with no \x3csvg\x3e!");h=b("x");k=b("y");l=b("width");m=b("height");var n=e.find("svg");c.append(n);n=n.get(0).getBBox();isNaN(h)&&(h=n.x);isNaN(k)&&(k=n.y);isNaN(l)&&(l=n.width);isNaN(m)&&
(m=n.height);e.remove();d&&c.remove();c=' viewBox\x3d"'+[h,k,l,m].join(" ")+'" ';d=a.indexOf("\x3csvg",0)+4;return a.substring(0,d)+c+a.substring(d)}return a}
function NB(a){if(!CB(a))throw Error("Aborting attempt to generate color changes on unacceptable SVG");var b=$(a).filter("svg"),c='\x3c?xml version\x3d"1.0" standalone\x3d"no"?\x3e',d=a.match(/<\?xml([^?]*)\?>/gi);d&&0<=d.length&&(c=d[0]);d=b.find("[fill]").not('[fill\x3d"none"]');if(0<b.find("g").filter(function(){return/^change/gi.test(this.id)}).length)return a;var e=[],g={};d.each(function(){var a=mh($(this).attr("fill"));if(a){var b=a.qa();g.hasOwnProperty(b)||(e.push(a.qa()),g[b]=1);a=e.indexOf(b)+
1;$(this).wrap('\x3cg id\x3d"change'+a+"_"+g[b]+'"\x3e\x3c/g\x3e');g[b]+=1}});a=$("\x3cdiv\x3e\x3c/div\x3e").append(b).html();return c+a}
function OB(a,b){for(var c=/SVGID_/g,d=new Set,e=/((url\(|xlink:href=)['"]?#)([a-z0-9_-]+)(['"]?)/gi,g;g=e.exec(a);)g[3]&&!d.has(g[3])&&(c&&c.test(g[3])||d.add(g[3]));return 0==d.size?a:a.replace(e,function(a,c,e,g,n){return(c||"")+(d.has(g)?b+g:g)+(n||"")}).replace(/(xml:)?(id=['"]?)([a-z0-9_-]+)(['"]?)/gi,function(a,c,e,g,n){return(c||"")+(e||"")+(d.has(g)?b+g:g)+(n||"")})};function PB(a,b){a=a.trim();a=a.replace(/SVGID_/g,b+"SVGID_");a=OB(a,b);a=a.replace(/font-size\s*:\s*\d+\.?\d*(?=[\s;"])/g,"$\x26px");a=KB(a);return a=MB(a)}function QB(a){var b=a.get(0);b.removeAttribute("width");b.removeAttribute("height");b.removeAttribute("id");$("g",a).each(function(a,b){b.id=b.id.toLowerCase()});$("style",a).remove();RB(a);SB(a);TB(a);UB(a);VB(a)}
function RB(a){var b=0,c=0,d=/^[neswc]_repeat/i,e=/^([ns][ew]?|e|w|c)(_\d+)(_|$)/i;$("g",a).each(function(a,g){d.test(g.id)?(g.id=g.id.substr(0,1),g.classList.add("repeat")):(a=g.id.match(e))&&a[1]&&(g.id=a[1]);-1<["w","e"].indexOf(g.id)&&b++;-1<["n","s"].indexOf(g.id)&&c++});var g=0<b&&0===c,h=0<c&&0===b,k=a.get(0);g?(k.classList.add("horizontalOnly"),$("g#w, g#c, g#e",a).each(function(a,b){b.id="n"+b.id;"nc"==b.id&&(b.id="n")})):h&&(k.classList.add("verticalOnly"),$("g#n, g#c, g#s",a).each(function(a,
b){b.id+="w";"cw"==b.id&&(b.id="w")}))}
function SB(a){function b(a,b){var c,k,l;l=(k=(c=a.getAttribute("style"))&&c.match(WB))?c.match(WB)[2]:a.getAttribute("fill");k&&(c=c.replace(WB,""),a.setAttribute("style",c),a.setAttribute("fill",l));a.hasAttribute("fill")&&(a.classList.add("color"),a.setAttribute("data-color",a.getAttribute("fill")),a.classList.add("color-"+b));b=a.getAttribute("fill");c=mh(b);k=null;XB.equals(c)?k="primaryColor":YB.equals(c)?k="secondaryColor":ZB.equals(c)&&(k="tertiaryColor");(c=k)?a.classList.add(c):b&&(d=!1)}
var c=/^change(\d+|$)/i,d=!0;a.find("g").filter(function(){return c.test(this.id)}).each(function(a,c){var d=parseFloat(c.id.substr(6)),d=isNaN(d)?1:d;c.removeAttribute("id");b(c,d);$("[style*\x3dfill], [fill], [FILL]",c).each(function(){b(this,d)})});d&&a.get(0).classList.add("baseColors")}
function TB(a){var b=/^stack(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=b.id;b.removeAttribute("id");b.classList.add("canva");b.classList.add("stack");e=e.match(/_(vcenter|vtop|vbottom)(_|$)/i);b.setAttribute("data-valign",e?e[1].substr(1).toUpperCase():"CENTER");b.setAttribute("data-stack-id",a)})}
function UB(a){var b=$B(a),c=b.F(),d=b.w(),e=/^[op](_|$)/i,g=0;a.find("g").filter(function(){return e.test(this.id)}).each(function(a,b){a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("class","canva");b.parentNode.insertBefore(a,b);b.parentNode.removeChild(b);b=aC(b,["circle","ellipse","path","polygon","rect"]);if(null!==b){var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");a.appendChild(e);e.id=bC();e.setAttribute("transform","translate("+-c+", "+
-d+")");b.setAttribute("class","photoPlaceholder");e.appendChild(b);var m=document.createElementNS("http://www.w3.org/2000/svg","image");m.setAttribute("class","placeholder");m.setAttribute("clip-path","url(#"+e.id+")");m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","https://static.canva.com/static/images/placeholder.jpg");m.setAttribute("transform","translate("+c+", "+d+")");m.setAttribute("data-placeholder-index",g.toString());g++;a.appendChild(m);b=cC(b,"cx cy r rx ry d pathLength points x y width height transform".split(" "));
b.setAttribute("class","outline");b.setAttribute("fill","none");a.appendChild(b)}})}
function VB(a){var b=/^t(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("class","canva");b.parentNode.insertBefore(e,b);b.parentNode.removeChild(b);a=aC(b,["rect"]);if(null!==a){a=cC(a,"rx ry x y width height".split(" "));a.setAttribute("class","textPlaceholder");a.setAttribute("fill","none");e.appendChild(a);var e=aC(b,["text"]),e=dC(e),g=b.id,h=/_(dfont)(_|$)/.test(g),k=/_(dwidth)(_|$)/.test(g),
l=/_(dheight)(_|$)/.test(g),m=g.match(/_(left|center|right)(_|$)/),g=g.match(/_ls([0-9]+)(_|$)/),e=$.extend({},e,{justification:m?m[1]:void 0,"line-spacing":g?parseFloat(g[1].substring(0,1)+"."+g[1].substring(1)):void 0,"dynamic-font-size":h,"dynamic-width":k&&!l,"dynamic-height":l}),n;for(n in e)a.setAttribute("data-"+n,e[n]);if(b){n=[];b=b.getElementsByTagNameNS("http://www.w3.org/2000/svg","text");for(e=0;e<b.length;e++)h=b[e],h.textContent&&0<h.textContent.trim().length&&n.push(h.textContent.trim());
b=n.join(" ")}else b="";""!=b&&a.setAttribute("data-placeholder-text",b)}})}function cC(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a.nodeName);b.forEach(function(b){a.hasAttribute(b)&&c.setAttribute(b,a.getAttribute(b))});return c}function aC(a,b){var c=[];b.forEach(function(b){b=a.getElementsByTagNameNS("http://www.w3.org/2000/svg",b);for(var e=0;e<b.length;e++)c.push(b[e])});return 0===c.length?null:c[0]}
function dC(a){function b(a){for(var b=a.replace(/^['"]|['"]$/g,""),d=eC(Kb),e,g,p=0;p<d.length;p++)for(g in e=d[p],e.styles)if(e.styles[g].psName&&e.styles[g].psName.toLowerCase()===b.toLowerCase())return a=-1<[e.styles.bold,e.styles.boldItalic].indexOf(e.styles[g]),g=-1<[e.styles.italic,e.styles.boldItalic].indexOf(e.styles[g]),{"font-name":e.name||e.family,"font-family":e.family,bold:a,italic:g};return c(a)}function c(a){var b=["bold","italic","bolditalic","black"],c={},d=eC(Kb),e=a.replace(/^['"]|['"]$/g,
"").toLowerCase();if(a=_.find(d,function(a){return(a.internalName||"").toLowerCase()===e}))return c["font-name"]=a.name||a.family,c["font-family"]=a.family,c;var d=d.filter(function(a){a=(a.internalName||"").toLowerCase().replace(/-[^-]+$/,"");return 0===e.indexOf(a)}),g=_.find(d,function(a){return-1<(a.internalName||"").toLowerCase().indexOf("-regular")})||d[0];g&&b.forEach(function(a){var b=(g.internalName||"").toLowerCase().replace(/-[^-]+$/,"");e==b+"-"+a&&(c["font-name"]=g.name||g.family,c["font-family"]=
g.family,c.bold="bold"==a||"bolditalic"==a||"black"==a,c.italic="italic"==a||"bolditalic"==a)});return c}var d=["fill","font-size","font-family"];if(!a)return{};var e={};d.forEach(function(b){var c=(a.getAttribute(b)||"").trim();""!==c&&(e[b]=c)});(a.getAttribute("style")||"").split(";").forEach(function(a){var b=a.split(":");2==b.length&&(a=b[0].trim(),b=b[1].trim(),-1<d.indexOf(a)&&(e[a]=b))});if(e.fill){var g=mh(e.fill);g?e.fill=g.qa():delete e.fill}e["font-size"]&&(e["font-size"]=.72*parseFloat(e["font-size"]));
e["font-family"]&&(g=b(e["font-family"]),delete e["font-family"],$.extend(e,g));return e}var WB=/(\b|^)fill\s*:\s*([^;]+);\s*/i;function Z(a){this.i=Lb;this.Ra=$('\x3cdiv class\x3d"element" /\x3e');this.Ra.data("canvaElement",this);this.selected=!1;this.ft=!0;this.xa=this.rotation=this.height=this.width=this.top=this.left=0;this.page=this.te=null;this.Cm=this.DP=!1;this.Fa=0;this.link="";this.IB=this.Fh=!1;this.sm=this.origin=null;this.GD=!0;this.Cy=1;this.oe=null;this.VE=["copy","arrange","transparency","link","delete"];this.Rc=!0;this.By=!1;if(a){var b=um({left:a.left,top:a.top,width:a.width,height:a.height});this.pd(b);
null!=a.rotation&&(this.rotation=a.rotation);null!=a.flipOrientation&&(this.xa=a.flipOrientation);0<=Object.keys(a).indexOf("userEdited")&&(this.Rc=a.userEdited);0<=Object.keys(a).indexOf("transparency")&&(this.Fa=a.transparency);0<=Object.keys(a).indexOf("link")&&(this.link=a.link);null!=a.origin&&(this.origin=new Um(a.origin));null!=a.groupIndex&&(this.By=!0)}}f=Z.prototype;f.Hv=function(){return!1};f.hR=function(){this.ke="top"};f.NN=function(){this.ke="middle"};f.DJ=function(){this.ke="bottom"};
f.rs=function(){return this.ke||"top"};f.jv=function(){return O.cJ};f.nV=function(){return{jj:0,dk:0,maxLength:0,Nd:0,XJ:[]}};f.XM=function(){return!1};f.Fg=function(){return!1};function fC(a){return"middle"===a.ke}function gC(a){return"bottom"===a.ke}f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(Z.prototype,Backbone.Events);f=Z.prototype;
f.QZ=function(){return!1};f.ZQ=function(){return!1};f.transform=function(a){var b=$m(Zm([this.F(),this.w()]).transform(a));this.Zl(hC(this.Ta(),180*Math.atan2(a.m[3],a.m[4])/Math.PI*-1));this.setPosition(b[0],b[1])};f.C=function(){return this.Ra};function iC(a){a=a.Ra[0].children;for(var b=0;b<a.length;b++){var c=a[b];if(c.classList.contains("inner"))return $(c)}return $()}f.Df=function(){return!1};f.xv=function(){return!1};f.DM=function(){return!1};f.HM=function(){return!1};f.jA=function(){return!1};
f.GW=function(){this.Fh=!0};f.se=function(){return!1};f.Sp=function(){return!1};f.zV=function(){return!1};f.yH=function(){};f.Bp=function(){};f.Ap=function(){};f.Kq=function(){this.IB=!0};f.qk=function(){this.IB=!1};f.ds=function(){return this.VE};f.cq=function(){return!0};f.aV=function(){return[]};f.Kd=function(){return 0};
function jC(a,b){function c(){d.off("placeholderImage:loaded",e);d.cG(b)}if(void 0===a.Xa||void 0===a.Xc)throw Error("loadImagesAndFilters must be called on elements that have placeable and filterable images");var d=a,e=_.after(a.Xa.length,c);a.on("placeholderImage:loaded",e);0===a.Xa.length?window.setTimeout(c,0):a.Xa.forEach(function(a,b){a.update(function(){d.trigger("placeholderImage:loaded",b)})})}
f.cG=function(a){function b(){c.DH();a&&a()}if(void 0===this.Xa||void 0===this.Xc)throw Error("initializeFilters must be called on elements that have placeable and filterable images");var c=this,d=_.after(this.Xc.length,b);0===this.Xc.length?window.setTimeout(b,0):this.Xc.forEach(function(a){a.initialize(d)})};f.Cf=function(){return this.origin};
function kC(a,b){for(var c=[],d,e=_.pluck(a,"index"),g,h=0;h<b.length;h++)d={},g=e.indexOf(h),-1<g?d=a[g]:d.index=h,c.push(lC(d.filter,b[d.index]));return c}function mC(a,b,c){for(var d=[],e,g=_.pluck(a,"index"),h,k=0;k<b;k++)e={},h=g.indexOf(k),-1<h?e=a[h]:e.index=k,h=c.is(".svg.element")?c.find("svg image.placeholder").eq(k).parent():c.find(".placeholder").eq(k).parent(),d.push(new nC(e,h));return d}
function yg(a){switch(a.type){case "text":return new Kp(a);case "image":return new oC(a);case "graphic":return"print"!==pC?a=new qC(a):(a=new ap(a),a.YV=!0),a;case "svg":return new ap(a);case "shape":return new rC(a);case "grid":return new sC(a);case "fixed":return new tC(a);case "group":switch(a.generatorType){case uC:return vC(a);default:return new wC(a)}}return null}f.Ce=function(){delete this.ue};
f.remove=function(){this.page&&this.page.oj(this,{O8:!0});this.oe&&this.oe.remove();this.oe=this.te=this.page=null;this.DP=!0};f.K=function(){return this.page?this.page.ia().indexOf(this):-1};f.R=function(){return this.page};f.Uq=function(a){this.page=a};f.$l=function(a){this.Fa=a;this.pc()};f.MF=function(){return this.Fa};function xC(a){for(var b in yC)if(yC.hasOwnProperty(b)&&yC[b].test(a))return!0;return!1}function zC(a,b){xC(b)?a.link=b||"":a.link=""}
f.bn=function(){return xC(this.link)?this.link:""};f.jb=function(a){AC(this,a);this.pc()};function AC(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.left=b)}function BC(a,b){a.left-=b;a.pc()}function CC(a,b){a.top-=b;a.pc()}function DC(a,b){a.left+=b;a.pc()}function EC(a,b){a.top+=b;a.pc()}f.F=function(){return this.left};function FC(a){return{Fa:a.Fa,rotation:a.Ta(),top:a.w(),left:a.F(),width:a.l(),height:a.o()}}
function GC(a){var b={left:0,top:0,right:0,bottom:0,width:0,height:0},c=W;if(a.te){var d=a.C().get(0);a=a.te;d.parentNode&&a.get(0).parentNode&&(d=d.getBoundingClientRect(),a=a.find(".page__content").get(0).getBoundingClientRect(),b.left=(d.left-a.left)/c,b.right=(d.right-a.left)/c,b.top=(d.top-a.top)/c,b.bottom=(d.bottom-a.top)/c,b.width=b.right-b.left,b.height=b.bottom-b.top)}return b}f.$b=function(){return GC(this).left};f.Ld=function(){return GC(this).right};f.kc=function(){return GC(this).top};
f.gd=function(){return GC(this).bottom};f.ph=function(){return GC(this).width};f.lh=function(){return GC(this).height};f.hM=function(){var a=Math.round(this.left*W),b=0;this.page&&(b=HC(vb.Ma[this.page?this.page.K():0])||0);return b+a};f.eb=function(a){IC(this,a);this.pc()};function IC(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.top=b)}f.w=function(){return this.top};f.setPosition=function(a,b){AC(this,a);IC(this,b);this.pc()};
f.la=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.width=a);a=JC(this);this.C().css("width",a)};f.l=function(){return this.width};function JC(a){return Math.round(a.l()*W)}f.ea=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.height=a);a=hp(this);this.C().css("height",a)};f.o=function(){return this.height};function hp(a){return Math.round(a.o()*W)}f.setSize=function(a,b){this.la(a);this.ea(b)};
function gp(a){a=a.C().get(0).getBoundingClientRect();return{x:a.left+a.width/2,y:a.top+a.height/2}}f.pd=function(a){var b=a.F(),c=a.w();AC(this,b);IC(this,c);this.setSize(a.l(),a.o())};f.pa=function(){return new V(this.F(),this.w(),this.l(),this.o())};f.Zl=function(a){this.rotation=a;this.pc()};f.Ta=function(){return this.rotation};f.bx=function(a){this.xa=a};f.st=function(a){var b=this.xa^a;this.bx(a);1!=b&&2!=b||this.zw();this.pc()};f.Zp=function(){return!1};f.zw=function(){};
f.Za=function(){return this.left+this.width};f.wa=function(){return this.top+this.height};f.Ui=function(){};f.bp=function(){return!this.By};f.OD=function(){return!0};f.Fy=function(){return!0};f.PD=function(){return!1};f.Zd=function(){return!1};f.Hf=function(){return this.selected};f.Gb=function(){return!1};f.qD=function(){return!1};f.DS=function(){return!1};f.rr=function(){return!1};f.au=function(){return!1};f.ES=function(){return!1};f.qy=function(){return!1};f.KJ=function(){return!1};f.mb=function(){return!1};
f.gG=function(){return!1};f.wk=function(a){this.selected=a};function KC(a){return 0<a.C().parents(".group").length}function LC(a){a=a.C().parents(".group");return a.length&&(a=a.data("canvaElement"),a instanceof wC)?a:null}
f.pc=function(a){var b=this.C(),c=Math.round(this.left*W),d=Math.round(this.top*W);if(0<this.C().parents("#overlays").length&&!KC(this))var e=vb.Ma[this.page?this.page.K():0],c=c+Math.round(HC(e)),d=d+Math.round(MC(e));b.css("transform",$o({Rw:this.rotation,Gi:d,Fi:c}));b.css("opacity",(100-this.Fa)/100);this.Zp()&&this.AI();!a&&this.te&&this.$a()};f.AI=function(){};function NC(a){var b=O.lS*a.l();a.C().css("perspective",b+"px")}f.clone=function(){return yg(this.serialize())};
f.al=function(a){a.addElement(this,!0)};f.appendTo=function(a){-1==a.elements.indexOf(this)?a.addElement(this):OC(a,this,a.ia().length)};f.Nv=function(a){return a?Yg(this.pa(),a.pa()):!1};f.insertAfter=function(a){var b=a.K();if(-1!=b){var c=a.page,d=c.elements.indexOf(this);-1==d?OC(c,this,b+1):d<b?OC(c,this,b):d>b&&OC(c,this,b+1);!this.te&&a.te&&(this.te=a.te);this.ab()}};
f.insertBefore=function(a){var b=a.K();if(-1!=b){var c=a.R(),d=c.elements.indexOf(this);-1==d?OC(c,this,b):d<b-1?OC(c,this,b-1):d>b&&OC(c,this,b);!this.te&&a.te&&(this.te=a.te)}};f.ab=function(){function a(){b.te&&b.$a()}var b=this;this.ft&&(AC(this),IC(this),this.pc(!0),this.la(),this.ea(),this.pc(),this.oe&&this.oe.ys()?this.oe.update(!1,a):a())};f.$a=function(){if(this.te){var a=this.C().data("toolbar");a&&(PC(a),QC(a,this));RC(this)}};
function RC(a){Zg(a).write(function(){var a=this.C(),c=a.data("selectionBox");if(c){var d=this.hM(),e;e=Math.round(this.top*W);var g=0;this.page&&(g=MC(vb.Ma[this.page?this.page.K():0])||0);e=g+e;var g=this.Ta(),h=JC(this),a=hp(this)||a.height(),k=0,l=0,m=80>h||80>a;this.ci&&this.ci()&&(k=this.C().css("font-size").replace("px",""),k=this.ci()/1E3*parseInt(k,10)*W);this.ls&&(l=(this.padding||0)*W);c.css("transform",$o({Fi:d,Gi:e,Rw:g})).css("width",h+2*(k+l)).css("height",a+2*(k+l));c.toggleClass("tightTargets",
m);SC(c,g)}})}f.yh=function(){var a=this.C(),b=a.data("toolbar"),c=a.data("selectionBox"),d=a.data("sideDrawer");d&&(TC(d,!1),P.delay(200).then(function(){a.removeData("sideDrawer");d.remove()}));b&&b.remove();c&&c.remove();a.removeData("selectionBox").removeData("toolbar");T.trigger("hideContextualControlsRequested")};
f.serialize=function(){var a={elementIndex:this.K(),left:this.left,top:this.top,width:this.width,height:this.height,rotation:this.rotation,transparency:this.Fa,userEdited:this.Rc};this.link&&(a.link=this.link);var b=this.origin&&this.origin.serialize();b&&(a.origin=b);0!=this.xa&&(a.flipOrientation=this.xa);return a};f.Xj=function(){return!1};f.Iv=function(){return!1};f.di=function(){return this.ue||(this.ue=new To)};f.kA=function(){return!1};f.$z=function(){return{}};f.lZ=function(){};f.Oy=function(){return!1};
function UC(a){var b;b=K.Da();var c=ay(Yx()).ja().Cp();b=(c=c?mh("#"+c):null)?{Ys:c,pt:c.gv()<O.YI?gn(new en,255,255,255):gn(new en,0,0,0),Ft:c.gv()<O.YI?tn(c,gn(new en,255,255,255),O.tS):tn(c,gn(new en,0,0,0),O.tS)}:!VC(b)||b.Gf()?{Ys:gn(new en,255,255,255),pt:gn(new en,0,0,0),Ft:gn(new en,127,127,127)}:{Ys:gn(new en,0,0,0),pt:gn(new en,255,255,255),Ft:gn(new en,127,127,127)};c=a.sm;c===b||c&&b&&c.Ys.equals(b.Ys)&&c.pt.equals(b.pt)&&c.Ft.equals(b.Ft)||(a.sm=b,a.GD=!0)}
function WC(a,b){b!=a.Cy&&(a.Cy=b,a.GD=!0)}f.OB=function(){};function XC(){return 0==this.Cg().length}function YC(){var a=this.dg();if(!a)return null;var b=this.ed(),c=this.Xa?this.Xa[this.Hc()].xa:this.xa;return Jm(a,b,c)}
function ZC(){var a=this.C(),b=this.Cg(),c=this.ed(),d=a.data("selectionBox");if(d){c.scale(W).round();var e=a.data("cropControls");e||(e=$('\x3cdiv class\x3d"cropControls"\x3e\x3cdiv class\x3d"viewPort"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg class\x3d"masked" /\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cropBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3cimg class\x3d"uncropped" /\x3e\x3c/div\x3e\x3c/div\x3e'),e.data("canvaElement",
this),a.data("cropControls",e),e.appendTo("#overlays"));var g=e.find(".viewPort");g.css($C(c,0));g.children(".inner").css("width",c.l()).css("height",c.o());var h=b.attr("src")||b.attr("xlink:href"),b=e.find("img.masked, img.uncropped");b.attr("src")!=h&&b.each(function(){aD(bD,$(this),h)});b=cD(d);e.css($C(b,this.Ta()));b=this.dg();b.scale(W).round();var k=this.Xa?this.Xa[this.Hc()].xa:this.xa;dD(g.find("img.masked"),b,k);b.translate(c.F(),c.w());c=e.find(".cropBox");c.css($C(b,0));dD(c.find("img.uncropped"),
null,k);d.addClass("cropping");eD(a);a=a.data("confirmationToolbar");PC(a)}}function fD(a,b){var c=this.dg(),d=this.ed();d.jb(0).eb(0);a>d.F()?a=d.F():a+c.l()<d.Za()&&(a=d.Za()-c.l());b>d.w()?b=d.w():b+c.o()<d.wa()&&(b=d.wa()-c.o());c.jb(a).eb(b);this.Xl(c)}function gD(a){var b=this.Hc();-1<b&&hD(this.Xa[b],a)}
function iD(){var a=this.C();a.removeClass("cropping");var b=a.data("confirmationToolbar"),c=a.data("cropControls");a.removeData("confirmationToolbar").removeData("cropControls");b&&b.remove();c&&c.remove();(a=a.data("selectionBox"))&&a.removeClass("cropping")}function jD(){this.C().removeClass("cropping");var a=this.Cg();if(a){var b=this.xF().scale(W).round();a.css($C(b,0)).attr("data-image-rect",JSON.stringify(this.dg().serialize()))}}function kD(){var a=this.Hc();return this.hn(0<=a?a:0)}
function lD(){var a=this.Hc();if(-1===a)return!1;a=this.ol(a);return void 0!==a.mediaId&&void 0!==a.mediaVersion}
function mD(a){function b(b){if(c.data("mediaId")===a.ba&&c.data("mediaVersion")===a.ca){var d=!!b;b=!!b&&b.src||"";d&&aD(bD,c,b);a.mw&&a.mw(d)}}var c=a.tn;c.data("mediaId",a.ba);c.data("mediaVersion",a.ca);var d=Hb.Ic(a.ba,a.ca);if(d){var d=d[nD],e=oD(a.ba,a.ca,"print"===pC?pD:Lg);aD(bD,c,d.na());e.then(function(a){return qD(bD,a.na())}).then(b).catch(b.bind(null,void 0))}else a.mw&&a.mw(!1)}
function oC(a){var b=this;Z.call(this,a);this.background=!!a.isBackground;this.Im=!!a.isDark;this.backgroundColor=a.backgroundColor||null;this.ba="string"===typeof a.mediaId?a.mediaId:null;this.ca="number"===typeof a.mediaVersion?a.mediaVersion:null;this.hb=void 0===a.mediaApproved||!!a.mediaApproved;this.fq()?(this.SF=!0,this.$y=!1):(this.SF=void 0!==a.isCutout,this.$y=!this.SF||a.isCutout);this.CH=!!a.isRecolorable;this.Cm=!this.fq();var c=this.Nb(),d=null!==c,e=this.C();e.addClass("image").toggleClass("hasMedia",
d);if(d){var g=$("\x3cdiv\x3e").addClass("imageWrapper");g.append("\x3cimg\x3e");g.appendTo(e);this.Mc=new nC({mediaId:this.ba,mediaVersion:this.ca,mediaApproved:this.hb},g);this.oe=lC(a.filter,this.Mc);this.Yl(c.id,c.version).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:image",this)}).catch(function(){T.trigger("elementLoadingError",this)})}else this.oe=this.Mc=null;this.CH&&this.backgroundColor&&e.css("background-color",this.backgroundColor);this.Sg=new V((this.width-
this.width*O.lD)/2,(this.height-this.height*O.lD)/2,this.width*O.lD,this.height*O.lD);this.Ba=new V(-this.Sg.F(),-this.Sg.w(),this.width,this.height);this.Ux=this.pa();this.Qk=!1;if(c=a.imageBox)sl(this,new V(-1*c.left,-1*c.top,this.width,this.height)),this.Xl(um(c)),this.Ux=this.dg(),this.Jr(),a=um({left:a.left,top:a.top,width:a.width,height:a.height}),this.pd(a);this.background&&Up(this);d||window.setTimeout(function(){T.trigger("elementLoaded",b);T.trigger("elementLoaded:image",b)},0)}
oC.prototype=Object.create(Z.prototype);f=oC.prototype;f.constructor=oC;f.Yp=XC;f.jQ=fD;f.Lq=iD;f.ed=kD;f.xF=YC;f.Sp=function(){return!!this.oe};f.zV=function(){return!0};f.Jd=function(){return this.oe};f.Pz=function(){return 0};f.Ep=function(a){return 0===a?this.oe:null};f.cq=function(){return!(!this.oe||!this.oe.ys())};f.ds=function(){return this.qD()?["transparency","delete"]:this.VE};f.a4=oC.prototype.cq;f.yH=function(a,b){rD(this.oe,b)};f.Bp=function(){this.oe.Bp()};f.Ap=function(){this.oe.Ap()};
f.cG=function(a){function b(){c.DH();a&&a()}var c=this;this.oe&&this.oe.initialize(b)};f.DH=function(){var a;this.a4()&&(a=this.C().data("toolbar"))&&a.view.Ru("filter")};f.PD=function(){return!this.Gb()&&!this.Zd()};f.fq=function(){return this.hb&&null===this.Nb()};f.appendTo=function(a){this.Gb()?(OC(a,this,0),sD(a)):Z.prototype.appendTo.call(this,a)};
f.serialize=function(){var a=Z.prototype.serialize.call(this),b;this.oe&&(b=tD(this.oe))&&(a.filter=b);a.type="image";a.mediaId=this.ba;a.mediaVersion=this.ca;a.isBackground=this.background;a.isRecolorable=this.CH;a.isCutout=this.$y;a.isDark=this.Im;this.backgroundColor&&(a.backgroundColor=this.backgroundColor);this.hb||(a.mediaApproved=!1);this.Qk&&(a.imageBox=this.Ba.serialize());return a};
f.la=function(a){void 0===a&&(a=this.width);var b=this.C(),c=a!=this.width;this.Ba&&c&&!b.is(".cropping")&&(b=a/this.width,this.Ba.scale(b,1),this.Sg.scale(b,1));this.Mc&&hD(this.Mc,this.Qk?this.Ba:new V(0,0,a,this.height));Z.prototype.la.call(this,a)};
f.ea=function(a){void 0===a&&(a=this.height);var b=this.C(),c=a!=this.height;this.Ba&&c&&!b.is(".cropping")&&(b=a/this.height,this.Ba.scale(1,b),this.Sg.scale(1,b));this.Mc&&hD(this.Mc,this.Qk?this.Ba:new V(0,0,this.width,a));Z.prototype.ea.call(this,a)};f.Zp=function(){return null!==this.Mc};f.bx=function(a){Jm(this.Ba,this.Sg,this.xa^a);this.Sg.jb(-this.Ba.F());this.Sg.eb(-this.Ba.w());this.xa=a};f.AI=function(){dD(this.C().find(".imageWrapper"),null,this.xa)};
f.zw=function(){NC(this);var a=this.C().find(".imageWrapper");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};f.ab=function(){Z.prototype.ab.call(this);var a=this.C();if(this.Qk&&!a.is(".cropping")){var b=this.xF().scale(W).round();$("img",a).css($C(b,0))}};f.$a=function(){Z.prototype.$a.call(this);this.C().is(".cropping")?this.mz():this.Lq()};f.YC=function(a){this.fq()||aq(a,this.Nb())||(this.gC(!1),this.ca=this.ba=null)};f.Xj=function(){return!0};
f.Nb=function(){return null!=this.ba&&null!=this.ca?new Wm({id:this.ba,version:this.ca}):null};f.Jw=function(){var a=this.Nb();return a?this.Yl(a.id,a.version):P.resolve()};f.Yl=function(a,b){return new P(function(c,d){this.ba=a;this.ca=b;var e=this;mD({tn:e.C().find("img"),ba:a,ca:b,mw:function(a){a?e.cG(c):d()}})}.bind(this))};f.EA=function(){return this.hb};f.gC=function(a){this.hb=a;this.C().toggleClass("unapproved",!a);this.$a()};f.qt=function(){};f.Cg=function(){return this.C().find("img")};
f.Hc=function(){return 0};f.Xz=function(a){return 0!=a?$():$("img",this.C()).eq(0)};f.gg=function(){return 1};f.hn=function(){return this.Sg.clone()};f.ol=function(){return null};f.Kp=function(){return this.Mc};f.Wq=function(){};f.MB=function(){};function sl(a,b){var c=a.Sg.F(),d=a.Sg.w();a.Sg=b.clone();a.Ba.translate(c-a.Sg.F(),d-a.Sg.w())}f.dg=function(){return this.Ba.clone()};f.IM=function(){return!0};
f.mz=function(){if(this.page){var a=this.C();this.yI||(this.yI=!0,this.Ux=new V(this.left+(this.Qk?this.Ba.F():0),this.top+(this.Qk?this.Ba.w():0),this.Ba.l(),this.Ba.o()));var b=uD(vb,this.page),c=HC(b)||0,d=MC(b)||0,b=this.Ux.clone();b.scale(W).translate(c,d).round();(c=a.data("selectionBox"))&&c.css($C(b,this.Ta()));ZC.call(this);0==$(".viewPort .frameHandle").length&&(c=$('\x3ca class\x3d"frameHandle tl" href\x3d"#"\x3e\x3cspan class\x3d"tl"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle tr" href\x3d"#"\x3e\x3cspan class\x3d"tr"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle br" href\x3d"#"\x3e\x3cspan class\x3d"br"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle bl" href\x3d"#"\x3e\x3cspan class\x3d"bl"\x3e\x3c/span\x3e\x3c/a\x3e'),
(a=a.data("cropControls"))&&a.find(".viewPort").append(c))}};f.yh=function(){Z.prototype.yh.call(this);this.Lq()};f.Xl=function(a){this.Ba=a.clone()};f.Jr=function(){jD.call(this);var a=this.C();this.Cg().css("position","absolute");a.css("overflow","hidden");var b=this.Sg.clone();b.translate(this.Ux.F(),this.Ux.w());a.addClass("cropping");this.pd(b);a.removeClass("cropping");this.Sg.jb(-this.Ba.F()).eb(-this.Ba.w());this.Qk=!0;this.yI=!1};
function Up(a){var b=a.oc();a.background=!0;a.Cm=!1;a.C().addClass("background");a.page&&(OC(a.page,a,0),sD(a.page),a.page.trigger("change:background",a.page));a.oc()!==b&&a.$a();a.Ce()}function vD(a){var b=a.oc();a.background=!1;a.Cm=!a.fq();a.C().removeClass("background");a.Zd()&&null!==a.backgroundColor&&a.$w(null);a.oc()!==b&&a.$a();a.page&&a.page.trigger("change:background",a.page);a.Ce()}f.Gb=function(){return this.background};f.KJ=function(){return!0};f.qD=function(){return this.background};
f.rr=function(){return!0};f.xv=function(){return!0};f.oc=function(){return this.Zd()?this.Gb():this.CH};f.lM=function(){if(this.oc()){var a=mh(this.backgroundColor||O.$I);if(a)return a.gv()<O.YI}return this.Im};f.Zd=function(){var a=this;this.SF||null===this.Nb()||(this.SF=!0,Db.Mb(this.ba,(new wD).Fk(this.ca),function(b,c){a.$y=c.Ka().Zd()}));return this.$y};f.bb=function(){var a=[];if(this.oc()){var b=mh(this.backgroundColor||O.$I);b&&a.push(b)}return a};f.Kd=function(){return this.bb().length};
f.jh=function(){return null!==this.backgroundColor?mh(this.backgroundColor):null};f.$w=function(a){var b=this.C();a?(this.backgroundColor=a.qa(),b.css("background-color",this.backgroundColor)):(this.backgroundColor=null,b.css("background-color",""));this.Gb()&&this.page&&this.page.trigger("change:background",this.page);this.Ce()};f.ge=function(a,b){if(0!==a)throw Error("ImageElement.setChangeableColorAtIndex - invalid index: "+a.toString());this.$w(b)};
f.di=function(){if(this.ue)return this.ue;var a=new To;this.bb().forEach(function(b){Wo(a,b)});return this.ue=a};
function ap(a){this.vw=[];this.ub=this.Ac=this.mJ=null;this.Vb=$();this.Ex=[];this.QQ=$();this.Xa=[];this.Xc=[];this.YV=this.loaded=!1;Z.call(this,a);if(void 0!==a&&void 0!==a.mediaId){this.ba=a.mediaId;this.ca=a.mediaVersion;this.hb=void 0===a.mediaApproved?!0:a.mediaApproved;var b=this.C();b.addClass("svg");var c=$('\x3cimg class\x3d"placeholder" /\x3e');b.append(c);this.listenTo(this,"change:fontSize",this.kX);this.listenTo(this,"change:fontFamily",this.kX);this.contents=a.contents?a.contents.slice(0):
null;a.scale&&(this.scale=a.scale);this.Bi=null;a.svgMetadata&&(this.Bi=a.svgMetadata);a.fillColors&&(this.Uc=a.fillColors.map(function(a){return{index:a.index,color:zB(a.color)}}),Object.freeze(this.Uc));this.Yl(this.ba,this.ca).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:svg",this)}).catch(function(){T.trigger("elementLoadingError",this)})}}ap.prototype=Object.create(Z.prototype);f=ap.prototype;f.constructor=ap;f.Yp=XC;f.Lq=iD;f.ed=kD;f.IM=lD;f.xF=YC;
f.Wo=oB;f.xE=uB;f.Jc=WA;f.iv=XA;f.BF=mB;f.es=lB;f.hs=kB;f.ml=gB;f.AF=dB;f.Lw=jB;f.ht=nB;f.RH=tB;f.Zw=vB;f.oo=$A;f.setColor=ZA;f.WH=iB;f.Tq=PA;f.fC=QA;f.vk=RA;f.ve=UA;f.eC=VA;f.qo=aB;f.vi=YA;f.gx=pB;f.YH=qB;f.hx=hB;f.ix=fB;f.jx=bB;f.Yq=eB;f.Lx=rB;f.Zp=function(){return this.YV};f.DA=function(){return!0};f.rr=function(){return!this.Df()};f.au=function(){return this.se()&&!this.xv()};f.se=function(){return this.Vb&&0<this.Vb.length};f.Sp=function(){return this.Xc&&0<this.Xc.length};
f.AI=function(){dD(this.C().children("svg"),null,this.xa)};f.zw=function(){NC(this);var a=this.C().children("svg");a.get(0).classList.add("flipping");a.one("transitionend",function(){a.get(0).classList.remove("flipping")})};f.YC=function(a){aq(a,this.Nb())||(this.gC(!1),this.ca=this.ba=null)};f.Xj=function(){return!0};
f.JD=function(a,b){function c(){k.DP?b&&b(!1):(k.Vb.each(function(a,b){k.rj(a,k.Tb(a),x,!0);$(b).css("opacity","")}),k.ab(),l.forEach(function(a){var b=a.index,c=k.cb(b);k.rj(b,a,function(b){b&&void 0!==a.lineLengths&&IA(c,a.lineLengths);x()},!0)}),k.vw=xD(p,".photoPlaceholder"),k.Cm=0<k.gg(),yD(p,k.vw),zD(p,k.vw),AD(p,k.vw),m&&(k.Xa=mC(m,k.gg(),h),k.Xc=kC(m,k.Xa),Object.freeze(k.Xc),Object.freeze(k.Xa)),k.Xa.forEach(function(a,b){wm(a.an(),vm)&&hD(a,BD(k,b))}),jC(k,function(){t=!0;e()}))}function d(){z=
!0;window.setTimeout(e,0)}function e(){if(t&&z&&!k.loaded&&(k.pc(),k.loaded=!0,p.css("position","absolute"),b&&b(!0),null!=k.Bi&&(null==v||JSON.stringify(k.Bi)!==JSON.stringify(v)))){var a=k.R();(a=a?a.Eb:null)&&a.trigger("change")}}function g(a,b){var c=a.parent(),d=a.prev(),e=$B(a),e=$("\x3cdiv\x3e\x3c/div\x3e").css("opacity",0).css("width",e.l()*W).css("height",e.o()*W).append(a).appendTo("#limbo");try{b()}finally{0<c.length?0<d.length?a.insertAfter(d):a.prependTo(c):a.detach(),e.remove()}}var h=
this.C(),k=this,l=this.contents?this.contents.filter(function(a){return"text"==a.type}):[],m=this.contents?this.contents.filter(function(a){return"image"==a.type}):[];if(!CB(a,!0)||this.DP)b&&b(!1);else{var n=bC();a=PB(a,n);var p=$(a).filter("svg");QB(p);p=$(p.get(0).cloneNode(!0));p.appendTo(h);this.Ac=$B(p);this.width&&this.height||(this.la(this.Ac.l()),this.ea(this.Ac.o()));this.Vb=CD(p,nc(this.i));this.Vb.css("opacity",0).data("canvaElement",this).appendTo(h);DD(this);ED(this).each(function(){var a=
$(this).data("designObject");k.listenTo(a,"change:width",k.hX);k.listenTo(a,"change:height",k.gX)});a=FD(p,this.Vb);this.Ex=a.Ex;this.Ex.forEach(function(a){k.listenTo(a,"change",k.qX)});this.QQ=a.C2;this.QQ.appendTo(h);this.Uc&&this.Uc.forEach(function(a){k.ge(a.index,a.color)});var q=[],u=[];this.Vb.each(function(){var a=$(this).data("fontFamily"),b=zA($(this)).$e;a&&q.push(a);q=q.concat(b)});l.forEach(function(a){var b=MA('\x3cfont face\x3d"'+a.fontFamily+'"\x3e\x3c/font\x3e'+a.html);q=q.concat(b);
a.lineLengths&&k.cb(a.index).data("cachedLineLengths",a.lineLengths);a.fontMedia&&(u=u.concat(Xm(a.fontMedia)));Array.isArray(a.htmlFontMedia)&&(u=u.concat(a.htmlFontMedia.map(Xm)))});var u=u.filter(Boolean),v=this.Bi;g(p,function(){k.ub=GD(p);k.Bi=HD(k,p)});k.ub&&(k.scale&&ID(k),k.la(k.l()),k.ea(k.o()));var z=!1,t=!1;a=this.Vb.length+l.length;var x=_.after(a,d);0===a&&d();this.Ce();JD(Kb,u,q,c)}};f.ab=function(){Z.prototype.ab.call(this);KD(this);bp(this);LD(this)};
f.qs=function(){var a=this,b=[];this.Vb&&this.Vb.each(function(c){b.push(mh(a.Tb(c).color))});return b};f.Jd=function(){var a=this.Hc();return-1<a?this.Xc[a]:null};f.Pz=function(){return this.Hc()};f.Ep=function(a){return this.Xc[a]||null};f.cq=function(){return!(!this.Jd()||!this.Jd().ys())};f.ds=function(){var a=this.VE.slice();0<this.gg()&&a.push("deletePlaceholder");return a};f.Bp=function(){this.Jd()&&this.Jd().Bp()};f.Ap=function(){this.Jd()&&this.Jd().Ap()};
f.DH=function(){if(this.Jd()&&this.Jd().ys()){var a=this.C().data("toolbar");a&&a.view.Ru("filter")}};f.yH=function(a,b){rD(this.Xc[a],b)};f.kX=function(a,b){(a=b.data("designObject"))&&this.loaded&&MD(a)};var ND=0;function bC(){ND=ND==Math.pow(2,53)?0:ND+1;return"CANVA"+ND+"_"}function OD(a){return 0<$("g",a).filter(function(){return-1!="nw n ne w c e sw s se".split(" ").indexOf(this.id)}).length}
function GD(a){function b(a,b){var c=b.firstElementChild;c?b.insertBefore(a,c):b.appendChild(a)}function c(a,c,d,e,g){if(0!=a.length){var h=a.get(0),k=document.createElementNS("http://www.w3.org/2000/svg","g"),m=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),n=bC(),L=bC(),J=document.createElementNS("http://www.w3.org/2000/svg","rect"),Q=document.createElementNS("http://www.w3.org/2000/svg","rect"),S=a.get(0).cloneNode(!0),N=document.createElementNS("http://www.w3.org/2000/svg",
"rect");m.id=n;J.setAttribute("width",e);J.setAttribute("height",g);J.setAttribute("x",c);J.setAttribute("y",d);m.appendChild(J);k.id=L;S.removeAttribute("id");$("g.canva, .textPlaceholder, .photoPlaceholder",S).remove();k.appendChild(S);l.appendChild(k);l.appendChild(m);a.children(":not(.canva)").remove();a.data("clipId",n);a.data("useId",L);h.setAttribute("clip-path","url(#"+n+")");N.setAttribute("width",e);N.setAttribute("height",g);N.setAttribute("x",c);N.setAttribute("y",d);N.setAttribute("class",
"repeat");N.setAttribute("visibility","hidden");N.setAttribute("pointer-events","none");Q.setAttribute("width",e);Q.setAttribute("height",g);Q.setAttribute("class","repeat");Q.setAttribute("display","none");Q.setAttribute("pointer-events","none");Q.setAttribute("class","canva dimensions");b(N,h);h.insertBefore(Q,N);h.setAttribute("class","canva tiled");PD(a)}}if(!OD(a))return null;var d=$B(a),e={left:0,right:0,top:0,bottom:0,repeat:!1,kt:!0,ho:!0},g=a.get(0),h=d.l(),k=d.o();$("g",a).each(function(a,
b){-1!=["n","e","s","w"].indexOf(b.id)&&(e.repeat|=b.classList.contains("repeat"));-1!=["ne","e","se"].indexOf(b.id)?(e.right=Math.max(e.right,h-b.getBBox().x),e.right==h&&(e.right=0)):-1!=["n","c","s"].indexOf(b.id)&&(e.left=Math.max(e.left,b.getBBox().x));-1!=["sw","s","se"].indexOf(b.id)?(e.bottom=Math.max(e.bottom,k-b.getBBox().y),e.bottom==k&&(e.bottom=0)):-1!=["w","c","e"].indexOf(b.id)&&(e.top=Math.max(e.top,b.getBBox().y))});e.kt=!g.classList.contains("verticalOnly");e.ho=!g.classList.contains("horizontalOnly");
if(e.repeat){var l=document.createElementNS("http://www.w3.org/2000/svg","defs");b(l,g);var d=e.left+e.right,m=e.top+e.bottom,n=g.classList.contains("horizontalOnly"),g=g.classList.contains("verticalOnly");c($("g#n",a),e.left,0,h-d,n?k:e.top);c($("g#s",a),e.left,k-e.bottom,h-d,n?k:e.bottom);c($("g#c",a),e.left,e.top,h-d,k-m);c($("g#w",a),0,e.top,g?h:e.left,k-m);c($("g#e",a),h-e.right,e.top,g?h:e.right,k-m)}return e}
function PD(a){var b=a.data("clipId"),c=a.data("useId"),d=a.get(0);if(b&&c){var b=d.querySelector(".repeat"),e=d.querySelector(".dimensions");if(b&&e){var g=Number(b.getAttribute("width")),h=Number(b.getAttribute("height")),b=Number(e.getAttribute("width")),e=Number(e.getAttribute("height")),g=Math.ceil(g/b),h=Math.ceil(h/e);if(!(isNaN(g*h)||!isFinite(g*h)||0>h||0>g||g===Number(a.data("columns"))&&h===Number(a.data("rows")))){a.find("use").remove();for(var k=0;k<g;k++)for(var l=0;l<h;l++){var m=document.createElementNS("http://www.w3.org/2000/svg",
"use"),n=k*b-.5*k,p=l*e-.5*l;m.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+c);m.setAttribute("transform","translate("+n+","+p+")");d.appendChild(m)}a.data("columns",g);a.data("rows",h)}}}}
function xD(a,b){var c=[];if(0===a.find(b).length)return c;var d=a.parent(),e=a.prev(),g=$B(a),h=$("\x3cdiv\x3e\x3c/div\x3e");h.appendTo($("#limbo"));h.css("width",g.l()).css("height",g.o());a.appendTo(h);a.attr("stroke","transparent").attr("stroke-width",0);Bf(a);var k=a.get(0).getBoundingClientRect();$(b,a).each(function(a,b){a=$(b).clone();a.attr("fill","transparent").appendTo($(b).parents("g, svg").first());Bf(a);b=Wg(a.get(0).getBoundingClientRect());a.remove();b.translate(-k.left,-k.top);c.push(b)});
0<d.length?0<e.length?a.insertAfter(e):a.prependTo(d):a.detach();h.remove();return c}
function CD(a,b){var c=$(),d=xD(a,".textPlaceholder"),e=$(".canva .textPlaceholder",a);d.forEach(function(a,d){var k=e.eq(d),l=k.data()||{},m=$(['\x3cdiv class\x3d"text"\x3e\x3cdiv class\x3d"inner"\x3e',l.placeholderText||b.format("documentSvgPlaceholderText"),"\x3c/div\x3e\x3c/div\x3e"].join(""));m.data("textIndex",d).data("placeholderElement",k).data("placeholderText",l.placeholderText).data("rect",a).data("justification",l.justification||"center").css("text-align",l.justification||"center").data("fontSize",
l.fontSize||O.hD).css("font-size",(l.fontSize||O.hD)*O.Li+"%").data("defaultFontSize",l.fontSize||O.hD).data("original-fill",l.fill).data("is-primary-color",l.fill&&XB.equals(mh(l.fill))).data("is-secondary-color",l.fill&&YB.equals(mh(l.fill))).data("is-tertiary-color",l.fill&&ZB.equals(mh(l.fill))).data("fill",l.fill).css("color",l.fill||"").data("fontName",l.fontName).data("fontFamily",l.fontFamily).css("font-family",l.fontFamily?l.fontFamily:"").data("bold",l.bold).data("italic",l.italic).data("lineSpacing",
l.lineSpacing||O.bJ).css("line-height",l.lineSpacing||O.bJ).data("dynamicFontSize",l.dynamicFontSize).data("dynamicHeight",l.dynamicHeight).data("dynamicWidth",l.dynamicWidth);0<k.parents().filter(function(){return this.classList.contains("stack")}).length||QD(m);a=new RD(m,0,0);m.data("designObject",a);c=c.add(m)});return c}
function FD(a,b){function c(a,b,c){var d=[];$(a).find(".textPlaceholder").each(function(e,g){e=c.filter(function(){return $(this).data("placeholderElement").get(0)==g});if(1===e.length){var q=new RD(e.eq(0),b.F(),b.w());e.data("stackId",a.getAttribute("data-stack-id")).data("designObject",q);d.push(q)}});return d}var d=$(),e=[],g=xD(a,".canva.stack");a.find(".canva.stack").each(function(a,k){a=g[a];var l=0<$(k).parents("#n, #c, #s").length,m=0<$(k).parents("#w, #c, #e").length,n=c(k,a,b);a={valign:k.getAttribute("data-valign"),
box:a.serialize(),resizeHorizontal:l,resizeVertical:m,contents:n};a=new SD(a);e.push(a);l=$('\x3cdiv class\x3d"stack"\x3e\x3c/div\x3e');m=b.filter(function(){return $(this).data("stackId")==k.getAttribute("data-stack-id")});l.data("sourceElement",k).data("stack",a).append(m);d=d.add(l)});return{Ex:e,C2:d}}
function QD(a){var b=a.data("placeholderElement"),c=0<b.parents("#n, #c, #s").length,b=0<b.parents("#w, #c, #e").length;c||b?b?a.data("dynamicHeight",!0):c&&a.data("dynamicWidth",!0):a.data("dynamicFontSize",!0)}function yD(a,b){b.forEach(function(b,d){var e=new V(0,0,O.nS,O.mS);Dm(e,b);a.find("image.placeholder").eq(d).attr("x",e.F()).attr("y",e.w()).attr("width",e.l()).attr("height",e.o())})}
function zD(a,b){b.forEach(function(b,d){var e=Math.max(b.l(),b.o()),e=new V(0,0,e,e);d=a.find("image.placeholder").eq(d);var g=document.createElementNS("http://www.w3.org/2000/svg","rect");Cm(Dm(e,b).scale(Math.max(1,O.oy)),b);xm(e)&&(g.classList.add("vignette"),$(g).appendTo(d.parent()).attr("fill","none").attr("clip-path",d.attr("clip-path")).attr("x",e.F()).attr("y",e.w()).attr("width",e.l()).attr("height",e.o()))})}
function AD(a,b){b.forEach(function(b,d){d=a.find("image.placeholder").get(d);var e=d.cloneNode(!0);e.classList.remove("placeholder");e.classList.add("broken");b=Cm(b.clone().scale(.33),b);$(e).appendTo(d.parentNode).attr("x",b.F()).attr("y",b.w()).attr("width",b.l()).attr("height",b.o());e.setAttributeNS("http://www.w3.org/1999/xlink","href","https://static.canva.com/static/images/broken_image_icon.svg")})}
function TD(a,b,c,d){if(!c)return b.clone().scale(d.scale);b=b.clone();b.scale(d.scale);c=a.parents("g#ne, g#e, g#se");0<c.length&&(c=c.data("offsetX")||0,b.translate(d.scale*c,0));c=a.parents("g#n, g#c, g#s");0<c.length&&(c=c.data("deltaX")||0,Bm(b,c*d.scale,0));c=a.parents("g#sw, g#s, g#se");0<c.length&&(c=c.data("offsetY")||0,b.translate(0,d.scale*c));c=a.parents("g#w, g#c, g#e");0<c.length&&(a=c.data("deltaY")||0,Bm(b,0,a*d.scale));return b}f=ap.prototype;
f.hX=function(a,b){if(this.ub&&this.ub.kt&&0!==b){var c=Bm(this.pa(),b,0);switch(a.Gk.data("justification")){case UD:c.translate(-b/2,0);break;case VD:c.translate(-b,0)}WD(this,c);this.pc()}};f.gX=function(a,b){this.ub&&this.ub.ho&&0!==b&&(a=Bm(this.pa(),0,b),a.translate(0,-b/2),WD(this,a),this.pc())};function WD(a,b){var c=a.$a,d=a.pc;a.$a=function(){};a.pc=function(){};a.pd(b);a.pc=d;a.$a=c}
f.qX=function(a){if(this.ub&&(this.ub.kt||this.ub.ho)){var b=!1,c=a.pa(),d=this.C().children(".stack").filter(function(){return $(this).data("stack")===a}),d=TD($(d.data("sourceElement")),a.Vz(),!0,XD(this));if(this.ub.ho){var e=c.wa()-d.wa(),b=b||0!==e;this.ea(this.o()+e)}this.ub.kt&&(c=c.Za()-d.Za(),b=b||0!==c,this.la(this.l()+c));b&&this.ab()}};
function ID(a){var b,c=a.Ac;b={scale:a.scale,deltaX:a.l()/a.scale-c.l(),deltaY:a.o()/a.scale-c.o()};var c=b.scale,d=b.deltaX;b=b.deltaY;a.setSize(a.Ac.l()*c,a.Ac.o()*c);d&&a.la(c*d+a.l());b&&a.ea(c*b+a.o())}
f.setSize=function(a,b){var c=this.width;YD(a,this.width)&&!YD(b,this.height)?this.ea(b):YD(b,this.height)&&!YD(a,this.width)?this.la(a):(Z.prototype.la.call(this,a),Z.prototype.ea.call(this,b),KD(this),LD(this),DD(this),void 0!==a&&!isNaN(a)&&isFinite(a)&&this.Xa.forEach(function(b){var e=b.an();e.scale(a/c);hD(b,e)}))};
f.la=function(a){var b;Z.prototype.la.call(this,a);if(this.ub&&void 0!==this.width&&void 0!==a&&0!=$("svg",this.C()).length){this.Vb.each(function(){var a=$(this);a.data("dynamicWidth")&&KA(a)});b=$B($("svg",this.C()));b.o()==this.Ac.o()?(a=this.Ac.o()*this.width/this.height,b=this.Ac.clone()):(a=b.o()*this.width/this.height,b=b.clone());b.la(a);b=[b.F(),b.w(),b.l(),b.o()].join(" ");$("svg",this.C()).get(0).setAttribute("viewBox",b);b=this.ub.left+this.ub.right;var c=this.Ac.l()-b,d=a-b,e=d/c,g=-this.ub.left*
(e-1),h=this;$("g#n, g#c, g#s",this.C()).each(function(){var a=void 0===$(this).data("scaleY")?1:$(this).data("scaleY"),b=$(this).data("offsetY")||0;"c"==this.id&&(b=-h.ub.top*(a-1));h.ub.repeat?($(".repeat",this).attr("width",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("width",d)):$(this).attr("transform","translate("+g.toString()+", "+b.toString()+") scale("+e.toString()+", "+a.toString()+")");$(this).data("deltaX",d-c).data("scaleX",e)});var k=d-c-1;$("g#ne, g#e, g#se",
this.C()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");"e"==this.id&&(a=-h.ub.top*(b-1));"e"==this.id&&h.ub.repeat?$(this).attr("transform","translate("+k.toString()+")").data("offsetX",k):$(this).attr("transform","translate("+k.toString()+", "+a.toString()+") scale(1, "+b.toString()+")").data("offsetX",k)});$("g#nw, g#w, g#sw",this.C()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");
"w"==this.id&&(a=-h.ub.top*(b-1));"w"==this.id&&h.ub.repeat?$(this).attr("transform","translate(1, 0)").data("offsetX",1):$(this).attr("transform","translate(1,"+a.toString()+") scale(1,"+b.toString()+")").data("offsetX",1)});KD(this);LD(this)}};
f.ea=function(a){Z.prototype.ea.call(this,a);if(this.ub&&void 0!==this.height&&void 0!==a&&0!=$("svg",this.C()).length){var b;b=$B($("svg",this.C()));b.l()==this.Ac.l()?(a=this.Ac.l()*this.height/this.width,b=this.Ac.clone()):(a=b.l()*this.height/this.width,b=b.clone());b.ea(a);$("svg",this.C()).get(0).setAttribute("viewBox",b.F()+" "+b.w()+" "+b.l()+" "+b.o());b=this.ub.top+this.ub.bottom;var c=this.Ac.o()-b,d=a-b,e=d/c,g=-this.ub.top*(e-1),h=this;$("g#w, g#c, g#e",this.C()).each(function(){var a=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX"),b=$(this).data("offsetX")||0;"c"==this.id&&(b=-h.ub.left*(a-1));h.ub.repeat?($(".repeat",this).attr("height",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("height",d)):$(this).attr("transform","translate("+b.toString()+", "+g.toString()+") scale("+a.toString()+", "+e.toString()+")");$(this).data("deltaY",d-c).data("scaleY",e)});var k=d-c-1;$("g#sw, g#s, g#se",this.C()).each(function(){var a=$(this).data("offsetX")||0,b=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"s"==this.id&&(a=-h.ub.left*(b-1));"s"==this.id&&h.ub.repeat?$(this).attr("transform","translate(0, "+k.toString()+")").data("offsetY",k):$(this).attr("transform","translate("+a.toString()+", "+k.toString()+") scale("+b.toString()+", 1)").data("offsetY",k)});$("g#nw, g#n, g#ne",this.C()).each(function(){var a=$(this).data("offsetX")||0,b=void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"n"==this.id&&(a=-h.ub.left*(b-1));"n"==this.id&&
h.ub.repeat?$(this).attr("transform","translate(0, 1)").data("offsetY",1):$(this).attr("transform","translate("+a.toString()+", 1) scale("+b.toString()+", 1)").data("offsetY",1)});KD(this);LD(this)}};function ZD(a){return a.Ac?a.l()/a.Ac.l():0}
function XD(a){var b={scale:ZD(a),deltaX:0,deltaY:0};if(!a.ub)return b;var c,d=$B($("svg",a.C()));a.Ac.l()!=d.l()&&a.Ac.o()!=d.o()?c=a.width/d.l():a.Ac.o()==d.o()?c=a.height/a.Ac.o():(a.Ac.l(),d.l(),c=a.width/a.Ac.l());b.scale=c;b.deltaX=d.l()-a.Ac.l();b.deltaY=d.o()-a.Ac.o();return b}
function bp(a){a.Vb.each(function(){var b=$(this),c=b.data("fontSize"),d=void 0!==b.data("stackId"),e=XD(a),c=c*e.scale;b.css("font-size",c*O.Li+"%");!d&&b.data("placeholderElement")&&b.data("rect")&&b.data("designObject")&&(d=b.data("placeholderElement"),c=b.data("rect").clone(),c=TD(d,c,!!a.ub,e),e=b.data("designObject"),a.stopListening(e,"change:width"),a.stopListening(e,"change:height"),e.pd(c),a.listenTo(e,"change:width",a.hX),a.listenTo(e,"change:height",a.gX),c.scale(W).round(),b.css(c.serialize()))})}
function ED(a){return a.Vb.filter(function(){return 0==$(this).data("placeholderElement").parents().filter(function(){return this.classList.contains("stack")}).length})}function DD(a){if(a.Vb&&0!=a.Vb.length){var b=ED(a),c=XD(a);b.each(function(){$(this).data("designObject").scale(c.scale)})}}function KD(a){a.C().find(".canva.tiled").each(function(){PD($(this))})}
function LD(a){a.Ex.forEach(function(b,c){var d=XD(a),e=a.C().find(".canva.stack").eq(c),e=TD(e,b.Vz(),!!a.ub,d),g=e.clone().scale(W).round();a.QQ.eq(c).css(g.serialize());a.stopListening(b,"change");b.pd(e,d.scale);b.ka();a.listenTo(b,"change",a.qX)})}f.remove=function(){this.Vb.each(function(){var a=$(this);a.hasClass("focused")&&0<a.parents("#overlays").length&&sB(a)});Z.prototype.remove.call(this);this.stopListening();this.Vb.remove();this.Ex.forEach(function(a){a.remove()})};
f.yh=function(){Z.prototype.yh.call(this);this.Lq()};f.CP=function(){var a=$(this.C()).data("toolbar");a&&a.remove()};
f.$a=function(){Z.prototype.$a.call(this);$D(this);var a=this.C(),b=a.data("selectionBox");b&&this.ub&&(this.ub.ho&&b.addClass("verticalScale"),this.ub.kt&&b.addClass("horizontalScale"));if(a.is(".cropping"))this.mz();else{this.Lq();var c=this,b=$("#overlays");0!==b.length&&(b=b.find(".svg.text.focused"),b=b.filter(function(){return c==$(this).data("canvaElement")}),a=a.data("toolbar"))&&(0<b.length&&a.view.$el.filter(".toolbar--font").length&&aE(a),this.Xa.length&&(b=-1<this.Hc(),a.view.tZ("imageDelete",
"crop","filter"),a.view.Tf("imageDelete",b),a.view.Tf("crop",b),a.view.Tf("filter",b&&bE(this.Xa[this.Hc()]))),PC(a))}};f.Nb=function(){return null!==this.ba&&null!==this.ca?new Wm({id:this.ba,version:this.ca}):null};f.Jw=function(){var a=this.Nb();if(!a)return P.resolve();this.contents&&this.contents.splice.bind(this.contents,0,Infinity).apply(null,this.serialize().contents);var b=$('\x3cimg class\x3d"placeholder" /\x3e');this.C().empty().append(b);this.loaded=!1;return this.Yl(a.id,a.version)};
f.Tz=function(){for(var a=[],b=0;b<this.gg();b++){var c=this.Kp(b);c&&a.push(c)}return a};f.Iv=function(){return!0};f.Vq=function(a){aD(bD,this.C().find("img.placeholder"),a)};f.Yl=function(a,b){this.ba=a;this.ca=b;return cE(this)};
function cE(a){return new P(function(a,c){function d(a,b){var c=0>a.indexOf("?")?"?":"\x26",g;g=$.ajax({dataType:"text",url:a});g.done(function(a){k.JD(a,e)});g.fail(function(){b?T.trigger("elementLoadingError",k):d(a+c,!0)})}function e(a){if(a){var b=k;b.C().children("img.placeholder").remove();b.ab()}h(a)}function g(a){function b(a){var c=!!a;k.Vq(c&&a.src||"");k.C().find("img.placeholder").removeClass("placeholder");k.C().addClass("raster");h(c)}qD(bD,a).then(b).catch(b.bind(null,void 0))}function h(d){d?
window.setTimeout(function(){k.ab();k.OB();a()},0):c()}var k=this,l=Hb.Ic(this.ba,this.ca);if(l){var m=l[nD];oD(this.ba,this.ca,"print"==pC?pD:Lg).then(function(a){var b=a.na();a.url.match(/^data:image\/svg\+xml;base64,/i)?(a=window.atob(b.substr(b.indexOf(",")+1)),k.JD(a,e)):a.url.match(/\.svg(\?|$)/)?(k.Vq("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),d(b)):(k.Vq(m.na()),g(b))})}else c()}.bind(a))}f.EA=function(){return this.hb};
f.gC=function(a){this.hb=a;this.C().toggleClass("unapproved",!a);this.$a()};function dE(a){a=1/ZD(a)/W;return"stroke-width: "+1*a+"px; "+("stroke-dasharray: "+3*a+" "+3*a+";")}function $D(a){var b=a.Cg();eE(a);0<b.length&&(b=b.get(0),b.getAttribute("xlink:href")!=O.Po&&b.classList.add("active"),b.parentNode.querySelector(".outline").setAttribute("style",dE(a)))}
function eE(a){fE(a).each(function(){this.classList.contains("active")&&(this.classList.remove("active"),this.parentNode.querySelector(".outline").removeAttribute("style"))})}f.Ui=function(){eE(this)};f.qt=function(a){this.Yp()||(this.mJ=a,$D(this),(a=this.C().data("toolbar"))&&QC(a,this))};f.ol=function(a){return(a=this.Xa[a])?a.serialize():null};f.Kp=function(a){return this.Xa[a]||null};
f.Wq=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,e=this.Xa[a];b.mediaId?hD(gE(hE(iE(e,b.mediaId,b.mediaVersion,c),b.origin?new Um(b.origin):null),b.mediaApproved),um(b.imageBox)).bx(b.flipOrientation):this.MB(a)};f.KY=function(){this.MB(this.Hc())};f.MB=function(a){a===this.Hc()&&(this.mJ=null,eE(this));var b=BD(this,a);hD(jE(this.Xa[a]),b);this.Xc[a].remove()};function BD(a,b){a=a.hn(b);b=new V(0,0,O.nS,O.mS);a&&Dm(b,a).translate(-a.F(),-a.w());return b}
function fE(a){return a.C().find("svg image.placeholder")}function kE(a){return fE(a).filter(function(){return $(this).attr("xlink:href")!=O.Po}).first()}f.Cg=function(){return this.mJ||kE(this)};f.Hc=function(){return fE(this).index(this.Cg())};f.Xz=function(a){return fE(this).eq(a)};f.gg=function(){return this.vw.length};
f.mz=function(){ZC.call(this);var a=this.C().data("cropControls");$(".viewPort",a).css("display","none");if(0==$("svg",a).length){var b=this.Cg().clone().get(0),c=this.ed().scale(1/ZD(this)).round(),d=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","g"),c=[c.F(),c.w(),c.l(),c.o()].join(" ");d.appendChild(e);e.appendChild(b);d.setAttribute("viewBox",c);b=$(d).children("g").get(0);b.classList.add("cropLayer");b.classList.add("masked");
a.append(d)}d=this.ed();d.scale(W).round();a.find("svg").css("transform",$o({Fi:d.F(),Gi:d.w()})).css("width",d.l()).css("height",d.o())};f.jQ=function(a,b){fD.call(this,a,b);b=this.C().data("cropControls");a=this.Cg();b=$("g.cropLayer image",b);var c=this.ed(),d=this.dg();d.translate(c.F(),c.w()).scale(1/ZD(this));a.attr("x",d.F()).attr("y",d.w());b.attr("x",d.F()).attr("y",d.w())};
f.Xl=function(a){gD.call(this,a);var b=this.C().data("cropControls"),b=$("g.cropLayer image",b),c=this.ed();a=a.clone();a.translate(c.F(),c.w()).scale(1/ZD(this));b.attr("x",a.F()).attr("y",a.w()).attr("width",a.l()).attr("height",a.o())};f.hn=function(a){var b=ZD(this);a=this.vw[a].clone();a.scale(b);return a};
f.dg=function(){var a=this.Cg(),b=this.ed(),a=new V(parseFloat(a.attr("x")),parseFloat(a.attr("y")),parseFloat(a.attr("width")),parseFloat(a.attr("height")));a.scale(ZD(this)).translate(-b.F(),-b.w());return a};f.Jr=function(){var a=this.C();a.removeClass("cropping");var b=this.Cg(),a=a.data("cropControls"),a=$("g.cropLayer image",a);b.attr("x",a.attr("x"));b.attr("y",a.attr("y"));b.attr("width",a.attr("width"));b.attr("height",a.attr("height"))};
f.serialize=function(){function a(a,b){a=a===AB?AB:a.qa();return{index:b,color:a}}var b=Z.prototype.serialize.call(this);b.type="svg";b.mediaId=this.ba;b.mediaVersion=this.ca;this.hb||(b.mediaApproved=!1);0!==ZD(this)&&(b.scale=XD(this).scale);var c=this,d=[],e;this.loaded?(this.Xa.forEach(function(a,b){if(bE(a)||!a.hb)a=a.serialize(),(b=tD(c.Xc[b]))&&(a.filter=b),d.push(a)}),this.Vb&&this.Vb.each(function(a){a=c.Tb(a);a.type="text";d.push(a)}),0<d.length&&(b.contents=d),e=this.bb().map(a),0<e.length&&
(b.fillColors=e)):(this.scale&&(b.scale=this.scale),this.contents&&(b.contents=this.contents.slice(0)),this.Uc&&(b.fillColors=this.Uc.map(function(b,c){return a(b.color,c)})));this.Bi&&(b.svgMetadata=this.Bi);return b};
function HD(a,b){function c(a,b){var c,e,g,h,k,z,t,x;a.find("g[id\x3dc]")[0]?(c=d("n"),e=d("s"),g=d("w"),h=d("e"),k=d("nw"),z=d("ne"),t=d("sw"),x=d("se")):a.find("g[id\x3dn]")[0]?(g=d("nw"),h=d("ne"),c=e=k=z=t=x={width:0,height:0}):a.find("g[id\x3dw]")[0]&&(c=d("nw"),e=d("sw"),g=h=k=z=t=x={width:0,height:0});a=Math.max(g.width,k.width,t.width);c=Math.max(c.height,z.height,k.height);return{x:b.x+a,y:b.y+c,width:b.width-a-Math.max(h.width,z.width,x.width),height:b.height-c-Math.max(e.height,x.height,
t.height)}}function d(a){return(a=b.find("g[id\x3d"+a+"]")[0])?a.getBBox():{x:0,y:0,width:0,height:0}}function e(a){return{left:a.x,top:a.y,width:a.width,height:a.height}}w(1===b.closest("#limbo").length,"svg must be in limbo element.");try{var g=a.ub,h={},k={x:a.Ac.F(),y:a.Ac.w(),width:a.Ac.l(),height:a.Ac.o()};h.viewBox=e(k);h.textHolderBoxes=b.find(".textPlaceholder").toArray().map(function(a){return e(a.getBBox())});h.photoHolderBoxes=b.find("image.placeholder").toArray().map(function(a){a=(a=
a.getAttribute("clip-path"))&&a.match(/url\(["']?(.*?)["']?\)/);Fa(!!a,"SVG image placeholder's clip-path attribute is missing or invalid.");var c=b.find(a[1]);Fa(1===c.length,"SVG image placeholder's clipPath element is missing or ambiguous.");a=SVGClipPathElement.prototype.getBBox?c[0].getBBox():null;if(null==a||0===a.width&&0===a.height&&null!=c[0].innerHTML)c=$("\x3csvg\x3e\x3cg\x3e\x3c/g\x3e\x3c/svg\x3e").children().html(c.html()).insertAfter(c),a=c[0].getBBox(),c.remove();return e(a)});g&&(h.centerBox=
e(c(b,k)),h.tile=!!g.repeat);return h}catch(l){return lE().log("Failed to serialize SVG metadata.",{error:l}),null}}f.Fe=function(){return this.Vb?this.Vb.filter(".focused"):$()};f.Df=function(){return 0<this.Fe().length};f.xv=function(){return 0<this.Cg().length};f.di=function(){function a(a,c){zA($(c)).Af.forEach(b)}function b(a){(a=mh(a))&&Wo(c,a)}if(this.ue)return this.ue;var c=new To;this.Vb&&this.Vb.each(a);this.bb().forEach(function(a){a instanceof en&&Wo(c,a)});return this.ue=c};f.KF=function(){return this.Vb.length};
f.cb=function(a){return this.Vb?this.Vb.eq(a):$()};f.zb=function(){return this.Vb.index(this.Fe())};
f.Tb=function(a){function b(a,b,c){var d=Math.PI/2,e=Math.PI,g=Math.PI+Math.PI/2;if(0<=c&&c<d)return b*=Math.sin(c),{left:a.left+b,top:a.top};if(c>=d&&c<e)return b*=Math.sin(c-d),{left:a.right,top:a.top+b};if(c>=e&&c<g)return b*=Math.sin(c-e),{left:a.right-b,top:a.bottom};if(c>=g)return b*=Math.sin(c-g),{left:a.left,top:a.bottom-b};throw Error("Invalid radians value "+c);}function c(a,b,c){var d=a.left-b.left;a=a.top-b.top;var e=Math.sin(c);c=Math.cos(c);return{left:d*c-a*e+b.left,top:d*e+a*c+b.top}}
if(0>a||a>=this.Vb.length)throw Error("SvgElement.getTextAtIndex - invalid index: "+a.toString());var d=this.Vb.eq(a);a=this.Zw(a);var e=d.data("designObject");e&&(a.preferredFontSize=e.ao);var g=d.children(".inner");a.width=g.prop("clientWidth");a.height=g.prop("clientHeight");e=function(a,d){var e=a[0].getBoundingClientRect(),m=g[0].getBoundingClientRect();if(0===d)return{left:(m.left-e.left)/W,top:(m.top-e.top)/W};d=Gn(0<=d?d:360+d);var n={left:e.left+e.width/2,top:e.top+e.height/2};a=Number(a.prop("clientHeight"));
e=b(e,a,d);e=c(e,n,-d);a=Number(g.prop("clientHeight"))*W;m=b(m,a,d);m=c(m,n,-d);return{left:(m.left-e.left)/W,top:(m.top-e.top)/W}}(this.C(),this.Ta()%360);a.left=e.left;a.top=e.top;d=Number(d.data("lineSpacing"));a.lineHeight=100*(isNaN(d)?O.bJ:d);return a};
f.rj=function(a,b,c,d){if(0<=a&&this.Vb&&a<this.Vb.length){var e=this.Vb.eq(a),g=e.children(".inner");g.html(b.html);var h=("true"==g.attr("contentEditable")).toString();g.attr("contentEditable","true");for(var k=window.getSelection(),l=[],m=0;m<k.rangeCount;m++)l.push(k.getRangeAt(m));m=g.get(0)||null;document.body.contains(m)&&k.selectAllChildren(m);this.vk(a,b.fontFamily,c,d);this.Tq(a,b.fontMedia&&Xm(b.fontMedia));this.setColor(a,mh(b.color));k.removeAllRanges();l.forEach(function(a){try{k.addRange(a)}catch(b){}});
this.ve(a,b.fontSize*XD(this).scale);this.oo(a,b.bold);this.qo(a,b.italic);this.vi(a,b.justification);this.jx(a,b.list);this.Yq(a,b.textTransform);a=e.data("designObject");void 0!==b.preferredFontSize&&(a.ao=b.preferredFontSize);g.attr("contentEditable",h);m&&m.hasAttribute("_moz_abspos")&&m.setAttribute("_moz_abspos","transparent");KA(e)}};f.qL=function(){};f.BE=function(){};f.CA=function(){};
f.ve=function(a,b){var c=this.cb(a);if(void 0===b)c.removeData("fontSize").css("font-size","");else{var d=XD(this).scale,e=c.data("fontSize"),g=b/d;c.data("fontSize",b/d).css("font-size",b*O.Li+"%");if(e!==g){d=g/e;if(.5>d||2<d)this.ht(a),this.Lw(a),KA(c);this.trigger("change:fontSize",this,c,b)}}};f.Jc=function(a){a=WA.call(this,a);var b=XD(this).scale;return a*b};f.eC=function(a){var b=this.Fe().data("designObject"),c=XD(this).scale;b.ao=a/c;VA.apply(this,arguments)};
f.bb=function(){var a=mE(this);return _.sortBy(a,function(a,c){return parseInt(c.match(/\d+/)[0],10)})};f.Kd=function(){return this.bb().length};function mE(a){var b={};a.C().children("svg").find(".color").each(function(){for(var a,d=0;d<this.classList.length;d++){var e=this.classList.item(d);if(e.match(/^color-\d+$/)){a=e;break}}a&&(d=zB(this.getAttribute("fill")))&&(b[a]=d)});return b}f.Oy=function(){var a=this.C().children("svg").get(0);return!!a&&a.classList.contains("baseColors")};
f.OB=function(){function a(a,b,c){return tn(mh(a),b,c)}var b=this.sm,c=this.Cy;null!==this.sm&&this.Oy()&&(this.C().children("svg").find(".primaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.Ys,c).qa())}),this.C().children("svg").find(".secondaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.pt,c).qa())}),this.C().children("svg").find(".tertiaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),
b.Ft,c).qa())}),this.Vb.each(function(d,e){var g=!!jQuery.data(e,"is-primary-color"),h=!!jQuery.data(e,"is-secondary-color"),k=!!jQuery.data(e,"is-tertiary-color");e=jQuery.data(e,"original-fill");g?this.setColor(d,a(e,b.Ys,c)):h?this.setColor(d,a(e,b.pt,c)):k&&this.setColor(d,a(e,b.Ft,c))}.bind(this)))};
f.ge=function(a,b){var c=mE(this);a=_.sortBy(_.keys(c),function(a){return parseInt(a.match(/\d+/)[0],10)})[a];this.C().children("svg").find("."+a).each(function(){var a=this.getAttribute("data-color");this.setAttribute("fill",BB(b)||a)});this.Ce()};
function Kp(a,b){function c(){g.rj(0,a,d,!0);g.Ch=$.extend(!0,{},a.stylesOverriden);g.ft=!1}function d(a){n=!0;q=a;m&&e()}function e(){var c=p&&q;g.loaded=!0;h.removeClass("textElementLoading");if(c)g.ft=!0,g.ab(),g.Hd&&a.height?g.ea(a.height):g.ea(),IC(g),AC(g),g.pc(),T.trigger("elementLoaded",g),T.trigger("elementLoaded:text",g);else{var d=g;Z.prototype.ea.call(d,a.height);Z.prototype.la.call(d,a.width);IA(d.C(),a.lineLengths||[]);d.Cz=!0;d.C().toggleClass("failed",d.Cz);d.ft=!0;T.trigger("elementLoadingError",
g)}b&&b(g,c)}Z.call(this,a);var g=this,h=this.C(),k=nc(this.i);h.addClass("text").addClass("textElementLoading").data("placeholderText",a.placeholderText||k.Lg()).append('\x3cdiv class\x3d"inner"\x3e'+k.Lg()+"\x3c/div\x3e");this.style=a.style;this.padding=a.padding;this.border=a.border;this.uG=!0;!1===a.lockedWidth&&(this.uG=!1);k=[];a.fontMedia&&k.push(Xm(a.fontMedia));a.htmlFontMedia&&(k=k.concat(a.htmlFontMedia.map(Xm)));a.verticalAlignment&&(this.ke=a.verticalAlignment);var l=MA(a.html);a.fontFamily&&
l.push(a.fontFamily);var m=!1,n=!1,p=!1,q=!1;this.Ch={};0<k.length?nE(Kb,k,c):c();this.Hd=this.loaded=!1;this.E7=a;JD(Kb,k,l,function(a){m=!0;p=a;n&&e()});this.zN=!1}Kp.prototype=Object.create(Z.prototype);f=Kp.prototype;f.constructor=Kp;f.Wo=oB;f.xE=uB;f.Jc=WA;f.iv=XA;f.BF=mB;f.es=lB;f.hs=kB;f.ml=gB;f.AF=dB;f.Lw=jB;f.ht=nB;f.RH=tB;f.Zw=vB;f.oo=$A;f.setColor=ZA;f.WH=iB;f.Tq=PA;f.fC=QA;f.vk=RA;f.ve=UA;f.eC=VA;f.qo=aB;f.vi=YA;f.gx=pB;f.YH=qB;f.hx=hB;f.ix=fB;f.jx=bB;f.Yq=eB;f.Lx=rB;f.Hv=function(){return!this.loaded};
f.KF=function(){return 1};f.bp=function(){return this.loaded&&!this.By&&!this.Cz};f.au=function(){return!0};f.OD=function(){return this.loaded&&!this.Cz};f.QZ=function(){return!0};f.ZQ=function(){return!0};f.DA=function(){return this.uG};f.bk=function(){this.uG=!0};f.nR=function(){this.uG=!1};
function oE(a){if(!a.pr){var b=a.cb(0),c=window.getSelection(),d=c.focusNode,c=c.toString();if(d&&d.parentNode&&d.parentNode.classList.contains("char"))(b=d&&d.parentNode&&d.parentNode.nextSibling)&&b.classList.contains("fauxCaret")&&(b=b.nextSibling),b&&b.classList.contains("char")&&(c=d.textContent+b.textContent);else if(1===c.length&&8203===c.charCodeAt(0)&&(c=""),0===c.length){d=nA(b);a:{c=window.getSelection();if(0<c.rangeCount&&(c=c.getRangeAt(0).cloneRange(),c.collapse(!0),b=b.get(0))){c.setEnd(b,
1);b=c.toString().slice(0,1);8203===b.charCodeAt(0)&&(b=c.toString().slice(1,2));break a}b=""}c=d+b}else 1===c.length&&(c=nA(b)+c);2===c.length&&(a.pr=c)}a.pr&&(a.pr=a.pr.replace(/\s/gi,""),2!==a.pr.length&&(a.pr=void 0));return a.pr}function pE(a){var b=oE(a);return b?a.BF(0,b):0}f.kZ=function(a){var b=oE(this);b&&(this.gx(0,a,b),this.Wo(0))};f.MV=function(){var a=oE(this);if(a){var b=pE(this);this.gx(0,Math.min(b+10,200),a);this.Wo(0)}};
f.WT=function(){var a=oE(this);if(a){var b=pE(this);this.gx(0,Math.max(b-10,-200),a);this.Wo(0)}};f.vk=function(a,b,c,d){this.Ch.fontFamily=!0;RA.call(this,a,b,c,d)};f.ve=function(a,b,c){this.Ch.fontSize=!0;UA.call(this,a,b,c)};f.oo=function(a,b){this.Ch.bold=!0;$A.call(this,a,b)};f.qo=function(a,b){this.Ch.italic=!0;aB.call(this,a,b)};f.vi=function(a,b){this.Ch.justification=!0;YA.call(this,a,b)};f.setColor=function(a,b){this.Ch.color=!0;ZA.call(this,a,b);this.Ce()};
f.la=function(a){var b=void 0!==a&&a!==this.width;Z.prototype.la.call(this,a);a=this.l();iC(this).css("width",Math.round(a));b&&!this.zN&&KA(this.C())};f.ea=function(a){this.Hd?a&&Z.prototype.ea.call(this,a):(a=iC(this).prop("scrollHeight")||0,Z.prototype.ea.call(this,a))};f.setSize=function(a,b,c){this.zN=!!c;this.la(a);this.ea(b);this.zN=!1};
f.pc=function(){var a=iC(this),b=W,c=.5*(O.Ut-this.ml(0))/100*b;a.css("transform","translateY("+c+"em) scale("+b+")").css("transform-origin","top left").css("width",this.l());Z.prototype.pc.apply(this,arguments)};f.Fe=function(){return this.Ra};f.Df=function(){return 0<this.Ra.length};f.di=function(){if(this.ue)return this.ue;var a=new To;zA(this.Ra).Af.forEach(function(b){(b=mh(b))&&Wo(a,b)});return this.ue=a};f.cb=function(a){return 0!==a?$():this.Ra};f.zb=function(){return 0};
f.Tb=function(a){a=this.Zw(a);a.height=this.o();a.width=this.l();this.Hd&&(a.fontSizeAuto=this.Hd);return a};f.qs=function(){return[mh(this.Tb(0).color)]};function qE(a){return zA(a.C()).Af.filter(function(a,c,d){return d.indexOf(a)===c})}
f.rj=function(a,b,c,d){var e=this,g=this.C(),h=Array.isArray(b.htmlFontMedia)?b.htmlFontMedia.map(Xm):[],k=this.xE(b.kerning),l=b.lineLengths;this.Hd=!1;iC(this).html(b.html);this.fC(a,h);this.Tq(a,b.fontMedia&&Xm(b.fontMedia));this.ve(a,b.fontSize);this.oo(a,b.bold);this.qo(a,b.italic);this.vi(a,b.justification);this.hx(a,b.letterSpacing);this.ix(a,b.lineHeight);this.jx(a,b.list);this.Yq(a,b.textTransform);this.setColor(a,mh(b.color));l&&g.data("cachedLineLengths",l);this.Ch=$.extend(!0,{},b.stylesOverriden);
this.Ce();this.vk(a,b.fontFamily,function(b){b&&(k&&e.Wo(a),l&&IA(g,l));c&&c(b)},d);k&&this.YH(a,k);b.fontSizeAuto&&rE(this)};f.qL=function(){rE(this)};f.BE=function(){this.Hd=!1};f.CA=function(){return this.Hd};f.se=function(){return!0};f.DM=function(){return!0};function sE(a,b){a.border=b?{width:b}:{width:0};a.ab()}f.ci=function(){return this.border&&this.border.width||0};f.HM=function(){return!0};f.hC=function(a){this.padding=a?a:0;this.ab()};f.ls=function(){return this.padding};
f.ab=function(){Z.prototype.ab.call(this);var a=this.C(),b="#000000",c=zA(a).Af;0<c.length&&(b=c[c.length-1]);this.ci()?a.css("border",this.ci()/1E3*W+"em solid "+b):a.css("border","none");a.css("padding",this.padding*W+"px")};f.jv=function(){var a=O.cJ;Jb.G.get(ng)&&(a=a.slice(0),a.push(tE));return a};f.remove=function(){var a=this.C();0<a.parents("#overlays").length&&sB(a);Z.prototype.remove.call(this)};
f.$a=function(){Z.prototype.$a.call(this);var a=this.C(),b=a.data("toolbar"),a=a.data("selectionBox");b&&(a&&(this.Hd?(a.addClass("autoSize"),a.removeClass("horizontalScale")):(a.addClass("horizontalScale"),a.removeClass("autoSize"))),aE(b),PC(b))};f.yh=function(){Z.prototype.yh.call(this);var a=this.C(),b=a.data("toolbar");b&&b.remove();a.removeData("toolbar")};function rE(a){a.Hd=!0;a.bk();a.$a()}
f.serialize=function(){var a=Z.prototype.serialize.call(this);if(!this.loaded){var b=this.E7;Object.keys(a).forEach(function(c){b[c]=a[c]});return b}var c=this.Tb(0);a.type="text";a.style=this.style;a.border=this.border;a.padding=this.padding;a.stylesOverriden=$.extend(!0,{},this.Ch);for(var d in c)a[d]=c[d];this.ke&&(a.verticalAlignment=this.ke);delete a.fontSizeAuto;return a};
function sC(a){function b(){var a={type:"columns",children:[{type:"item"},{type:"item"}]};return[a,a]}void 0===a&&(a={});a.width=a.width||O.dS;a.height=a.height||O.dS;Z.call(this,a);var c=parseInt(a.spacing,10);this.spacing=isNaN(c)||!isFinite(c)||0>c?O.iD:c;this.items=a.items||b();this.Cm=!0;c=this.C();c.addClass("grid").css("width",this.width*W).css("height",this.height*W);uE(this,vE(this.items));a=a.contents||[];this.Xa=mC(a,this.gg(),c);Object.freeze(this.Xa);this.Xc=kC(a,this.Xa);Object.freeze(this.Xc);
this.load().bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:grid",this)})}sC.prototype=Object.create(Z.prototype);f=sC.prototype;f.constructor=sC;f.Yp=XC;f.dg=function(){return-1===this.Hc()?null:this.Xa[this.Hc()].an()};f.mz=ZC;f.jQ=fD;f.Xl=gD;f.Lq=iD;f.Jr=jD;f.ed=kD;f.IM=lD;f.xF=YC;f.Zp=function(){return!0};f.Uq=function(a){Z.prototype.Uq.call(this,a);this.C().toggleClass("fullPageGrid",this.Fg())};
f.setSize=function(a,b,c){Z.prototype.setSize.call(this,a,b,c);this.C().toggleClass("fullPageGrid",this.Fg())};f.pc=function(){Z.prototype.pc.call(this);this.C().toggleClass("fullPageGrid",this.Fg())};f.Jw=function(){this.Xa.forEach(function(a){a.TF=!1});return this.load()};f.load=function(){return new P(function(a){jC(this,a)}.bind(this))};f.di=function(){if(this.ue)return this.ue;var a=new To;this.Xa.forEach(function(b){(b=b.jh())&&Wo(a,b)});return this.ue=a};f.bb=function(){return this.Xa.map(function(a){return a.jh()})};
f.Kd=function(){return this.bb().length};f.ge=function(a,b){var c=this.Xa[a]||this.Xa[this.Xa.length-1];this.Wq(a,null);c.$w(b);this.$a();this.Ce()};
function vE(a){function b(a){var d=a.type||"rows";a=a.children||a;for(var e=$(),g=0,h=0;h<a.length;h++){var k=a[h],l=$('\x3cdiv class\x3d"'+k.type+'"\x3e\x3c/div\x3e');"item"==k.type&&$('\x3cdiv class\x3d"content"\x3e\x3cdiv class\x3d"placeholder" /\x3e\x3c/div\x3e').appendTo(l);if("rows"==d){var m=1/(a.length-h)*(100-g),m=k.height||m,n=g,m=~~(10*m)/10;l.css("top",n+"%").css("height",m+"%").attr("data-top",n/100).attr("data-height",m/100)}else m=1/(a.length-h)*(100-g),m=k.width||m,n=g,m=~~(10*m)/
10,l.css("left",n+"%").css("width",m+"%").attr("data-left",n/100).attr("data-width",m/100);g+=m;void 0!==k.children&&l.append(b(k));e=e.add(l)}return e}return b([{type:"rows",children:a}])}f.Sp=function(){return this.Xc&&0<this.Xc.length};f.Jd=function(){var a=this.Hc();return-1!=a&&bE(this.Xa[a])?-1<a?this.Xc[a]:null:null};f.Pz=function(){var a=this.Hc();return-1!==a&&bE(this.Xa[a])?a:-1};f.Ep=function(a){return this.Xc[a]};f.cq=function(){return this.Jd()&&this.Jd().ys()};f.lM=function(){return!1};
f.jh=function(){return 1===this.Kd()?mh(this.bb()[0]):null};f.fq=function(){return null!==this.jh()};f.oc=function(){var a=1===this.Xa.length&&null===this.Xa[0].Nb();return this.fq()||a};f.Fg=function(){return!(!this.page||!Hm(this.pa(),this.page.pa()))};f.rr=function(){return!0};f.xv=function(){return 0<this.Cg().length};f.ds=function(){var a=this.VE.slice();0<this.gg()&&a.push("deletePlaceholder");return a};f.Bp=function(){this.Jd()&&this.Jd().Bp()};f.Ap=function(){this.Jd()&&this.Jd().Ap()};
f.DH=function(){if(this.Jd()&&this.Jd().ys()){var a=this.C().data("toolbar");a&&a.view.Ru("filter")}};f.yH=function(a,b){rD(this.Xc[a],b)};f.KY=function(){this.MB(this.Hc());this.C().find(".active").removeClass("active")};function Tm(a,b,c,d){if(d)return new V(0,0,a,b);c*=O.kS;return new V(-c,-c,a+2*c,b+2*c)}function uE(a,b){var c=a.C();c.empty();$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e').append(b).appendTo(c);wE(a)}f.ab=function(){Z.prototype.ab.call(this);wE(this);xE(this)};
function wE(a){var b=Math.round(Math.round(a.spacing/2)*W);a=iC(a);a.css("left",b).css("right",b).css("top",b).css("bottom",b);$(".item \x3e .content",a).css("left",b).css("right",b).css("top",b).css("bottom",b)}function xE(a){a.Xa.forEach(function(a){a.update()})}
f.$a=function(){function a(){if(yE(vb,c.R())){var a=c.Xa[c.Hc()];if(a)if(bE(a)){e.view.Ru("crop","filter","flip","imageDelete");e.view.tZ("crop","filter","flip");var d;d=a.Ra.find("img.placeholder");a=a.Ra.find("canvas");d=1==d.length&&d.attr("src")?""+d.attr("src"):1==a.length?a.get(0).toDataURL():O.Po;b(d)}else e.view.FK("crop","filter","flip","imageDelete"),e.view.WF("crop","filter","flip"),b(O.Po),(d=c.bb()[c.Hc()])&&e.view.setColor([d.qa()],g);else b(O.Po),e.view.FK("crop","filter","flip","imageDelete"),
e.view.WF("crop","filter","flip")}}function b(a){e.view.setColor(["url("+a+")"],g)}Z.prototype.$a.call(this);var c=this,d=this.C(),e=d.data("toolbar"),g=xe();d.is(".cropping")?this.mz():(this.Lq(),e&&a())};f.yh=function(){Z.prototype.yh.call(this);this.Lq()};f.Xq=function(a){this.spacing=a;this.ab()};f.remove=function(){Z.prototype.remove.call(this);this.Xc.forEach(function(a){a.remove()})};f.pe=function(){return this.spacing};f.jA=function(){return!0};
f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="grid";a.items=this.items;a.spacing=this.spacing;var b=this,c=[];this.Xa.forEach(function(a,e){a.isEmpty()||(a=a.serialize(),a.filter=tD(b.Xc[e]),c.push(a))});a.contents=c;return a};f.qt=function(a){if(!this.Yp()){T.trigger("hideContextualControlsRequested");var b=$(".item .placeholder.active, div.content.active",this.C());0<b.length&&b.removeClass("active");a.parent("div.content").andSelf().addClass("active");this.$a()}};
f.Cg=function(){var a=this.C().find(".item .placeholder"),b=a.filter(".active");if(0!==b.length)return b.first();b=a.filter("[src]");return 0!==b.length?b.first():a.first()};f.Hc=function(){var a=this.C().find(".item .content.active");0===a.length&&(a=this.C().find(".item.filled .content"));return this.C().find(".item .content").index(a)};f.Xz=function(a){return this.C().find(".item .placeholder").eq(a)};f.gg=function(){return this.C().find(".item .placeholder").length};
f.hn=function(a){a=this.Xz(a).parent("div.content");var b=new V(0,0,this.width,this.height);a=a.parentsUntil(".inner");b.translate(this.spacing,this.spacing);Bm(b,-this.spacing,-this.spacing);a.toArray().reverse().forEach(function(a){a=$(a);var d=parseFloat(a.data("left"))||0,e=parseFloat(a.data("top"))||0,g=parseFloat(a.data("width"))||1;a=parseFloat(a.data("height"))||1;b.translate(d*b.l(),e*b.o()).la(b.l()*g).ea(b.o()*a)});b.la(b.l()-this.spacing).ea(b.o()-this.spacing);return b};
f.ol=function(a){return(a=this.Xa[a])?a.serialize():null};f.Kp=function(a){return this.Xa[a]||null};f.Wq=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,e=this.Xa[a];e&&(b&&b.mediaId?hD(gE(hE(iE(AE(e),b.mediaId,b.mediaVersion,c),b.origin?new Um(b.origin):null),b.mediaApproved),um(b.imageBox)).bx(b.flipOrientation):b&&b.backgroundColor?e.$w(mh(b.backgroundColor)):(e.clear(),this.Xc[a].remove(),BE(this.Xc[a],new CE)))};f.MB=function(a){this.Wq(a,null)};f.kA=function(){return!0};
f.$z=function(){return{imageBoxes:this.Xa.map(function(a){return a.isEmpty()?null:a.an().serialize()})}};f.lZ=function(a){a=a.imageBoxes;for(var b=0;b<this.Xa.length;b++){var c=this.Xa[b],d=a[b];d&&!c.isEmpty()&&hD(c,um(d))}};f.Tz=function(){for(var a=[],b=0;b<this.gg();b++){var c=this.Kp(b);c&&a.push(c)}return a};f.Iv=function(){return!0};function DE(a){this.a=a}function EE(){var a=document.createElement("a");return new DE(a)}function FE(a,b){a=a.a;a.href=b;return"data:"==a.protocol||"blob:"==a.protocol||":"==a.protocol||""==a.hostname?!1:a.protocol!=window.location.protocol||a.hostname!=window.location.hostname||a.port!=window.location.port}
function aD(a,b,c){var d=b instanceof jQuery?b:$(b);return new P(function(e,g){function h(){d.attr(p)===c&&(d.one("error",k),d.attr(p,c+n))}function k(){m();g(Error("Could not load image from src: "+c))}function l(){m();e(b)}function m(){d.off("error",h);d.off("error",k);d.off("load",l)}var n=0>c.indexOf("?")?"?":"\x26",p=null;d&&d.length&&(p="image"===d.get(0).tagName?"xlink:href":"src",d.one("load",l),FE(a,c)?(d.attr("crossorigin","anonymous"),d.one("error",h)):(d.removeAttr("crossorigin"),d.one("error",
k)),d.attr(p,c))})}function qD(a,b){return aD(a,new Image,b)}var bD=EE();function GE(a){this.N=a;this.path="/licenses"}
GE.prototype.lF=function(a){var b=a.status,c=a.D,d=a.document,e=a.zc,g=a.media,h=a.D_,k=a.Y,l=a.limit;a=[].concat(ma(a.types.map(function(a){return"type\x3d"+encodeURIComponent(a)})),ma(b.map(function(a){return"status\x3d"+encodeURIComponent(a)})),[c&&"brand\x3d"+encodeURIComponent(c),d&&"document\x3d"+encodeURIComponent(d)],ma(e.map(function(a){return"license\x3d"+encodeURIComponent(a)})),ma(g.map(function(a){return"media\x3d"+encodeURIComponent(a)})),[h&&"validAt\x3d"+encodeURIComponent(String(h)),
k&&"continuation\x3d"+encodeURIComponent(k),l&&"limit\x3d"+encodeURIComponent(String(l))]);return sj(this.N,this.path+"?"+a.filter(function(a){return!!a}).join("\x26")).get(0).then(La).then(HE)};function $h(a,b){switch(b){case "ONE_USE":return"ONE_USE";case "ROYALTY_FREE":return"ROYALTY_FREE";case "EXTENDED":return"EXTENDED";default:throw new TypeError('expected LicenseType for property "'+a+'", found: '+JSON.stringify(b));}}function zi(a,b){switch(b){case "ONE_USE":return"ONE_USE";case "ROYALTY_FREE":return"ROYALTY_FREE";case "EXTENDED":return"EXTENDED";default:throw new TypeError('expected LicenseType for property "'+a+'", found: '+JSON.stringify(b));}}
function IE(a,b){switch(b){case "ACTIVATED":return"ACTIVATED";case "REVOKED":return"REVOKED";default:throw new TypeError('expected LicenseStatus for property "'+a+'", found: '+JSON.stringify(b));}}function JE(a,b){switch(b){case "UNLIMITED_IMAGES":return"UNLIMITED_IMAGES";default:throw new TypeError('expected Prerequisite for property "'+a+'", found: '+JSON.stringify(b));}}
function KE(a){this.types=a.types||[];this.status=a.status||[];this.D=a.D;this.user=a.user;this.document=a.document;this.zc=a.zc||[];this.media=a.media||[];this.D_=a.D_;this.o8=a.o8||[];this.Y=a.Y;this.limit=a.limit}f=KE.prototype;f.nh=function(){return this.status};f.ja=function(){return this.D};f.Oa=function(){return this.user};f.getDocument=function(){return this.document};f.Mb=function(){return this.media};f.Kb=function(){return this.Y};f.Yd=function(){return this.limit};
function LE(a){this.id=a.id;this.media=a.media;this.ca=a.ca;this.D=a.D;this.user=a.user;this.PT=a.PT;this.WV=a.WV;this.document=a.document;this.OT=a.OT;this.RN=a.RN;this.xz=a.xz;this.dY=a.dY;this.type=a.type;this.status=a.status;this.NW=a.NW}f=LE.prototype;f.u=function(){return this.id};f.Mb=function(){return this.media};f.ks=function(){return this.ca};f.ja=function(){return this.D};f.Oa=function(){return this.user};f.getDocument=function(){return this.document};f.lc=function(){return this.type};
f.nh=function(){return this.status};function ME(a){return new LE({id:C("id",a),media:C("media",a),ca:A("mediaVersion",a),D:C("brand",a),user:D("user",a),PT:C("creatingBrand",a),WV:C("invoiceItem",a),document:D("document",a),OT:A("createdDate",a),RN:A("modifiedDate",a),xz:B("expiryDate",a),dY:Qa(JE,"prerequisite",a),type:Pa(zi,"type",a),status:Pa(IE,"status",a),NW:C("mediaBrand",a)})}function NE(a){this.zc=a.zc||[];this.Sl=a.Sl;this.Y=a.Y}NE.prototype.Kb=function(){return this.Y};
function HE(a){return new NE({zc:G(ME,"licenses",a),Sl:A("responseTimestamp",a),Y:D("continuation",a)})};function OE(a){this.N=a}
function PE(a,b,c){b="/media?"+("brand"in b?"\x26brand\x3d"+encodeURIComponent(b.brand):"")+("user"in b?"\x26user\x3d"+encodeURIComponent(b.user):"")+("filename"in b?"\x26filename\x3d"+encodeURIComponent(b.filename):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("deactivated"in b?"\x26deactivated\x3d"+encodeURIComponent(b.deactivated):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+"\x26projection\x3d"+
encodeURIComponent(b.projections.join(""))+("continuation"in b&&null!=b.continuation?"\x26continuation\x3d"+encodeURIComponent(b.continuation):"")+("types"in b?"\x26types\x3d"+encodeURIComponent(b.types):"")+("limit"in b?"\x26limit\x3d"+encodeURIComponent(b.limit):"");return a.N.get(b,function(a,b){var g=null;200==a&&(g={media:QE(b.media),continuation:b.continuation});c&&c(a,g)})}
function RE(a,b){return new P(function(a,d){PE(this,b,function(b,g){g?a({Y:g.continuation,media:g.media}):d(b)})}.bind(a))}function SE(a,b){return qj(a.N,"/media?"+("name"in b?"\x26file\x3d"+encodeURIComponent(b.name):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("listed"in b?"\x26listed\x3d"+encodeURIComponent(b.listed):"")+("fileSize"in b?"\x26fileSize\x3d"+encodeURIComponent(b.fileSize):""),{}).spread(Dj)}
OE.prototype.Mb=function(a,b,c){var d=Object.keys(b).filter(function(a){return"version"!=a}).map(function(a){if("object"!==typeof b[a])return a+"\x3d"+encodeURIComponent(b[a])});a="/media/"+encodeURIComponent(a)+("version"in b?"/"+encodeURIComponent(b.version):"")+(0<d.length?"?"+d.join("\x26"):"");return this.N.get(a,function(a,b){b=200==a?Dj(b):null;c&&c(a,b)})};function TE(a,b,c){return new P(function(a,e){this.Mb(b,c,function(b,c){Ek(b)?a(c):e(b)})}.bind(a))}
function UE(a,b,c){function d(a){return a.id+":"+a.version}b="/media?batch"+("refs"in b?"\x26refs\x3d"+encodeURIComponent(b.refs.map(d).join(",")):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids.join(",")):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+("unwatermarked"in b?"\x26unwatermarked\x3d"+encodeURIComponent(b.unwatermarked):"")+"\x26projection\x3d"+encodeURIComponent(b.projections.join(""));a.N.get(b,function(a,b){var d=null;200==a&&(d={media:QE(b.media)});c&&
c(a,d)})}function VE(a,b){return new P(function(a,d){UE(this,b,function(b,g){Ek(b)?a(g):d(b)})}.bind(a))}function WE(a,b,c){var d="/media/"+encodeURIComponent(b.u())+"/"+b.getVersion();a.N.post(d,b,function(a,b){b=200==a?Dj(b):null;c&&c(a,b)})}function XE(a,b,c,d){b=(new YE).Lo(b).Fk(c).Qt(!0);WE(a,b,d)}function ZE(a,b,c){return new P(function(a,e){XE(this,b,c,function(b,c){Ek(b)?a(c):e(b)})}.bind(a))}
OE.prototype.G_=P.method(function(a,b){function c(a){return 404===a}function d(){return TE(h,a,b).catch(c,function(){return null})}function e(){return d().then(function(a){g++;var b;if(b=a)b=a.Ka().nh(),b="PENDING_SUBMISSION"!=b&&"PENDING_REVIEW"!=b;return b?a.Ka().nh()===$E?a:Promise.reject(a):P.delay(Math.round(3E3*Math.pow(1.6,g))).then(e).cancellable()})}var g=0,h=this;return e().timeout(36E5)});var nD="THUMBNAIL",Lg="SCREEN",pD="PRINT";function Ot(a,b){switch(b){case "THUMBNAIL":return nD;case "THUMBNAIL_LARGE":return"THUMBNAIL_LARGE";case "SCREEN":return Lg;case "PRINT":return pD;case "ORIGINAL":return"ORIGINAL";default:throw new TypeError('expected MediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}var Eg="RASTER",Gg="VECTOR";
function qh(a,b){switch(b){case "RASTER":return Eg;case "VECTOR":return Gg;case "DESIGN":return"DESIGN";case "FONT":return"FONT";case "ELEMENT_GROUP":return"ELEMENT_GROUP";default:throw new TypeError('expected MediaType for property "'+a+'", found: '+JSON.stringify(b));}}
function aF(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}
function bF(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}
function Xi(a,b){switch(b){case "NOT_APPLICABLE":return"NOT_APPLICABLE";case "FREE":return"FREE";case "STANDARD":return"STANDARD";case "NONE":return"NONE";default:throw new TypeError('expected Licensing for property "'+a+'", found: '+JSON.stringify(b));}}
function Di(a,b){switch(b){case "NOT_APPLICABLE":return"NOT_APPLICABLE";case "FREE":return"FREE";case "STANDARD":return"STANDARD";case "NONE":return"NONE";default:throw new TypeError('expected Licensing for property "'+a+'", found: '+JSON.stringify(b));}}function cF(a,b){switch(b){case "MERGE":return"MERGE";case "REPLACE":return"REPLACE";default:throw new TypeError('expected ListUpdatePolicy for property "'+a+'", found: '+JSON.stringify(b));}}function Wm(a){this.id=a.id;this.version=a.version}
Wm.prototype.u=function(){return this.id};Wm.prototype.getVersion=function(){return this.version};function Tv(a){return{id:ib("id",a.id),version:db("version",a.version)}}function Xm(a){return new Wm({id:C("id",a),version:A("version",a)})}function dF(a){this.dm=a.dm;this.ar=a.ar;this.vF=a.vF;this.mG=a.mG||[]}function Mg(a){return{spritesWide:db("spritesWide",a.dm),spritesHigh:db("spritesHigh",a.ar),fullyRecolorable:gb("fullyRecolorable",a.vF),layers:kb(eF,"layers",a.mG)}}
function Wr(a){return new dF({dm:A("spritesWide",a),ar:A("spritesHigh",a),vF:Ma("fullyRecolorable",a),mG:G(fF,"layers",a)})}function gF(a){this.type=a.type;this.IA=a.IA;this.color=a.color}gF.prototype.lc=function(){return this.type};gF.prototype.nM=function(){return this.IA};gF.prototype.Jb=function(){return this.color};function eF(a){return{type:lb(aF,"type",a.type),layerIndex:eb("layerIndex",a.IA),color:I("color",a.color)}}
function fF(a){return new gF({type:Pa(bF,"type",a),IA:B("layerIndex",a),color:D("color",a)})}function hF(a){this.title=a.title;this.description=a.description;this.vd=a.vd||[];this.oI=a.oI||[]}hF.prototype.pb=function(){return this.title};hF.prototype.Ge=function(){return this.description};hF.prototype.Pj=function(){return this.vd};hF.prototype.JF=function(){return this.oI};
function iF(a){return{title:I("title",a.title),description:I("description",a.description),keywords:kb(jF,"keywords",a.vd),superKeywords:kb(jF,"superKeywords",a.oI)}}function jF(a){return{locale:ib("locale",a.locale),text:ib("text",a.text)}}function kF(a){this.data=a.data;this.hW=a.hW;this.PZ=a.PZ}kF.prototype.getData=function(){return this.data};var $E="APPROVED",lF={gaa:"F",maa:"K",waa:"S",Aaa:"T",caa:"D"},xB="DOCUMENT",Kg="FACEBOOK",wB="LAYOUT";function mF(a){a=void 0===a?{}:a;this.url=a.url||"";this.width=a.width||0;this.height=a.height||0;this.watermarked=a.Zx||!1;this.page=a.page||0;this.quality=a.oi||null}f=mF.prototype;f.na=function(){return this.url};f.o=function(){return this.height};f.l=function(){return this.width};f.R=function(){return this.page};f.IF=function(){return this.quality};
function Rq(a){return a?$.extend(new mF,a):null}function nF(a,b){this.locale=a;this.text=b}nF.prototype.eg=function(){return this.locale};nF.prototype.rl=function(){return this.text};function oF(a){return a?$.extend(new nF(a.locale,a.text),a):null}
function pF(a){a=void 0===a?{}:a;this.version=a.version||0;this.restrictedAccess=a.cca||!1;this.listed=a.Hba||!1;this.status=a.status||"PENDING_SUBMISSION";this.rejectionReason=a.Yba;this.importState=a.yba||"PENDING_IMPORT";this.importMessage=a.xba;this.designVersion=a.dba;this.designType=a.aj;this.artist=a.Qaa||"";this.title=a.title||"";this.titles=a.zca;this.description=a.description||"";this.descriptions=a.dz;this.locale=a.locale||null;this.background=a.background||!1;this.cutout=a.$y||!1;this.isolated=
a.Bba||!1;this.photoholder=a.Pba||!1;this.textholder=a.wca||!1;this.repeating=a.aca||!1;this.recolorable=a.CH||!1;this.superKeywords=a.oI||[];this.keywords=a.vd||[];this.files=a.files||{};this.quality=a.oi;this.ageRating=a.Paa||null;this.spritesheetMetadata=a.Qg;this.licensing=a.MA;this.submittedBy=a.pca;this.submittedDate=a.qca;this.reviewedBy=a.eca;this.reviewedDate=a.fca}f=pF.prototype;f.getVersion=function(){return this.version};f.nh=function(){return this.status};f.bV=function(){return this.artist};
f.pb=function(){return this.title};f.Ge=function(){return this.description};f.eg=function(){return this.locale};f.Gb=function(){return this.background};f.Zd=function(){return this.cutout};f.FA=function(){return this.repeating};f.oc=function(){return this.recolorable};f.JF=function(){return this.superKeywords};f.Pj=function(){return this.keywords};f.ic=function(){return this.files};f.IF=function(){return this.quality};f.ps=function(){return this.spritesheetMetadata};f.oM=function(){return this.licensing};
function qF(a){var b={},b=(b.ONE_USE=0,b.ROYALTY_FREE=0,b.EXTENDED=0,b),c={},c=(c.ONE_USE=1,c.ROYALTY_FREE=10,c.EXTENDED=100,c);switch(a.oM()){case "NOT_APPLICABLE":return{};case "STANDARD":return c;case "FREE":return b;case "NONE":return b;default:throw new TypeError("expected Licensing for media bundle, found: "+JSON.stringify(a.oM()));}}
function rF(a){a=void 0===a?{}:a;this.id=a.id||"";this.importKey=a.importKey||"";this.importBucket=a.vba||"";this.importFilename=a.wba||"";this.type=a.type||Eg;this.copyright=a.Zaa||"";this.bundle=a.Vaa||new pF;this.deactivated=a.sE||!1;this.oneTimeUseDiscountable=a.Lba||!1;this.brand=a.D||"";this.user=a.user;this.design=a.De}f=rF.prototype;f.u=function(){return this.id};f.lc=function(){return this.type};f.Ka=function(){return this.bundle};f.Jv=function(){return this.oneTimeUseDiscountable};
f.ja=function(){return this.brand};f.Oa=function(){return this.user};function Dj(a){if(!a)return null;a=$.extend(new rF,a);if(a.bundle){var b;var c=a.bundle;if(c){c=$.extend(new pF,c);c.superKeywords&&(c.superKeywords=c.superKeywords.map(oF));c.keywords&&(c.keywords=c.keywords.map(oF));if(c.files)for(b in c.files)c.files[b]=Rq(c.files[b]);c.spritesheetMetadata&&(c.spritesheetMetadata=Wr(La(c.spritesheetMetadata)));b=c}else b=null;a.bundle=b}return a}
function QE(a){if(!a)return null;for(var b=[],c=0;c<a.length;c++)b.push(Dj(a[c]));return b}function sF(){this.projections=[]}f=sF.prototype;f.wj=function(a){this.brand=a;return this};f.Tt=function(a){this.user=a;return this};f.St=function(a){this.restricted=a;return this};f.by=function(a){this.staging=a;return this};f.L_=function(a){null!=a&&0<a.length&&(this.filename=a);return this};f.SR=function(a){null!=a&&0<a.length&&(this.ids=a);return this};f.Qt=function(a){this.deactivated=a;return this};
f.NI=function(a){this.locale=a;return this};f.Ko=function(){this.projections.push("F");return this};f.MI=function(){this.projections.push("K");return this};f.K_=function(){this.projections=Object.keys(lF).map(function(a){return lF[a]});return this};f.xj=function(a){this.continuation=a;return this};f.Tg=function(a){this.limit=a;return this};function tF(a,b){a.types=b;return a}function uF(){}uF.prototype.Rt=function(a){this.name=a;return this};uF.prototype.St=function(a){this.restricted=a;return this};
uF.prototype.O_=function(a){this.listed=a;return this};function vF(a,b){a.fileSize=b;return a}uF.prototype.NI=function(a){this.locale=a;return this};function wD(){}f=wD.prototype;f.Fk=function(a){this.version=a;return this};f.by=function(a){this.staging=a;return this};function wF(a){a.projection="";return a}f.Ko=function(){this.projection=(this.projection||"")+"F";return this};f.MI=function(){this.projection=(this.projection||"")+"K";return this};
f.P_=function(){this.projection=(this.projection||"")+"T";return this};f.J_=function(){this.projection=(this.projection||"")+"D";return this};function xF(){this.projections=[]}function yF(a,b){a.refs=b;return a}f=xF.prototype;f.SR=function(a){this.ids=a;return this};f.by=function(a){this.staging=a;return this};f.K_=function(){this.projections=Object.keys(lF).map(function(a){return lF[a]});return this};f.Ko=function(){this.projections.push("F");return this};
f.P_=function(){this.projections.push("T");return this};f.J_=function(){this.projections.push("D");return this};function zF(a){a.unwatermarked=!0;a.projections.push("F")}function YE(){}f=YE.prototype;f.Lo=function(a){this.id=a;return this};f.u=function(){return this.id};f.Fk=function(a){this.version=a;return this};f.getVersion=function(){return this.version};f.Qt=function(a){this.deactivated=a;return this};f.O_=function(a){this.listed=a;return this};f.M_=function(a){this.importVersion=a;return this};
function AF(a,b){b={data:cb.required("data",iF(b.data)),keywordsUpdatePolicy:mb(cF,"keywordsUpdatePolicy",b.hW),superKeywordsUpdatePolicy:mb(cF,"superKeywordsUpdatePolicy",b.PZ)};a.contentMetadata=b;return a}f.MI=function(a){this.keywords=a;return this};f.NI=function(a){this.locale=a;return this};function BF(a,b,c){this.uC=a;this.X9=b;this.Y9=c;this.BZ=null;this.rN=this.sN=0;this.X1=this.isAlpha()?"destination-in":"lighter";this.color=CF(this);this.Be=null}f=BF.prototype;f.oc=function(){return"RECOLORABLE"===this.uC.type};f.isAlpha=function(){return"BACKGROUND_A"===this.uC.type};
function CF(a){switch(a.uC.type){case "RECOLORABLE":return mh(a.uC.color);case "BACKGROUND_R":return gn(new en,255,0,0);case "BACKGROUND_G":return gn(new en,0,255,0);case "BACKGROUND_B":return gn(new en,0,0,255);case "BACKGROUND_A":return null;default:throw Error("Unknown SpritesheetLayerType");}}f.nM=function(){return this.uC.IA};f.Jb=function(){return this.color};f.setColor=function(a){this.oc()&&(this.color=a)};
f.multiply=function(a,b,c,d,e){this.Be=a.getImageData(b,c,d,e);c=la([b,c]);b=c.next().value;c=c.next().value;for(d=0;d<this.Be.data.length;d+=4){var g=la(this.color.nb.slice());e=g.next().value;var h=g.next().value,g=g.next().value;this.Be.data[d]=this.Be.data[d]/255*e;this.Be.data[d+1]=this.Be.data[d+1]/255*h;this.Be.data[d+2]=this.Be.data[d+2]/255*g}a.putImageData(this.Be,b,c)};f.compose=function(a,b,c,d,e,g,h,k,l,m){DF(b,this.X1);b.drawImage(a.canvas,c,d,e,g,h,k,l,m)};
function DF(a,b){a.globalCompositeOperation=b;return a.globalCompositeOperation==b}f.Ce=function(){this.Be=null};function EF(a){this.Bo=a.Bo;this.dm=a.dm;this.ar=a.ar;this.$M=a.$M;this.gf=a.gf;this.Bn=a.Bn;this.OM=a.OM;this.dH=[];this.MD=null;this.KD=!1}function FF(a){var b=document.createElement("canvas").getContext("2d"),c=document.createElement("canvas").getContext("2d"),d=GF(a),e=a.dm,g=a.ar;a=a.vF;var h=EE();return(new EF({Bo:d,dm:e,ar:g,gf:b,Bn:c,$M:a,OM:h})).init()}
function GF(a){return a.mG.map(function(b,c){return new BF(b,c%a.dm,Math.floor(c/a.dm))}).sort(function(a,c){return a.isAlpha()?1:c.isAlpha()?-1:a.nM()-c.nM()})}EF.prototype.init=function(){this.dH=HF(this);return this};EF.prototype.Jk=function(a){var b=this;this.MD=null;this.KD=!1;return qD(this.OM,a).then(function(a){return IF(b,a)}).then(function(){return JF(b)}).then(function(){return KF(b)}).then(function(){return b.KD=!0}).catch(function(){throw Error("Could not build spritesheet");})};
EF.prototype.oc=function(){return this.Bo.some(function(a){return a.oc()})};function LF(a){var b=[XB,YB,ZB];return a.$M&&a.dH.every(function(a){return b.some(function(b){return b.equals(a)})})}function HF(a){return MF(a).map(function(a){return a.Jb()})}function MF(a){return a.Bo.filter(function(a){return a.oc()})}EF.prototype.toDataURL=function(){return this.KD&&this.MD||(this.MD=this.gf.canvas.toDataURL())};
function NF(a,b){var c=a.Bo.indexOf(b);if(!(0>c)){var d=a.Bn,c=c*a.gf.canvas.width,e=a.gf.canvas.width,g=a.gf.canvas.height;b.Ce();DF(d,"source-over");d.drawImage(b.BZ,b.X9*b.sN,b.Y9*b.rN,b.sN,b.rN,c,0,e,g);if(b.isAlpha()){var h=la([c,0]);a=h.next().value;h=h.next().value;b.Be=b.Be||d.getImageData(c,0,e,g);for(c=0;c<b.Be.data.length;c+=4)b.Be.data[c+3]=b.Be.data[c],b.Be.data[c]=b.Be.data[c+1]=b.Be.data[c+2]=255;d.putImageData(b.Be,a,h)}else b.color&&(DF(d,"multiply")?(d.fillStyle=b.color.toString(),
d.fillRect(c,0,e,g)):b.multiply(d,c,0,e,g))}}function IF(a,b){var c=b.width/a.dm,d=b.height/a.ar;a.gf.canvas.width=c;a.gf.canvas.height=d;a.Bn.canvas.width=a.Bo.length*c;a.Bn.canvas.height=d;a.Bo.forEach(function(a){a.BZ=b;a.sN=c;a.rN=d})}function JF(a){a.Bn.clearRect(0,0,a.Bn.canvas.width,a.Bn.canvas.height);a.Bo.forEach(function(b){return NF(a,b)})}
function KF(a){a.gf.clearRect(0,0,a.gf.canvas.width,a.gf.canvas.height);a.Bo.forEach(function(b,c){return b.compose(a.Bn,a.gf,c*a.gf.canvas.width,0,a.gf.canvas.width,a.gf.canvas.height,0,0,a.gf.canvas.width,a.gf.canvas.height)})};function qC(a){if("print"==pC)throw Error("Graphic should not be used in print as it uses screen media. It should be an SvgElement in print.");if(void 0!==a&&void 0!==a.mediaId&&void 0!==a.spritesheetMetadata){var b=this;this.loaded=!1;this.pN=null;this.Qg=Wr(La(a.spritesheetMetadata));this.Co=FF(this.Qg);Z.call(this,a);this.ba=a.mediaId;this.ca=a.mediaVersion;this.hb=void 0===a.mediaApproved?!0:a.mediaApproved;var c=this.C();c.addClass("graphic");var d=$('\x3cdiv class\x3d"placeholder"\x3e\x3cimg class\x3d"imgPlaceholder" /\x3e\x3cdiv class\x3d"canvasPlaceholder" /\x3e\x3c/div\x3e');
c.append(d);c.find(".canvasPlaceholder").append(this.Co.gf.canvas);this.qk();this.contents=a.contents?a.contents.slice(0):null;a.fillColors&&a.fillColors.forEach(function(a){var c=mh(a.color);c&&b.ge(a.index,c)});this.Yl(this.ba,this.ca).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:graphic",this)}).catch(function(){T.trigger("elementLoadingError",this)})}}qC.prototype=Object.create(Z.prototype);f=qC.prototype;f.constructor=qC;
f.Yl=function(a,b){this.ba=a;this.ca=b;this.loaded=!1;return OF(this,a,b)};function OF(a,b,c){var d=Hb.Ic(b,c);if(!d)return P.reject();d=d[nD];b=oD(b,c,Lg);a.Vq(d.na());return b.bind(a).then(function(a){return this.Co.Jk(a.na())}).then(function(){this.loaded=!0;this.Ce();this.IB?this.Kq():this.qk()})}f.s_=function(){this.loaded&&this.Vq(this.Co.toDataURL())};f.n2=_.debounce(qC.prototype.s_,200);f.Vq=function(a){var b=this.C().find(".imgPlaceholder");aD(bD,b,a)};
function PF(a){return a.loaded&&a.pN!==a.IB?(a.pN=a.IB,!0):!1}f.Kq=function(){Z.prototype.Kq.call(this);PF(this)&&(this.C().find(".canvasPlaceholder").show(),this.C().find(".imgPlaceholder").hide())};f.qk=function(){Z.prototype.qk.call(this);PF(this)&&(this.s_(),this.C().find(".imgPlaceholder").show(),this.C().find(".canvasPlaceholder").hide())};f.YC=function(a){aq(a,this.Nb())||(this.gC(!1),this.ca=this.ba=null)};f.Xj=function(){return!0};
f.Nb=function(){return null!=this.ba&&null!=this.ca?new Wm({id:this.ba,version:this.ca}):null};f.Jw=function(){this.pN=null;var a=this.Nb();return a?this.Yl(a.id,a.version):P.resolve()};f.EA=function(){return this.hb};f.gC=function(a){this.hb=a;this.C().toggleClass("unapproved",!a);this.$a()};f.oc=function(){return 0<this.bb().length};f.bb=function(){return 5<HF(this.Co).length?[]:HF(this.Co)};f.Kd=function(){return this.bb().length};
f.ge=function(a,b){var c=this.Co;if(a=MF(c)[a])c.MD=null,a.setColor(b),c.KD&&(NF(c,a),KF(c));this.Ce();this.n2()};f.di=function(){if(this.ue)return this.ue;var a=new To;this.bb().forEach(function(b){Wo(a,b)});return this.ue=a};f.Zp=function(){return!0};f.AI=function(){dD(this.C().find(".placeholder"),null,this.xa)};f.zw=function(){NC(this);var a=this.C().find(".placeholder");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};
f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="graphic";a.mediaId=this.ba;a.mediaVersion=this.ca;this.hb||(a.mediaApproved=!1);a.spritesheetMetadata=Mg(this.Qg);var b=this.bb().map(function(a,b){return{index:b,color:a.qa()}});0<b.length&&(a.fillColors=b);return a};f.Oy=function(){return LF(this.Co)};function QF(a){var b=a.Cy;1<=b||0>=b?a.qk():a.Kq()}
f.OB=function(){if(this.oc()&&this.GD&&null!==this.sm&&this.Oy()){this.GD=!1;QF(this);var a;this.Co.dH.forEach(function(b,c){switch(b.qa()){case XB.qa():a=this.sm.Ys;break;case YB.qa():a=this.sm.pt;break;case ZB.qa():a=this.sm.Ft;break;default:a=null}a&&(b=tn(b,a,this.Cy),this.ge(c,b))}.bind(this))}};f.rr=function(){return!0};qC.prototype.gZ=qC.prototype.ge;function RF(){this.wP=0}var SF=["tame","angry"];
RF.prototype.ge=function(a,b){this.gZ(a,b);if(!(0>["MABsSJ6etSs"].indexOf(this.ba))&&TF(this)){this.wP=this.wP||0;this.Kq();var c=SF[this.wP++]||"flipOut",d=this.C().find(".placeholder");d.addClass(c);var e=this.bb();a={overflow:"visible",zIndex:5};var g=$(".page .elements"),h={},k;for(k in a)h[k]=g.css(k);g.css(a);$({ratio:0}).animate({ratio:1},{duration:500,step:function(a){this.Co.dH.forEach(function(b,c){b=zn(e[c],b,a);this.gZ(c,b)}.bind(this))}.bind(this),always:function(){this.qk();this.$a();
d.removeClass(c);g.css(h)}.bind(this)})}};function TF(a){return a.bb().every(function(a){return a.equals(mh("#cc0000"))})}_.extend(qC.prototype,RF.prototype);function wC(a){this.elements=[];this.Yc=null;this.AP=!0;this.tI=new WeakMap;this.Oh(a);Z.call(this,a);this.S0=[{id:"HorizontalAlignLeft",name:me(zc(this.i)),enabled:!0},{id:"HorizontalAlignCenter",name:oe(zc(this.i)),enabled:!0},{id:"HorizontalAlignRight",name:ne(zc(this.i)),enabled:!0},{id:"VerticalAlignTop",name:pe(zc(this.i)),enabled:!0},{id:"VerticalAlignCenter",name:re(zc(this.i)),enabled:!0},{id:"VerticalAlignBottom",name:qe(zc(this.i)),enabled:!0},{id:"HorizontalDistribute",name:te(zc(this.i)),
enabled:!0},{id:"VerticalDistribute",name:ue(zc(this.i)),enabled:!0}];this.JD()}var uC="CHART";function UF(a,b){var c;c=Math.max(0,b.Fa-a.Fa);var d=$m(Zm([b.left+b.width/2-(a.left+a.width/2),b.top+b.height/2-(a.top+a.height/2)]).rotate(a.rotation));return{Fa:c||0,rotation:hC(b.rotation,a.rotation)||0,top:d[1]-b.height/2+a.height/2,left:d[0]-b.width/2+a.width/2,width:b.width,height:b.height}}
function VF(a,b,c){c?(c=100-(100-b.Fa)/100*((100-a.Fa)/100)*100,c=Math.round(10*c)/10):c=Math.min(100,b.Fa+a.Fa);var d=an(Zm([b.left+b.width/2-a.width/2,b.top+b.height/2-a.height/2]),-a.rotation),e=$m(d);return{Fa:c||0,rotation:hC(b.rotation,-(180*Math.atan2(d.m[3],d.m[4])/Math.PI))||0,top:e[1]-b.height/2+a.top+a.height/2,left:e[0]-b.width/2+a.left+a.width/2,width:b.width,height:b.height}}
function WF(a){var b=a.filter(function(a){return"group"===a.type})[0];if(!b)throw Error("Group index out of bounds");var c=b.childRange;if(!dq(c))throw Error("Invalid group child range");for(var b=new wC(b),d,e,g=c[0];g<=c[1];g++)d=yg(a[g]),e=UF(FC(b),FC(d)),d.$l(e.Fa),d.setPosition(e.left,e.top),d.Zl(e.rotation),XF(b,d),d.By=!1;return b}wC.prototype=Object.create(Z.prototype);f=wC.prototype;f.constructor=wC;f.mb=function(){return!0};f.gG=function(){return!0};f.vV=function(){return!1};f.ZQ=function(){return!0};
f.Oh=function(a){function b(a,b){return a.elementIndex>b.elementIndex?1:-1}var c=this;a&&0<=Object.keys(a).indexOf("elements")&&a.elements.sort(b).forEach(function(a){(a=yg(a))&&c.addElement(a)})};function YF(a,b){AC(a,Math.min.apply(null,b.map(function(a){return a.$b()})));IC(a,Math.min.apply(null,b.map(function(a){return a.kc()})));a.la(Math.max.apply(null,b.map(function(a){return a.Ld()}))-a.F());a.ea(Math.max.apply(null,b.map(function(a){return a.gd()}))-a.w());return a}
f.Fr=function(a){var b={};b.elementIndex=this.K();b.pageIndex=this.R()&&this.R().K();b.old=this.pa();if(!this.AP)return b["new"]=this.pa(),b;var c=Infinity,d=Infinity,e=-Infinity,g=-Infinity;a||(a=this.elements[0]);if(!a)return b["new"]=this.pa(),b;for(var h=0;h<this.elements.length;h++){var k=this.elements[h].F(),l=this.elements[h].w(),m=this.elements[h].l(),n=this.elements[h].o(),p=Lm(this.elements[h].Ta()),q=k+m/2,u=l+n/2,v=$m(an(Zm([k-q,l-u]),-p));v[0]+=q;v[1]+=u;var z=$m(an(Zm([k+m-q,l-u]),-p));
z[0]+=q;z[1]+=u;var t=$m(an(Zm([k-q,l+n-u]),-p));t[0]+=q;t[1]+=u;k=$m(an(Zm([k+m-q,l+n-u]),-p));k[0]+=q;k[1]+=u;c=Math.min(c,v[0],z[0],t[0],k[0]);d=Math.min(d,v[1],z[1],t[1],k[1]);e=Math.max(e,v[0],z[0],t[0],k[0]);g=Math.max(g,v[1],z[1],t[1],k[1])}k=e-c;l=g-d;h=$m(Zm([this.F(),this.w()]).translate(-this.l()/2,-this.o()/2).rotate(Lm(-this.Ta())).translate(this.l()/2,this.o()/2));e=$m(Zm([this.F(),this.w()]).translate(-k/2,-l/2).rotate(Lm(-this.Ta())).translate(k/2,l/2));g=e[0]-h[0];e=e[1]-h[1];for(h=
0;h<this.elements.length;h++)q=this.elements[h],0===q.Ta()&&2>Math.round(q.w())&&2>Math.round(q.F())&&2>Math.abs(Math.round(this.l()-q.l()))&&2>Math.abs(Math.round(this.o()-q.o()))&&(this.elements[h].la(k),this.elements[h].ea(l));this.la(k);this.ea(l);h=FC(a);fC(a)?h.top+=h.height/2:gC(a)&&(h.top+=h.height);h=VF(FC(this),h);q=h.top;u=h.left;for(h=0;h<this.elements.length;h++)k=this.elements[h].F(),l=this.elements[h].w(),this.elements[h].setPosition(k-c,l-d);h=FC(a);fC(a)?h.top+=h.height/2:gC(a)&&
(h.top+=h.height);a=VF(FC(this),h);c=a.top-q;a=a.left-u;this.setPosition(this.F()-g-a,this.w()-e-c);b["new"]=this.pa();return b};f.AV=function(){return!1};function ZF(a){a.elements.forEach(function(b){b instanceof Kp&&a.tI.set(b,BA(b.C(),!0).length)})}
f.zP=function(a,b,c){function d(d,l){g.elements.filter(e).forEach(function(e){var g=h.has(e)?h.get(e):e.pa();h.set(e,e.pa());var m=Lm(a.Ta()),n=BA(a.C(),!0).length,p=Lm(a.Ta()),E=b.clone();1<=n&&5>Math.abs(m-p)&&(m=a.o()/n/2,Am(E,-m));E=Hm(g,E);m=Km(b,g,d);n=Km(c,g,d);if(E||!(m<-1*g.o()/2)){var g=m-n,L=p=0;isFinite(m)&&!isFinite(n)&&k&&(g=m);isFinite(g)&&!isNaN(g)&&(0<=d&&45>d?p=g*Math.cos(d*Math.PI/180):45<=d&&90>d?L=g*Math.sin(d*Math.PI/180):90<=d&&135>d?L=g*Math.cos((d-90)*Math.PI/180):135<=d&&
180>d?p=g*Math.sin((d-90)*Math.PI/180):180<=d&&225>d?p=g*Math.cos((d-180)*Math.PI/180):225<=d&&270>d?L=g*Math.sin((d-180)*Math.PI/180):270<=d&&315>d?L=g*Math.cos((d-270)*Math.PI/180):315<d&&(l=!0,p=g*Math.sin((d-270)*Math.PI/180)),!e.au()&&E?1<Math.abs(L)?e.la(e.l()+L):1<Math.abs(p)&&(l&&e.eb(e.w()-p),e.ea(e.o()+p)):(l&&(p*=-1),1<Math.abs(L)?e.jb(e.F()+L):1<Math.abs(p)&&e.eb(e.w()+p)))}})}function e(b){return b!==a}var g=this;if(this.AP&&-1!==this.elements.indexOf(a)&&(c=c||a.pa(),xm(b)&&xm(c))){var h=
new Map,k=c.o()>b.o(),l=a.ml(0),m=.5*(O.Ut-a.ml(0))/100,n=BA(a.C(),!0).length,p=this.tI.get(a);l<O.Ut&&p!==n&&(1===p?c.ea(c.o()+m*b.o()):1===n&&c.ea(c.o()-m*c.o()));this.tI.set(a,n);l=a.Ta();a.ke&&"top"!==a.ke?gC(a)?d(Lm(l),!0):fC(a)&&(d(Lm(180+l),!1),d(Lm(l),!0)):d(Lm(180+l),!1);this.Fr(a)}};f.jv=function(){var a=O.cJ;Jb.G.get(ng)&&(a=a.slice(0),a.push(tE));return a};f.JD=function(){var a=$('\x3cdiv class\x3d"elements"\x3e\x3c/div\x3e');this.C().addClass("group").html(a);this.pc()};
f.setSize=function(a,b,c){var d;a<O.ky||b<O.ky||(void 0!==a&&void 0!==b&&(d=(a-this.l())/this.l(),Z.prototype.setSize.call(this,a,b)),this.elements.forEach(function(a){if(d&&(void 0===c||c)){var b=d,h=a.l()/a.o(),k,l,m;!isNaN(b)&&isFinite(b)&&(k=a.l()+a.l()*b,h=k/h,l=a.F()+a.F()*b,m=a.w()+a.w()*b,a.setSize(k,h,!0),a.setPosition(l,m),a instanceof Kp&&a.Jc&&a.Jc(0)&&(b=a.Jc(0)+a.Jc(0)*b,a.ve(0,b,!0)))}a.la();a.setPosition();a.ab()}))};
f.ab=function(){this.ft&&(Z.prototype.ab.call(this),this.elements.forEach(function(a){a.la();a.setPosition();a.ab()}))};f.addElement=function(a){var b=this.elements.indexOf(a);-1===b?this.elements.push(a):this.elements.splice(b,1,a);a instanceof Kp&&this.tI.set(a,BA(a.C(),!0).length)};
function XF(a,b,c){if(b.R()&&void 0===c)a.addElement(b);else{c=void 0!==c?c:Math.max(a.elements.length-1,0);var d=a.R();if(d){b.Uq(d);var e=uD(vb,d);b.te=e.$el;OC(d,b,a.K()+c+1,!0)}a.elements.splice(c,0,b);a=a.C().find(".elements");a.find(".element").length>c?a.find(".element").eq(c).before(b.C()):a.append(b.C());b.pc(!0)}}f.oj=function(a){a=this.elements.indexOf(a);-1!==a&&this.elements.splice(a,1)};
f.remove=function(){this.elements.forEach(function(a){a.remove()});var a=this.R();a&&this.stopListening(a,"change:background");Z.prototype.remove.call(this)};f.ia=function(){return this.elements};function $F(a){return a.elements.filter(function(a){return a instanceof Kp})}f.$b=function(){return Math.min.apply(null,this.ia().map(function(a){return a.$b()}))};f.Ld=function(){return Math.max.apply(null,this.ia().map(function(a){return a.Ld()}))};f.kc=function(){return Math.min.apply(null,this.ia().map(function(a){return a.kc()}))};
f.gd=function(){return Math.max.apply(null,this.ia().map(function(a){return a.gd()}))};f.ph=function(){return this.Ld()-this.$b()};f.lh=function(){return this.gd()-this.kc()};f.clone=function(){var a=this.serialize();return new wC(a)};f.ds=function(){return"ungroup copy arrange transparency link delete deleteElement".split(" ")};f.aV=function(){return this.S0};f.Df=function(){return 1===this.Fe().length};f.KF=function(){return this.elements.reduce(function(a,b){return a+b.KF()},0)};f.xv=function(){return!1};
function aG(a,b){a.Ui();b&&-1!==a.elements.indexOf(b)?(a.Yc=b,a.Yc.C().addClass("focused")):a.Yc=null}f.Ui=function(){this.Yc=null;this.elements.forEach(function(a){a.yh();a.C().removeClass("active focused")})};f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="group";a.elements=this.ia().map(function(a){return a.serialize()});return a};f.cq=function(){return!1};f.se=function(){for(var a=0;a!==this.elements.length;a++)if(bG(this,a))return!0;return!1};
function bG(a,b){return a.elements[b]instanceof Kp}f.Fe=function(){var a=this.elements.filter(function(a){var c=a.C().hasClass("focused");return a instanceof Kp&&c})[0];return a?a.C():$()};f.zb=function(){for(var a=0;a!=this.elements.length;a++)if(this.elements[a]instanceof Kp&&this.elements[a].C().hasClass("focused"))return a;return-1};f.cb=function(a){return bG(this,a)?this.elements[a].cb(0):$()};function cG(a){for(var b=[],c=0;c!==a.elements.length;c++)bG(a,c)&&b.push(a.Tb(c));return b}
f.Tb=function(a){if(bG(this,a)){var b=this.elements[a].Tb(0);b.index=a;return b}return this.Qz()};f.rj=function(a,b,c,d){bG(this,a)&&this.elements[a].rj(0,b,c,d)};f.Wo=function(a){return this.elements[a].Wo(0)};f.iv=function(){for(var a=[],b=0;b!==this.elements.length;b++)this.elements[b].se()&&this.elements[b].iv().forEach(function(b){a.push(b)});return a};f.xE=function(a){return this.elements[a].xE(0)};f.Jc=function(a){return bG(this,a)?this.elements[a].Jc(0):dG(this)};f.BF=function(a){return this.elements[a].BF(0)};
f.es=function(a){return this.elements[a].es(0)};f.hs=function(a){return this.elements[a].hs(a)};f.ml=function(a){return this.elements[a].ml(0)};f.AF=function(a){return this.elements[a].AF(0)};f.Lw=function(a){return this.elements[a].Lw(0)};f.ht=function(a){return this.elements[a].ht(0)};f.RH=function(a){return this.elements[a].RH(0)};f.Zw=function(a){return this.elements[a].Zw(0)};f.oo=function(a,b){bG(this,a)?this.elements[a].oo(0,b):this.lQ(b)};
f.setColor=function(a,b){this.elements[a]?eG(this.elements[a],b):this.mQ(b);this.$a()};function eG(a,b){if(b)if(a instanceof Kp)a.setColor(0,b);else for(var c=0;c<a.Kd();c++)a.ge(c,b)}f.ge=function(a,b){this.Yc&&this.Yc.Kd()&&this.Yc.ge(a,b)};f.WH=function(a,b){this.elements[a].WH(0,b)};f.Tq=function(a,b){this.elements[a].Tq(0,b)};f.fC=function(a,b){this.elements[a].fC(0,b)};f.vk=function(a,b,c,d){bG(this,a)?this.elements[a].vk(0,b,c,d):this.UH(b,c,d)};
f.ve=function(a,b){if(bG(this,a))this.elements[a].ve(0,b);else if(0!==dG(this))this.VH(b);else{var c=b/fG(this);this.elements.forEach(function(a){if(a instanceof Kp){var b=Math.round(10*a.Jc(0)*c)/10;a.ve(0,b)}})}};f.eC=function(a){this.ve(this.zb(),a)};f.qL=function(){var a=this.zb();-1!==a?rE(this.elements[a]):this.elements.forEach(function(a){a instanceof Kp&&rE(a)})};f.BE=function(){var a=this.zb();-1!==a?this.elements[a].Hd=!1:this.elements.forEach(function(a){a instanceof Kp&&(a.Hd=!1)})};
f.CA=function(){var a=this.zb();return-1!==a?this.elements[a].Hd:gG(this)};f.qo=function(a,b){bG(this,a)?this.elements[a].qo(0,b):this.nQ(b)};f.vi=function(a,b){this.elements[a].vi(0,b)};f.gx=function(a,b,c){this.elements[a].gx(0,b,c)};f.YH=function(a,b){this.elements[a].YH(0,b)};f.hx=function(a,b){this.elements[a].hx(0,b)};f.ix=function(a,b){this.elements[a].ix(0,b)};f.jx=function(a,b){this.elements[a].jx(0,b)};f.Yq=function(a,b){this.elements[a].Yq(0,b)};
function hG(a){function b(a){-1===d.indexOf(a)&&d.push(a)}function c(a){-1===e.indexOf(a)&&e.push(a)}var d=[],e=[];a.elements.filter(function(a){return a instanceof Kp}).forEach(function(a){a=zA(a.C());a.$e.forEach(b);a.Af.forEach(c)});return{$e:d,Af:e}}f.Qz=function(){var a={};this.elements.filter(function(a){return a instanceof Kp}).forEach(function(b){var c=b.Zw(0);iA.forEach(function(b){-1===Object.keys(a).indexOf(b)?a[b]=c[b]:a[b]!==c[b]&&(a[b]=null)})});return a};
f.Dg=function(){var a=hG(this).Af.map(function(a){return mh(a)});this.elements.forEach(function(b){b.Kd()&&(a=a.concat(b.bb()))});return a};function iG(a){function b(a){return a instanceof en?a.qa():"string"===typeof a?a:"#000000"}var c=hG(a).Af;a.elements.forEach(function(a){a.Kd()&&(c=c.concat(a.bb().map(b)))});return c}function jG(a){return iG(a).filter(function(a,c,d){return d.indexOf(a)===c})}function kG(a){var b=a.Qz(),c=$("\x3cdiv\x3e");iA.forEach(function(a){c.data(a,b[a])});return c}
function dG(a){for(var b,c=0;c!==a.elements.length;c++)if(a.elements[c]instanceof Kp&&(b=b||a.elements[c].Jc(0),b!==a.elements[c].Jc(0)))return 0;return b}f.Kd=function(){return this.elements.reduce(function(a,b){return a+b.Kd()},0)};f.bb=function(){return this.elements.reduce(function(a,b){return b.Kd()?a.concat(b.bb()):a},[])};function gG(a){return a.elements.filter(function(a){return a instanceof Kp}).every(function(a){return a.Hd})}
function lG(a){return!gG(a)&&a.elements.filter(function(a){return a instanceof Kp}).some(function(a){return a.Hd})}function fG(a){for(var b=0,c=0;c!==a.elements.length;c++)a.elements[c]instanceof Kp&&(b=Math.max(b,a.elements[c].Jc(0)));return b}f.lQ=function(a){this.elements.forEach(function(b){b instanceof Kp&&b.oo(0,a)});this.$a()};f.mQ=function(a){this.elements.forEach(function(b){eG(b,a)});this.$a()};
f.UH=function(a,b,c){function d(a){g+=1;!h&&g>=e&&(h=!0,k=k&&a,b&&b(k))}var e=0,g=0,h=!1,k=!0;this.elements.forEach(function(b){b instanceof Kp&&(e+=1,b.vk(0,a,d,c))})};f.VH=function(a){this.elements.forEach(function(b){b instanceof Kp&&b.ve(0,a)})};f.nQ=function(a){this.elements.forEach(function(b){b instanceof Kp&&b.qo(0,a)})};f.Lx=function(){for(var a=0;a<this.elements.length;a++)this.elements[a]instanceof Kp&&this.elements[a].Lx()};f.CP=function(){this.fo()};
f.fo=function(){var a=$(this.C()).data("toolbar");a&&a.remove()};function mG(a){for(var b=a,c=0;c<a.elements.length;c++)a.elements[c].K()>b.K()&&(b=a.elements[c]);return b}function nG(a){function b(a,b){return a.K()-b.K()}0===a.elements.filter(function(a){return-1===a.K()}).length&&a.elements.sort(b);var c=a;a.elements.forEach(function(b){b.insertAfter(c);c=b;b.C().appendTo(a.C().children(".elements"))})}f.insertBefore=function(a){-1!=a.K()&&(Z.prototype.insertBefore.call(this,a),nG(this))};
f.insertAfter=function(a){-1!=a.K()&&(Z.prototype.insertAfter.call(this,a),nG(this))};f.hR=function(){var a=this.zb();-1!==a&&this.elements[a].hR()};f.NN=function(){var a=this.zb();-1!==a&&this.elements[a].NN()};f.DJ=function(){var a=this.zb();-1!==a&&this.elements[a].DJ()};f.qD=function(){return!1};f.DS=function(){return!0};f.rr=function(){for(var a=0;a!==this.elements.length;a++)if(this.elements[a].rr())return!0;return!1};
f.au=function(){for(var a=0;a!==this.elements.length;a++)if(this.elements[a].au())return!0;return!1};f.Uq=function(a){var b=this.R();b&&this.stopListening(b);Z.prototype.Uq.call(this,a);oG(this,a)};function oG(a,b){pG(a,b);a.listenTo(b,"change:background",function(){pG(this,b)})}
function pG(a,b){var c=mh("#000000"),d=mh(O.kD);a.elements.forEach(function(a){a.qs&&a.qs()&&a.qs().forEach(function(g,h){g&&g.equals&&(b.Gf()&&g.equals(c)?a.setColor(h,d):!b.Gf()&&g.equals(d)&&a.setColor(h,c))});a.Kd()&&a.bb().forEach(function(g,h){g&&g.equals&&(b.Gf()&&g.equals(c)?a.ge(h,d):!b.Gf()&&g.equals(d)&&a.ge(h,c))})})};function rC(a){Z.call(this,a);this.C().addClass("shape");this.mj=[];this.viewBox=new V(0,0,0,0);if(a&&a.paths){var b=a.paths.map(function(a){return new qG({d:a.d,fill:a.fill,gl:a.fillRule})});rG(this,b)}a&&a.viewBox&&sG(this,um(a.viewBox));this.render();T.trigger("elementLoaded",this)}rC.prototype=Object.create(Z.prototype);f=rC.prototype;f.constructor=rC;function tG(a){return new rC({top:a.w(),left:a.F(),width:a.l(),height:a.o()})}
function rG(a,b){if(b.some(function(a){return a.d.match(/[^emclazMCLAZ0-9., -]/)}))throw Error("Invalid path data.");a.mj=b}function sG(a,b){a.viewBox=b}
f.render=function(){var a=this.viewBox,b=this.C().find("svg"),c=this.mj;b.length||(b=$(document.createElementNS("http://www.w3.org/2000/svg","svg")),this.C().append(b));b.get(0).setAttribute("viewBox",[a.F(),a.w(),a.l(),a.o()].join(" "));var d=b.find("path");d.slice(c.length).remove();c.forEach(function(a,c){var h=(c=d.get(c))||document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",a.d);h.setAttribute("fill",a.fill);if(a.gl){a:switch(a.gl){case "EVEN_ODD":a="evenodd";break a;
default:a="nonzero"}h.setAttribute("fill-rule",a)}!c&&b.append(h)})};f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="shape";a.paths=this.mj.map(function(a){return{d:a.d,fill:a.fill,fillRule:a.gl}});a.viewBox=this.viewBox.serialize();return a};f.ES=function(){return!0};f.bb=function(){return this.mj.map(function(a){return mh(a.fill)})};f.Kd=function(){return this.bb().length};
f.ge=function(a,b){b&&(this.mj[a]=new qG({d:this.mj[a].d,fill:b.toString(),gl:this.mj[a].gl}),this.render(),this.Ce())};f.di=function(){if(this.ue)return this.ue;if(0<this.C().parents(".group.chart").length)return new To;var a=new To;this.bb().forEach(function(b){b&&Wo(a,b)});return this.ue=a};function qG(a){this.d=a.d;this.fill=a.fill;this.gl=a.gl};function uG(a,b,c,d,e,g){V.call(this,a,b,c,d);this.color=e;this.html=g||""}r(uG,V);f=uG.prototype;f.setColor=function(a){this.color=a;return this};f.Ge=function(){return["M",this.F(),this.wa(),"L",this.F(),this.w(),"L",this.Za(),this.w(),"L",this.Za(),this.wa(),"Z"].join(" ")};f.Jb=function(){return this.color};f.toString=function(){return this.html};f.setElement=function(a){this.element=a};f.getElement=function(){return this.element};
f.Am=function(){var a={};a[vG]=this.w();a[wG]=this.F();a[xG]=this.l();a[yG]=this.o();a[zG]=this.Jb();return a};f.clone=function(){var a=new uG(this.F(),this.w(),this.l(),this.o(),this.Jb(),this.toString());a.setElement(this.getElement());return a};
function AG(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(BG(a,b))},onComplete:function(){return b=c}};e[vG]=function(b,d){return c[a.indexOf(d)].w()};e[wG]=function(b,d){return c[a.indexOf(d)].F()};e[xG]=function(b,d){return c[a.indexOf(d)].l()};e[yG]=function(b,d){return c[a.indexOf(d)].o()};e[zG]=function(b,d){return c[a.indexOf(d)].Jb()};return e}function CG(a){return a.map(function(a){return a.Am()})}
function BG(a,b){return a.map(function(a,d){d=b[d];d.eb(a[vG]);d.jb(a[wG]);d.la(a[xG]);d.ea(a[yG]);d.setColor(a[zG]);return d})}var vG="TOP",wG="LEFT",xG="WIDTH",yG="HEIGHT",zG="COLOR";function DG(a,b,c,d,e,g){uG.call(this,b,c,d,e,"transparent",g);this.Mi=a;this.rotation=this.padding=0}r(DG,uG);f=DG.prototype;f.scale=function(a,b){var c=this.l(),d=this.o();uG.prototype.scale.call(this,a,b);this.la(c);this.ea(d);return this};f.Zl=function(a){this.rotation=a;this.Mi=0!=this.rotation?"right":"center"};
f.Ta=function(){return this.rotation};f.mv=function(){return this.Mi};f.vi=function(a){this.Mi=a};f.ls=function(){return this.padding};f.hC=function(a){this.padding=a};f.clone=function(){var a=new DG(this.mv(),this.F(),this.w(),this.l(),this.o(),this.toString());a.setElement(this.getElement());return a};function EG(a){uG.call(this,0,a.value,a.width,a.Di,a.color);this.Di=a.Di||1}r(EG,uG);EG.prototype.scale=function(a,b){uG.prototype.scale.call(this,a,b);this.ea(this.Di);return this};
EG.prototype.clone=function(){var a=new EG({value:this.w(),width:this.l(),Di:this.o(),color:this.Jb()});a.setElement(this.getElement());return a};function FG(a){uG.call(this,a.index,a.top,1,Math.abs(a.value),a.color)}r(FG,uG);FG.prototype.Ge=function(){var a=Math.min(this.o(),Math.max(.08*this.l(),1));return["M",this.F(),this.wa(),"L",this.F(),this.wa()-this.o()+a,"a",a,a,0,0,1,a,-a,"L",this.Za()-a,this.wa()-this.o(),"a",a,a,0,0,1,a,a,"L",this.Za(),this.wa(),"Z"].join(" ")};
FG.prototype.clone=function(){var a=new FG({index:this.F(),top:this.w(),value:this.o(),color:this.Jb()});a.setElement(this.getElement());return a};function GG(a){return Math.PI*(a+-90)/180}function HG(a){uG.call(this,a.left,a.top,a.width,a.height,a.color);this.vy={x:0,y:0};this.data="";this.hh=a.hh;this.sh=a.sh;this.vh=a.vh;this.lf=a.lf;this.ib=a.ib;this.vm=a.vm;this.wm=a.wm;this.value=a.value;this.Ik=a.Ik}r(HG,uG);f=HG.prototype;f.fd=function(){this.aK();return this.vy};
f.Ge=function(){this.aK();return this.data};f.aK=function(){var a=this.vm+this.ib*Math.cos(GG(this.lf)),b=this.wm+this.ib*Math.sin(GG(this.lf)),c=Math.min(this.hh+5,359.999),d=this.vm+this.ib*Math.cos(GG(c)),e=this.wm+this.ib*Math.sin(GG(c));this.Sq(this.vm+(this.ib+this.Ik)*Math.cos(GG(this.sh)),this.wm+(this.ib+this.Ik)*Math.sin(GG(this.sh)));this.data=["M",this.vm,this.wm,"L",a,b,"A",this.ib,this.ib,0,180<=c-this.lf?1:0,1,d,e,"Z"].join(" ")};f.rc=function(){return this.value};f.jl=function(){return this.vm};
f.kl=function(){return this.wm};f.Sq=function(a,b){this.vy={x:a,y:b}};f.setData=function(a){this.data=a};f.setRadius=function(a){this.ib=a};f.clone=function(){return new HG({left:this.F(),top:this.w(),width:this.l(),height:this.o(),color:this.Jb(),value:this.rc(),vh:this.vh,lf:this.lf,sh:this.sh,hh:this.hh,ib:this.ib,vm:this.jl(),wm:this.kl(),Ik:this.Ik})};f.Am=function(){var a={};a[IG]=this.lf;a[JG]=this.hh;a[KG]=this.ib;a[LG]=this.Jb();return a};
function MG(a){return a.map(function(a){return a.Am()})}function NG(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(OG(a,b))},onComplete:function(){return b=c}};e[IG]=function(b,d){return c[a.indexOf(d)].lf};e[JG]=function(b,d){return c[a.indexOf(d)].hh};e[KG]=function(b,d){return c[a.indexOf(d)].ib};e[LG]=function(b,d){return c[a.indexOf(d)].Jb()};return e}function OG(a,b){return a.map(function(a,d){d=b[d];d.lf=a[IG];d.hh=a[JG];d.setRadius(a[KG]);d.setColor(a[LG]);return d})}
var IG="START_ANGLE",JG="END_ANGLE",KG="RADIUS",LG="COLOR";function PG(a,b,c,d,e,g){DG.call(this,a,b,c,d,e,g);this.vy={x:0,y:0};this.SW={x:0,y:0};this.angle=0}r(PG,DG);PG.prototype.fd=function(){return this.vy};PG.prototype.Sq=function(a,b){this.vy={x:a,y:b}};function QG(a){uG.call(this,a.left,a.top,a.width,a.height,a.color);this.data=a.data}r(QG,uG);QG.prototype.Ge=function(){return this.data};function RG(a){HG.call(this,a);this.Xh=a.Xh}r(RG,HG);
RG.prototype.aK=function(){var a=Math.min(this.hh+5,359.999),b=this.jl()+this.ib*this.Xh*Math.cos(GG(this.lf)),c=this.kl()+this.ib*this.Xh*Math.sin(GG(this.lf)),d=this.jl()+this.ib*this.Xh*Math.cos(GG(a)),e=this.kl()+this.ib*this.Xh*Math.sin(GG(a)),g=this.jl()+this.ib*Math.cos(GG(this.lf)),h=this.kl()+this.ib*Math.sin(GG(this.lf)),k=this.jl()+this.ib*Math.cos(GG(a)),l=this.kl()+this.ib*Math.sin(GG(a));this.Sq(this.jl()+(this.ib+this.Ik)*Math.cos(GG(this.sh)),this.kl()+(this.ib+this.Ik)*Math.sin(GG(this.sh)));
a=180<=a-this.lf?1:0;this.data=["M",b,c,"L",g,h,"A",this.ib,this.ib,0,a,1,k,l,"L",d,e,"A",this.ib*this.Xh,this.ib*this.Xh,0,a,0,b,c,"Z"].join(" ")};RG.prototype.clone=function(){return new RG({left:this.F(),top:this.w(),width:this.l(),height:this.o(),color:this.Jb(),value:this.rc(),vh:this.vh,lf:this.lf,sh:this.sh,hh:this.hh,ib:this.ib,vm:this.jl(),wm:this.kl(),Ik:this.Ik,Xh:this.Xh})};function SG(a){uG.call(this,a.left,a.top,a.width,a.height,a.color);this.ib=a.ib}r(SG,uG);
SG.prototype.setRadius=function(a){this.ib=a};SG.prototype.Ge=function(){var a=this.ib,b=this.F()+this.l()/2-a,c=this.w();return["M",b,c,"a",a,a,0,1,0,2*a,0,"a",a,a,0,1,0,2*-a,0,"Z"].join(" ")};SG.prototype.clone=function(){return new SG({left:this.F(),top:this.w(),width:this.l(),height:this.o(),color:this.Jb(),ib:this.ib})};SG.prototype.Am=function(){var a=uG.prototype.Am.call(this);a[KG]=this.ib;return a};
function TG(a,b,c,d){var e=AG(a,b,c,d,Power1.easeOut);e.onUpdate=function(){return d(UG(a,b))};e[KG]=function(b,d){return c[a.indexOf(d)].ib};return e}function UG(a,b){return a.map(function(a,d){d=b[d];d.eb(a[vG]);d.jb(a[wG]);d.la(a[xG]);d.ea(a[yG]);d.setColor(a[zG]);d.setRadius(a[KG]);return d})}function VG(a,b,c,d){var e=Math.min(a.x,b.x),g=Math.min(a.y,b.y);uG.call(this,e,g,Math.max(a.x,b.x)-e,Math.max(a.y,b.y)-g,c);this.Bc=a;this.bc=b;this.Di=d}r(VG,uG);
VG.prototype.Ge=function(){var a=this.Di/2,b=180*Math.atan2(this.bc.y-this.Bc.y,this.bc.x-this.Bc.x)/Math.PI- -90-90,c=this.Bc.x-(this.Bc.x+a*Math.cos(GG(b))),a=this.Bc.y-(this.Bc.y+a*Math.sin(GG(b)));return["M",this.Bc.x-c,this.Bc.y-a,"L",this.bc.x-c,this.bc.y-a,"L",this.bc.x+c,this.bc.y+a,"L",this.Bc.x+c,this.Bc.y+a,"Z"].join(" ")};VG.prototype.clone=function(){return new VG({x:this.Bc.x,y:this.Bc.y},{x:this.bc.x,y:this.bc.y},this.Jb(),this.Di)};
VG.prototype.Am=function(){var a={};a[WG]=this.Bc.x;a[XG]=this.Bc.y;a[YG]=this.bc.x;a[ZG]=this.bc.y;a[$G]=this.Jb();a[aH]=this.Di;return a};
function bH(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(cH(a,b))},onComplete:function(){return b=c}};e[WG]=function(b,d){return c[a.indexOf(d)].Bc.x};e[XG]=function(b,d){return c[a.indexOf(d)].Bc.y};e[YG]=function(b,d){return c[a.indexOf(d)].bc.x};e[ZG]=function(b,d){return c[a.indexOf(d)].bc.y};e[$G]=function(b,d){return c[a.indexOf(d)].Jb()};e[aH]=function(b,d){return c[a.indexOf(d)].Di};return e}function dH(a){return a.map(function(a){return a.Am()})}
function cH(a,b){return a.map(function(a,d){d=b[d];d.Bc.x=a[WG];d.Bc.y=a[XG];d.bc.x=a[YG];d.bc.y=a[ZG];d.setColor(a[$G]);d.Di=a[aH];return d})}var WG="POINT_1_X",XG="POINT_1_Y",YG="POINT_2_X",ZG="POINT_2_Y",$G="COLOR",aH="THICKNESS";var eH=/([^\-0-9,.]*)([\-0-9,.\s]*\d)(\D*)/;function fH(a){this.parsed=!1;this.value=a;this.th=NaN;this.post=this.cO=this.BB="";this.parse()}fH.prototype.xk=function(a){this.value=a;this.parsed=!1;return this};fH.prototype.parse=function(){if(!this.parsed){var a=eH.exec(this.value);a&&!isNaN(gH(this.value))?(this.th=gH(this.value),this.BB=a[1],this.cO=a[2],this.post=a[3]):(this.th=NaN,this.post=this.cO=this.BB="");this.parsed=!0}};
fH.prototype.toString=function(){this.parse();return this.BB+this.cO+this.post};fH.prototype.isValid=function(){this.parse();return!isNaN(this.th)&&(""!==this.BB||""!==this.post)};function gH(a){if(a=eH.exec(a))if(a=parseFloat(a[2].replace(/[,\s]*/g,"")),!isNaN(a))return a;return NaN};function hH(a){a=void 0===a?{}:a;var b=a.bar||{};this.V0=!0;this.Fs=5;this.spacing=void 0!==b.spacing?b.spacing:.5;this.padding=void 0!==b.padding?b.padding:10;this.LS=!1;this.color=vn(mn(a.colors?a.colors[0]:"#00c4cc"),a.gradientRange);this.data=[];this.az=new V(0,0,0,0);this.Nd=void 0!==a.labelset?a.labelset:0;this.Xf=this.Nd+1;this.Cl={labels:[],AJ:[],Ak:[]};this.be={labels:[],Vv:[],Ak:[]};this.bO=a.bO||function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};a.data&&this.Js(a.data)}
f=hH.prototype;
f.Js=function(a,b,c){var d=this;this.Nd=b||this.Nd;this.Xf=c||this.Xf;this.Nd===this.Xf&&this.Xf++;var e=null;this.data=a.map(function(a){var b=new fH(a[d.Xf]);!e&&b.isValid()&&(e=b);a=a[d.Nd];b.parse();return[a,b.th]}).filter(function(a){return!isNaN(a[d.Xf])});c=this.data.map(function(a){return a[d.Xf]});a=0;b=_.max(c);this.LS&&(a=Math.min(0,_.min(c)));this.V0&&(this.Fs=5,5<b&&10>=b&&0!==b%2?b+=2-b%2:10<b&&25>=b&&0!==b%5?b+=5-b%5:25<b&&100>=b&&0!==b%10?b+=10-b%10:100<b&&1E3>=b&&0!==b%50?b+=50-b%
50:1E3<b&&1E4>=b&&0!==b%100?b+=100-b%100:1E4<b&&(c=Math.pow(10,Math.floor(Math.log10(b))),b/=c,b=(Math.floor(b)+Math.ceil(20*(b-Math.floor(b)))/20)*c),4<b&&(0===b%4?this.Fs=5:0===b%3?this.Fs=4:0===b%5&&(this.Fs=6)));this.az=new V(0,a,this.data.length,b-a);this.be=iH(this,a,b,e);this.Cl=jH(this,this.data,a)};f.iV=function(){var a=[];a[1]=this.Cl.Ak.slice();a[0]=this.be.Ak.slice();return a};f.getData=function(){return this.data};f.Xq=function(a){this.spacing=a};f.pe=function(){return this.spacing};
function iH(a,b,c,d){for(var e=[],g=[],h=[],k=[],l=0;l<a.Fs;l++)k.push(cn(b,c,l/(a.Fs-1)));var m=k.reduce(function(a,b){return Math.abs(a)<Math.abs(b)?a:b});k.forEach(function(c){var k=c-m;c=k+Math.abs(b);var l=a.bO(k.toString());d&&(d.parse(),l=d.BB+l+d.post);h.push(l);k=new EG({value:k+Math.abs(b),width:a.az.l(),Di:1,color:"#ccc"});e.push(new DG("right",0,c,a.Fs-1,1,l));g.push(k)});return{Ak:h,labels:e,Vv:g}}
function jH(a,b,c){var d=[],e=[],g=[];b.forEach(function(b,k){var l=parseFloat(b[a.Xf]);!a.LS&&0>l&&(l=0);var m=new DG("center",k,0,1,1,b[a.Nd]);e.push(new FG({index:k,top:0>=c&&0<l?Math.abs(c):Math.abs(c)-Math.abs(l),value:l,color:"#ccc"}));d.push(m);g.push(b[a.Nd])});return{labels:d,AJ:e,Ak:g}}function kH(a,b,c,d){var e=c.l()/a.az.l(),g=c.o()/a.az.o();return b.map(function(a){a=a.clone();a.scale(e,g);a.translate(c.F(),c.w());a.ea(a.o());a.eb(d.o()-a.w()-a.o());return a})}
f.Hr=function(a){function b(a,b){return a>b?a:b}var c=this;if(0===this.data.length||0===this.az.o())return{be:[[],[]],data:[[],[]]};var d=a.Px.ay[0].reduce(b,0),e=a.Px.ay[1].reduce(b,0),g=a.Px.nN;this.padding=.5*g;this.spacing=void 0!==a.spacing?a.spacing:this.spacing;this.color=a.color||this.color;var h=a.TE,k=h.l()-d-2*this.padding,l=k/this.Cl.AJ.length,m=l<e,n=m?.7071067811865475*(e+g):g,p=d+this.padding,q=(1-this.spacing)*l,u=h.o()-n-g-this.padding,v=new V(0,n+this.padding+g/2,d,u),z=m?this.padding:
.5*this.padding,t=new V(p+(m?.7071067811865475*g/2:0),h.o()-n-z,k,n),n=new V(p,n+this.padding,k,u),k=kH(this,this.be.Vv,n,h),v=kH(this,this.be.labels,v,h),x=kH(this,this.Cl.AJ,n,h),H=kH(this,this.Cl.labels,t,h);H.forEach(function(a){return a.ea(g)});v.forEach(function(a){return a.la(d)});x.forEach(function(a,b){a.setColor(c.color(b,x.length));if(1===x.length)a.la(l);else{var d=1<x.length?b*c.spacing*l/(x.length-1):0;a.la(q).translate(d,-1);H[b].translate(-(l-q)/2+d,0)}});k.forEach(function(b){return b.setColor(a.Uv)});
H.forEach(function(a){if(m){var b=a.F()+l/2;a.la(e);a.jb(b-.7071067811865475*(e+g));a.Zl(-45);a.eb(t.w()+.35355339059327373*e)}else a.la(l),a.eb(t.w())});var E=Math.ceil(1.2*g/l),H=H.filter(function(a,b){return 0===b%E}),h={be:[],data:[]};h.be.push(k);h.be.push(v);h.data.push(x);h.data.push(H);return h};function lH(a){var b="undefined"!==typeof a.y3?a.y3:1;this.canvas=document.createElement("canvas");this.color=vn(mn(a.color||"#00c4cc"),b);this.data=[];this.Nd=0;this.Cl=[];this.total=0;this.Xf=1;this.Ak=[];this.spacing=a.spacing||0;a.data&&this.Js(a.data)}f=lH.prototype;f.getData=function(){return this.data};f.iV=function(){return this.Ak};f.pe=function(){return this.spacing};f.Xq=function(a){this.spacing=a};
f.Js=function(a,b,c){var d=this;this.Nd=b||this.Nd;this.Xf=c||this.Xf;this.data=a.map(function(a){return[a[d.Nd],gH(a[d.Xf])]}).filter(function(a){return!isNaN(a[d.Xf])}).filter(function(a){return 0<a[d.Xf]});this.total=this.data.reduce(function(a,b){return a+b[d.Xf]},0);this.Cl=this.data.map(function(a){return[a[0],a[d.Xf],100*a[d.Xf]/d.total]});this.Ak[0]=this.data.map(function(a,b){return""+d.Cl[b][0]});this.Ak[1]=this.data.map(function(a,b){return Math.round(d.Cl[b][2])+"%"})};
f.Hr=function(a){for(var b=a.color||this.color,c=a.TE,d=a.Q3||.9,e="undefined"!==typeof a.jW?a.jW:.3,d=Math.min(c.o(),c.l())/2*d,g=mH(this,b,c,d,e,a.Uv,a.Px),h=nH(g,c);0<h&&10<d;)d=Math.max(d-h,10),g=mH(this,b,c,d,e,a.Uv,a.Px),h=nH(g,c);return g};function mH(a,b,c,d,e,g,h){e*=h.fontSize;var k=c.l()/2,l=c.o()/2;b=oH(a,c,b,k,l,d,e);c=[];var m=[];if(0<h.fontSize){var m=d+2.1*h.fontSize,n=2*h.nN;c=pH(a,b,k,l,m,n,e,h);m=qH(c,k,l,m,n,g)}return{K3:0<m.length,labels:c,Vv:m,e8:d,Ao:b}}
function pH(a,b,c,d,e,g,h,k){return b.map(function(b,m){var n=Math.ceil(Math.max(k.ay[0][m],k.ay[1][m]))+2*h,p=.0032*n*(90-Math.abs(b.sh%180-90)),q=c+(e+p)*Math.cos(GG(b.sh)),p=d+(e+p)*Math.sin(GG(b.sh));m=new PG("center",q-n/2,p-g/2,n,g,"\x3cb\x3e"+a.Ak[0][m]+"\x3c/b\x3e\x3cbr/\x3e"+a.Ak[1][m]);m.Sq(q,p);m.angle=b.sh;m.slice=b;return m})}
function rH(a,b,c,d){var e=a.slice,g=e.fd(),h=a.fd(),k=a.SW,l=(2*k.x+e.fd().x)/3,m=(2*k.y+e.fd().y)/3,n=(2*k.x+a.fd().x)/3;a=(2*k.y+a.fd().y)/3;b=g.x>=b?1:-1;c=g.y>=c?-1:1;g=["M",g.x,g.y,"C",l,m,",",n,a,",",h.x,h.y,"L",h.x+b,h.y+c,"C",n+b,a+c,",",l+b,m+c,",",g.x+b,g.y+c,"Z"].join(" ");return new QG({left:e.F(),top:e.w(),width:e.l(),height:e.o(),color:d,data:g})}
function oH(a,b,c,d,e,g,h){var k=0;return a.Cl.map(function(l,m,n){var p=3.6*k,q=p+3.6*l[2],u=p+1.8*l[2];k+=l[2];return a.NT({top:0,left:0,width:b.l(),height:b.o(),value:l[1],vh:l[2],color:c(m,n.length),lf:p,hh:q,sh:u,ib:g,vm:d,wm:e,Ik:h})})}f.NT=function(a){return new HG(a)};
function nH(a,b){b=b.clone().setPosition(0,0);a=a.labels.reduce(function(a,b){return{left:Math.min(a.left,b.F()),top:Math.min(a.top,b.w()),right:Math.max(a.right,b.Za()),bottom:Math.max(a.bottom,b.wa())}},{left:b.F(),top:b.w(),right:b.Za(),bottom:b.wa()});return parseInt(Math.max(Math.abs(a.left-b.F()),Math.abs(a.top-b.w()),Math.abs(a.right-b.Za()),Math.abs(a.bottom-b.wa())),10)}
function qH(a,b,c,d,e,g){for(var h=[],k=[],l=0;10>l;l++){var m=h.length;a.forEach(function(b){a.forEach(function(a){b!==a&&Yg(b,a)&&[b,a].forEach(function(a){-1===h.indexOf(a)&&h.push(a)})})});if(h.length===m)break;h.forEach(function(a){var g=b+d*Math.cos(GG(a.angle)),h=c+d*Math.sin(GG(a.angle));a.Sq(g,h);a.eb(h-e/2);a.fd().x>=b?a.jb(g):a.jb(g-a.l());a.SW={x:g,y:h}})}var l=h.filter(function(a){return a.fd().x>=b&&a.fd().y<c}),m=h.filter(function(a){return a.fd().x>=b&&a.fd().y>=c}),n=h.filter(function(a){return a.fd().x<
b&&a.fd().y<c}),p=h.filter(function(a){return a.fd().x<b&&a.fd().y>=c}),q=[l,m,n,p];q.filter(function(a){return a.length}).forEach(function(a){a.sort(function(a,b){return a.w()>b.w()?1:-1});a[0].fd().y<c&&a.reverse()});var u=0;l[0]&&m[0]&&Yg(l[0],m[0])&&(u=l[0].wa()-m[0].w());n[0]&&p[0]&&Yg(n[0],p[0])&&(u=Math.max(u,n[0].wa()-p[0].w()));q.forEach(function(a){a.forEach(function(d,h){var l=u/2,m=d.fd(),n=d.fd().x>=b?m.x+25:m.x-25,l=d.fd().y>=c?m.y+l:m.y-l,p=d.fd().x>=b?n:n-d.l();d.Sq(n,l);d.jb(p);d.eb(l-
e/2);if((l=a[h-1])&&Yg(d,l))for(l=l.fd(),l=d.fd().y>=c?l.y+e:l.y-e,d.Sq(n,l),d.eb(l-e/2),m=l-m.y,h+=1;h<a.length;h++)n=a[h],l=n.fd(),p=l.y+m,n.Sq(l.x,p),n.eb(p-e/2);k.push(rH(d,b,c,g))})});return k}function sH(a){lH.call(this,a);this.Xh=a.Xh||.55}r(sH,lH);sH.prototype.NT=function(a){a=Object.assign({},a,{Xh:this.Xh});return new RG(a)};function tH(a){a=void 0===a?{}:a;hH.call(this,a)}r(tH,hH);
tH.prototype.Hr=function(a){var b=hH.prototype.Hr.call(this,a),c=b.data[0],d=a.TE.o()/100,e=1.5*d,g=c.map(function(a){return a.Jb()});g.unshift(g[0]);var h=e;a=d;1<c.length&&(a=c[1].F()-c[0].F(),h=Math.max(Math.min(e,a/3),.5*d),a=h/e*d);c=c.map(function(a,b){return new SG({left:a.F(),top:a.w(),width:a.l(),height:a.l(),color:g[b],ib:h})});d=[];for(e=0;e<c.length-1;e++){var k=c[e],l=c[e+1];d.push(new VG({x:k.F()+k.l()/2,y:k.w()},{x:l.F()+l.l()/2,y:l.w()},l.Jb(),a))}b.data[0]=d.concat(c);return b};var uH={type:"text",transparency:0,fontFamily:O.Td,fontSize:O.Sd},vH={type:"image",isBackground:!1,isRecolorable:!0};function wH(a){var b=a.serialize();b.backgroundColor=a.Jb();return new oC(_.extend({},vH,b))}function xH(a,b,c){var d=a.serialize();d.html=a.toString();d.justification=0!=a.Ta()?"right":"center";d.rotation=a.Ta();d.padding=a.padding;c&&(d.fontMedia=c);return new Kp(_.extend({},uH,d,b))}
function yH(a,b,c,d){var e=d.chart;this.Nw=a;this.Ti=e.chartType;this.data=e.data;this.f2=b;this.kE=c;this.Wc=e.labelTextStyle;this.HA=e.labelFontMedia;this.vs=e.interpolation;this.Er=zH(d);this.zj=!0;wC.call(this,d);this.C().addClass("chart");this.o2=_.debounce(this.render,300)}yH.prototype=Object.create(wC.prototype);f=yH.prototype;f.constructor=wC;function vC(a){a=JSON.parse(JSON.stringify(a));a.chart.data=AH(a.chart.data);var b=BH(a);return new yH(b,wH,xH,a)}
function CH(a){var b;function c(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","g");c.setAttribute("shape-rendering","crispEdges");c.setAttribute("style","opacity: 0.15;");c.setAttribute("data-recolorable-lines","true");a.be[0].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","line"),d=Math.max(2,a.w());b.setAttribute("x1",a.F());b.setAttribute("y1",d);b.setAttribute("x2",a.Za());b.setAttribute("y2",d);b.setAttribute("stroke",a.Jb());b.setAttribute("stroke-width",
"1");b.setAttribute("vector-effect","non-scaling-stroke");c.appendChild(b)});b.appendChild(c)}var d=JSON.parse(JSON.stringify(a));b=b||new V(0,0,d.width,d.height);a=d.chart.chartType;var e=d.chart;e.data=AH(e.data);var g=BH(d),d=zH(d),e=g.Hr({TE:b,Px:{ay:[[0],[0]],nN:0,fontSize:0},color:d,Uv:e.labelTextStyle.color||DH,Q3:e.idealPieRadiusFactor||.8}),h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttribute("width","100%");h.setAttribute("height","100%");h.setAttribute("preserveAspectRatio",
"xMaxYMax");h.setAttribute("viewBox",b.F()+" "+b.w()+" "+b.l()+" "+b.o());switch(a){case EH:c(e,h);e.data[0].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","rect");b.setAttribute("x",a.F());b.setAttribute("y",a.w());b.setAttribute("width",a.l());b.setAttribute("height",a.o());b.setAttribute("fill",a.Jb());h.appendChild(b)});break;case FH:case GH:e.Ao.forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttribute("d",a.Ge());
b.setAttribute("fill",a.Jb());h.appendChild(b)});break;case HH:c(e,h);var k=1;e.data[0].filter(function(a){return a instanceof VG}).forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","line");b.setAttribute("x1",a.Bc.x);b.setAttribute("y1",a.Bc.y);b.setAttribute("x2",a.bc.x);b.setAttribute("y2",a.bc.y);b.setAttribute("stroke",a.Jb());b.setAttribute("stroke-width",.65*a.Di);b.setAttribute("stroke-linecap","round");b.setAttribute("vector-effect","non-scaling-stroke");h.appendChild(b);
k=a.Di});e.data[0].filter(function(a){return a instanceof SG}).forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","circle");b.setAttribute("cx",a.F()+a.l()/2);b.setAttribute("cy",a.w());b.setAttribute("r",k);b.setAttribute("fill",a.Jb());b.setAttribute("stroke",a.Jb());b.setAttribute("stroke-width",.75*k);b.setAttribute("vector-effect","non-scaling-stroke");h.appendChild(b)})}return h}
function BH(a){a=a.chart;var b;b=Lb;b.NJ||(b.NJ=new of(b.config));b=b.NJ;a.bO=b.d1.bind(b);switch(a.chartType){case EH:return new hH(a);case FH:return new lH(a);case HH:return new tH(a);case GH:return new sH(a)}throw Error("Invalid chart type specified");}function zH(a){a=a.chart||{};switch(a.coloringType){case IH:if(a.interpolation&&(a=wn(a.interpolation)))return a}return JH}f.getData=function(){return JSON.parse(JSON.stringify(this.data))};f.pe=function(){return this.Nw.pe()};
f.Xq=function(a){this.Nw.Xq(a);this.render()};f.Js=function(a){this.data=JSON.parse(JSON.stringify(a));this.Nw.Js(this.data)};f.qs=function(){return[mh(this.Wc.color)]};f.bb=function(){return[mh(this.Er(0,1))]};f.Kd=function(){return this.bb().length};f.ge=function(a,b){if(b instanceof en){switch(this.Ti){case FH:case GH:this.Er=vn(b,1,90,0,36);break;case EH:case HH:this.Er=this.vs&&this.vs.from===this.vs.to?function(){return b.qa()}:vn(b,.75)}this.render({Aba:!0})}};
function KH(a){return new V(a.F(),a.w(),a.l(),a.o())}function LH(a){for(var b=KH(a).setPosition(0,0),c=a.ia().filter(function(a){return a instanceof rC}),d=0;2>d;d++){var e=c[d];e||(e=tG(b),XF(a,e,d),c[d]=e);e.viewBox=b;e.la(b.l());e.ea(b.o())}return c}function MH(a){return function(b){rG(a,b.map(function(a){return new qG({d:a.Ge(),fill:a.Jb()})}));a.render()}}function NH(a,b){a=a.be[0];var c=MH(b);b.$l(75);c(a)}
function OH(a,b){var c=LH(a),d=c[0],e=a.xb.data[0],g=b.data[0],c=MH(c[1]);if(a.zj)if(e.length){a=Math.max(g.length,e.length);for(var h=0;h<a;h++){var k=g[h],l=e[h];k&&!l?e.push(k):k||e.pop()}a=CG(e);TweenMax.to(a,.3,AG(a,e,g,c,Power1.easeOut))}else a.xb=b,c(a.xb.data[0]);else c(g);NH(b,d)}
function PH(a,b){function c(){if(m.length){var a=[],c=[],k=m.filter(d),l=m.filter(e),t=n.filter(d),x=n.filter(e);g(t,k,k[0]);g(x,l,k[0]);var H=CG(k),E=dH(l),k=TG(H,k,t,function(b){c=b;p(a.concat(c))});TweenMax.to(E,.3,bH(E,l,x,function(b){a=b;p(a.concat(c))},Power1.easeOut));TweenMax.to(H,.3,k)}else h.xb=b,p(h.xb.data[0])}function d(a){return a instanceof SG}function e(a){return a instanceof VG}function g(a,b,c){for(var d=Math.max(a.length,b.length),e=0;e<d;e++){var g=a[e],h=b[e];if(g&&!h){var h=
g.clone(),k=b.length-1;g instanceof VG?-1<k?(h.bc.x=b[k].bc.x,h.bc.y=b[k].bc.y,h.Bc.x=b[k].bc.x,h.Bc.y=b[k].bc.y):(g=c.F()+c.l()/2-c.ib,h.bc.x=g,g=c.w(),h.bc.y=g,g=c.F()+c.l()/2-c.ib,h.Bc.x=g,g=c.w(),h.Bc.y=g):g instanceof SG&&(h.jb(b[k].F()),h.eb(b[k].w()),h.la(b[k].l()),h.ea(b[k].o()));b.push(h)}else g||b.pop()}}var h=a,k=LH(a),l=k[0],m=a.xb.data[0],n=b.data[0],p=MH(k[1]);a.zj?c():p(m=n);NH(b,l)}
function QH(a,b){var c=LH(a),d=c[0],e=MH(d);d.$l(75);e(b.Vv);e=c[1];c=a.xb.Ao;d=b.Ao;c.length||(a.xb=b);e=MH(e);if(a.zj)if(c.length){a=Math.max(d.length,c.length);for(b=0;b<a;b++){var g=d[b],h=c[b];g&&!h?(g=g.clone(),g.setRadius(c[0].ib),c.push(g)):g||(c.pop(),g=c.length-1,d[g]&&(c[g].hh=d[g].hh))}a=MG(c);TweenMax.to(a,.3,NG(a,c,d,e,Power1.easeOut))}else a.xb=b,e(a.xb.Ao);else e(d)}
function RH(a,b,c){if(b!==c&&(b||c)){var d=c&&!b;if(!c&&b)c=b instanceof DG?a.kE(b,a.gs(),a.mM()):a.f2(b),XF(a,c,b instanceof EG?0:void 0),b.setElement(c);else if(d)c=c.getElement(),a.oj(c),a.R().oj(c,{xZ:!0}),c.C().remove(),c.remove();else{c=c.getElement();if(b instanceof DG){c.setPosition(b.F(),b.w());c.la(b.l());c.Zl(b.Ta());c.vi(0,b.mv());var d=c,e=b.toString();Jb.G.get(hg)&&(d.C().removeData("cachedLineLengths"),iC(d).html(e));c.setPosition(b.F(),b.w())}else c.pd(b),c.$w(mh(b.Jb())),c.pc(!0);
b.setElement(c);a.elements[a.elements.indexOf(c)]=c}}}function SH(a,b){var c=a.mM(),d=a.gs().fontFamily,e;c&&(e=new Wm(c));a.render();TH(Kb,d)?b&&b():TA(Kb,e,d,function(){this.render({cP:!0});b&&b()}.bind(a))}f.appendTo=function(a){wC.prototype.appendTo.call(this,a);UH(this,a)};f.al=function(a){wC.prototype.al.call(this,a);UH(this,a)};function UH(a,b){VH(a)&&0<a.ia().length&&a.render();a.listenTo(b,"change:background",function(){VH(this)&&this.render()})}
function VH(a){return a.Wc.color?!1:(a.Uv=a.R().Gf()?O.kD:O.jD,!0)}
f.render=function(a){function b(a){TweenMax.fromTo(a,.5,{autoAlpha:0},{autoAlpha:1,ease:Power1.easeIn})}a=a||{};var c,d=this.Hr();!this.xb&&WH(this);var e=this.zj;a.cP&&(this.zj=!1);switch(this.Ti){case FH:case GH:for(c=0;c<Math.max(this.xb.labels.length,d.labels.length);c++)RH(this,d.labels[c],this.xb.labels[c]);a.lN&&this.zj&&b(this.C().find(".text.element"));QH(this,d);break;case HH:for(c=0;c<Math.max(this.xb.be[0].length,d.be[0].length);c++)RH(this,d.be[1][c],this.xb.be[1][c]);for(c=0;c<Math.max(this.xb.data[0].length,
d.data[1].length);c++)RH(this,d.data[1][c],this.xb.data[1][c]);!a.lN&&this.zj&&b(this.C().find(".text.element"));PH(this,d);break;default:for(c=0;c<Math.max(this.xb.be[0].length,d.be[0].length);c++)RH(this,d.be[1][c],this.xb.be[1][c]);for(c=0;c<Math.max(this.xb.data[0].length,d.data[1].length);c++)RH(this,d.data[1][c],this.xb.data[1][c]);!a.lN&&this.zj&&b(this.C().find(".text.element"));OH(this,d)}this.xb=d;this.zj=e};f.clone=function(){return vC(this.serialize())};
f.ds=function(){return["copy","arrange","transparency","link","delete"]};f.AV=function(){return!0};f.Fr=function(){};f.zP=function(){};f.setSize=function(a,b,c){if(!(a<O.ky||b<O.ky)){var d=this.o();void 0!==a&&void 0!==b&&Z.prototype.setSize.call(this,a,b);c&&(a=this.o()/d,0!==a&&(a*=this.gs().fontSize,wC.prototype.VH.call(this,a),this.Wc.fontSize=a));this.C().find(".elements").length&&this.render({cP:!0})}};
f.$a=function(){wC.prototype.$a.call(this);var a=this.C().data("selectionBox");a&&(a.addClass("verticalScale"),a.addClass("horizontalScale"));(a=this.C().data("toolbar"))&&aE(a)};f.yh=function(){Z.prototype.yh.call(this);this.Qu=!1};f.qy=function(){return!0};f.gG=function(){return!1};f.vV=function(){return!0};f.XM=function(){return!!this.Qu};
f.serialize=function(){var a=wC.prototype.serialize.call(this);a.generatorType="CHART";var b=a.chart={};b.data=this.si();b.labelColumn=0;b.labelTextStyle={};var c=this.gs(),d;for(d in c)b.labelTextStyle[d]=c[d];(c=SA(c.fontFamily))&&(b.labelFontMedia={id:c.id,version:c.version});b.chartType=this.Ti;(b[this.Ti.toLowerCase()]={}).spacing=this.pe();b.coloringType=IH;b=b.interpolation={};b.colorSpace="HCL";b.from=this.Er(0,1);b.to=this.Er(1,1);if("#aNaNaN"===b.from||"#aNaNaN"===b.from)a.invalid=!0;return a};
f.si=function(){var a={columns:[]};this.data.forEach(function(b,c){b.forEach(function(b,e){var g=a.columns[e]||{};g.name=e?"Value":"Label";g.cells=g.cells||[];g.cells[c]=""+b;a.columns[e]=g})});return a};function AH(a){var b=[];a.columns.forEach(function(a,d){a.cells.forEach(function(a,c){b[c]=b[c]||[];b[c][d]=a})});return b}f.nV=function(a){switch(this.Ti){case FH:case GH:return{jj:2,dk:12,maxLength:16,Nd:0,XJ:a.slice(0,2)};default:return{jj:2,dk:58,maxLength:16,Nd:0,XJ:a.slice(0,2)}}};
f.mM=function(){var a=SA(this.gs().fontFamily);if(a)return{id:a.id,version:a.version}};f.gs=function(){return{fontFamily:this.Wc.fontFamily,fontSize:this.Wc.fontSize,bold:this.Wc.bold,italic:this.Wc.italic,color:this.Wc.color}};f.Qz=function(){return wC.prototype.Qz.call(this)};f.lQ=function(a){wC.prototype.lQ.call(this,a);this.Wc.bold=a;this.render()};f.nQ=function(a){wC.prototype.nQ.call(this,a);this.Wc.italic=a;this.render()};
f.mQ=function(a){this.elements.forEach(function(b){b instanceof Kp&&b.setColor(0,a)});this.Wc.color=a?a.qa():null;this.render()};f.UH=function(a,b,c){var d=this;wC.prototype.UH.call(this,a,function(c){c&&(d.Wc.fontFamily=a);d.render();b(c)},c)};f.VH=function(a){wC.prototype.VH.call(this,a);this.Wc.fontSize=a;this.render()};
f.rj=function(a,b,c,d){wC.prototype.rj.call(this,a,b,c,d);this.Wc.fontFamily=b.fontFamily;this.Wc.fontSize=b.fontSize;this.Wc.bold=b.bold;this.Wc.italic=b.italic;this.Wc.letterSpacing=b.letterSpacing;this.Wc.lineHeight=b.lineHeight;this.Wc.color=b.color;this.render()};function XH(a){switch(a){case FH:a=Nm.PIECHART1;break;case HH:a=Nm.LINECHART1;break;case GH:a=Nm.DONUTCHART1;break;default:a=Nm.BARCHART1}return vC(a)}
function YH(a,b){a=a.gs();var c=a.bold?"bold":"normal",d=a.italic?"italic":"",e=a.fontSize||O.Td,g=a.fontFamily||O.Sd,h=document.createElement("canvas").getContext("2d"),k=96/72*e,l={ay:[],nN:(a.lineHeight||O.Ut)/100*k,fontSize:k};h.font=d+" "+c+" "+e+"pt "+g;b.forEach(function(a){l.ay.push(a.map(function(a){return Math.ceil(1.2*h.measureText(a).width)}))});return l}var EH="BAR",FH="PIE",HH="LINE",GH="DONUT",ZH={baa:EH,raa:FH,paa:HH,daa:GH},IH="INTERPOLATE";function $H(a,b){a.Nw=b}
function WH(a){a.xb=a.Ti===FH||a.Ti===GH?{labels:[],Ao:[],K3:!1,e8:0}:{be:[[],[]],data:[[],[]]};for(var b,c=a.R();b=a.elements.pop();)a.oj(b),c&&c.oj(b,{xZ:!0}),b.C().remove(),b.remove()}yH.prototype.Hr=function(){var a=YH(this,this.Nw.iV());return this.Nw.Hr({TE:KH(this),Px:a,color:this.Er,Uv:this.Wc.color||this.Uv||O.jD,jW:.3})};
function aI(a,b){function c(a){a=a.clone();a.lf=0;a.hh=0;return a}function d(a){a=a.clone();a.setRadius(0);return a}function e(a){a=a.clone();var b=a.wa();a.ea(0);a.top=b-a.o();return a}function g(a){var b=a.clone();a=q.indexOf(a);0!==a?(a=q[a-1],b.Bc.x=a.bc.x,b.Bc.y=a.bc.y,b.bc.x=a.bc.x,b.bc.y=a.bc.y):(b.bc.x=b.Bc.x,b.bc.y=b.Bc.y);return b}function h(a){rG(t,v);t.$l(75);t.render();a=a.map(k);rG(x,a);x.render()}function k(a){return new qG({d:a.Ge(),fill:a.Jb()})}function l(){SH(p);b&&b();p.zj=!0}
function m(a){return a instanceof SG}function n(a){return a instanceof VG}var p=a;a.zj=!1;WH(a);a.render();var q,u,v,z;u=LH(a);var t=u[0],x=u[1];switch(a.Ti){case GH:v=a.xb.Vv.map(k);q=a.xb.Ao.reverse().map(c);u=a.xb.Ao.reverse();z=MG(q);TweenMax.staggerTo(z,.5,NG(z,q,u,h,Power1.easeOut),.5/Math.max(a.getData().length,1),l);break;case FH:v=a.xb.Vv.map(k);q=a.xb.Ao.map(d);u=a.xb.Ao;z=MG(q);TweenMax.staggerTo(z,.5,NG(z,q,u,h,Back.easeOut.config(1.4)),.5/Math.max(z.length,1),l);break;case EH:q=a.xb.data[0].map(e);
u=a.xb.data[0];v=a.xb.be[0].map(k);z=CG(q);TweenMax.staggerTo(z,.5,AG(z,q,u,h,Back.easeOut.config(1.4)),.5/Math.max(z.length,1),l);break;case HH:q=a.xb.data[0];u=a.xb.data[0];v=a.xb.be[0].map(k);var H=[],E=[],L=q.filter(n),L=L.map(g),J=q.filter(m),J=J.map(d),Q=u.filter(n),S=u.filter(m),N=.75/Math.max(J.length,1),ha=new TimelineMax({onComplete:l});J.forEach(function(a,b){L[b]&&(a=L[b].Am(),ha.to([a],N,bH([a],[L[b]],[Q[b]],function(a){H[b]=a[0]},Power0.easeNone)));a=J[b].Am();var c=TG([a],[J[b]],[S[b]],
function(a){E[b]=a[0];h(H.concat(E))});ha.to([a],N,c,"-\x3d"+N)});break;default:l()}}yH.prototype.jv=function(){return bI};function cI(a,b){var c=JSON.parse(JSON.stringify(b)),d=c.chart;d.data=a.getData();$H(a,BH(c));a.Ti=d.chartType;a.Er=zH(b);a.vs=d.interpolation;a.Wc=d.labelTextStyle;a.HA=d.labelFontMedia;TweenMax.to(a.C(),.3,{opacity:0,ease:Power1.easeOut,onComplete:function(){aI(a);TweenMax.to(a.C(),.5,{opacity:1,ease:Power1.easeOut})}})}
var JH=vn(mn("#00c4cc")),DH="#fff",bI=[6,8,10,12,14,16,18,21,24,28,32,36];function dI(a){Z.call(this,a);this.Fh=!0;this.mN="vertical"===a.align;this.aW=!this.mN;this.C().addClass("guide").addClass(a.align)}dI.prototype=Object.create(Z.prototype);f=dI.prototype;f.constructor=dI;f.bp=function(){return!1};f.Fy=function(){return!1};f.OD=function(){return!0};f.activate=function(){this.C().removeClass("inactive")};f.rE=function(){this.C().addClass("inactive")};f.eb=function(a){this.aW&&Z.prototype.eb.call(this,a)};f.jb=function(a){this.mN&&Z.prototype.jb.call(this,a)};
f.setPosition=function(a,b){this.mN&&Z.prototype.jb.call(this,a);this.aW&&Z.prototype.eb.call(this,b)};function tC(a){Z.call(this,a);this.Fh=!0;this.placeholder=a.placeholder in eI?a.placeholder:"DEFAULT";this.C().addClass("fixed").css("backgroundImage","url("+eI[this.placeholder]+")")}tC.prototype=Object.create(Z.prototype);tC.prototype.constructor=tC;
var eI={CARD:"https://static.canva.com/static/images/furniture_card_fold_line_center.svg",CARD_VERTICAL:"https://static.canva.com/static/images/furniture_card_fold_line_center_vertical.svg",DEFAULT:"https://static.canva.com/static/images/placeholder.jpg",FACEBOOK:"https://static.canva.com/static/images/furniture_facebook_avatar.svg",FUSION_SPINE_GUIDE:"https://static.canva.com/static/images/furniture_fusion_spine_guide.svg",FUSION_VERTICAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_vertical_danger_guide.svg",FUSION_HORIZONTAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_danger_guide.svg",FUSION_HORIZONTAL_COVER_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_cover_danger_guide.svg",
GPLUS_CARD:"https://static.canva.com/static/images/furniture_gplus_card.svg",TWITTER_AVATAR:"https://static.canva.com/static/images/furniture_twitter_avatar.svg",TWITTER_MENU:"https://static.canva.com/static/images/furniture_twitter_menu.svg",TWITTER_STATS:"https://static.canva.com/static/images/furniture_twitter_stats.svg",BROCHURE_FOLD_LINE_LEFT:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_left.svg",BROCHURE_FOLD_LINE_CENTER:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_center.svg",BROCHURE_FOLD_LINE_RIGHT:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_right.svg",BROCHURE_BLEED_AREA:"https://static.canva.com/static/images/furniture_trifold_brochure_bleed_area.svg",
PHONE:"https://static.canva.com/static/images/furniture_phone.svg",TABLET:"https://static.canva.com/static/images/furniture_tablet.svg",BROWSER:"https://static.canva.com/static/images/furniture_browser.svg"};f=tC.prototype;f.serialize=function(){return{type:"fixed"}};f.$a=function(){};f.bp=function(){return!1};f.OD=function(){return!1};f.Fy=function(){return!1};function nC(a,b){this.index=a.index;this.Ra=b;this.ba=a.mediaId;this.ca=a.mediaVersion;this.origin=a.origin?new Um(a.origin):null;this.Ba=um(a.imageBox);this.zY=this.CY=this.BY=this.AY=0;this.LB=!0;this.xa=a.flipOrientation|0;this.iG=0<this.Ra.parents(".svg.element").length;this.TF=!1;this.backgroundColor=null;a.backgroundColor&&(this.backgroundColor=mh(a.backgroundColor));this.hb=void 0===a.mediaApproved?!0:a.mediaApproved;gE(this,this.hb)}f=nC.prototype;
f.serialize=function(){var a={type:"image",index:this.index,mediaId:this.ba,mediaVersion:this.ca,imageBox:this.Ba.serialize(),flipOrientation:this.xa,mediaApproved:this.hb};this.backgroundColor&&(a.backgroundColor=this.backgroundColor.serialize());var b=this.origin&&this.origin.serialize();b&&(a.origin=b);return a};f.C=function(){return this.Ra};
function iE(a,b,c,d){var e=b!==a.ba||c!==a.ca;if(a.TF&&!e)return d&&d(!0),a;e&&(a.ba=b,a.ca=c,a.origin=null,gE(a,!0));a.TF=!0;a.LB=!0;a.iG?a.ba&&a.ca&&(b=a.Ra.find("image.placeholder"),a.Ra.get(0).classList.add("filled"),mD({tn:b,ba:a.ba,ca:a.ca,mw:d})):a.ba&&a.ca&&(b=$("\x3cimg\x3e"),b.addClass("placeholder"),a.Ra.find(".placeholder").remove(),a.Ra.append(b),a.Ra.parent(".item").addClass("filled"),mD({tn:b,ba:a.ba,ca:a.ca,mw:d}));return a}function hE(a,b){a.origin=b;return a}
function jE(a){a.TF=!1;gE(a,!0);a.ba=void 0;a.ca=void 0;a.origin=null;a.iG?(a.Ra.get(0).classList.remove("filled"),a.Ra.find("image.placeholder").removeAttr("crossorigin").removeData("mediaId").removeData("mediaVersion").attr("xlink:href",O.Po)):(a.Ra.parent(".item").removeClass("filled"),a.Ra.find(".placeholder").remove(),a.Ra.append('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e'));return a}f.an=function(){return this.Ba.clone()};function hD(a,b){a.Ba=b.clone();a.LB=!0;fI(a);return a}
f.bx=function(a){var b=a^this.xa;Jm(this.Ba,gI(this),b);this.LB=!0;this.xa=a;fI(this);return this};f.st=function(a){this.zw();this.bx(a);return this};f.jh=function(){return this.backgroundColor};f.$w=function(a){this.backgroundColor=a;hI(this);return this};function AE(a){a.backgroundColor=null;a.Ra.find(".backgroundColor.placeholder").replaceWith('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e');return a}function bE(a){return!(!a.ba||!_.isNumber(a.ca))}f.isEmpty=function(){return!(bE(this)||this.jh())};
f.Ic=function(){return bE(this)?Hb.Ic(this.ba,this.ca):null};function gE(a,b){(a.hb=b)?a.Ra.get(0).classList.remove("unapproved"):a.Ra.get(0).classList.add("unapproved");return a}f.YC=function(a){var b=this.Nb();null!=this.backgroundColor||null==b||aq(a,this.Nb())||(jE(this),gE(this,!1))};f.Nb=function(){return void 0!==this.ba&&void 0!==this.ca?new Wm({id:this.ba,version:this.ca}):null};f.Yl=function(a,b){return new P(function(c){this.ba=a;this.ca=b;this.update(c)}.bind(this))};
f.update=function(a){var b=this.hb;void 0!==this.ba&&void 0!==this.ca?(iE(this,this.ba,this.ca,a),fI(this)):(jE(this),hI(this),a&&a(!0));gE(this,b)};f.clear=function(){jE(this);AE(this)};function hI(a){if(a.backgroundColor){jE(a);var b=$('\x3cdiv class\x3d"backgroundColor placeholder"\x3e\x3c/div\x3e');b.css("background-color",a.backgroundColor.qa());a.Ra.find(".placeholder").replaceWith(b)}else a.clear()}
function fI(a){if(a.iG){var b=a.Ra.closest(".element").data("canvaElement"),c=a.Ra.find("image.placeholder"),d=gI(a);a=a.Ba.clone();a.translate(d.F(),d.w()).scale(1/ZD(b));c.attr("width",a.l()).attr("height",a.o()).attr("x",a.F()).attr("y",a.w())}else{b=gI(a);c=b.l();d=b.o();if(a.LB)a.AY=a.Ba.F()/c,a.BY=a.Ba.w()/d,a.CY=a.Ba.l()/c,a.zY=a.Ba.o()/d,a.LB=!1;else{var e=a.Ba.bi();a.Ba.jb(c*a.AY);a.Ba.eb(d*a.BY);a.Ba.la(c*a.CY);a.Ba.ea(d*a.zY);var g=e/a.Ba.bi(),e=c/2,h=d/2,k=1;1>g?(zm(a.Ba,e,h,g,1),g=Math.max(0,
a.Ba.F(),c-a.Ba.Za()),k=c/(c-2*g)):1<g&&(zm(a.Ba,e,h,1,1/g),g=Math.max(0,a.Ba.w(),d-a.Ba.wa()),k=d/(d-2*g));1<k&&zm(a.Ba,e,h,k)}dD(a.Ra,null,a.xa);c=a.Ba.clone();Jm(c,b,a.xa);c.scale(W);c.round();a.Ra.find("img.placeholder").css($C(c))}}function gI(a){var b=a.Ra.closest(".element").data("canvaElement");return b?b.hn(a.index):vm.clone()}f.zw=function(){var a=this.Ra,b=O.lS*this.Ba.l();a.parent().css("perspective",b+"px");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};function SD(a){this.FR=a.valign;this.Cj=um(a.box);this.Jg=this.Cj.clone();this.kt=a.resizeHorizontal;this.ho=a.resizeVertical;this.contents=a.contents;this.GR=[];this.O3=[];this.scale=1;this.Av=iI(this);this.QV=this.Cj.o()-jI(this);kI(this);this.ka();var b=this;this.contents.forEach(function(a){b.listenTo(a,"change:width",b.ka);b.listenTo(a,"change:height",b.ka)})}SD.prototype.trigger=Backbone.Events.trigger;SD.prototype.listenTo=Backbone.Events.listenTo;SD.prototype.stopListening=Backbone.Events.stopListening;
_.extend(SD.prototype,Backbone.Events);f=SD.prototype;f.remove=function(){var a=this;this.stopListening(this);this.contents.forEach(function(b){a.stopListening(b)})};f.la=function(a){YD(a,this.l())||(this.Cj.la(a),this.ka(),this.trigger("change:width",this),this.trigger("change",this))};f.l=function(){return this.Cj.l()};f.ea=function(a){YD(a,this.o())||(this.Cj.ea(a),this.ka(),this.trigger("change:height",this),this.trigger("change",this))};f.o=function(){return this.Cj.o()};
f.setSize=function(a,b,c){var d=this.l()!==a,e=this.o()!==b;if(d||e)this.Cj.setSize(a,b),this.scale!==c&&(this.scale=c,lI(this)),this.ka(),d&&this.trigger("change:width",this),e&&this.trigger("change:height",this),this.trigger("change",this)};f.Pp=function(){return this.Cj.Pp()};f.pd=function(a,b){this.Cj.jb(a.F()).eb(a.w());this.setSize(a.l(),a.o(),b)};f.pa=function(){return this.Cj.clone()};f.Vz=function(){return this.Jg.clone()};
function iI(a){a=a.contents.map(function(a){return a.pa()});return ul(a.map(function(a){return a.w()}))}function jI(a){a=a.contents.map(function(a){return a.pa()});return vl(a.map(function(a){return a.wa()}))}function mI(a){var b=iI(a);return jI(a)-b}function nI(a){a=a.contents.slice(0);a.sort(function(a,c){a=a.Vz();c=c.Vz();return a.w()<c.w()?-1:a.w()>c.w()?1:0});return a}
function kI(a){a.GR=[];if(!(2>a.contents.length)){var b=nI(a);a.contents.forEach(function(c){var d=b.indexOf(c);d==a.contents.length-1?d=0:(c=c.pa(),d=b[d+1].pa().w()-c.wa());a.GR.push(d)})}}function oI(a,b){a.contents.forEach(function(c){var d=c.pa();d.translate(0,b);a.stopListening(c);c.pd(d,a.scale);a.listenTo(c,"change:width",a.ka);a.listenTo(c,"change:height",a.ka)})}
function lI(a){a.contents.forEach(function(b){a.stopListening(b);b.scale(a.scale);a.listenTo(b,"change:width",a.ka);a.listenTo(b,"change:height",a.ka)})}
f.ka=function(){var a=this;this.contents.forEach(function(b){a.stopListening(b);if(!b.DC)if(b.dL)pI(b);else{var c=b.pa(),d=qI(b);c.la(d.width);c.ea(d.height);b.pd(c)}});var b=0===this.O3.length;this.contents.forEach(function(c){if(a.kt&&b){var d=c.pa();d.l()!==a.l()&&(d.la(a.l()),c.pd(d,a.scale))}});var c=nI(this);c.forEach(function(b,d){if(0!==d){d=c[d-1];var e=a.contents.indexOf(d),g=a.GR[e],e=b.pa();d=d.pa().wa()+g*a.scale;e.eb(d);b.pd(e,a.scale)}});var d=mI(this),e=this.Cj.o(),g;"CENTER"==this.FR?
(g=this.Av+this.QV,g=this.Av+(e-d-g)/2,g-=iI(this),oI(this,g),d>e&&this.ho&&(g=-iI(this),oI(this,g),this.ea(d))):"TOP"==this.FR?this.Av+d>e&&this.ho&&this.ea(this.Av+d):"BOTTOM"==this.FR&&(g=this.Av+this.QV,g=this.Av+(e-d-g),g-=iI(this),oI(this,g),d>e&&this.ho&&(g=-iI(this),oI(this,g),this.ea(d)));this.contents.forEach(function(b){a.listenTo(b,"change:width",a.ka);a.listenTo(b,"change:height",a.ka)})};
function RD(a,b,c){this.Gk=a;this.Jg=a.data("rect").clone().translate(-b,-c);this.nz=!!a.data("dynamicWidth");this.SE=!!a.data("dynamicHeight");this.dL=!!a.data("dynamicFontSize");this.ao=a.data("defaultFontSize");this.dL&&(this.SE=this.nz=!1);this.nz&&this.SE&&(this.nz=!1);this.Ib={SI:0,$x:0,Ef:0,Qd:1};this.DC=!1}RD.prototype.trigger=Backbone.Events.trigger;RD.prototype.listenTo=Backbone.Events.listenTo;RD.prototype.stopListening=Backbone.Events.stopListening;_.extend(RD.prototype,Backbone.Events);
var UD="center",VD="right";f=RD.prototype;f.C=function(){return this.Gk};f.Vz=function(){return this.Jg.clone()};f.pa=function(){var a=this.Jg.clone();a.eb(this.Ib.SI+this.Jg.w()*this.Ib.Qd).jb(this.Jg.F()*this.Ib.Qd).la(this.Ib.$x+a.l()*this.Ib.Qd).ea(this.Ib.Ef+a.o()*this.Ib.Qd);return a};
f.pd=function(a,b){void 0===b&&(b=this.Ib.Qd);var c=this.pa(),d=a.clone().scale(W).round();this.Gk.css(d.serialize());rI(this);this.Ib.Qd=b;this.Ib.SI=a.w()-this.Jg.w()*this.Ib.Qd;this.Ib.$x=a.l()-this.Jg.l()*this.Ib.Qd;this.Ib.Ef=a.o()-this.Jg.o()*this.Ib.Qd;b=!YD(c.l(),a.l());d=!YD(c.o(),a.o());b&&this.trigger("change:width",this,a.l()-c.l());d&&this.trigger("change:height",this,a.o()-c.o());(b||d)&&this.trigger("change",this)};
f.scale=function(a){this.Ib.SI*=a/this.Ib.Qd;this.Ib.$x*=a/this.Ib.Qd;this.Ib.Ef*=a/this.Ib.Qd;this.Ib.Qd=a};function rI(a){if(a.Gk.hasClass("text")){var b=a.pa(),c=a.Gk.children(".inner");c.css("width",b.l()).css("height","");var d=a.Gk.height();a=c.height();b=Math.round(b.l()*(W-1)*.5);d=Math.ceil(d/2)-Math.floor(a/2);c.css("height",a).css("position","absolute").css("transform","translate("+b+"px, "+d+"px) scale("+W+")")}}
function pI(a){if(!a.DC){var b=sI(a),c=a.Gk.data("canvaElement"),d=a.Gk.data("textIndex");a.DC=!0;c.ve(d,b);a.DC=!1;rI(a)}}function MD(a){var b;if(!a.DC)if(a.dL)pI(a);else{var c=a.pa();b=qI(a);var d=b.width;b=b.height;a.nz&&(d=Math.max(d,a.Jg.l()*a.Ib.Qd));a.SE&&(b=Math.max(b,a.Jg.o()*a.Ib.Qd));c.la(d);c.ea(b);a.pd(c)}}
function sI(a){function b(a,b,d){var m="width"==a?b.width:b.height;a="width"==a?e:g;var n=m.call(b);d/=n/a;b.css("font-size",d*O.Li+"%");n=m.call(b);if(0==n)return c;if(n>a)for(;n>a&&!(d*=.95,b.css("font-size",d*O.Li+"%"),n=m.call(b),n<a||8>d););else if(n<a)for(;n<a;)if(d/=.95,b.css("font-size",d*O.Li+"%"),n=m.call(b),n>a||d>c){d*=.95;break}return d=Math.max(Math.min(c,d),O.eJ)}var c=a.ao*a.Ib.Qd,d=parseFloat(a.Gk.data("fontSize"))*a.Ib.Qd,e=Math.floor(a.Ib.$x+a.Jg.l()*a.Ib.Qd),g=Math.floor(a.Ib.Ef+
a.Jg.o()*a.Ib.Qd);a=a.Gk.clone();a.addClass("element").appendTo("#canvaDocument \x3e .inner").css("width","").css("height","");a.children(".inner").css("width","").css("height","").css("transform","").css("position","").css("top","");d=b("width",a,d);a.css("font-size",d*O.Li+"%");a.height()>g&&(a.css("width",a.width()),d=b("height",a,d));a.remove();return d}
function qI(a){function b(a,b,c){var d="height"===b?c:"";c="width"===b?c:"";a=a.clone();"width"===b&&a.css("white-space","nowrap");a.addClass("element").appendTo("#limbo").css("width",d).css("height",c);d=a.children(".inner").css("width",d).css("height",c).css("transform","").css("position","").css("top","");Bf($(d));b=a.get(0).getBoundingClientRect()[b];a.remove();return b}var c=a.Ib.$x+a.Jg.l()*a.Ib.Qd,d=a.Ib.Ef+a.Jg.o()*a.Ib.Qd,e=a.Gk;a.nz&&(c=b(e,"width",d));a.SE&&(d=b(e,"height",c));return{width:c,
height:d}};function tI(a){for(var b,c=/(.*['"<])?([^'">]+)(['">].*)?/g;b=c.exec(a);)if(b=b[2].trim(),uI(b))return b}function uI(a){return/^[^@]+@[^@]+\.[^@]+$/.test(a)&&!/[ ,<>'"]/.test(a)};function vI(){this.N=Ib;this.path="/login"};function wI(){}r(wI,Error);function xI(a,b,c){this.id=a;this.length=b;this.name=c}xI.prototype.u=function(){return this.id};xI.prototype.getLength=function(){return this.length};xI.prototype.getName=function(){return this.name};function yI(a,b,c,d){this.id=a;this.name=b;this.rd=d;this.D7=c}yI.prototype.u=function(){return this.id};yI.prototype.getName=function(){return this.name};yI.prototype.re=function(){return this.rd};yI.prototype.nl=function(){return this.D7};function zI(a,b,c){this.height=a;this.url=b;this.width=c}zI.prototype.o=function(){return this.height};zI.prototype.na=function(){return this.url};zI.prototype.l=function(){return this.width};function AI(a){this.N=a.N;this.EW=a.EW;this.tJ=a.config.tJ;this.Zr=null}var BI={g3:function(a,b){var c=[];b.permissions.data.forEach(function(a){"granted"==a.status&&c.push(a.permission)});this.permissions=c},param:"permissions"};
AI.prototype.init=function(){var a=this,b,c;b=this;return(c=window.facebookSdkPromise)?c:c=window.facebookSdkPromise=new P(function(c,e){a.aQ=function(b){CI(a);e(b)};window.fbAsyncInit=function(){FB.init({version:"v2.11",appId:b.tJ,channelUrl:"//"+window.location.hostname+"/static/channel.html",status:!0,xfbml:!1});CI(a);c(a)};DI(a)})};AI.prototype.aQ=function(){CI(this)};function CI(a){document.getElementById("facebook-jssdk").removeEventListener("error",a.aQ)}
function DI(a){var b,c=document.getElementsByTagName("script")[0];document.getElementById("facebook-jssdk")||(b=document.createElement("script"),b.id="facebook-jssdk",b.src="//connect.facebook.com/en_US/sdk.js",b.addEventListener("error",a.aQ),c.parentNode.insertBefore(b,c))}function EI(){var a;a=window.facebookSdkPromise;return!!a&&a.isFulfilled()}
function FI(a,b){return new P(function(c,d){GI(a).then(function(e){e=e.permissions;var g=_.difference(b,e);a.Zr&&a.Zr.hca(e);g.length?d():c()}).catch(d)})}
function GI(a){var b=[BI];return new P(function(c,d){a.getAuthResponse().then(function(a){for(var g=[],h=0;h<b.length;h++){var k=b[h];k.param&&g.push(k.param)}g=g.join(",");FB.api("/me?return_ssl_resources\x3d1\x26fields\x3d"+encodeURIComponent(g),function(g){if("error"in g)d("FB_API_ERROR");else{for(var h={},k=0;k<b.length;k++)b[k].g3.call(h,a,g);c(h)}})}).catch(function(b){a.Zr=null;d(b)})})}
AI.prototype.getAuthResponse=function(){return new P(function(a,b){FB.getAuthResponse()?a(FB.getAuthResponse()):FB.getLoginStatus(function(c){"connected"==c.status?a(c.authResponse):b("UNAUTHORIZED")})})};AI.prototype.Oa=function(){return this.Zr};
function HI(a){var b=["email","public_profile","user_photos"];return new P(function(c,d){function e(b){a.Zr=null;d(b)}function g(g){g.authResponse&&g.status?FI(a,b).then(c).catch(e):d("FB_API_ERROR")}var h=_.difference(b,a.Zr?a.Zr.permissions:[]);0<h.length?FB.login(g,{scope:h.join(",")}):FI(a,b).then(c).catch(e)})}function II(a){return FI(a,["email","public_profile","user_photos"])}
function JI(a){if(!EI())throw new wI;var b={fields:"id,name,count"};void 0!==a&&(b.offset=a);b.limit=10;return new P(function(a,d){FB.api("/me/albums?return_ssl_resources\x3d1",b,function(b){"error"in b?d("FB_API_ERROR"):(b=b.data.map(function(a){return new xI(a.id,a.count||0,a.name)}),a(b))})})}
function KI(a,b,c){if(!EI())throw new wI;var d={fields:"id,name,height,width,source,picture,images"};void 0!==b&&(d.offset=b);void 0!==c&&(d.limit=c);return new P(function(b,c){FB.api("/"+encodeURIComponent(a)+"/photos?return_ssl_resources\x3d1",d,function(a){"error"in a?c("FB_API_ERROR"):(a=a.data.map(function(a){var b=a.height,c=a.width,d=a.source,e=b/4.6,g=c/4.6,h=a.picture,v=a.images.filter(function(a){return a.source===h});0<v.length&&(e=v[0].height,g=v[0].width);v=a.images.sort(function(a,b){return b.height-
a.height})[0];if(v.width>c||v.height>b)b=v.height,c=v.width,d=v.source;return new yI(a.id,a.name,new zI(b,d,c),new zI(e,h,g))}),b(a))})})}
function LI(a,b){return new P(function(c,d){function e(){return m.reduce(function(a,b){return a+b.getLength()},0)}function g(c){var k;m=m.concat(c);c=0<c.length&&10>=c.length;k=e()<a+b;c&&k?JI(m.length).then(g).catch(d):h()}function h(){var c=0,e=m.filter(function(b){c+=b.getLength();return c>a}),g=m.filter(function(a){return-1===e.indexOf(a)}).reduce(function(a,b){return a+b.getLength()},0),h=[],n=0;e.forEach(function(c,d){var e=0===d?a-g:0;d=Math.min(b,c.getLength()-e);n<b&&(c=KI(c.u(),e,d).tap(k),
h.push(c));n+=d});P.all(h).then(l).catch(d)}function k(a){n=n.concat(a)}function l(){c(n)}var m=[],n=[];if(!EI())throw new wI;JI(0).then(g).catch(d)})}function MI(){this.tJ=C("appId",window.facebookConfig)};function NI(a){this.N=a}NI.prototype.PA=function(a,b){var c=b.jM(),d=b.Yd(),e=b.Kb(),g=b.gM();a="/vfolders/"+a+b.vc()+"?"+(c?"filter\x3d"+encodeURIComponent(c):"")+(d?"\x26limit\x3d"+encodeURIComponent(String(d)):"")+(e?"\x26continuation\x3d"+encodeURIComponent(e):"")+(g?"\x26decorations\x3d"+encodeURIComponent(g.join(",")):"");return sj(this.N,a).get(0).then(OI)};function PI(a,b){var c=b.ja();return a.PA("brands/"+(c?encodeURIComponent(c):"~"),b)}
function QI(a,b){var c=b.ja(),d=b.Oa();return a.PA("brands/"+(c?encodeURIComponent(c):"~")+"/users/"+(d?encodeURIComponent(d):"~"),b)};function RI(){this.content=null}RI.prototype=new wk;RI.prototype.getContent=function(){return this.content};function SI(a){a=a.content;var b=a.elements;return b&&1===b.length&&"grid"===b[0].type?0>=b[0].top&&0>=b[0].left&&b[0].width>=a.width&&b[0].height>=a.height&&(!b[0].contents||0===b[0].contents.length):!1}function TI(){}f=TI.prototype;f.wj=function(a){this.brand=a;return this};f.ja=function(){return this.brand||null};f.Tt=function(a){this.user=a;return this};
f.Oa=function(){return this.user||null};f.Ek=function(a){this.folder=a;return this};f.vc=function(){return this.folder};function UI(a,b){a.filter=b;return a}f.jM=function(){return this.filter};f.xj=function(a){this.continuation=a;return this};f.Kb=function(){return this.continuation||null};f.Tg=function(a){this.limit=a;return this};f.Yd=function(){return this.limit};f.gM=function(){return this.decorations};function VI(){this.items=[];this.folders=this.continuation=null}VI.prototype.Bf=function(){return this.items};
VI.prototype.Kb=function(){return this.continuation};VI.prototype.Fp=function(){return this.folders};function OI(a){if(!a)return null;a=$.extend(new VI,a);a.items&&(a.items=a.items.map(lk));a.folders&&(a.folders=a.folders.map(Uj));return a};function WI(a,b){this.Va=a;this.J=b}WI.prototype.Lb=function(){var a=this.Va.getName(),b=this.Va.qe();if(a)return a;if(b){if("LOGOS"===b)return this.J.format("objectPanelUploadsPanelSystemFolderLogos");if("UNFOLDERED"===b)return this.J.format("objectPanelUploadsPanelSystemFolderUnfoldered");throw Error("unrecognised system folder");}return this.Va===bk?this.J.format("objectPanelUploadsPanelUploadsFolder"):this.Va===ck?Ud(this.J):this.J.format("objectPanelUploadsPanelUntitledFolder")};function CE(a){this.name=a||"Normal";this.Yf=this.vignette=this.rf=this.saturation=this.contrast=this.brightness=this.blur=0;this.Eh=50}var XI=new CE,YI=new CE("halftone");
function ZI(a){var b=a.match(/([a-z0-9]{2})/gi),c=new CE;if("halftone"===a)return YI;c.brightness=parseInt(b[0],16)-100;c.contrast=parseInt(b[1],16)-100;c.saturation=parseInt(b[2],16)-100;c.rf=parseInt(b[3],16)-100;c.blur=parseInt(b[4],16)-100;c.vignette=parseInt(b[5],16);c.Yf=parseInt(b[6],16)-100;c.Eh=7<b.length?parseInt(b[7],16):XI.Eh;return c}function $I(a){a=a.toLowerCase();return"tint"!==a&&"name"!==a}
function aJ(a,b,c){b=Math.round((b||0)*c);return"vignette"===a||"tintAmount"===a?Math.min(100,Math.max(0,b)):Math.min(100,Math.max(-100,b))}function bJ(a,b){var c=_.findWhere(cJ,{name:a.name});_.chain(c).keys().filter($I).each(function(a){this.SH(a,aJ(a,c[a],b))}.bind(a))}function dJ(a){var b=new CE;b.Oh(a.serialize());b.blur&&(b.blur*=.5);b.brightness&&(b.brightness*=.5);b.contrast&&(b.contrast*=.6);b.saturation&&0<b.saturation&&(b.saturation*=.8);b.vignette&&(b.vignette*=.7);return b}f=CE.prototype;
f.Oh=function(a){a&&(this.name=a.name||XI.name,this.blur=a.blur||XI.blur,this.brightness=a.brightness||XI.brightness,this.contrast=a.contrast||XI.contrast,this.saturation=a.saturation||XI.saturation,this.rf=a.tint||XI.rf,this.vignette=a.vignette||XI.vignette,this.Yf=a.xpro||XI.Yf,this.Eh=_.isNumber(a.tintAmount)?a.tintAmount:XI.Eh)};
function eJ(a,b){function c(c){return a[c]!==b[c]}a=void 0===a?XI:a;b=void 0===b?XI:b;return null===a&&null===b?!0:null===a||null===b?!1:0===Object.keys(a).filter(c).length&&0===Object.keys(b).filter(c).length}
f.SH=function(a,b){switch(a){case "brightness":return this.brightness=b,!0;case "saturation":return this.saturation=b,!0;case "contrast":return this.contrast=b,!0;case "blur":return this.blur=b,!0;case "tint":return this.rf=b,!0;case "xpro":case "xprocess":return this.Yf=b,!0;case "vignette":return this.vignette=b,!0;case "tintAmount":return this.Eh=b,!0;default:return!1}};
f.getByName=function(a){switch(a){case "brightness":return this.brightness;case "saturation":return this.saturation;case "contrast":return this.contrast;case "blur":return this.blur;case "tint":return this.rf;case "xpro":case "xprocess":return this.Yf;case "vignette":return this.vignette;case "tintAmount":return this.Eh;default:throw Error("unknown filter property name: "+a);}};f.eN=function(){return null!==fJ(this)};
f.serialize=function(){if(eJ(this,XI))return null;var a={};this.name&&(a.name=this.name);this.blur&&(a.blur=this.blur);this.brightness&&(a.brightness=this.brightness);this.contrast&&(a.contrast=this.contrast);this.saturation&&(a.saturation=this.saturation);this.rf&&(a.tint=this.rf);this.vignette&&(a.vignette=this.vignette);this.Yf&&(a.xpro=this.Yf);_.isNumber(this.Eh)&&(a.tintAmount=this.Eh);return a};
function fJ(a){var b=_.findWhere(cJ,{name:a.name});if(null===b)return null;var c=gJ(a,b);return null===c?null:_.all(b,function(a,e){return $I(e)?1>=Math.abs(this.getByName(e)-aJ(e,b[e],c)):!0}.bind(a))?c:null}function gJ(a,b){var c=0,d=null;_.each(b,function(a,b){$I(b)&&Math.abs(a)>=Math.abs(c)&&100>Math.abs(this.getByName(b))&&(c=a,d=b)}.bind(a));return 0===c?null:a.getByName(d)/c}
f.qa=function(){return[this.brightness+100,this.contrast+100,this.saturation+100,this.rf+100,this.blur+100,this.vignette,this.Yf+100,this.Eh].map(function(a){a=Math.round(a).toString(16);1==a.length&&(a="0"+a);return a}).join("")};
function hJ(a,b){a-=200/7;0>a&&(a=200+a);var c,d;a=360*a/200/360;c=1;d=.5;if(0==c)d=c=a=d;else{var e=.5>d?d*(1+c):d+c-d*c,g=2*d-e;d=yn(g,e,a+1/3);c=yn(g,e,a);a=yn(g,e,a-1/3)}a=[Math.round(255*d),Math.round(255*c),Math.round(255*a)];return{color:{r:a[0],il:a[1],b:a[2]},Vo:7+.14*(b-50)}}
function iJ(a){function b(b){return parseFloat((b*a/-100).toFixed(2))}if(0<a){var c=function(b){return parseFloat((b*a/100).toFixed(2))},d=[0,.2,0,-.1,0].map(c),e=[0,.1,0,-.1,0].map(c),c=[.2,0,.2].map(c);return{red:[[0,0],[.3,.3-d[1]],[.7,.7-d[3]],[1,1]],green:[[0,0],[.25,.25-e[1]],[.75,.75-e[3]],[1,1]],blue:[[0,c[0]],[0+2/3*.5,c[0]+2/3*(.5-c[0])],[1+2/3*-.5,1-c[2]+2/3*(.5-(1-c[2]))],[1,1-c[2]]]}}d=[0,.2,.5,-.05].map(b);e=[0,-.15,0,0].map(b);c=[0,-.01,0,.3].map(b);return{red:[[0,0],[.3,.3-d[1]],[.7,
.7-d[2]],[.95,.95-d[3]]],green:[[0,0],[.25,.25-e[1]],[.6,.6],[1,1]],blue:[[0,0],[.3,.3-c[1]],[.5,.5],[1,1-c[3]]]}};function jJ(a){this.filter=new CE;this.Xp=this.uP=this.Fj=!1;this.QE={};this.Q2="";this.Mc=a;this.zK="print"==pC?pD:Lg;this.MQ=null;this.wA=50}function lC(a,b){var c=new CE;b=new jJ(b);a&&c.Oh(a);BE(b,c);return b}f=jJ.prototype;f.eN=function(){return this.filter.eN()};f.ys=function(){return this.Xp};f.initialize=function(a){function b(){c.Xp=!0;a&&a()}var c=this;!bE(this.Mc)||this.Xp||eJ(this.filter,XI)?b():rD(this,b)};function kJ(a){a.$h||(a.$h=new lJ(window,a.Mc,a.zK),a.$h.update(!0))}
f.update=function(a,b){var c=this;if(this.Fj)if(this.MQ=tD(this),this.trigger("change"),this.Mc.isEmpty())this.$h&&(this.$h.remove(),this.$h=null),this.Fj=!1,b&&b();else{this.$h||(this.$h=new lJ(window,this.Mc,this.zK));var d=!!this.uP;mJ(this.$h.apply(this.filter),d).update(!!a,function(){c.Fj=!1;b&&b()})}else b&&b()};function rD(a,b){a.Fj=!0;a.uP=!0;a.Bp();a.update(!0,function(){a.uP=!1;a.Ap();b&&b()})}
f.SH=function(a,b,c){"intensity"===a?(this.wA=b,bJ(this.filter,b/50),this.Fj=!0):this.Fj=this.filter.SH(a,b);this.update(!1,c)};f.getByName=function(a){return"intensity"==a?this.wA:this.filter.getByName(a)};function BE(a,b){a.filter=b;a.wA=Math.round(50*fJ(b))}function nJ(a,b){a.filter=new CE;a.wA=50;b&&a.filter.Oh(b);rD(a,void 0)}function oJ(a){a.filter=new CE;a.wA=50;a.Fj=!0;rD(a,void 0)}function tD(a){return a.filter.serialize()}f.qa=function(){return this.filter.qa()};f.Bp=function(){};
f.Ap=function(){if(this.$h){var a=mJ(this.$h,!0);if(!a.yR)if(a.VC)pJ(a);else if(a.canvas){var b=a.OI.clone(!0).off().removeAttr("crossorigin"),c=qJ(a);c?(b.get(0).src=c,rJ(a)):(c=a.canvas.toDataURL(),a.cache.add(sJ(a),c),b.get(0).src=c);a.Ra.find("img,canvas").remove();a.Ra.append(b);a.OI=b;$("#limbo").append(a.canvas);a.Xx=!1}}};f.Ic=function(){return this.Mc.Ic()};
f.cL=function(a,b,c){var d=new CE;a&&d.Oh(a);this.Mc.serialize().mediaId+this.Mc.serialize().mediaVersion!==this.Q2&&(this.QE={});if(this.QE[d.name])c(this.QE[d.name]);else if(a=this.Ic()){var e=this,g=b?nD:this.zK,h=a[g];b=h.na();a=$("\x3cimg\x3e");var k=$("\x3cdiv\x3e");k.append(a);k.appendTo("#limbo");a.one("load",function(){var a=h.l(),b=h.o();k.css("width",a).css("height",b);var a=new nC(e.Mc.serialize(),k),n=new lJ(window,a,g);n.apply(d).cL().update(!0,function(){var a={src:tJ(n),T$:uJ(n)};
e.QE[d.name]=a;c(a);n.remove();k&&k.remove()})});aD(bD,a,b)}};f.remove=function(){this.$h&&this.$h.remove();this.$h=null};f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;_.extend(jJ.prototype,Backbone.Events);var cJ=[{name:"The Blues",blur:-14,brightness:63,contrast:-37,tint:0,saturation:-26,vignette:0,xpro:-23,tintAmount:50},{name:"Edge",blur:-53,brightness:10,contrast:-24,tint:49,saturation:26,vignette:0,xpro:29,tintAmount:50},{name:"Selfie",blur:void 0,brightness:10,contrast:-12,tint:-50,saturation:-12,vignette:56,xpro:50,tintAmount:50},{name:"Festive",blur:-7,brightness:10,contrast:21,tint:void 0,saturation:24,vignette:void 0,xpro:40,tintAmount:50},{name:"Rosie",blur:-14,brightness:0,contrast:55,tint:-73,
saturation:-28,vignette:0,xpro:27,tintAmount:50},{name:"Drama",blur:0,brightness:-10,contrast:21,tint:60,saturation:-34,vignette:50,xpro:80,tintAmount:50},{name:"Epic",blur:1,brightness:6,contrast:20,tint:void 0,saturation:-14,vignette:39,xpro:50,tintAmount:50},{name:"Grayscale",blur:void 0,brightness:15,contrast:-20,tint:void 0,saturation:-100,vignette:void 0,xpro:void 0,tintAmount:50},{name:"Nordic",blur:0,brightness:15,contrast:-16,tint:0,saturation:-50,vignette:0,xpro:0,tintAmount:50},{name:"Summer",
blur:0,brightness:10,contrast:14,tint:-46,saturation:18,vignette:25,xpro:30,tintAmount:50},{name:"Street",blur:-7,brightness:-7,contrast:21,tint:0,saturation:-95,vignette:50,xpro:0,tintAmount:50},{name:"Retro",blur:0,brightness:0,contrast:-14,tint:14,saturation:-18,vignette:40,xpro:69,tintAmount:50},{name:"Whimsical",blur:-19,brightness:43,contrast:-15,tint:-79,saturation:-53,vignette:21,xpro:60,tintAmount:50},{name:"Cali",blur:0,brightness:22,contrast:-46,tint:0,saturation:38,vignette:0,xpro:27,
tintAmount:50}];function lJ(a,b,c){this.Mc=b;this.oi=c;this.Ra=this.Mc.C();this.yR=this.Mc.iG;this.VC=vJ;this.gN=this.RE=this.Fj=this.locked=this.Xx=!1;!this.VC&&"WebGLRenderingContext"in a&&(a=fx.canvas(),b=fx.canvas(),a&&b&&(wJ=a,xJ=b,this.VC=vJ=!0))}var wJ,xJ;lJ.prototype.x3=function(){var a=0;return function(){a+=1;return a.toString()}}();var vJ=!1;lJ.prototype.cL=function(){this.RE=!0;return this};lJ.prototype.apply=function(a){this.values=new CE;this.values.Oh(dJ(a).serialize());return this};
function mJ(a,b){a.Xx=b;return a}lJ.prototype.update=function(a,b){this.gN||!a&&this.locked||(this.yR?this.N$(b):this.VC?yJ(this,b):zJ(this,a,b))};function pJ(a){function b(){this.Xx=!1;c.Ra.find("img,canvas").remove();c.Ra.append(d);c.OI=d;$("#limbo").append(c.canvas)}if(a.canvas){var c=a,d=a.OI.clone(!0).off().removeAttr("crossorigin"),e=qJ(a);e?(d.get(0).src=e,b(),rJ(a)):yJ(a,function(){c.canvas.update();c.canvas._.texture.toImage(d.get(0));var a=d.get(0).src;c.cache.add(sJ(c),a);b()})}}
function AJ(a,b){a=a.Mc.an().scale(W).round();$(b).css($C(a,0))}
(function(){function a(a,c,d,e){qD(bD,a.Ic()[d].na()).then(function(g){var h=$("\x3cdiv\x3e").append(g);g=new nC(a.serialize(),h);h.appendTo("#limbo");var k=new lJ(window,g,d);k.values=b(c);k.update(!0,function(){var a=tJ(k);h.remove();e(a)})})}function b(a){a=ZI(a.qa());a.saturation/=.8;0!==a.rf&&(a.brightness=0<a.brightness?a.brightness/1.5:a.brightness-15);0<a.blur&&(a.blur/=2);return a}function c(a){var b=$(a).children("defs.canva.filter");0===b.length?(b=document.createElementNS("http://www.w3.org/2000/svg",
"defs"),b.classList.add("canva"),b.classList.add("filter"),a.appendChild(b)):b=b.get(0);return b}function d(a,b,c){var d={brightness:l,contrast:m,saturation:n,rf:k,blur:p,vignette:h,Yf:e},g=document.createElementNS("http://www.w3.org/2000/svg","filter");c=c.an().scale(2);g.setAttribute("id",b);"print"===pC&&g.setAttribute("filterRes",c.l()+" "+c.o());b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");g.appendChild(b);Object.keys(a).filter(function(b){return d.hasOwnProperty(b)&&
void 0!==a[b]}).forEach(function(b){0!==a[b]&&d[b].call(this,a[b],a).forEach(function(a){g.appendChild(a)})});return g}function e(a){if(0===a)return[];a=g(iJ(a));a.forEach(function(a){a.classList.add("crossProcess")});return a}function g(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");b.setAttribute("color-interpolation-filters","sRGB");var c={r:a.red,g:a.green,b:a.blue};["r","g","b"].forEach(function(a){var d=document.createElementNS("http://www.w3.org/2000/svg",
"feFunc"+a.toUpperCase());if(a=c[a])a=BJ({x:a[0][0],y:a[0][1]},{x:a[1][0],y:a[1][1]},{x:a[2][0],y:a[2][1]},{x:a[3][0],y:a[3][1]}).map(function(a){return a.y}),d.setAttribute("type","table"),d.setAttribute("tableValues",a.join(" ")),b.appendChild(d)});b.classList.add("curves");return[b]}function h(a){if(0===a)return[];var b=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),c=document.createElementNS("http://www.w3.org/2000/svg","stop"),d=document.createElementNS("http://www.w3.org/2000/svg",
"stop");b.classList.add("vignette");b.appendChild(c);b.appendChild(d);b.setAttribute("cx","50%");b.setAttribute("cy","50%");b.setAttribute("r","50%");b.setAttribute("fx","50%");b.setAttribute("fy","50%");var e=Math.min(1,O.oy);c.setAttribute("offset",(1<O.oy?O.kJ/O.oy:O.kJ).toString());c.setAttribute("stop-color","#000000");c.setAttribute("stop-opacity","0");d.setAttribute("offset",e.toString());d.setAttribute("stop-color","#000000");d.setAttribute("stop-opacity",a/100);return[b]}function k(a,b){if(0===
a)return[];a=hJ(a+100,b.getByName("tintAmount"));var c={r:a.color.r/255,g:a.color.il/255,b:a.color.b/255},d=a.Vo/100*2,e=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");e.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a=c[a]*d;b.setAttribute("type","linear");b.setAttribute("slope",1-d);b.setAttribute("intercept",a);e.appendChild(b)});e.classList.add("tint");
return[e]}function l(a){if(0===a)return[];var b=a/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a.setAttribute("type","linear");a.setAttribute("slope",1);a.setAttribute("intercept",b);c.appendChild(a)});c.classList.add("brightness");return[c]}function m(a){if(0===a)return[];var b=(a*(1<a?1/.6:1)+
100)/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());var d=-(.5*b)+.5;a.setAttribute("type","linear");a.setAttribute("slope",b);a.setAttribute("intercept",d);c.appendChild(a)});c.classList.add("contrast");return[c]}function n(a){if(0===a)return[];a=(a+100)/100;a*=1>=a?1:a;a=[.3086+.6914*a,.6094-.6094*
a,.082-.082*a,0,0,.3086-.3086*a,.6094+(1-.6094)*a,.082-.082*a,0,0,.3086-.3086*a,.6094-.6094*a,.082+.918*a,0,0,0,0,0,1,0];var b=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");b.setAttribute("color-interpolation-filters","sRGB");b.setAttribute("type","matrix");b.setAttribute("values",a.join(" "));b.classList.add("saturation");return[b]}function p(a){if(0===a)return[];if(0>a){a*=-1;if(0===a)a=[];else{a=a/100*4;a=[0,-a,0,-a,4*a+1,-a,0,-a,0];var b=document.createElementNS("http://www.w3.org/2000/svg",
"feConvolveMatrix");b.setAttribute("order","3");b.setAttribute("kernelMatrix",a.join(" "));b.classList.add("sharpen");a=[b]}return a}b=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");b.setAttribute("stdDeviation",.125*a);b.classList.add("blur");return[b]}var q=0;lJ.prototype.N$=function(b){var e="_CANVA_FILTER_"+q++;CJ(this);if(!this.values||eJ(this.values,XI))b&&b();else{this.Gz=c(this.Ra.get(0));var g=d(this.values,e,this.Mc);this.Gz.appendChild(g);var g=this.Gz.querySelector(".vignette"),
h=this.Ra.get(0).querySelector(".vignette"),k=e+"_VIGNETTE";g?(this.Gz.appendChild(g),g.setAttribute("id",k),h.setAttribute("fill","url(#"+k+")")):h.setAttribute("fill","none");var l=this.Ra.find("image.placeholder").get(0);bA?a(this.Mc,this.values,this.oi,function(a){a&&aD(bD,$(l),a);b&&b()}):(l.setAttribute("filter","url(#"+e+")"),b&&b())}}})();function sJ(a){var b,c=a.Mc.serialize();a.Gh&&a.values&&a.Mc&&(b=a.values.qa()+c.mediaId+c.mediaVersion+a.Gh.width+a.Gh.height);return b}
function DJ(a){var b=sJ(a);return a.Xx&&!!b&&!!a.cache.fetch(b)}function qJ(a){return DJ(a)?a.cache.fetch(sJ(a)):void 0}
function yJ(a,b){function c(){d.Gh.width=e;d.Gh.height=g;d.canvas||(d.canvas=d.RE?xJ:wJ,d.Ra.append(d.canvas),AJ(d,d.canvas),d.eH=d.canvas.texture(d.Gh),d.canvas.draw(d.eH,e,g),$("#limbo").append(d.Gh));if(d.canvas.width!==e||d.canvas.height!==g)d.canvas.width=e,d.canvas.height=g;AJ(d,d.canvas);d.canvas.draw(d.eH,e,g);if(d.values){d.canvas.brightnessContrast((d.values.brightness||0)/100,(d.values.contrast||0)/100).saturation(d.values.saturation||0);if(d.values.rf){var a=hJ(d.values.rf+100,d.values.Eh);
d.canvas.colorize(a.color.r,a.color.il,a.color.b,a.Vo/100)}d.values.blur&&(0<d.values.blur?d.canvas.triangleBlur(d.values.blur):d.canvas.unsharpMask(3,-1*d.values.blur/20));d.values.Yf&&(a=iJ(d.values.Yf),d.canvas.curves(a.red,a.green,a.blue));rJ(d);d.values.name===YI.name&&d.canvas.colorHalftone(e/2,g/2,.45,e/100)}d.canvas.update();b&&b();d.RE=!1;d.locked=!1;d.Fj=!1}var d=a,e,g;if(DJ(a))b&&b();else if(a=a.Mc.Ic())a=a[d.oi],e=a.l(),g=a.o(),d.IV=a.na(),d.Xx=!1,d.locked=!0,EJ(d,c)}
function zJ(a,b,c){function d(){h.Gh.width=k;h.Gh.height=l;if(h.Qh){if(h.canvas.width!==k||h.canvas.height!==l)h.canvas.width=k,h.canvas.height=l;e()}else h.canvas=document.createElement("canvas"),h.canvas.setAttribute("data-caman-hidpi-disabled",!0),h.mT="camanCanvas"+h.x3(),h.canvas.id=h.mT,h.canvas.width=k,h.canvas.height=l,AJ(h,h.canvas),h.Ra.append(h.canvas),h.c1=h.canvas.getContext("2d"),h.c1.drawImage(h.Gh,0,0,k,l),h.Qh=Caman("#"+h.mT,e),$("#limbo").append(h.Gh)}function e(){AJ(h,h.canvas);
h.Qh.revert(!1);if(h.values){h.values.brightness&&0!=h.values.brightness&&h.Qh.brightness(h.values.brightness);h.values.contrast&&0!=h.values.contrast&&h.Qh.contrast(h.values.contrast);h.values.saturation&&0!=h.values.saturation&&(-100==h.values.saturation?h.Qh.greyscale():h.Qh.saturation(h.values.saturation));var a=hJ(h.values.rf+100,h.values.Eh);h.values.rf&&h.Qh.colorize(a.color.r,a.color.il,a.color.b,2.5*a.Vo);h.values.blur&&0!=h.values.blur&&(0<h.values.blur?h.Qh.stackBlur(h.values.blur):h.Qh.sharpen(-1*
h.values.blur||0));if(h.values.Yf){var b=iJ(h.values.Yf),a=b.red.map(g),d=b.green.map(g),b=b.blue.map(g);h.Qh.curves("r",a[0],a[1],a[2],a[3]);h.Qh.curves("g",d[0],d[1],d[2],d[3]);h.Qh.curves("b",b[0],b[1],b[2],b[3])}rJ(h)}h.Qh.render(function(){c&&c();h.RE=!1;window.setTimeout(function(){h.locked=!1},1E3);h.Fj=!1})}function g(a){return[Math.min(255,Math.round(255*a[0])),Math.min(255,Math.round(255*a[1]))]}if(b){var h=a,k,l;if(DJ(a))c&&c();else if(a=a.Mc.Ic())a=a[h.oi],k=a.l(),l=a.o(),h.IV=a.na(),
h.Xx=!1,h.locked=!0,EJ(h,d)}else c&&c()}function rJ(a){var b=a.Ra.find(".vignette");0===b.length&&(b=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),a.Ra.prepend(b));a.values.vignette?(a=uJ(a),b.removeClass("off").addClass("on").css("background-image","radial-gradient("+a+")")):b.removeClass("on").addClass("off").css("background-image","none")}
function EJ(a,b){function c(a){if(d.Rs&&0<d.Rs.length&&d.Rs.get(0).src){d.Gh=new Image;var c=$(d.Gh);c.css("visibility","hidden");aD(bD,c,a).then(function(){window.setTimeout(function(){d.gN||(d.Rs.appendTo("#limbo"),c.css("visibility","visible"),b())},300)});AJ(d,d.Gh);d.Ra.append(c)}else window.setTimeout(function(){EJ(d,b)},500)}var d=a;d.canvas?(1==$(d.canvas).parents("#limbo").length&&($(d.canvas).appendTo(d.Ra),d.Ra.find("img").remove()),b()):(d.Rs=d.Ra.find("img"),d.OI=d.Rs,c(d.IV))}
function uJ(a){return"circle farthest-side at center center, rgba(0,0,0,0) "+100*O.kJ+"%, "+("rgba(0,0,0,"+a.values.vignette/100+")")+" "+100*O.oy+"%"}function tJ(a){var b=$("\x3cimg /\x3e");a.VC?(a.canvas.update(),a.canvas._.texture.toImage(b.get(0))):b.get(0).src=a.canvas.toDataURL();return b.get(0).src}
lJ.prototype.remove=function(){this.gN=!0;this.yR?CJ(this):($(this.Gh).remove(),this.Rs&&this.Rs.remove(),this.Ra.find(".vignette").remove(),this.eH&&this.eH.destroy(),this.canvas&&($(this.canvas).remove(),this.canvas.width=0,this.canvas=null))};function CJ(a){a.Ra.find("image.placeholder").removeAttr("filter");a.Ra.get(0).querySelector(".vignette").setAttribute("fill","none");$(a.Gz).remove();a.Gz=null}function FJ(){this.cache={}}
FJ.prototype.add=function(a,b){var c=this.cache[a];return c?c:this.cache[a]=b};FJ.prototype.fetch=function(a){return this.cache[a]};lJ.prototype.cache=new FJ;var GJ=FONT_DATA;O.iS&&GJ.forEach(function(a){a.fonts.forEach(function(a){a.displayNameThumbnail=a.displayNameThumbnail2x;a.sampleTextThumbnail=a.sampleTextThumbnail2x})});function HJ(a,b,c){var d=$("\x3cdiv\x3e");d.css("font-family",a+", zerowidthfallbackfont").css("font-size","20px").css("font-weight",b||"400").css("font-style",c||"normal").css("font-synthesis","none").css("position","absolute").css("white-space","pre").html("A1ラ  ");$("#limbo").append(d);a=d.get(0).offsetWidth;d.remove();return 0===a};function IJ(a,b){this.fonts=a;this.ac=b.ac;this.KI=b.KI;this.QL=b.QL;this.RL={};this.Jz=[];this.TL=[];this.cv=[];this.SL=[];this.sF=[];this.kI=Date.now();this.nP=[];this.WC=[];this.locale=b.locale;this.aY=null;this.WU=!!b.WU;this.H=b.H}IJ.prototype.off=Backbone.Events.off;IJ.prototype.on=Backbone.Events.on;IJ.prototype.once=Backbone.Events.once;IJ.prototype.trigger=Backbone.Events.trigger;
var JJ="hairline thin light regular medium bold black heavy".split(" "),KJ=new Set(JJ),LJ=new Map(JJ.map(function(a,b){return[a,b]})),MJ=new Set(["en"]);function NJ(a){return a.WC.filter(function(a){return 0>this.nP.indexOf(a)},a)}
function OJ(){var a=Kb;a.aY||(a.aY=new P(function(a,c){var d=tF((new sF).St(!0).Qt(!1).Tt("*").Ko(),["FONT"]).Tg(25);PE(this.ac,d,function(d,g){200===d&&g?(d=g.media,d=PJ(this,d),d.forEach(function(a){0<=QJ(this).indexOf(a)&&(this.WC.unshift(a),this.WC=this.WC.slice(0,25))},this),RJ(this,d.map(function(a){return a.internalName})),a()):c()}.bind(this))}.bind(a)))}
function OA(a,b){if(b=b&&b.replace?b.replace(/#/gi,"_"):null)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],e=0;e<d.fonts.length;e++){var g=d.fonts[e];if(g.name==b||g.family==b)return g.generic=d.generic,g}return null}function FA(a){a=OA(Kb,a);return!(!a||!0!==a.charWrappingForbidden)}
function SJ(a,b){if(b)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],e=0;e<d.fonts.length;e++){var g=d.fonts[e];if(g.media&&g.media.id===b.id&&g.media.version===b.version)return g.generic=d.generic,g}return null}function SA(a){if((a=OA(Kb,a))&&a.media)return new Wm({id:a.media.id,version:a.media.version})}function TA(a,b,c,d){var e=[],g=[];b&&e.push(b);c&&g.push(c);JD(a,e,g,d)}function TJ(a,b){RJ(Kb,[a],b)}
function TH(a,b){return(b=OA(a,b))?void 0===b.url&&!1===b.generateStyles||0<=a.cv.indexOf(b.family):!1}function UJ(a,b,c){a.TL=a.TL.concat(b);a.sF.push({$e:b,callback:c||$.noop})}function VJ(a){function b(a){var b=!0;0!==a.$e.filter(function(a){var d=TH(c,a);a=0<=c.SL.indexOf(a);if(!d&&!a)return!0;a&&(b=!1);return!1}).length||a.gU||(a.gU=!0,a.callback(b),c.trigger("update"))}var c=a;a.H.setTimeout(function(){c.sF.forEach(b);c.sF=c.sF.filter(function(a){return!a.gU})},0)}
function WJ(a,b){a.cv=a.cv.filter(function(c){return(c=OA(a,c))&&0>b.indexOf(c.family)});b.forEach(function(b){var d=OA(a,b);d&&-1===a.SL.indexOf(d.family)&&a.SL.push(d.family);a.trigger("fontLoadFailed",b)});VJ(a)}
function XJ(a,b,c){c=c||0;var d=b.filter(function(b){var c=OA(a,b);if(c){b=c.family;var d=c.variants.bold,e=c.variants.italic,g=c.variants.boldItalic;Fa(!!(0<$("#limbo").length),"Font measurement requires #limbo");Fa(!!(0<$("#zeroWidthFallbackFont").length),"Font measurement requires #zeroWidthFallbackFont");HJ("zerowidthfallbackfont")?(c=!HJ(b),d=!d||!HJ(b,"700"),e=!e||!HJ(b,"400","italic"),b=!g||!HJ(b,"italic","700"),b=c&&d&&e&&b):b=!1}else b=!1;return b}),e=b.filter(function(a){return-1===d.indexOf(a)});
if(0<e.length)if(6>=c){var g=c+1;a.H.setTimeout(function(){XJ(a,e,g)},200*Math.pow(2,c))}else YJ(a,e);$.browser.safari?a.H.setTimeout(function(){YJ(a,d)},2E3):YJ(a,d)}function YJ(a,b){b.forEach(function(b){b=OA(a,b);-1===a.cv.indexOf(b.family)&&a.cv.push(b.family)});VJ(a)}
IJ.prototype.generateStyles=function(a){function b(a,b,c,k){k=k.woff?"src: url('"+k.woff+"') format('woff'); ":k.ttf?"src: url('"+k.ttf+"') format('truetype'); ":k.otf?"src: url('"+k.otf+"') format('opentype'); ":void 0;k&&d.insertRule("@font-face {"+("font-family: '"+a+"'; ")+("font-style: "+b+"; ")+("font-weight: "+c+"; ")+k+"}",0)}var c=this,d=function(){var a=$("#fontStylesheet"+c.kI);0===a.length&&(a=$('\x3cstyle id\x3d"fontStylesheet'+c.kI+'"\x3e\x3c/style\x3e'),$("head").append(a));return a.get(0).sheet}();
a.generateStyles&&(b(a.family,"normal","400",a.styles.regular),a.variants.bold?b(a.family,"normal","700",a.styles.bold):b(a.family,"normal","700",a.styles.regular),a.variants.italic?b(a.family,"italic","400",a.styles.italic):b(a.family,"italic","400",a.styles.regular),a.variants.boldItalic?b(a.family,"italic","700",a.styles.boldItalic):a.variants.bold?b(a.family,"italic","700",a.styles.bold):a.variants.italic?b(a.family,"italic","700",a.styles.italic):b(a.family,"italic","700",a.styles.regular))};
function JD(a,b,c,d){b&&0<b.length?c&&0<c.length?ZJ(a,b,function(b){b?RJ(a,c,d):a.H.setTimeout(function(){d&&d(!1)},0)}):ZJ(a,b,d):c&&0<c.length?RJ(a,c,d):a.H.setTimeout(function(){d&&d(!0)},0)}function $J(a,b,c){var d=[],e=[];b.forEach(function(a){var b=a.font;a=b.family;(b=b.Mb())?d.push(b):a&&e.push(a)});JD(a,d,e,c)}
function nE(a,b,c){function d(a){if(a){var b=m.QL.Ic(a.id,a.version);if(b)l.push(h(aK(m,a,b)));else throw Error("Media "+a.id+","+a.version+" missing from media map.");}}function e(a){var b=[],d=new Set;a.forEach(function(a){a.media.forEach(function(a){var c=a.u()+","+a.Ka().getVersion();n.has(c)&&!d.has(c)&&(b.push(a),d.add(c))})});a=PJ(m,b).map(h);l=l.concat(a);c(!0,l)}function g(){c(!1,l)}function h(a){return a.family||a.name}function k(a){return null==m.RL[a.u()+","+a.getVersion()]}var l=[],m=
a,n=new Set,p=b.filter(function(a){return!SJ(m,a)}).filter(function(a){return!!a});p.forEach(function(a){n.add(a.id+","+a.version)});if(a.ac){var q=p.filter(k);if(0!==q.length){b=yF(new xF,q).Ko().P_().J_();var u=VE(a.ac,b);q.forEach(function(a){m.RL[a.u()+","+a.getVersion()]=u})}a=p.map(function(a){return m.RL[a.u()+","+a.getVersion()]});P.all(a).then(e).catch(g)}else a.QL&&b.forEach(d),a.H.setTimeout(function(){c(!0,l)},0)}
function ZJ(a,b,c){nE(a,b,function(b,e){b?RJ(a,e,c):c&&a.H.setTimeout(function(){c(!1)},0)})}function bK(a,b){function c(a){return a&&(a=(a.Hca|a.Mba+a.Aca)/40,1<a)?Math.round(a*d-d):0}a=a.WU?15E3:6E4;var d=a/30;return b.reduce(function(a,b){b.styles&&(a+=c(b.styles.regular),a+=c(b.styles.bold),a+=c(b.styles.italic),a+=c(b.styles.boldItalic));return Math.ceil(a)},a)}
function RJ(a,b,c){function d(a,b,c){h.KI.load({custom:{families:a,urls:b},active:function(){XJ(h,c)},inactive:function(){WJ(h,c)},timeout:u})}function e(a,b){var c=/^([^:]+)(:.+)?/,d=[];a.forEach(function(a,e){if(void 0!==a&&null!==a){var g=["n4"],h=a.match(c),k=h[1].replace(/[^a-z0-9]/gi,"").toLowerCase();-1<a.indexOf(":")&&(g=h[2].substring(1).split(","));var l=document.querySelector("html"),m=!1;g.forEach(function(a){a="wf-"+k+"-"+a+"-inactive";m=m||l.classList.contains(a)});m&&d.push({family:a,
url:b[e]})}});return d}function g(a){return OA(h,a)}var h=a,k=[],l=[],m={},n=_.uniq(b).filter(function(a){return null!==g(a)}),p=n.filter(function(a){var b=0<=h.cv.indexOf(a);a=OA(h,a);a=void 0===a.url&&!1===a.generateStyles;return!(b||a)}),q=p.filter(function(a){return 0>h.TL.indexOf(a)}),q=_.uniq(q.map(g)),u=bK(a,q);0===p.length&&c?h.H.setTimeout(function(){c(!0)},0):(UJ(h,n,c),VJ(h),q.forEach(function(a){var b;b=["n4"];a.variants&&(a.variants.italic&&b.push("i4"),a.variants.bold&&b.push("n7"),
a.variants.boldItalic&&b.push("i7"));b.sort();if(b=(b=a.variants&&(a.variants.italic||a.variants.bold||a.variants.boldItalic)?a.family+":"+b.join(","):a.family)&&b.replace?b.replace(/#/gi,"_"):null){k.push(b);"Noto Sans Devanagari"===a.family&&(m[b]="देवनागरी");!0===a.generateStyles?h.generateStyles(a):a.url&&l.push(a.url);b=h;var c=$("#fontOverrideStylesheet"+b.kI);0===c.length&&(c=$('\x3cstyle id\x3d"fontOverrideStylesheet'+b.kI+'"\x3e\x3c/style\x3e'),$("head").append(c));b=c.get(0).sheet;a.variants&&
(!1===a.variants.italic&&b.insertRule('font[face\x3d"'+a.family+'"] * {font-style: normal !important; }',0),!1===a.variants.bold&&b.insertRule('font[face\x3d"'+a.family+'"] * {font-weight: normal !important; }',0),!1===a.variants.boldItalic&&(b.insertRule('font[face\x3d"'+a.family+'"] b i {font-weight: normal !important; font-style: normal !important; }',0),b.insertRule('font[face\x3d"'+a.family+'"] i b {font-weight: normal !important; font-style: normal !important; }',0)));h.trigger("fontLoadStart",
a.family)}}),0<q.length&&a.KI.load({custom:{families:k,urls:l,testStrings:m},active:function(){var a=e(k,l),c;0<a.length?(c=_.pluck(a,"family"),a=_.pluck(a,"url"),d(c,a,b)):XJ(h,b)},inactive:function(){d(k,l,b)},timeout:u}))}function QJ(a){return eC(a).filter(function(a){return!a.disabled}).sort(a.YJ)}
IJ.prototype.YJ=function(a,b){a=y(a.family||a.displayName);var c=y(b.family||b.displayName);if(!a.includes(" ")||!c.includes(" "))return a.localeCompare(c);b=a.toLocaleLowerCase().replace(/demi|extra|ultra/gi,"");a=c.toLocaleLowerCase().replace(/demi|extra|ultra/gi,"");var c=b.split(/\s+/gi),d=a.split(/\s+/gi),e=c.pop(),g=d.pop();return c.join("")===d.join("")&&KJ.has(e)&&KJ.has(g)?Math.sign(LJ.get(e)-LJ.get(g)):b.localeCompare(a)};
function eC(a){var b=[];a.fonts.forEach(function(a){a.fonts.forEach(function(a){b.push(a)})});return b.sort(a.YJ)}function yA(a){var b=eC(Kb).filter(function(b){return(b.name||b.family).toLowerCase()==a.toLowerCase()});return 0<b.length?b[0].name||b[0].family:null}
function PJ(a,b){return b.map(function(a){var b,e=new Wm({id:a.u(),version:a.Ka().getVersion()});if(cK(this,e))return SJ(this,e);b=a.Ka();var g=a.u();a=b.pb()||a.importFilename.replace(/\..*$/,"")||g;var h=b.ic()[Lg].na(),k,l,m;/\.ttf/gi.test(h)?k=h:/\.otf/gi.test(h)?l=h:/\.woff/gi.test(h)&&(m=h);h=b.ic()[nD];b=dK({displayName:a,fontFamily:g+"_"+b.getVersion(),displayNameThumbnail:{url:h.na(),width:h.l(),height:h.o()},ba:g,ca:b.getVersion(),j_:k,xX:l,Q_:m});this.Jz.push(e);eK(this,b);return b},a)}
function aK(a,b,c){if(cK(a,b)&&SJ(a,b))b=y(SJ(a,b)),eK(a,b);else{a.Jz.push(b);var d=c[Lg].na(),e,g,h;/\.ttf/gi.test(d)?e=d:/\.otf/gi.test(d)?g=d:/\.woff/gi.test(d)&&(h=d);c=c[nD];b=dK({displayName:b.id,fontFamily:b.id+"_"+b.version,displayNameThumbnail:{url:c.na(),width:c.l(),height:c.o()},ba:b.id,ca:b.version,j_:e,xX:g,Q_:h})}eK(a,b);return b}
function eK(a,b){var c;(function(){c=a.fonts.filter(function(a){return"Media"===a.category})[0];return!!c})()?c.fonts.push(b):a.fonts.push({category:"Media",generic:"sans-serif",fonts:[b]})}function cK(a,b){for(var c=0;c!==a.Jz.length;c++)if(a.Jz[c].id===b.id&&a.Jz[c].version===b.version)return!0;return!1}
function dK(a){return{family:a.fontFamily,internalName:a.fontFamily,displayName:a.displayName,disabled:!1,generateStyles:!0,displayNameThumbnail:a.displayNameThumbnail,displayNameThumbnail2x:a.displayNameThumbnail,media:{id:a.ba,version:a.ca},styles:{regular:{otf:a.xX,ttf:a.j_,woff:a.Q_,psName:a.fontFamily}},url:"#",variants:{italic:!1,bold:!1,boldItalic:!1}}};function fK(a){this.id=a.id;this.version=a.version}fK.prototype.u=function(){return this.id};fK.prototype.getVersion=function(){return this.version};function gK(a){this.document=a.document;this.locale=a.locale}gK.prototype.getDocument=function(){return this.document};gK.prototype.eg=function(){return this.locale};function hK(){}function iK(){return new hK};function jK(){this.N=Ib}function kK(a,b,c,d,e,g){a.N.post("/import/layout/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+(g?"?designType\x3d"+encodeURIComponent(g):""),d,function(a){e&&e(a)})}function lK(a,b){qj(a.N,"/import/elementgroup/"+encodeURIComponent(b.document.id)+"/"+encodeURIComponent(String(b.document.version)),b).catch(rj).get(0).then(La).then(iK)}function mK(a,b,c,d){return qj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?upload",{url:d})}
function nK(a,b,c,d){return sj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?form\x26signatureV4\x26mimeType\x3d"+encodeURIComponent(d)).spread(oK)}function pK(a,b,c,d){return qj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?import",d).spread(function(a){return Dj(a.media)})}function qK(){this.prices={}}function rK(a,b,c){a.prices[b]=c;return a}var sK=rK(new qK,"ONE_USE",0),tK=rK(rK(rK(new qK,"ONE_USE",1),"ROYALTY_FREE",10),"EXTENDED",100);
function uK(){this.licensing=this.licenseModel=null;this.autoPublicify=!1;this.publicifyMediaRequests=[]}uK.prototype.UR=function(a){this.licenseModel=a;return this};uK.prototype.VR=function(a){this.licensing=a;return this};function vK(a,b){a.publicifyMediaRequests.push(b)}function wK(){var a=(new uK).UR(sK).VR("FREE");a.autoPublicify=!0;return a}uK.prototype.NI=function(a){this.locale=a;return this};
function xK(){this.licensing=this.licenseModel=this.keywords=this.description=this.title=this.version=this.media=void 0}function yK(a){var b=new xK;b.media=a;return b}f=xK.prototype;f.Fk=function(a){this.version=a;return this};function zK(a,b){a.title=b;return a}f.I_=function(a){this.description=a;return this};f.MI=function(a){this.keywords=a;return this};f.UR=function(a){this.licenseModel=a;return this};f.VR=function(a){this.licensing=a;return this};function AK(){}
AK.prototype.M_=function(a){this.importVersion=a;return this};function BK(a){this.reset();this.i=a}BK.prototype.reset=function(){this.previous=null;this.qr=[];this.Vk={top:0,left:0}};BK.prototype.KB=function(){var a=this;CK();a.qr.forEach(function(b){b={elementIndex:b.K(),pageIndex:cp(K,b.R()),"new":{left:b.F(),top:b.w()},old:{left:b.F()-a.Vk.left,top:b.w()-a.Vk.top}};M.register(new Y(dp,b))});DK()};
BK.prototype.rG=function(){var a=this;return function(b){a.qr=K.Wa();var c=$(b.target);if("true"==c.attr("contenteditable")||c.is("input:focus")||c.is("textarea:focus"))return a.reset(),!0;if(0<$(".toolbar__item--submenuExpanded .menuList").length||"block"===$("#overlays #marquee").css("display")||b.metaKey||b.ctrlKey)return!0;if(0<a.qr.length){var d=1;b.shiftKey&&(d=10);switch(b.which){case 37:return a.previous=37,a.Vk.left-=1/W*1*d,a.qr.forEach(function(a){BC(a,1/W*1*d)}),EK(zc(a.i),Bc(a.i)),!1;
case 38:return a.previous=38,a.Vk.top-=1/W*1*d,a.qr.forEach(function(a){CC(a,1/W*1*d)}),EK(zc(a.i),Bc(a.i)),!1;case 39:return a.previous=39,a.Vk.left+=1/W*1*d,a.qr.forEach(function(a){DC(a,1/W*1*d)}),EK(zc(a.i),Bc(a.i)),!1;case 40:return a.previous=40,a.Vk.top+=1/W*1*d,a.qr.forEach(function(a){EC(a,1/W*1*d)}),EK(zc(a.i),Bc(a.i)),!1}}null!==a.previous&&a.KB();a.reset();return!0}};BK.prototype.save=function(){var a=this;return function(b){a.previous===b.which&&(a.KB(),a.reset())}};function Wz(a){$(document).keydown(FK);a=new BK(a);$(document).keydown(a.rG());$(document).keyup(a.save())}
function FK(a){var b;if($("body").hasClass("fullscreenMode"))return!1;if(27===a.which){a=$("#canvaDocument .element.selected,#canvaDocument .element.multiSelected").length;var c=K.Wa();0<$("*:focus").length?$("*:focus").blur():0<$(".modalContentMask").length?(a=$(".modalContentMask:last"),(c=a.next().children(".dialog").data("Canva_Views_Dialog"))?c.cancel():a.trigger("click")):$(".toolbar__item--submenuExpanded").length?T.trigger("hideContextualControlsRequested"):1===c.length&&c[0]instanceof wC&&
c[0].Yc?(c[0].Yc instanceof Kp&&sB(c[0].Yc.C()),c[0].Ui()):0<a?hh():$(".infoPanel .close").click();return!1}if(document.querySelector(".modalContentMask, .mask.editingDefaults, .mask.on, body.blockDocument"))return!0;if(16===a.which){var d=function(a){window.clearTimeout(b);16===a.which&&($(".selectionBox").removeClass("freeResize"),$(document).off("keyup",d))};(c=K.Wa()[0])&&0===oA(c.C())?b=window.setTimeout(function(){$(".selectionBox").addClass("freeResize")},500):$(".selectionBox").addClass("freeResize");
$(document).on("keyup",d)}var c=document.querySelector(".element.text.selected"),e=document.querySelector(".element.text.focused"),g=e,h=document.activeElement,k=h?h.nodeName.toLowerCase():"";if("input"===k||"textarea"===k)g=!0;k=K.Wa()[0];if(g&&9===a.which&&0===$(h).parents(".tableView").length)return GK(),!1;if(K.ia().some(function(a){return a.tg}))return!0;if(k&&a.altKey&&(a.ctrlKey||a.metaKey)){if(67===a.which)return go(cc,k.clone()),!1;if(86===a.which)return HK(k),!1}if(k&&k.ci&&g&&a.shiftKey&&
a.altKey){if(66===a.which)return IK(k),!1;if(187===a.which||171===a.which)return JK(k,1),!1;if(189===a.which||173===a.which)return JK(k,-1),!1}if(k&&k.jA()&&a.shiftKey&&a.altKey){if(187===a.which||171===a.which)return KK(k,1),!1;if(189===a.which||173===a.which)return KK(k,-1),!1}if(c&&13===a.which&&(a.ctrlKey||a.metaKey))return e?sB($(c)):LK($(c)),!1;if(g&&k&&k.QZ()&&a.altKey){switch(a.which){case 37:return MK(k,-1),!1;case 39:return MK(k,1),!1;default:k.pr=void 0}if(a.shiftKey&&81===a.which)return MK(k,
0),!1}if(k&&k.mb()&&k.se()&&!k.Df()&&!k.AV()&&(a.metaKey||a.ctrlKey)){if(74===a.which)return NK(k),!1;if(75===a.which){if(a.shiftKey||a.altKey)return OK(k),!1}else if(76===a.which){if(a.shiftKey||a.altKey)return PK(k),!1}else if(82===a.which){if(a.shiftKey||a.altKey)return QK(k),!1}else if(67===a.which&&(a.shiftKey||a.altKey))return RK(k),!1}if(g&&k&&k.ZQ()&&(a.shiftKey||a.altKey)&&(a.metaKey||a.ctrlKey)){switch(a.which){case 75:$(".textToolbarUppercase a").trigger("click");$(".toolbar__button--uppercase").trigger("click");
break;case 76:$(".textToolbarLeft a").trigger("click");$(".toolbar__button--left").trigger("mouseup");break;case 82:$(".textToolbarRight a").trigger("click");$(".toolbar__button--right").trigger("mouseup");break;case 67:$(".textToolbarCenter a").trigger("click");$(".toolbar__button--center").trigger("mouseup");break;case 84:SK(k);break;case 77:TK(k);break;case 66:UK(k)}return!1}if(a.metaKey||a.ctrlKey){if(90===a.which)return a.shiftKey?VK():WK(),!1;if(89===a.which){if(a.shiftKey)return!0;VK();return!1}}if(!g){if(a.metaKey||
a.ctrlKey)switch(a.which){case 67:if(a.shiftKey)return!0;XK();return!1;case 86:if(a.shiftKey)return!0;YK();return!1;case 68:if(a.shiftKey)return!0;XK();YK();return!1;case 71:return a.shiftKey?ZK():$K(),!1;case 65:return hh(),a.shiftKey||aL(K.Da().ia()),!1}if(!a.metaKey&&!a.ctrlKey&&!a.altKey)switch(a.which){case 84:return $("#objectPanel .textControls a[data-style\x3dbody]").trigger("click"),!1}switch(a.which){case 8:case 46:return $(".enabled \x3e .toolbar__button--imageDelete").length?$(".toolbar__button--imageDelete").trigger("click"):
$(".enabled \x3e .toolbar__button--elementDelete").length?$(".toolbar__button--elementDelete").trigger("click"):$(".toolbar__button--delete").trigger("click"),!1;case 191:return $("#search").focus().get(0).select(),!1}}if(a.ctrlKey&&a.altKey&&70===a.which)return bL(),!1;if(a.metaKey||a.ctrlKey){if(a.altKey){if(221===a.which)return cL(1),!1;if(219===a.which)return cL(-1),!1}switch(a.which){case 221:case 38:if(Yp())return $(".elementToolbarForward a").click(),$(".toolbar__button--forward").trigger("mouseup"),
!1;break;case 219:case 40:if(Yp())return $(".elementToolbarBackward a").click(),$(".toolbar__button--back").trigger("mouseup"),!1;break;case 187:case 61:return $(".zoomer__in").click(),!1;case 189:case 173:return $(".zoomer__out").click(),!1;case 83:return T.trigger("documentSaveRequested"),!1}if(59===a.which||186===a.which)return Rb().toggle(),!1}if(Jb.G.get(hg)&&a.altKey)switch(a.which){case 112:var l=prompt("Select which type of chart to create:\n0 \x3d Bar chart\n1 \x3d Pie chart\n2 \x3d Line chart\n3 \x3d Donut chart",
"0"),l=ZH[Object.keys(ZH)[+l]],m=XH(l);m.al(K.Da());aI(m,function(){Ag(m);Vl(l)});return!1}return!0};function dL(){}
dL.prototype.search=function(a,b,c){return new P(function(d,e){function g(){d(eL({results:[]}))}function h(){LI(b,c).then(k).catch(g)}function k(a){var b=[];a.forEach(function(a){var c=a.re(),d=a.nl(),c={page:0,quality:"THUMBNAIL",height:c.o(),width:c.l(),url:c.na()},d={page:0,quality:"SCREEN",height:d.o(),width:d.l(),url:d.na()};b.push({id:a.u(),title:a.getName(),origin:Kg,files_:[c,d]})});d(eL({results:b}))}"facebook"==a.toLowerCase()?vg&&II(vg).then(h).catch(function(){HI(vg).then(h).catch(g)}):e(Error("Not handled"))})};function fL(a,b){this.N=a;this.r9=b||[];this.url="/search"}var gL=["DESIGN"],hL=[Eg,Gg],iL=["ELEMENT_GROUP"];
fL.prototype.ot=function(a){function b(a){var b="";0<a.length&&(b=a.map(function(a){return"\x26sort\x3d"+encodeURIComponent(a.Yu+":"+a.direction)}).join(""));return b}a.from||(a.Pf=null);a="/search?q\x3d"+encodeURIComponent(a.query)+(a.Wh?"\x26docId\x3d"+encodeURIComponent(a.Wh):"")+function(a,b,e,g){var h="",k=[],l=[],m=[];if(a&&a.length){var n=[];a.forEach(function(a){a=a.toString().charAt(0);h+=a;n.push(a)});m.push("+type:("+n.join(" ")+")")}b&&Object.keys(b).forEach(function(a){k.push(""+a+":"+
b[a]);m.push("+"+a+":"+b[a])});e&&Object.keys(e).forEach(function(a){l.push(""+a+":"+e[a]);m.push("-"+a+":"+e[a])});g&&(m=m.concat(g));a="";h&&(a+="\x26types\x3d"+h);0<k.length&&(a+="\x26includes\x3d"+encodeURIComponent(k.join(",")));0<l.length&&(a+="\x26excludes\x3d"+encodeURIComponent(l.join(",")));0<m.length&&(a+="\x26fq\x3d"+encodeURIComponent(m.join(",")));return a}(a.Gn,a.un,a.Rm,a.filters)+(a.sort?b(a.sort):"")+(a.elevation?"\x26elevation\x3d"+encodeURIComponent(a.elevation):"")+(a.XE?"\x26elevateIds\x3d"+
encodeURIComponent(a.XE.join(",")):"")+(a.qz?"\x26elevatedOnly\x3dtrue":"")+(null!=a.limit?"\x26limit\x3d"+encodeURIComponent(String(a.limit)):"")+(null!=a.from?"\x26from\x3d"+encodeURIComponent(String(a.from)):"")+(a.fm?"\x26translatable\x3dtrue":"")+(a.Pf?"\x26rootSearchId\x3d"+encodeURIComponent(a.Pf):"")+(null!=a.Ig?"\x26organic\x3d"+encodeURIComponent(String(a.Ig)):"")+(null!=a.ai?"\x26freeOnly\x3d"+encodeURIComponent(String(a.ai)):"")+(null!=a.aspectRatio?"\x26aspectRatio\x3d"+encodeURIComponent(String(a.aspectRatio)):
"");return sj(this.N,a).get(0).then(eL)};function jL(a,b){return P.any(a.r9.map(function(a){return a.search(b.query,b.from,b.limit)})).catch(function(){return this.ot(b)}.bind(a)).cancellable()}function kL(a,b){var c=Sb;qj(c.N,c.url+"/click",{events:kb(lL,"events",(new mL({events:[new nL({Qq:a.uM(),ba:a.u(),Jq:a.tM(),Id:0===oL(a),Ig:!!b})]})).events)}).return()};function pL(){this.searchId="";this.rank=0;this.id="";this.version=0;this.origin="CANVA";this.description=this.title=this.artist=this.brand=null;this.recolorable=this.repeating=this.cutout=this.background=!1;this.oneTimeUsePriceCents=this.keywords=this.superKeywords=null;this.oneTimeUseDiscountable=!1;this.spritesheetMetadata=this.componentMedia=this.extendedPriceCents=this.royaltyFreePriceCents=this.oneTimeUseAggregatePriceCents=null;this.files_=[];this.designType=void 0;this.type=null;this.status=
$E;this.user=null;this.cp=void 0}f=pL.prototype;f.uM=function(){return this.searchId};f.tM=function(){return this.rank};f.u=function(){return this.id};f.getVersion=function(){return this.version};f.Cf=function(){return this.origin};f.ja=function(){return this.brand};f.Oa=function(){return this.user};f.bV=function(){return this.artist};f.pb=function(){return this.title};f.Ge=function(){return this.description};f.Gb=function(){return this.background};f.Zd=function(){return this.cutout};f.FA=function(){return this.repeating};
f.oc=function(){return this.recolorable};function oL(a){return a.oneTimeUsePriceCents}f.Jv=function(){return this.oneTimeUseDiscountable};f.FF=function(){return this.oneTimeUseAggregatePriceCents};f.eM=function(){return this.componentMedia};f.JF=function(){return this.superKeywords};f.Pj=function(){return this.keywords};f.ic=function(){return this.files_};f.ps=function(){return this.spritesheetMetadata};function qL(a){return a.type}
f.Ic=function(a){return this.ic().filter(function(b){return b.R()===(a||0)}).reduce(function(a,c){a[c.IF()]=c;return a},{})};f.jc=function(){return rL(this).length};function rL(a){var b=[];a.ic().forEach(function(a){a=a.R();-1===b.indexOf(a)&&b.push(a)});return b}function sL(a){return"DESIGN"==qL(a)&&1<a.jc()}f.getFile=function(a,b){return(b=this.Ic(b))?b[a]:void 0};
f.nl=function(a){var b=this,c=this.getFile("ORIGINAL");c?b.cp?a&&a(JSON.parse(JSON.stringify(b.cp))):$.getJSON(c.na(),function(c){b.cp=c;a&&a(JSON.parse(JSON.stringify(b.cp)))}):a&&a(JSON.parse(JSON.stringify(b.cp)))};f.jn=function(){var a=this.getFile("THUMBNAIL_LARGE")||this.getFile(nD);return a?a.na():null};
function Jg(a){if(!a)return null;a=$.extend(new pL,a);if(a.files_){var b;b=(b=a.files_)?b.map(Rq):null;a.files_=b}Array.isArray(a.componentMedia)&&(a.componentMedia=a.componentMedia.map(La).map(Xm));a.spritesheetMetadata&&(a.spritesheetMetadata=Wr(La(a.spritesheetMetadata)));return a}function tL(a,b){a.id=b.u();a.version=b.Ka().getVersion();a.origin="CANVA"}function uL(){this.id="";this.totalHits=0;this.results=[]}uL.prototype.u=function(){return this.id};uL.prototype.Yz=function(){return this.results};
function eL(a){if(!a)return null;a=$.extend(new uL,a);a.results&&(a.results=a.results.map(Jg));return a};function vL(a,b){switch(b){case "DESC":return"DESC";case "ASC":return"ASC";default:throw new TypeError('expected SortDirection for property "'+a+'", found: '+JSON.stringify(b));}}
function th(a,b){switch(b){case "web_marketplace":return"WEB_MARKETPLACE";case "web_2_object_panel":return"WEB_2_OBJECT_PANEL";case "iphone_marketplace":return"IPHONE_MARKETPLACE";case "iphone_add_menu":return"IPHONE_ADD_MENU";case "ipad_marketplace":return"IPAD_MARKETPLACE";case "ipad_object_panel":return"IPAD_OBJECT_PANEL";case "android_home":return"ANDROID_HOME";case "android_editor":return"ANDROID_EDITOR";default:throw new TypeError('expected ClientFeature for property "'+a+'", found: '+JSON.stringify(b));
}}function wL(a){this.Yu=a.Yu;this.direction=a.direction}wL.prototype.getDirection=function(){return this.direction};function rh(a){return new wL({Yu:C("field",a),direction:Pa(vL,"direction",a)})}
function ph(a){this.Wh=a.Wh;this.query=a.query;this.Gn=a.Gn||[];this.un=a.un||new Map;this.Rm=a.Rm||new Map;this.filters=a.filters||[];this.elevation=a.elevation;this.XE=a.XE||[];this.qz=a.qz;this.sort=a.sort||[];this.$q=a.$q;this.limit=a.limit;this.fm=a.fm;this.locale=a.locale;this.Pf=a.Pf;this.Ig=a.Ig;this.ai=a.ai;this.aspectRatio=a.aspectRatio;this.GU=a.GU;this.US=a.US;this.aU=a.aU;this.category=a.category;this.lU=a.lU;this.yT=a.yT;this.set=a.set;this.wX=a.wX}ph.prototype.js=function(){return this.Gn};
ph.prototype.Yd=function(){return this.limit};ph.prototype.eg=function(){return this.locale};ph.prototype.bi=function(){return this.aspectRatio};function nL(a){this.Qq=a.Qq;this.ba=a.ba;this.Jq=a.Jq;this.Id=a.Id;this.Ig=a.Ig;this.Pf=a.Pf;this.source=a.source;this.Wh=a.Wh}nL.prototype.uM=function(){return this.Qq};nL.prototype.Ip=function(){return this.ba};nL.prototype.tM=function(){return this.Jq};
function lL(a){return{searchId:ib("searchId",a.Qq),mediaId:ib("mediaId",a.ba),rank:db("rank",a.Jq),free:hb("free",a.Id),organic:hb("organic",a.Ig),rootSearchId:I("rootSearchId",a.Pf),source:I("source",a.source),docId:I("docId",a.Wh)}}function mL(a){this.events=a.events||[]};function xL(a,b){this.cache=$.extend({},a,!0);this.ac=b;var c=this;Object.keys(this.cache).forEach(function(a){Object.keys(c.cache[a]).forEach(function(b){var g=+b;Object.keys(c.cache[a][+b]).forEach(function(b){c.cache[a][g][b]=Rq(c.cache[a][g][b])})})})}function Qg(a,b,c,d){a.cache[b]=a.cache[b]||{};a.cache[b][c]=a.cache[b][c]||{};for(var e in d)a.cache[b][c][e]=Rq(d[e])}xL.prototype.Ic=function(a,b){return yL(this,a,b)?this.cache[a][b]:null};
function yL(a,b,c){return!!a.cache[b]&&!!a.cache[b][c]}function aq(a,b){return!!b&&yL(a,b.id,b.version)}function zL(a,b,c,d){function e(a){a&&a.media&&a.media.forEach(function(a){Qg(g,a.u(),a.Ka().getVersion(),a.Ka().ic())})}var g=a;0===b.length?d():(b=yF(new xF,b),c?zF(b):b.Ko(),VE(a.ac,b).then(e).catch($.noop).finally(d))}function AL(a,b,c){zL(a,b,!0,c)}
xL.prototype.getKeys=function(){var a=this,b=[];Object.keys(a.cache).forEach(function(c){Object.keys(a.cache[c]).forEach(function(a){b.push({id:c,version:Number(a)})})});return b};var BL={1:"TOP-LEFT",2:"TOP-RIGHT",3:"BOTTOM-RIGHT",4:"BOTTOM-LEFT",5:"LEFT-TOP",6:"RIGHT-TOP",7:"RIGHT-BOTTOM",8:"LEFT-BOTTOM"};function CL(){}CL.prototype.getKey=function(){return this.key};function oK(a){return Df(CL,a)};function DL(a,b,c){this.fileName=a;this.BU=b;this.b3=c}DL.prototype.getFileName=function(){return this.fileName};function EL(){}EL=oz.extend();EL.prototype.initialize=function(a){this.jr=a.jr;this.sf=a.sf;oz.prototype.initialize.call(this,{title:"Upload error",content:$(FL(this).toString())})};
function FL(a){var b=a.jr.BU,c=a.jr.getFileName()||"";switch(b){case 0:return a.sf.Ga("uploadErrorUnsupportedBrowserHtml");case 3:return a.sf.Ga("uploadErrorWorkerHtml");case 1:return a.sf.Ga("uploadErrorUnsupportedFileTypeHtml",c);case 2:return a.sf.Ga("uploadErrorFileTooLargeHtml",c);case 4:return a.sf.Ga("uploadErrorFileProcessingHtml",c);case 5:return a.sf.Ga("uploadErrorUnsupportedSvgContentHtml",c);case 6:return b=a.jr.b3,b=b instanceof rF?b.Ka().rejectionReason:void 0,b?a.sf.Ga("uploadErrorMediaImportWithReasonHtml",
c,b):a.sf.Ga("uploadErrorMediaImportHtml",c)}throw new TypeError("Unhandled UploadErrorDetails.ErrorType: "+b);}EL.cw=null;EL.show=function(a,b){if(!EL.W$(a))return null;var c=new EL({jr:a,sf:b});c.on("hide",function(){EL.cw===c&&(EL.cw=null)});if(EL.cw)EL.cw.on("hide",function(){c.show()});else c.show();return EL.cw=c};EL.W$=function(a){if(EL.cw)switch(a.BU){case 1:case 2:case 4:case 5:case 6:return!1}return!0};function GL(a,b,c){this.Zf=!1;this.sb=b;this.media=null;this.Wn=0;this.Ix=Date.now();this.i$=!!c;this.sg=a;this.jr=null}f=GL.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.Mb=function(){return this.media};f.jn=function(){return this.sg};f.start=function(a){this.Zf||this.media||(this.media=a,this.trigger("start",this))};f.update=function(a){this.Zf||(this.Wn=100*Math.max(0,Math.min(a,1)),this.trigger("update",this))};
f.complete=function(){this.Zf||(this.Zf=!0,this.Wn=100,this.trigger("complete",this))};f.fail=function(a){this.Zf||(this.Zf=!0,this.media=null,this.jr=a,this.trigger("fail",this))};function HL(){this.yJ=!1;this.CL=this.Zf=0;this.id=void 0;this.OX=[];this.LQ=0}f=HL.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.Lo=function(a){this.id=a;return this};f.u=function(){return this.id};f.GF=function(){return this.OX};
f.create=function(a,b,c,d){function e(){k.trigger("start",l)}function g(){l.off("start",e);l.off("complete",g);l.off("fail",h);k.Zf++;k.yJ&&k.Zf+k.LQ===k.CL&&k.complete()}function h(){k.fail(l.jr);g()}var k=this,l=new GL(a,c,d);l.on("start",e);l.on("complete",g);l.on("fail",h);this.OX.push(l);this.trigger("create");return l};f.init=function(a){a()};f.sync=function(){this.trigger("sync")};function IL(a){a.yJ=!0;a.CL++}f.$q=function(){this.LQ++};
f.complete=function(){this.Zf=this.LQ=this.CL=0;this.yJ=!1;this.trigger("complete")};f.fail=function(a){this.trigger("fail",a)};function JL(){this.ew={}}_.extend(JL.prototype,Backbone.Events);JL.prototype.off=Backbone.Events.on;JL.prototype.on=Backbone.Events.on;JL.prototype.trigger=Backbone.Events.trigger;JL.prototype.GF=function(a){return 0<=Object.keys(this.ew).indexOf(a)?this.ew[a].GF():[]};
function KL(a,b){a=Object.keys(a.ew).map(a.GF,a).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return a.Ix>=b});if(a.every(function(a){return a.Zf}))return 100;var c=a.reduce(function(a,b){return a+(b.Zf&&!b.media?100:b.Wn)},0);return Math.min(100*c/(100*a.length),99)};function LL(a){this.source=a.source;this.WG=a.WG||null;this.listener=a.progress}function ML(a,b,c,d,e,g,h,k){var l=!1,m=a.listener.create(d,e,g,h);NL(b,c,d,g,function(a,b){l||(l=!0,m.start(a));m.update(b)},k).then(function(){m.complete();a.WG&&a.WG(m.Mb())},function(a){m.fail(new DL(b.name||"Unnamed File",6,a))})}
function OL(a){var b=a.naturalWidth,c=a.naturalHeight,d=b,e=c,g=200/Math.max(b,c);1>g&&(d=Math.round(g*b),e=Math.round(g*c));g=document.createElement("canvas");g.width=d;g.height=e;var h=g.getContext("2d");h.drawImage(a,0,0,b,c,0,0,d,e);a=g.toDataURL();for(var d=h.getImageData(0,0,d,e),e=d.data,b=e.length,c=new en,k=0;k<b;k+=4)gn(c,e[k],e[k+1],e[k+2]),e[k]=e[k+1]=e[k+2]=c.gv();h.putImageData(d,0,0);g=g.toDataURL();return{color:a,oV:g}}
function PL(a,b){QL(b).then(function(c){var d=OL(c);c={width:c.naturalWidth,height:c.naturalHeight};for(var e=window.atob(b.substr(22)),g=e.length,h=Math.ceil(g/1024),k=Array(h),l=0;l<h;++l){for(var m=1024*l,n=Math.min(m+1024,g),p=Array(n-m),q=0;m<n;++q,++m)p[q]=e[m].charCodeAt(0);k[l]=new Uint8Array(p)}e=new Blob(k,{type:"image/png"});e.name="generated_file_"+Date.now()+".png";e.type="image/png";e.constructor=File;ML(a,e,b,d.color,d.oV,c,!1)}).catch($.noop)}
LL.prototype.upload=function(a,b){var c=this;this.listener.init(function(){function d(a,b,c){var d=$("\x3cimg\x3e");d.one("load",function(){var b;b=d.get(0);var g=document.createElement("canvas"),h=b.naturalWidth,k=b.naturalHeight;-1<[BL[5],BL[6],BL[7],BL[8]].indexOf(c)?(g.width=k,g.height=h):(g.width=h,g.height=k);var l=g.getContext("2d");switch(c){case BL[2]:l.translate(h,0);l.scale(-1,1);break;case BL[3]:l.translate(h,k);l.rotate(Math.PI);break;case BL[4]:l.translate(0,k);l.scale(1,-1);break;case BL[5]:l.rotate(.5*
Math.PI);l.scale(1,-1);break;case BL[6]:l.rotate(.5*Math.PI);l.translate(0,-k);break;case BL[7]:l.rotate(.5*Math.PI);l.translate(h,-k);l.scale(-1,1);break;case BL[8]:l.rotate(-.5*Math.PI),l.translate(-h,0)}l.drawImage(b,0,0,h,k);b=g.toDataURL("image/jpeg",.92);e(a,b)});d.attr("src",b)}function e(a,b){var c=b.slice(b.indexOf(",")+1),d=g(c);d.name=a;d.type="image/jpeg";var e=$("\x3cimg\x3e");e.attr("src",b);e.one("load",function(){k(d,e.get(0),b)})}function g(a){a=window.atob(a);for(var b=a.length,
c=Math.ceil(b/1024),d=Array(c),e=0;e<c;++e){for(var g=1024*e,h=Math.min(g+1024,b),k=Array(h-g),l=0;g<h;++l,++g)k[l]=a[g].charCodeAt(0);d[e]=new Uint8Array(k)}return new Blob(d,{type:"image/jpeg"})}function h(a,b){var d=m[a];RL(d).then(function(a){k(d,a,b)}).catch(function(){c.listener.fail(new DL(a,4));c.listener.$q();l()})}function k(a,d,e){var g=OL(d);ML(c,a,e,g.color,g.oV,{width:d.naturalWidth,height:d.naturalHeight},!1,b);window.setTimeout(l,600)}function l(){u++;u<q?p.postMessage({next:!0}):
c.listener.sync()}if(window.URL){for(var m={},n=[],p=new Worker(O.C0.upload),q=0,u=0,v=0;v<a.length;v++){var z=a[v],t=z.name,x=z.type,H=z.size;IL(c.listener);var E;a:{switch(x){case "image/jpeg":case "image/png":case "image/raw":case "image/svg+xml":case "image/x-fuji-raf":E=!0;break a}E=!1}if(E)if(26214400<H)c.listener.fail(new DL(t,2)),c.listener.$q();else{if("image/jpeg"===x||"image/png"===x)m[t]=z;n.push(z);q++}else c.listener.fail(new DL(t,1)),c.listener.$q()}c.listener.sync();if(0===q)c.listener.complete();
else{p.onmessage=function(a){var g=JSON.parse(a.data);if("error"===g.status)c.listener.fail(new DL(g.fileName,4)),c.listener.$q(),l();else if("exifRotated"===g.specialFile)d(g.fileName,g.imageData,g.orientation);else if("raw"===g.specialFile)e(g.fileName,g.imageData);else if(g.svgText)if(a=g.fileName,g=g.svgText,CB(g)){a=(new yB(g)).L_(a);a.source=NB(a.source);a.source=KB(a.source);a.source=MB(a.source);a.viewBox=LB(a.source);a.source=a.source.replace(/xmlns:xml=['"]http:\/\/www.w3.org\/XML\/1998\/namespace["']/g,
"");g=new Blob([a.source],{type:"image/svg+xml"});g.name=a.filename;g.constructor=File;var k="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(a.source)));ML(c,g,k,k,k,{width:a.viewBox[2],height:a.viewBox[3]},!0,b);window.setTimeout(l,600)}else c.listener.fail(new DL(a,5)),c.listener.$q(),l();else h(g.fileName,g.imageData)};try{p.postMessage(n)}catch(L){c.listener.fail(new DL(null,3));c.listener.complete();return}U&&U.track("image_upload",{source:c.source,quantity:q})}}else c.listener.fail(new DL(null,
0)),c.listener.complete()})};function RL(a){return new P(function(b,c){if(SL){var d=window.URL.createObjectURL(a);QL(d).then(b,c).finally(function(){window.URL.revokeObjectURL(d)})}else{var e=new FileReader;e.onload=function(){QL(e.result).then(b,c)};e.onerror=c;e.readAsDataURL(a)}})}function QL(a){return new P(function(b,c){var d=new Image;d.onload=function(){b(d)};d.onerror=c;d.src=a})}var SL="IE"!==(new UAParser).getResult().browser.name;function TL(a){w(0<a);this.s4=a;this.queue=[];this.RM=0}TL.prototype.VP=function(a){var b=this;return(new P(function(a){b.queue.push(a);UL(b)})).cancellable().then(a).finally(function(){b.RM--;UL(b)})};function UL(a){if(!(a.RM>=a.s4)){var b=a.queue.shift();b&&(a.RM++,b())}};function VL(a,b,c,d,e,g,h,k){this.N=a;this.media=b;this.mc=c;this.df=d;this.Wx=e;this.d3=g;this.Ox={};this.QC=[];this.Hs=h;this.Sh=k;this.o_=[];this.HN=_.throttle(this.HN.bind(this),30,{leading:!1})}VL.prototype.Ic=function(a,b){return null==a||null==b?null:this.df.Ic(a,b)||this.Ox[a]||null};
function oD(a,b,c){var d=Hb,e=d.Ic(a,b),g;return e&&(g=e[c])?g.watermarked?(new P(function(c){d.o_.push({t4:new Wm({id:a,version:b}),resolve:c});d.HN()})).then(function(){var e=d.Ic(a,b);if(!e||!(g=e[c]))throw Error();return g}):P.resolve(g):P.reject()}VL.prototype.HN=function(){var a=this.o_.splice(0),b=a.map(function(a){return a.t4});AL(this.df,b,function(){return a.forEach(function(a){return a.resolve()})})};
function WL(a,b){var c={};return b.filter(function(a){if(!a)return!1;var b=a.u();a=a.getVersion();if(this.Ic(b,a))return!1;b=b+":"+a;return c[b]?!1:c[b]=!0},a)}function Og(a,b){var c=b.u();a.Ox[c]||(b=b.Ic(),a.Ox[c]={SCREEN:Rq(b[Lg]),THUMBNAIL:Rq(b[nD])})}
function Cg(a,b,c){var d=b.Cf();if(d!==Kg&&"GOOGLE"!==d)throw Error('Cannot upload media with origin "'+d+'"');var e,g=b.u(),h=XL(b,a.mc),d=(new uF).Rt(h.filename).St(!0);a.QC.push(g);SE(a.media,d).then(function(b){var c=b.Ka();a.Ox[b.u()]=c&&c.ic();e=b;a:switch(h.origin){case Kg:case "GOOGLE":b=new YL(h.id,h.mc,b,h.IH);break a;default:throw Error(h.origin+" is unsupported");}return a.Wx.upload(b)}).then(function(){var b=(new wD).Fk(e.Ka().getVersion()).by(!0);return a.media.G_(e.u(),b)}).then(function(c){var d=
b.getVersion();tL(b,c);Qg(a.df,c.u(),c.Ka().getVersion(),c.Ka().ic());var d={mediaId:g,mediaVersion:d},e={mediaId:c.u(),mediaVersion:c.Ka().getVersion()};ZL(d,e);Zp(K).forEach(function(a){var b=a.Nb();b&&b.id===g&&a.Yl(c.u(),c.Ka().getVersion())});$L();return c}).catch(function(b){c.YC(a.df);$L();return Promise.reject(b)}).finally(a.HZ.bind(a,g))}
function NL(a,b,c,d,e,g){var h=Hb;function k(a){var e={};e[nD]=new mF({url:c,width:d.width,height:d.height});e[Lg]=new mF({url:b,width:d.width,height:d.height});q.Ox[a.u()]=e;return a}function l(a){var b=(new wD).Fk(a.Ka().getVersion()).by(!0);return q.media.G_(a.u(),b)}function m(a){Qg(q.df,a.u(),a.Ka().getVersion(),a.Ka().ic());$L();return P.resolve(a)}function n(a){return Promise.reject(a)}function p(b){b=new aM({file:a,qF:g,id:_.uniqueId("file_"),media:b,mc:q.mc,Hs:q.Hs,Sh:q.Sh});b.pP.push(e);
return q.Wx.upload(b)}var q=h,u=a.name.replace(/\$/g,"_"),v=_.uniqueId("file_"),z=vF((new uF).Rt(u).St(!0).O_(!1),a.size);h.QC.push(v);return h.d3.VP(function(){return SE(q.media,z).then(k).then(p).then(l).then(m).catch(n).finally(q.HZ.bind(q,v))})}VL.prototype.HZ=function(a){a=this.QC.indexOf(a);-1!=a&&this.QC.splice(a,1)};function $L(){K.trigger("change")}
function bM(a){function b(a){var g=a.mediaId,h=a.mediaVersion;void 0!==g&&void 0!==h&&null!==g&&null!==h&&(yL(d.df,g,h)?0:g in d.Ox)&&(delete a.mediaId,delete a.mediaVersion);Object.keys(a).forEach(function(d){d=a[d];d instanceof Array?d.filter(c).forEach(function(a){b(a)}):c(d)&&b(d)})}function c(a){return a instanceof Object}var d=Hb;b(a)};function cM(a){this.id=a.id;this.origin=a.origin;this.IH=a.IH;this.er=a.er;this.filename=a.filename;this.mc=a.mc}
function XL(a,b){var c=a.Cf();switch(c){case Kg:var c=a.getFile(Lg).na(),d=a.getFile(nD).na(),e=c.match(/.*(\.\w+)/)[1],e=a.u()+e;return new cM({id:a.u(),origin:a.Cf(),IH:c,er:d,filename:e,mc:b});case "GOOGLE":return c=a.getFile(Lg).na(),d=a.getFile(nD).na(),e=a.pb(),new cM({id:a.u(),origin:a.Cf(),IH:c,er:d,filename:e,mc:b});default:throw Error('Cannot create temporary media for origin "'+c+'"');}};function iM(){this.queue=[];this.QB={};this.xR={};this.xK=null}iM.prototype.upload=function(a){function b(){var b=new P(function(b,d){b={request:a,resolve:b,reject:d};c.queue.push(b);d=a.u();var e=c.QB[d];e||(e=[]);e.push(b);c.QB[d]=e});jM(c);return b}var c=this,d=this.xR[a.u()];return d?P.resolve(d):P.resolve().then(b)};function jM(a){if(!a.xK&&0<a.queue.length){var b=a.queue.shift();a.xK=b;kM(a,b)}}
function kM(a,b){var c=b.request.u();lM(b.request).then(function(b){a.xR[c]=b}).then(function(){var b=a.QB[c],e=a.xR[c];if(!e)throw Error("Could not find media reference for uploaded item");b&&b.forEach(function(a){a.resolve(e)})}).catch(function(){var b=a.QB[c];b&&b.forEach(function(a){a.reject()})}).finally(function(){delete a.QB[c]}).finally(a.N4.bind(a))}
function lM(a){return new P(function(b,c){function d(h){7>e&&h===mM?(e++,g*=1.6,P.delay(g).then(a.send.bind(a)).then(b).catch(d)):c(h)}var e=0,g=500;a.send().then(b).catch(d)})}iM.prototype.N4=function(){this.xK=null;jM(this)};function nM(a,b){this.id=a;this.media=b;this.pP=[]}var mM=Error("Canva is too busy to process your upload at this time. Please try again later.");nM.prototype.u=function(){return this.id};nM.prototype.send=function(){return P.reject("Not implemented")};nM.prototype.sX=function(a){if(a.lengthComputable){a=a.loaded/a.total;for(var b=0;b<this.pP.length;b++)this.pP[b](this.media,a)}};function oM(a){a=function(a){var c=/^([^?]+)\?/.exec(a);return c?c[1]:a}(a);return _.find(pM,function(b,c){return a.slice(-c.length)===c})}var pM={".gif":"image/gif",".jpg":"image/jpeg",".jpeg":"image/jpeg",".png":"image/png",".ttf":"application/x-font-truetype",".otf":"application/x-font-otf",".woff":"application/font-woff"};function aM(a){nM.call(this,a.id,a.media);this.file=a.file;this.qF=a.qF;this.mc=a.mc;this.N7=void 0;this.Sh=a.Sh;this.KM=a.Hs.KM("canva.editor.uploadrate")}aM.prototype=Object.create(nM.prototype);aM.prototype.constructor=aM;
aM.prototype.send=P.method(function(){var a=this,b=a.file.type||oM(a.file.name),c=this.Sh.now();return nK(this.mc,this.media.u(),this.media.Ka().getVersion(),b).then(function(c){var e=c.formFields||{};if(0<Object.keys(e).length)return c={file:a.file,url:c.postUrl,VL:e,progress:a.sX.bind(a)},qM(c);c={G0:c.awsAccessKeyId,file:a.file,x4:b,key:c.getKey(),h8:c.policy,progress:a.sX.bind(a),R9:c.signature,url:c.postUrl};return qM({file:c.file,url:c.url,VL:{key:c.key,AWSAccessKeyId:c.G0,policy:c.h8,signature:c.R9,
"Content-Type":c.x4||c.file.type},progress:c.progress,FV:c.FV})}).tap(function(){a.KM.update(a.file.size/(a.Sh.now()-c))}).then(function(c){c=(new AK).M_(c);c.mimeType=b;c.isPaid=!0===a.N7;a.qF&&(c.folderKey=a.qF);return pK(a.mc,a.media.u(),a.media.Ka().getVersion(),c)}).catch(this.X8.bind(this))});
aM.prototype.X8=function(){throw Error("Unfortunately your upload failed :(\n\nPlease ensure that:\n   - the size of the image is under 25MB;\n   - the image is a .png, .jpg or .svg file;\n   - the image uses an RGB color model (i.e. not CMYK); and,\n   - you have a stable internet connection.\n\nIf you feel that you have met the above criteria and the image is still failing to upload, please let the team know by emailing support@canva.com");};function YL(a,b,c,d){nM.call(this,a,c);this.mc=b;this.url=d}YL.prototype=Object.create(nM.prototype);YL.prototype.constructor=YL;YL.prototype.send=P.method(function(){var a=this;return mK(this.mc,this.media.u(),this.media.Ka().getVersion(),this.url).then(function(){return a.media}).catch(function(a){throw 429===a[1]?mM:Error();})});function Vz(a){function b(a,b,c){c||b.forEach(function(a){a.u&&a.getVersion&&a.ic&&("CANVA"==a.Cf()?Qg(yb,a.u(),a.getVersion(),a.Ic()):Og(Hb,a))})}function c(){rM="FREE"===z.Bb.aC;sM(l)}var d=$("#objectPanel"),e=new jh(window.viewConfig),g=Yx(),h=by(g),k=ay(g).ja(),l=a.i,m=im(),n=a.Xb,p=new Hj(Ib),q=new fL(Ib);$J(Kb,function(){var a=(ay(g).Dp()||new tx({})).KC;return a&&a[0]?a[0].LC||[]:[]}(),function(){var a=new tM({model:K,Qi:ay(g).Dp(),i:l});$("#resultsText \x3e .layer \x3e .inner").prepend(a.el)});
var u=null,v=oh(e);null!=v&&(u=uM(v));new vM({Qb:k.Cp(),wK:h.u(),nK:function(b){return new wM({J:lc(l),Gu:b,Tc:a.Tc,sx:!Jb.ez()})},gE:function(a,b){var c,d;-1<h.sv().indexOf("FUSION")?(c=bv(window.cdocType).u(),d=!1):(c=void 0,d=!0);return new xM({el:a,t2:new yM({Sa:Ab,gc:p,ma:h.u(),ua:k.u(),bv:b,Vr:d,HE:c}),BA:!!b,i:l})},mK:function(a){return new zM({el:a,i:l,jE:function(){return new AM(null!=u?new BM({cQ:q,od:u}):new BM({cQ:q,uc:K.kb(),query:e.vg.get("layoutQuery",null)}))}})},iK:function(a){return new CM({el:a,
i:l})},Sa:Ab,gc:p,el:"#resultsLayout",q4:e.vg.get("magicTemplates",[]).map(DM),model:K,kca:Jb.G.get(Nf),lca:Jb.ez(),i:l,EQ:!!ay(g).getSubscription(),GQ:-1===["DESIGN_TUTORIAL","FREE_NEW_USER"].indexOf(e.uh())});v=$(".searchAdvanced");if(1===v.length){var z=EM({Vl:Ed(l),KL:c,anchor:$("#search"),G:a.G,j:m,WD:function(){if(Jb.G.get(ug)){var a=Mb;a.j.va(mm());Fo(a,Lo)}else a=Mb,a.j.va(mm()),Fo(a,FM)}});v.append(z.view.$el);rM="FREE"===z.Bb.aC}var t=new GM({el:"#resultsSearch",i:l});t.on("results:didFetch",
b);t.on("searchFilterMediaType",function(){HM=t.js();sM(l)});HM=t.js();v=new IM({el:"#resultsElements",i:l,L9:Jb.G.get(hg)});v.on("results:didFetch",b);v.on("folder:expand",function(a){m.track("folder_opened",{section:"editor",subsection:"object_panel",location:"elements_tab",type:a.replace(/\s/g,"_").toLowerCase()})});var v=new NI(Ib),x=new JL,H=new wg({Eb:K,Ed:vb,df:yb,ac:Db,gc:p,sI:Hb,Wy:function(a,b){var c=lc(l);a=a.u();var d;0<=Object.keys(x.ew).indexOf(a)?a=x.ew[a]:(d=(new HL).Lo(a),d.on("create",
x.trigger.bind(x,"create")),d.on("fail",x.trigger.bind(x,"fail")),a=x.ew[a]=d);return new LL({source:b,J:c,progress:a})}}),E;a:{try{E=ay(g).Dp().Cp().Eg;break a}catch(L){}E=void 0}E=new JM({Qb:E,Qa:H,uz:Jb.G.get(Rf),dl:Jb.G.get(Pf),N2:new KM($(window)),fl:vg,W:Jb,gc:p,Ii:v,ac:Db,i:l,Z:Eb,Wf:x,ma:h.u(),H:hl,Tc:a.Tc});E.render().getElement().replaceAll("#normalUploads");E.show();(new LM({root:$("#objectPanel menu .uploads"),Wf:x,sf:md(l)})).start();MM(ay(g).Dp(),tc(l),m);NM(l);eA();d.children("menu").find("a").on("click",
function(){OM.call(this,l)});(new fp("#objectPanel")).on("mousedown",".templateGallery a",PM).on("touchstart",".templateGallery a",PM);d.on("click",".backgroundGallery a",QM);(new fp("#objectPanel")).on("mousedown",".backgroundGallery *:not(.static) a",RM).on("touchstart",".backgroundGallery *:not(.static) a",RM);d.on("click",".backgroundGallery a",!1);d.on("click",".infoPanelGallery .info .moreInfo",function(){SM.call(this,l)});d.on("click",".infoPanelGallery .info .superKeyword",TM);(new fp("#objectPanel")).on("mousedown",
".photoGallery:not(.gridGallery):not(.albumGallery) a",UM).on("touchstart",".photoGallery:not(.gridGallery):not(.albumGallery) a",UM);d.on("click",".photoGallery:not(.gridGallery):not(.albumGallery) a",!1);(new fp("#objectPanel")).on("mousedown",".gridGallery a",VM).on("touchstart",".gridGallery a",VM);(new fp("#objectPanel")).on("mousedown",".chartGallery .chart a",WM).on("touchstart",".chartGallery .chart a",WM).on("mousedown",".chartGallery :not(.chart) a",UM).on("touchstart",".chartGallery :not(.chart) a",
UM);vg&&vg.init().then(function(a){II(a).catch(function(){})});$(".results.infinite:not(#resultsSearch):not(#resultsUpload):not(#resultsLayout):not(#resultsElements) \x3e .layer").on("scroll",XM);$("#search").on("focus",YM);$("#someoneElseEditing").find("a").on("click",ZM);$("#inReview").find("a").on("click",$M);$("#touchDevice").find("a").on("click",aN);d.find(".scrollPane").each(function(){(new Un($(this))).render()});bN(d,a.sp,l);cN(n,dN,function(){var a=Ud(lc(l)),a=d.find('[title\x3d"'+a+'"]'),
b=d.find(".uploads");return b.is(".on")&&1===a.length?(a=a.get(0).getBoundingClientRect(),{x:Number(a.right)+20,y:Number(a.top)+15}):1===b.length?(a=b.get(0).getBoundingClientRect(),{x:Number(a.right)+20,y:Number(a.top)+Number(a.height)/2}):null})}
function bN(a,b,c){function d(b){var d=b.param;"folder"===b.action?e(d):"search"===b.action?g(d):"tab"===b.action&&((b=a.find("menu ."+d+" a").get(0))?OM.call(b,c):h())}function e(b){var d=$("#resultsElements").find('a[data-query\x3d"'+b+'"]');b=a.find("menu .elements a").get(0);0<d.length?(OM.call(b,c),window.setTimeout(function(){d.trigger("mousedown")},O.Ca.ik)):h()}function g(b){window.setTimeout(function(){a.find("#search").val(b);sM(c)},O.Ca.ik)}function h(){var a=$("#objectPanel").find("menu .on a").get(0);
OM.call(a,c)}b?d(b):h()}
function MM(a,b,c){function d(){var a=e();if(a&&!a.equals(p.Np())||null===a&&null!==p.Np())p.off("preview",m.Aw),p.off("confirm",m.confirm),p.kC(a),p.confirm(),p.on("preview",m.Aw),p.on("confirm",m.confirm),m.reset()}function e(){if(VC(n)){var a=Tp(n);if(0<a.length)return a[a.length-1].jh()}return null}function g(){Wn(p);p.confirm()}function h(a){0===$(a.target).closest(".colorPicker, .colorPalette").length&&g()}var k=$("#resultsBackground"),l=k.find(".colorControls"),m=eN(),n=K.Da();a=a&&a.Ly||[];
var p=new On({My:new nz({sy:function(a){a.appendTo("#objectPanel")},bA:function(){return $(document.body)},margin:O.bS,zC:mz}),zl:b,Wi:rc(Lb),Ll:K,qu:a,YB:!1,Pb:e(),j:c,W:Jb,window:window});p.on("preview",m.Aw);p.on("confirm",m.confirm);p.on("showColorPicker",function(){document.addEventListener("mousedown",h,!0);k.find(".layer").on("scroll",g)});p.on("hideColorPicker",function(){document.removeEventListener("mousedown",h,!0);k.find(".layer").off("scroll",g)});p.listenTo(K,"page:change:selected",
function(){g();p.stopListening(n);n=K.Da();d();p.listenTo(n,"change:background",d)});p.listenTo(n,"change:background",d);p.listenTo(M,"beforeOperationStackPop",g);p.appendTo(l)}function YM(){var a=this;"resultsSearch"!==fN().attr("id")&&$("#objectPanel").find("menu .search a").trigger("click");window.setTimeout(function(){a.select()},O.Ec)}
function OM(a){function b(a,b,c,d,e,g){var h=$(a);a=h.find("\x3e .layer \x3e .inner \x3e .searchGroup").first();a.parent(".layer").find(".searchError").remove();gN(a);a.height(h.height());hN=new iN(c,b,d,null,null,null,null,jN(h,h.height()),null,!1,!1,function(){kN(e)},!1,null);g&&(b=new iN(c,g,d,null,null,null,null,jN(h,h.height()),null,!1,!1,function(){kN(e)},!1,null),b.hY=hN,hN.OH=b);a.data("search",hN);kN(e)}T.trigger("objectPanel:tabClicked");var c=$(this).parents("menu"),d=$("li",c),e=$(this).parents("li"),
g=d.index(c.find("li.on"))+1,h=e.index()+1,k=$("#objectPanel"),l="#"+k.find(".content \x3e .results").get(g-1).id,c="#"+k.find(".content \x3e .results").get(h-1).id,m=k.get(0).className,m=m.replace(/(^| )stage[^ ]+/g,"");k.get(0).className=m;k.addClass("stage"+h);d.removeClass("on");U&&e.get(0)&&Nl(U,e.get(0).className,"object_panel");e.addClass("on");d=fN();e.hasClass("search")&&$("#search").focus();g==h&&d.find(".layer").first().animate({scrollTop:0},O.Ca.Pq);e=$(l+" .layer");lN(e);mN&&mN.cancel();
mN=null;g=$(c);e=0===g.find(".gallery li:not(.static)").length;g=0<g.find(".searchLoader").length;e&&!g&&("#resultsLayout"==c?(c=$("#resultsLayout"),a=c.data("view"),c=jN(c,c.height()),a.Yh(c)):"#resultsText"==c?b(c,iL,"text",null,a,hL):"#resultsBackground"==c&&b(c,hL,"backgrounds",{background:"true"},a));(a=d.find(".layer").last().find(".searchGroup").last().data("search"))&&hN&&"facebook"!=hN.query.toLowerCase().trim()&&(hN=a);return!1}
function PM(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;var c=Math.abs(a-m)>O.Fc,c=Math.abs(b-l)>O.Fc||c;null==k&&c&&(k=g.Vy(),$("#content").append(k),e.css("opacity",0),$("#search").blur(),nN(k,oN(n)));null!=k&&(a=h.top+a-m,k.css("left",h.left+b-l).css("top",a));return!1}function c(){function a(){$(this).remove();e.css("opacity","")}$("#hotspots").remove();n.off("mousemove|touchmove",b).off("mouseup|touchend",
c);e.removeClass("pickedUp");null==k||k.hasClass("disappeared")||k.hasClass("placing")?(k&&k.remove(),e.animate({opacity:1},O.Ca.kL),d()):(h=e.offset(),k.addClass("returning"),k.one("transitionend",a).css("left",h.left).css("top",h.top))}function d(){var b=null!=k;if(!$(a.currentTarget).find(".multiPageDesignItem,.multiPageLayoutItem").length||b){var c;switch($(".layoutsControls .tabDropdown").attr("data-selected")){case pN:c=g.model instanceof RI?"canva_layout_grid":"canva_layout";break;case qN:c=
"brand_template";break;case rN:c="your_designs";break;default:c="design_folder"}var d=$(a.target).is(".componentItemLink"),e="function"===typeof g.model.FF&&0<g.model.FF();U&&U.track("layout_use",{media_id:g.model.u(),layout_source:c,component_page:d,interaction:b?"drag":"click",is_paid_layout:e?"yes":"no"});if(b=e&&Jb)b=Jb.G.get(tg);b&&(window.location.hash="#premiumLayoutHint",window.Appcues&&window.Appcues.page())}}if($(a.target).hasClass("moreInfo")||$(a.target).hasClass("superKeyword")||a.which==
O.Kh||a.ctrlKey)return!0;Iz();var e=$(this);e.addClass("pickedUp");var g=e.parents("li").data("view"),h=e.offset(),k=null,l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n=new fp($(document));n.on("mousemove|touchmove",b).on("mouseup|touchend",c);return!1}
function eN(){function a(){b&&(DK(),b=!1);d=c=null}var b=!1,c,d,e;return{Aw:function(a){hh();var h=K.Da(),k=Tp(h);e={index:0,color:a.qa()};b||(CK(),b=!0);c=k.filter(function(a){return a.fq()}).pop();k.forEach(function(a){a!==c&&(sN(a),a.remove())});c?(d||(h=c.bb()[0],d={index:0,color:h?h.qa():O.$I}),c.ge(0,a)):(a={type:"image",isBackground:!0,isRecolorable:!0,backgroundColor:e.color},_.extend(a,h.pa().serialize()),a=yg(a),a.appendTo(h),d=e,Ag(a),c=a)},confirm:function(){if(c&&c.R()){var b={elementIndex:c.K(),
pageIndex:c.R().K(),"new":e,old:d};M.register(new Y(tN,b));d=e}a()},reset:a}}function QM(a){if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;hh();a=$(a.currentTarget).parents("li")[0];a=$(a);uN(a);a=a.data("result");kL(a,!1);Wl("background_image",a.u(),null);return!1}
function RM(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==m&&(Math.abs(b-n)>=O.Fc||Math.abs(a-p)>O.Fc)){m=$('\x3cdiv class\x3d"clone bg"\x3e\x3c/div\x3e');g.FA()&&m.addClass("patterned");var c=$("img",d).clone(!0).off(""),t=parseInt(c.attr("width"),10),x=parseInt(c.attr("height"),10);t<x?c.css("width",k).css("height",c.height()):c.css("width",c.width()).css("height",k);m.data("li",e).append(c).css("left",
h.left).css("top",h.top).css("width",k).css("height",l).css("background-color",e.data("color"));$("#content").append(m);d.css("opacity",0);$("#search").blur();nN(m,oN(q))}null!=m&&(a=h.top+a-p,m.css("left",h.left+b-n).css("top",a));return!1}function c(){function a(){$(this).remove();d.css("opacity",1)}$("#hotspots").remove();q.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("pickedUp");null==m||m.hasClass("disappeared")||m.hasClass("placing")?(m&&m.remove(),d.animate({opacity:1},
O.Ca.kL)):(h=d.offset(),m.addClass("returning"),m.one("transitionend",a).css("left",h.left).css("top",h.top))}if(a.which==O.Kh||a.ctrlKey)return!0;if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var d=$(this);d.addClass("pickedUp");var e=d.parents("li"),g=e.data("result"),h=d.offset(),k=d.width(),l=d.height(),m=null,n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q=new fp($(document));q.on("mousemove|touchmove",
b).on("mouseup|touchend",c);return!1}
function uN(a){var b=K.Da(),c=gh(vb),d=Tp(b);if(0<d.length){var e=d[d.length-1].C().clone();e.removeClass("appearing");vN(c,e);P.delay(O.Ca.S2*O.hy).then(function(){e.remove()})}a=$("img",a);(a=yg(wN(a)))&&a.KJ()&&(CK(),d.forEach(function(a){var c=a.K(),c={backgroundColor:a.jh(),elementIndex:c,oldElementIndex:c,pageIndex:cp(K,b)};vD(a);M.register(new Y(xN,c));sN(a);a.remove()}),d=b.pa(),c=a.pa(),Dm(c,d),a.pd(c),b.addElement(a,!1,!0),Ag(a),d=a.K(),Up(a),d={backgroundColor:a.jh(),elementIndex:a.K(),
oldElementIndex:d,pageIndex:cp(K,b)},M.register(new Y(yN,d)),DK())}
function eA(a,b){function c(a){var b,c,d=a.width(),l=parseFloat(a.find("a").css("margin-right"));b=a.data("layoutItem");c=a.data("designItem");var m=a.data("searchResult");if(b)c=b.getContent(),b=c.width,c=c.height;else{if(c)c=Mq(c.draft.imageSets.thumbnail);else if(c=m.getFile("ORIGINAL"),!c)return d;b=c.l();c=c.o()}return 80>(d-l)*c/b?Number(a.parent().width()):d}void 0===b&&(b=!0);void 0===a&&(a=$("#objectPanel .photoGallery, #objectPanel .infoPanelGallery"));var d=a.filter(".gridGallery");a=a.not(d);
zN(d);a.each(function(){var a=$(this),d=a.children("li"),h=a.hasClass("backgroundGallery");if(!(0>=d.length||(a.removeClass("laidOut"),0>=a.width()))){b||d.filter(":not(.newSearch)").addClass("doNotTransition");$("img",a).css("height","");d.css("width","").css("left","").css("top","");var k;k=a.hasClass("templateGallery")?c(d.first()):d.first().width();for(var l=parseInt($("a",this).css("margin-right"),10),m=parseInt($("a",this).css("margin-bottom"),10),n=Math.round(a.width()/k),p=a.data("columnData"),
q={W1:k,marginRight:l,marginBottom:m,ra:[]},u=p&&p.ra.length==n&&p.W1==k,v=0;v<n;v++)q.ra[v]={height:0,items:[],Ef:0},u&&(q.ra[v].Ef=p.ra[v].Ef);var z=null;a.children("li").find("a.infoOpen").parents("li").first().each(function(){var a=$("img",this),b=a.attr("width")||a.get(0).naturalWidth,a=a.attr("height")||a.get(0).naturalHeight;z=$(this).data("originalTop")+(k-l)/b*a+m});null!=z&&u||d.removeData("modifiedTop");d.each(function(){for(var b=$(this),c=b.data("result"),d=0,g=q.ra[d].height,n=0;n<q.ra.length;n++)if(0==
q.ra[n].height){d=n;g=0;break}else q.ra[n].height<g&&(d=n,g=q.ra[n].height);var n=b.find("a"),p=b.find("img"),t,v;0<p.length?(t=parseInt(p.attr("width"),10)||p.get(0).naturalWidth,v=parseInt(p.attr("height"),10)||p.get(0).naturalHeight):v=t=k;var x=t>v,H=k-l,pa=H/t*v;p.css("height",pa);b.hasClass("grid")&&(pa=b.data("layoutItem").getContent(),pa=(k-l)*pa.height/pa.width,b.find("a").css("height",pa));b.data("originalTop",g).css("width",k).css("left",d*k);h&&(x&&(H=t/v*(k-m),p.css("width",H).css("height",
"")),"backgroundColorAlbum"===b.attr("id")?b.add(n).add(p).css("width","").css("height",""):(b.height(k),n.height(k-m),c&&!c.FA()&&(pa=x?0:(k-m-pa)/2,p.css("margin-left",(k-l-H)/2).css("margin-top",pa))),c&&(c.oc()&&(pa="#"+(O.t0[c.u()]||"888888"),b.data("color",pa),n.css("background-color",pa)),c.FA()&&b.addClass("patterned")),pa=k-m);c=d;b.hasClass("newSearch")?(d=0,null!=z&&g+pa+m>z&&(d=q.ra[c].Ef,0==d&&(d=AN(a.parents(".searchGroup")),d+=z-q.ra[c].height,q.ra[c].Ef=d),b.data("modifiedTop",g+d)),
b.css("top",g+d)):b.data("modifiedTop")?(c=b.data("columnIndex"),g=b.data("modifiedTop"),b.css("left",c*k).css("top",g).data("originalTop",g-q.ra[c].Ef)):u?(c=b.data("columnIndex"),b.css("left",c*k).css("top",q.ra[c].height).data("originalTop",q.ra[c].height)):b.css("top",g);q.ra[c].height+=pa+m;q.ra[c].items.push(b);b.data("columnIndex",c)});a.data("columnData",q);a.parents(".searchGroup").height();a.addClass("laidOut");b||window.setTimeout(function(){d.filter(":not(.newSearch)").removeClass("doNotTransition")},
O.Ca.YA);var t=a.parent(".searchGroup"),n=a.parents(".layer").find("\x3e .inner \x3e .searchGroup").last().get(0)==t.get(0);fA(t,!n);var x=t.height(),H=a.hasClass("templateGallery")?4:1;setTimeout(function(){var b=BN(a.parents(".results")),c=0<a.parents("#resultsSearch").length,d=c?CN(t):0,g=-1;a.children("li.newSearch").each(function(){var a=$(this),e=!1;(e=c?d+a.data("originalTop")<b:parseInt(a.css("top"),10)<x)?window.setTimeout(function(){a.removeClass("newSearch")},++g*O.Ca.iw*H):a.addClass("doNotTransition").removeClass("newSearch").removeClass("doNotTransition")})},
O.Ec)}})}
function zN(a){void 0===a&&(a=$("#objectPanel").find(".gridGallery"));var b=$("a",a).width();$("li, a",a).css("height",b);a.addClass("laidOut");a.each(function(){var a=$(this),b=a.children("li"),a=a.parents(".searchGroup"),e=a.parents(".layer"),g=e.offset(),h=e.height();b.each(function(){var a=$(this),b=a.position().top+(a.hasClass("newSearch")?50:0);a.data("originalTop",b)});fA(a,!1);setTimeout(function(){b.each(function(a){var b=$(this);b.offset().top<g.top+h?setTimeout(function(){b.removeClass("newSearch")},a*
O.Ca.iw):b.removeClass("newSearch")})},O.Ec)})}function DN(a,b){var c=a.parents("li"),c=c.data("result");c||(c=a.parent().data("li"),c=c.data("result"));c.nl(function(a){EN(a).then(function(){b(a.elements)})})}
function wN(a){var b=a.parents("li"),c=b.data("result");c||(b=a.parent().data("li"),c=b.data("result"));var d=0<b.parents("#resultsBackground").length,e=parseInt(a.data("screen-width")||a.attr("width"),10),g=parseInt(a.data("screen-height")||a.attr("height"),10),h="image";a.hasClass("svg")?(h="svg",e*=vb.rp,g*=vb.rp):a.hasClass("graphic")&&(h="graphic");var k=c.ps();return{type:h,origin:c.Cf(),mediaId:c.u(),mediaVersion:c.getVersion(),mediaApproved:void 0!==a.data("mediaApproved")?a.data("mediaApproved"):
!0,width:e,height:g,isDark:!!a.hasClass("dark"),isBackground:c.Gb()&&d,isCutout:c.Zd(),isRepeating:c.FA(),isRecolorable:c.oc(),backgroundColor:c.oc()?b.data("color"):void 0,spritesheetMetadata:k&&Mg(k)}}
function FN(a){var b=Rg(K.kb().sb),c=$("img",a);a=c.parents("li").data("result");if("ELEMENT_GROUP"===qL(a))GN(a,!0,null);else{var c=yg(wN(c)),d=c.l(),e=c.o(),g=Math.min(d,b.l()*O.Lh),h=g/d*e;h>b.o()*O.Lh&&(h=b.o()*O.Lh,g=h/e*d);c.la(g);c.ea(h);UC(c);c.OB();b=K.Da();c.al(b);HN(c,a);c.Xj()&&IN(a,c);Ag(c)}}
function GN(a,b,c){function d(b,d,h,k){g=b.elements.filter(function(a){return"group"!==a.type}).map(function(a){delete a.elementIndex;delete a.groupIndex;"text"===a.type?(l++,a=new Kp(a,e)):a=yg(a);var b=(new Ym).translate(-1*d.F(),-1*d.w());a.transform(b);XF(d,a);return a});b=new V(0,0,d.l(),d.o());var m=O.Lh*h.l(),z=O.Lh*h.o(),m=new V(0,0,m,z),m=fh(b.clone(),m);m.l()<b.l()||m.o()<b.o()?d.setSize(m.l(),m.o(),!0):d.setSize(b.l(),b.o(),!0);k?d.al(h):c&&(d.setPosition(c.x,c.y),h.addElement(d),oG(d,
h));Ag(d);U&&U.track("text_group_insert",{media_id:a.u()})}function e(){++k===l&&(h.Fr(g[0]),b?h.setPosition((m.l()-h.l())/2,(m.o()-h.o())/2):c&&(h.setPosition(c.x,c.y),Bg(h)))}var g,h,k=0,l=0,m=K.Da();a.nl(function(c){if(c&&c.elements&&0<c.elements.length){var e=c.elements.filter(function(a){return"group"===a.type});h=new wC(e[0]);EN(c).then(function(){d(c,h,m,b);Wl("text_group",a.u(),qL(a))})}})}
function EN(a){function b(a){a&&a.media&&a.media.forEach(function(a){a&&Qg(yb,a.u(),a.Ka().getVersion(),a.Ka().ic())})}a=function(a){function b(a){a.mediaId&&e.push(new Wm({id:a.mediaId,version:a.mediaVersion}));a.fontMedia&&e.push(Xm(a.fontMedia));Array.isArray(a.htmlFontMedia)&&(e=e.concat(a.htmlFontMedia.map(Xm)))}var e=[];a.elements&&a.elements.length&&a.elements.forEach(function(a){b(a);a.contents&&a.contents.length&&a.contents.forEach(b)});return e}(a);return a.length?(a=yF((new xF).Ko(),a),
VE(Db,a).then(b)):P.resolve()}function IN(a,b){"CANVA"!==a.Cf()&&Cg(Hb,a,b)}function JN(a){var b=a.parents(".photoGallery").first();a.find(".info").remove();a.find("a").addClass("removed");a.find("img").addClass("removed");a.addClass("removed");window.setTimeout(function(){a.remove();eA(b)},500)}function dA(){$(".infoPanel .close").click()}
function SM(a){function b(a){a=a.u();var b=c();return b.hasOwnProperty(a)?b[a]:null}function c(){return(new jh(window.viewConfig)).vg.get("magicTemplates",[]).map(DM).reduce(function(a,b){a[b.template]=KN(b);return a},{})}function d(){m.removeClass("transitioning")}var e=$(this).parents("a"),g=$("img",e),h=e.parents("li"),k=e.parents(".gallery"),l=e.parents(".layer"),m=e.parents(".searchGroup"),n=$(this).parents(".results"),p=LN(m),q=parseInt(m.css("margin-top"),10),u=1===$(this).parents("#resultsUpload").length,
v=1===$(this).parents("#resultsLayout").length,z=MN(m),t=0,x=m.prevAll(".searchGroup");x.each(function(){t=Math.max(t,MN($(this)));z+=t});v&&z>l.height()&&(l.find(".infoPanel").css("height","0"),x.find(".infoPanel").css("height","0"),l.scrollTop(l.scrollTop()-z));l.find(".infoPanel .close").click();e.addClass("infoOpen");var x=h.data("result"),H=h.data("designItem"),E=h.data("originalTop"),L=h.height(),J=E+L,p=p+J+CN(m),q=p-t+q;if(null!=x||null!=H){var Q=(new NN({Qb:ay(Yx()).ja().Cp(),Sa:Ab,WM:!!H,
hN:!!x,Yj:!(!x||!sL(x)),jN:!1===g.data("mediaApproved"),kN:u,Cs:H&&b(H),model:x||H,vO:JN.bind(null,h),i:a,W:Jb,fI:g.height()/g.width()})).render().$el;Q.data("item",e);Q.css("top",q).appendTo(m);e.data("infoPanel",Q);var S=$('\x3cdiv class\x3d"infoPanelPointer"\x3e\x3c/div\x3e');S.css("left",parseInt(h.css("left"),10)+parseInt(Q.css("left"),10)+h.width()/2).css("top",q).appendTo(m);Q.data("infoPanelPointer",S);var N=Q.height(),ha=Q.outerHeight(!0);Q.one("transitionend",d).css("height",0);P.delay(O.Ec).then(function(){Q.addClass("on").css("height",
N);S.addClass("on")});var fa=ON(k,J),fa=fa.filter(function(a){return a!=h.get(0)}),ta=k.data("columnData");ta.ra.forEach(function(a){var b=null;a.items.filter(function(a){return-1<fa.indexOf(a.get(0))}).forEach(function(c){var d=c.data("originalTop");null===b&&(b=J+ha-d,a.Ef=b);c.css("top",d+b).data("modifiedTop",d+b).data("columnIndex",ta.ra.indexOf(a))})});a=l.find("\x3e .inner \x3e .searchGroup").last().get(0)==m.get(0);m.addClass("transitioning");fA(m,!a);v?setTimeout(function(){var a=h.parents(".scrollPane").get(0).getBoundingClientRect(),
b=h.get(0).getBoundingClientRect(),c=a.top>b.top,d=a.height>ha+b.height,e=0;a.height-b.bottom>ha?c&&(e=b.top-a.top-15):e=d?ha-(a.bottom-b.bottom):b.top-a.top-15;30>=e&&-30<=e&&(e=0);l.animate({scrollTop:l.scrollTop()+e},O.Ca.Pq)},300):(v=p+ha,n=BN(n),a=v-q<l.height(),v>n&&a?l.animate({scrollTop:l.scrollTop()+(v-n)},O.Ca.Pq):q<l.scrollTop()&&l.animate({scrollTop:l.scrollTop()-(l.scrollTop()-q)},O.Ca.Pq),m.hasClass("inlineFolderGroup")&&T.trigger("infoPanelToggle",m,MN(m)))}}
function TM(){var a=$(this),b=a.parents("a").parents("li"),c=!0===b.data("superKeywordAdd"),d=b.data("query"),e=b.data("result");if(d&&e){var g=(e.JF()||[]).slice();c?g.push(d):g=g.filter(function(a){return a!==d});g=g.map(function(a){return new nF("en",a.trim())});g=new kF({data:new hF({superKeywords:g}),superKeywordsUpdatePolicy:"REPLACE"});e=AF((new YE).Lo(e.u()).Fk(e.getVersion()),g);WE(Db,e,function(e){200==e&&(c?(a.removeClass("superMiss"),a.addClass("superHit"),a.attr("title","Remove superKeyword '"+
d+"'"),b.data("superKeywordAdd",!1)):(a.removeClass("superHit"),a.addClass("superMiss"),a.attr("title","Add superKeyword '"+d+"'"),b.data("superKeywordAdd",!0)))})}}
function PN(){var a=$(this).parents(".infoPanel"),b=a.data("xhr"),c=a.data("item");c.removeClass("infoOpen");c.parents("li").siblings().each(function(){var a=$(this).data("originalTop");$(this).css("top",a).removeData("modifiedTop")});var d=a.parents(".searchGroup").first();d.addClass("transitioning").height(d.data("contentHeight"));$(".gallery",d).data("columnData").ra.forEach(function(a){a.Ef=0});a.one("transitionend",function(){e&&(e.remove(),a.remove(),d.removeClass("transitioning"))}).removeClass("on").css("height",
0);var e=a.data("infoPanelPointer");e.removeClass("on");b&&b.cancel();b=null;a.removeData("xhr");d.hasClass("inlineFolderGroup")&&T.trigger("infoPanelToggle",d,0);return!1}
function UM(a){function b(a){function b(){t=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e');var a=wN(m);x=yg(a);x.la(q);x.ea(u);var c=$('\x3cdiv class\x3d"cloneInner"\x3e').append(x.C()),e;m.is(".svg")?e="svg":m.is(".graphic")&&(e="graphic");pa&&(c.addClass("elementGroupSearchResult"),DN(m,function(a){a=WF(a);var b=new V(0,0,a.l(),a.o()),d=O.Lh*L.l(),e=O.Lh*L.o(),d=new V(0,0,d,e),d=fh(b.clone(),d),e=b.l(),g=b.o();if(d.l()<b.l()||d.o()<b.o())e=d.l(),g=d.o();v=e*W;z=g*W;l=k/(v/z);a.setPosition(0,0);a.setSize(e,
g);a.AP=!1;a.ft=!1;c.empty().append(a.C());x=a}));e&&(t.addClass(e),c.addClass(e),a=Hb.Ic(a.mediaId,a.mediaVersion),x instanceof wC?x.ia().filter(function(a){return a instanceof ap})[0].Vq(a[nD].na()):x.Vq(a[nD].na()));t.append(c).css("left",h.left).css("top",h.top).css("transform-origin","top left").css("transform","scale("+k/v+", "+l/z+")").toggleClass("cutout",x.Zd()).data("li",g.parents("li")).data("canvaElement",x).data("isOrganicSearchResult",d);$("#content").append(t);g.css("visibility","hidden");
pa||!x.PD()&&!x.Zd()||ih(t,null,oN(Za));$("#search").blur()}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==t)if(oN(Za)){var e=In(S,N,c,a);if(300<e||60>e)b();else return!0}else(Math.abs(c-S)>O.Fc||Math.abs(a-N)>O.Fc)&&b();if(null!=t){var n=Math.min(1,Math.sqrt(Math.pow(c-S,2)+Math.pow(a-N,2))/ta),e=Math.min(1,k/(v*(1-n))),p=Math.min(1,l/(z*(1-n)));if(c>S){t.css("transform","scale("+e+", "+p+")");if(x.mb()){var wc=
jG(x);pb||wc&&0!==wc.length&&(1!==wc.length||"#000000"!==wc[0])||(pb=mh(O.kD));pb&&(wc=K.Da().Gf()?pb:mh(O.jD))&&x.mQ(tn(pb,wc,n))}x.Oy()&&(null===x.sm&&UC(x),WC(x,n),x.OB());n=Math.round(h.top+a-N-(p*z-l)*fa);t.css("left",Math.round(h.left+c-S-(e*v-k)*ha)).css("top",n)}else t.css("transform-origin","top left").css("transform","scale("+k/v+", "+l/z+")").css("left",h.left+c-S).css("top",h.top+a-N);(c<E.left||c>E.left+H.outerWidth()||a<E.top||a>E.top+H.outerHeight())&&t&&!t.hasClass("disappeared")&&
!t.hasClass("placing")&&QN(J,t)?(null==ba&&(ba=new bh(t,Q)),dh(ba,xb,Aa)):$("#overlays .align").removeClass("on")}return!1}function c(a){function e(){$(this).remove();g.css("visibility","visible")}function m(){g.css("opacity",0);window.setTimeout(function(){g.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},O.Ec)}function n(){var a;if(a=pa.Jv())a=Jb.G.get(rg);a&&!Jb.G.get(og)&&(Jb.G.get(ug)?(a=Mb,a.j.va(lm()),Fo(a,
Ho)):(a=Mb,a.j.va(lm()),Fo(a,Go)))}Za.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!0!==RN){$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");hh();var p=void 0!==a.clientX?a.clientX:a.originalEvent.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.changedTouches[0].clientY;var q=Math.abs(a-N)>O.Fc,q=Math.abs(p-S)>O.Fc||q;$("#hotspots").remove();P.delay(O.Ca.c8).then(function(){g.removeClass("pickedUp")});var u=g.parents("li");if(u.data("result")){var pa=
u.data("result");if(null==t&&!q)return $("#search").blur(),FN(u),kL(pa,d),n(),!1;null!=t&&null!=x&&((p<E.left||p>E.left+H.outerWidth()||a<E.top||a>E.top+H.outerHeight())&&t&&!t.hasClass("disappeared")&&QN(J,t)?(p=K.Da(),"ELEMENT_GROUP"===qL(pa)?GN(pa,!1,{x:ba.F(),y:ba.w()}):(x.setPosition(ba.F(),ba.w()),x.la(ba.l()),x.ea(ba.o()),p&&x.appendTo(p),x.Xj()&&IN(pa,x),Ag(x),Bg(x)),m(),kL(pa,d),HN(x,pa),n(),t.remove()):null==t||t.hasClass("disappeared")?null!=t&&t.hasClass("disappeared")&&(m(),SN(t.data("placedInElement"))):
(h=g.offset(),t.addClass("returning"),t.one("transitionend",e).css("left",h.left).css("top",h.top).css("transform","scale("+k/v+", "+l/z+")")))}}}if(a.which==O.Kh||a.ctrlKey)return!0;if($(a.target).is(".removed")||$(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var d=1===$(this).parents("#resultsSearch").length,e=Rg(K.kb().sb),g=$(this);g.addClass("pickedUp");var h=g.offset(),k=g.width(),l=g.height(),m=$("img",g).first(),n=wN(m),p=n.width,n=n.height,q=Math.min(p,e.l()*O.Lh),
u=q/p*n;u>e.o()*O.Lh&&(u=e.o()*O.Lh,q=u/n*p);var v=q*W,z=u*W,t=null,x=null,H=$("#objectPanel"),E=H.offset(),L=K.Da(),e=gh(vb),J=e.$el,Q=e.$el.find(".page__content").offset(),S=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,N=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,ha=(S-h.left)/k,fa=(N-h.top)/l,ta=Math.abs(S-(E.left+H.outerWidth())),Za=new fp($(document)),pa=1===$(a.target).parents(".elementGroupSearchResult").length;Za.on("mousemove|touchmove",b).on("mouseup|touchend",
c);var ba=null,Aa=ch(),xb={},pb=null;return TN}
function WM(a){function b(a){function b(a){var c=$('\x3cdiv class\x3d"clone" style\x3d"pointer-events: none"\x3e\x3c/div\x3e'),d=a.offset(),e=a.width(),g=a.height();c.append(CH(m)).css("left",d.left).css("top",d.top).css("width",e).css("height",g).css("transform-origin","top left");$("#content").append(c);a.css("visibility","hidden");$("#search").blur();return c}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;
var d=c-J.x,g=a-J.y,n=Math.abs(d)>O.Fc||Math.abs(g)>O.Fc;if(!x)if(n)x=b(e);else if(oN(ha))if(g=180*Math.atan2(g,d)/Math.PI,300<g||60>g)x=b(e);else return!0;if(x){d=bn(bn(d,0,d)/N);g=cn(1,z/k,d);n=cn(1,t/l,d);x.css("width",g*k+"px").css("height",n*l+"px").css("left",h.left+c-J.x-cn(0,(z-k)*Q.x,d)).css("top",h.top+a-J.y-cn(0,(t-l)*Q.y,d));g=x.find('[data-recolorable-lines\x3d"true"] \x3e line');if(g.length){var n=e.find('[data-recolorable-lines\x3d"true"] \x3e line').first().attr("stroke"),p=K.Da().Gf()?
O.kD:O.jD,d=tn(xn(n),xn(p),d);g.attr("stroke",d.toString())}c>S&&QN(E,x)?(fa=fa||new bh(x,L),dh(fa,Za,ta)):UN();d=$(".selectionBox");d.css("pointer-events","none");c=$(document.elementFromPoint(c,a));d.css("pointer-events","");c=c.is(".element.chart")?c:c.parents(".element.chart");$(".element.chart").not(c).removeClass("chartElement--droppable");c.length&&c.addClass("chartElement--droppable")}return!1}function c(a){function g(){$(this).remove();e.css("visibility","visible")}function p(){e.css("opacity",
0);P.delay(O.Ec).then(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")})}ha.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!0!==RN){UN();hh();var q=d(a);a=Math.abs(q.x-J.x)>O.Fc||Math.abs(q.y-J.y)>O.Fc;var t=yg(m);t.la(u);t.ea(v);if(!a&&!x)return $("#search").blur(),1===n.length&&n[0]instanceof yH?(a=n[0],q=a.serialize(),cI(a,t.serialize()),M.register(new Y(VN,{elementIndex:a.K(),pageIndex:a.R().K(),
"new":a.serialize(),old:q})),Bg(a),t=null):t&&(t.al(H),HN(t),aI(t,function(){t&&(Ag(t),HN(t),U&&Vl(m.chart.chartType))})),!1;x&&(a=q.x>S&&QN(E,x),q=$(document.elementFromPoint(q.x,q.y)),q=q.is(".element.chart")?q:q.parents(".element.chart"),a&&t&&q.length?(a=q.data("canvaElement"),q.removeClass("chartElement--droppable"),a&&(q=a.serialize(),cI(a,t.serialize()),M.register(new Y(VN,{elementIndex:a.K(),pageIndex:a.R().K(),"new":a.serialize(),old:q})),Bg(a)),p(),x.remove(),t=null):a&&t?(t.setPosition(fa.F(),
fa.w()),t.appendTo(H),SH(t,function(){t&&(Ag(t),U&&Vl(m.chart.chartType))}),Bg(t),p(),x.remove()):(x.addClass("returning"),x.one("transitionend",g).css("left",h.left).css("top",h.top).css("width",k).css("height",l)))}}function d(a){return{x:void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,y:void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY}}if(a.which==O.Kh||a.ctrlKey)return!0;var e=$(this),g=e.parents("li").data("chart-name"),h=e.offset(),k=e.width(),l=e.height(),m=JSON.parse(JSON.stringify(Nm[g])),
n=K.Wa(),g=m.width,p=m.height,q=Rg(K.kb().sb),u=.75*q.l(),v=u/g*p;v>.75*q.o()&&(v=.75*q.o(),u=v/p*g);var z=u*W,t=v*W,x=null,H=K.Da(),g=gh(vb),E=g.$el,L=g.$el.find(".page__content").offset(),J=d(a),Q={x:(J.x-h.left)/k,y:(J.y-h.top)/l},S=document.getElementById("objectPanel").getBoundingClientRect().right,N=Math.abs(J.x-S),ha=new fp($(document));ha.on("mousemove|touchmove",b).on("mouseup|touchend",c);var fa=null,ta=ch(),Za={};return TN}
function VM(a){function b(a){function b(){h=e.clone(!1);h.appendTo("#content").css("top",u).css("left",q).addClass("clone draggableGridItem dragging");e.css("visibility","hidden")}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==h)if(oN(ha)){var d=In(J,Q,c,a);if(300<d||60>d)S=!0,b();else return!0}else c-J>O.Fc&&(S=!0,b());null!=h&&(a=Math.min(1,Math.sqrt(Math.pow(c-J,2)+Math.pow(a-Q,2))/N),a=c<=J?0:a,c=
2+(m-2)*a,d=z+(L-z)*a,h.css("width",v+(E-v)*a).css("height",d),d=u+(H-u)*a,h.css("left",q+(x-q)*a).css("top",d),h.find("\x3e .rows, \x3e .columns, .item \x3e .content").css("left",c/2).css("right",c/2).css("top",c/2).css("bottom",c/2));return!1}function c(){p.ia().forEach(function(a){if(a instanceof sC){for(var b=a.gg(),c,d=!0,e=0>=a.w()&&0>=a.F()&&0===a.Ta()&&a.l()>=p.l()&&a.o()>=p.o(),g=0;g!==b;g++)if(c=a.ol(g).mediaId){d=!1;break}d&&e&&(sN(a),a.remove())}})}function d(a){function g(a){function b(a){this==
a.target&&$(this).off("animationend",b).remove()}this==a.target&&($(this).off("transitionend",g).on("animationend",b).addClass("disappearing"),e.css("visibility",""))}function k(){e.css("opacity",0);setTimeout(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},O.Ec)}a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;S?a>=x?(CK(),n.pd(t),c(),n.appendTo(p),Bg(n),Ag(n),DK(),k(),h.remove()):(h.addClass("returning").on("transitionend",
g),parseInt(h.css("left"),10)==Math.floor(q)&&parseInt(h.css("top"),10)==Math.floor(u)?h.trigger("transitionend"):h.css("left",q).css("top",u).css("width",v).css("height",z)):(CK(),n.pd(t),c(),n.al(p),HN(n),Ag(n),DK());ha.off("mousemove|touchmove",b).off("mouseup|touchend",d)}if(a.which==O.Kh||a.ctrlKey)return!0;$("#search").blur();hh();var e=$(a.currentTarget),g=e.offset(),h=null,k=e.parents("li").data("grid-name"),l=$.extend(!0,[],Mm[k].items),m=(Mm[k].spacing||O.iD)*W,n=new sC({items:l}),p=K.Da(),
k=vb.Da(),l=$("#canvaDocument \x3e .inner").offset(),k=Xg(k).translate(l.left,l.top),q=g.left,u=g.top,v=e.width(),z=e.height(),g=0<Tp(p).filter(function(a){return!a.Fg()}).length,t=Tm(p.l(),p.o(),n.pe(),g),g=t.clone().scale(W).translate(k.F(),k.w()).round(),x=g.F(),H=g.w(),E=g.l(),L=g.o(),J=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,Q=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,S=!1,N=x-J,ha=new fp($(document));ha.on("mousemove|touchmove",b).on("mouseup|touchend",
d);return!1}function MN(a){var b=0,c=$(".gallery",a).data("columnData");if(c)b=vl(c.ra.map(function(a){return a.Ef}));else return b;b=vl(c.ra.map(function(a){return a.height}));c=vl(c.ra.map(function(a){return 0==a.height?0:a.height+a.Ef}));return b=b!=c?c-b:AN(a)}function AN(a){var b=0,c=$(".infoPanel",a).clone();0<c.length&&(c.appendTo(a).addClass("doNotTransition").css("height","").css("display","none"),b=c.outerHeight(!0),c.remove());return b}
function fA(a,b){if(0!=a.parents(".results.infinite").length){var c=a.parents(".results").first(),d=a.is(".inlineFolderGroup")||c.is("#resultsLayout"),e=d?a.find("p button")?a.find("p").height():0:LN(a),g=0;$(".gallery li",a).each(function(a,b){a=$(b);g=Math.max(g,a.data("originalTop")+a.height())});g+=e;a.data("contentHeight",g);e=MN(a);b||d?a.height(g+e):a.height(Math.max(g+e,c.height()))}}
function XM(){var a=$(this).parents(".results");clearTimeout(a.data("scrollTimer"));var b=setTimeout(function(){WN(a)},100);a.data("scrollTimer",b)}
function ON(a,b){var c=[];a=a.data("columnData");if(void 0===a)return c;a=a.ra;for(var d=0;d<a.length;d++){for(var e=a[d].items,g=0,h=!1,k=0;k<e.length;k++){var l=e[k],m=l.data("originalTop")||0,m=(l.data("modifiedTop")||m)-m;0==m||h||(g+=m,h=!0);g+=l.height();if(g>b)break}c=c.concat(e.slice(k))}return c.map(function(a){return a.get(0)}).filter(function(a){return null!=a.parentNode})}
function jN(a,b){var c;c=a.find(".layer \x3e .inner \x3e .searchGroup").find(".gallery li").first();var d=a.hasClass("twoCol")?120:70;c=c.width()||d;a=Math.floor(Math.abs(a.find(".layer").width())/c)||1;return Math.max(18,a*Math.max(Math.ceil(b/c),3))}
function WN(a){if(null!=hN&&!a.is(".modifying")){var b=a.find(".layer").last(),c=b.find("\x3e .inner \x3e .searchGroup").last();0<$(".searchLoaderHolder \x3e .searchLoader",a).length||0<$(".searchLoader",c).length||Zg().read(function(d){var e=c.outerHeight()+c.offset().top-(a.offset().top+a.outerHeight());null!=hN&&hN.Ms>=hN.limit&&e<=a.outerHeight()*O.jS&&d.write(function(){var c=b.find("\x3e .inner \x3e .searchGroup .gallery li").length;c>O.mD&&XN(b,c-O.mD);c=a.find(".searchLoaderHolder");gN(c);
c.addClass("on");hN.from+=hN.limit;hN.ZY()})})}}
function XN(a,b){for(var c=a.parents(".results"),d=$(),e=$(),g=a.find("\x3e .inner \x3e .searchGroup").toArray(),h=0;h<g.length&&!(0>=b);h++){var k=$(g[h]),l=$(".gallery li",k);if(l.length<b)d=d.add(k),b-=l.length;else for(var k=b,m=0;m<k;m++)e=e.add(l[m]),b--}b=e.parents(".searchGroup").add(d);g=$(".infoPanel",b);0<g.length&&(b.addClass("doNotTransition"),g.addClass("doNotTransition"),$(".close",g).click(),g.data("infoPanelPointer").remove(),g.remove(),b.removeClass("doNotTransition"));c.addClass("modifying");
a.find("\x3e .inner \x3e .searchGroup").addClass("doNotTransition");b=a.scrollTop();var g=e.parents(".searchGroup"),n=0;0<g.length&&(h=g.outerHeight(!0),l=$(".gallery",g),l.removeData("columnData"),e.remove(),eA(l),n+=h-g.outerHeight(!0));d.each(function(){n+=$(this).outerHeight(!0)});d.remove();g=a.find("\x3e .inner \x3e .searchGroup .infoPanel");0<g.length&&g.addClass("doNotTransition").css("top",parseInt(g.css("top"),10)-n).removeClass("doNotTransition");a.scrollTop(Math.max(0,b-n));a.find("\x3e .inner \x3e .searchGroup").removeClass("doNotTransition");
c.removeClass("modifying")}function LN(a){return 0==a.length?0:$(".gallery, .noResults",a).offset().top-a.offset().top}function YN(a){a=a.find("\x3e .inner \x3e .searchGroup").last();return CN(a)+a.outerHeight(!0)}function CN(a){return 0==a.length?0:a.parents(".layer").scrollTop()+a.position().top}
function ZN(a,b){if(null!=a&&0!=b.length){var c=b.toArray();a.ra.forEach(function(a){c.forEach(function(b){var c=a.items.map(function(a){return a.get(0)}).indexOf(b);-1>=c||(a.items.splice(c,1),a.height-=$(b).height(),void 0!==$(b).data("modifiedTop")&&1<=c&&void 0===a.items[c-1].data("modifiedTop")&&(a.Ef=0))})})}}function BN(a){var b=a.find(".layer").last().scrollTop();a=a.height();return b+a}
function fN(){var a=$("#objectPanel \x3e menu \x3e li.on").index();return $("#objectPanel \x3e .content \x3e .results").eq(a)}function $N(){window.location.reload();return!1}function aO(a,b){$("#savingErrorCode").text("");$(".warningPanel"+b).one("animationend",function(){$(this).removeClass("on off")}).addClass("off");bO();return!1}function ZM(){return aO.call(this,0,"#someoneElseEditing")}function $M(){return aO.call(this,0,"#inReview")}function aN(){return aO.call(this,0,"#touchDevice")}
function cO(){$("#inReview").addClass("on");dO()}function eO(){$("#outOfSync").is(".on")||(fO(),dO(),$("#outOfSync").removeClass("off").addClass("on"),$("#outOfSync button").on("click",$N))}function gO(){$("#savingError").is(".on")||$("#outOfSync").is(".on")||($("#savingError").removeClass("off").addClass("on"),$("#savingError button").on("click",$N),Tb&&hO())}function fO(){$("#savingError").is(".on")&&($("#savingError").removeClass("on").addClass("off"),bO())}
function HN(a,b){var c="other";a instanceof sC?c="grid":a instanceof oC?c="image":a instanceof ap&&(c="image:svg");U&&Wl(c,b?b.u():null,b?qL(b):null)};function iO(){this.kd=[];this.Hw=[];this.nn=[];this.yP=this.mR=!1}f=iO.prototype;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(iO.prototype,Backbone.Events);
iO.prototype.register=function(a){if(a.data["new"]&&a.data.old&&JSON.stringify(a.data["new"])==JSON.stringify(a.data.old)||this.mR||this.yP)return!1;var b=a instanceof jO;0<this.nn.length?this.nn[this.nn.length-1].push(a):(this.kd.push(a),this.Hw=[],!b&&K.trigger("change"));return!0};function kO(){var a=M;return a.kd.length?a.kd[a.kd.length-1]:null}function CK(){var a=M,b=new jO;a.register(b);a.nn.push(b)}
function DK(){var a=M;if(0==a.nn.length)throw Error("mismatched number of .endGrouping calls");var b=a.nn.pop();-1!==a.kd.indexOf(b)&&0===b.getLength()&&a.kd.splice(a.kd.indexOf(b),1);0==a.nn.length&&K.trigger("change")}
function ZL(a,b){var c=M;function d(a){var b=[];a instanceof Y?b.push(a):a instanceof jO&&a.kd.forEach(function(a){b=b.concat(d(a))});return b}function e(a,b,c){a.mediaId===b.mediaId&&a.mediaVersion===b.mediaVersion&&(a.mediaId=c.mediaId,a.mediaVersion=c.mediaVersion)}c=c.kd.map(d).concat(c.Hw.map(d));[].concat.apply([],c).forEach(function(c){switch(c.Ob){case lO:e(c.data["new"],a,b);e(c.data.old,a,b);break;case pO:case qO:e(c.data,a,b)}})}
function rO(a){var b=[];if(a instanceof jO)a=a.kd,a.forEach(function(a){a=rO(a);b=b.concat(a)}),2===b.length&&2==a.length&&a[0]instanceof Y&&a[1]instanceof Y&&a[0].Ob==pO&&a[1].Ob==lO&&(b=rO(a[0]));else if(a.Ob!=qO&&(a instanceof Y||a instanceof sO)){var c=a.data.elementIndex;K.O[a.data.pageIndex].ia().forEach(function(a){a.K()==c&&b.push(a)})}return _.uniq(b)}function tO(){this.Ob=null;this.data={}}
tO.prototype.Xn=function(){throw Error("classes that inherit from Operation must implement .perform");};tO.prototype.invert=function(){throw Error("classes that inherit from Operation must implement .invert");};function uO(a){return $.extend(!0,{},a)}function jO(){this.kd=[]}jO.prototype=new tO;jO.prototype.Xn=function(){this.kd.forEach(function(a){a.Xn()})};jO.prototype.invert=function(){var a=new jO;this.kd.reverse();this.kd.forEach(function(b){a.push(b.invert())});this.kd.reverse();return a};
jO.prototype.push=function(a){this.kd.push(a)};jO.prototype.getLength=function(){return this.kd.length};var dp=1,qO=2,pO=3,lO=5,yN=7,xN=8,tN=9,VN=16;function Y(a,b){this.Ob=a;this.data=b}Y.prototype=new tO;
Y.prototype.Xn=function(){ep();var a=K.O[this.data.pageIndex],b=a.ia().length,c,d;switch(this.Ob){case pO:d=$.extend(!0,{},this.data);delete d.groupIndex;delete d.groupElementIndex;delete d.pageIndex;c=yg(d);break;case 4:case yN:case xN:c=a.elements[this.data.oldElementIndex]||null;break;default:c=a.elements[this.data.elementIndex]||null}if(!c)throw Error("error performing operation on non-existent element");var e;switch(this.Ob){case dp:a=this.data["new"];null!=a.left&&c.jb(a.left);null!=a.top&&
c.eb(a.top);null!=a.rotation&&c.Zl(a.rotation);null!=a.flipOrientation&&c.st(a.flipOrientation);null!=a.transparency&&c.$l(a.transparency);null!=a.borderWidth&&sE(c,a.borderWidth);null!=a.spacing&&c.Xq(a.spacing);null!=a.padding&&c.hC(a.padding);null!=a.verticalAlignment&&(c.ke=a.verticalAligment);c.setSize(null==a.width?c.l():a.width,null==a.height?c.o():a.height,this.data.proportionalSetSize);null!=a.transformDependentData&&c.lZ(a.transformDependentData);break;case 11:a=this.data["new"];e=c.Ep(this.data.placeholderIndex);
a.filter?eJ(tD(e),a.filter)||nJ(e,a.filter):oJ(e);break;case 10:a=this.data["new"];null!=a.link&&zC(c,a.link);break;case qO:c.remove();break;case 4:e=this.data.elementIndex;this.data.oldElementIndex<e&&e++;b=a.ia().length;e=Math.max(Math.min(b,e),0);d=a.elements[e]||null;e==b?c.appendTo(a):d&&c.insertBefore(d);break;case pO:e=this.data.elementIndex;var g=this.data.groupElementIndex,h=this.data.groupIndex;d=$.extend(!0,{},this.data);delete d.groupIndex;delete d.groupElementIndex;delete d.pageIndex;
c=yg(d);if(!c)throw Error("bad element template while performing operation of type"+this.Ob.toString());e=Math.max(Math.min(b,e),0);d=a.elements[e]||null;if(void 0!==g){var k=a.elements[g]||null;if(!k)throw Error("group could not be found for operation type "+this.Ob.toString());k.Lx();XF(k,c,h);c.Hv()?(a=function m(a){a===c&&(k.Fr(c),T.off("elementLoaded",m),T.off("elementLoadingError",m))},T.on("elementLoaded",a),T.on("elementLoadingError",a)):k.Fr(c)}else e==b?c.appendTo(a):d&&c.insertBefore(d);
break;case lO:c.Wq(this.data.placeholderIndex,this.data["new"]);break;case 6:a=c.Xz(this.data.placeholderIndex);c.qt(a);a=this.data["new"];e=um(a.imageBox);d=um(a.placeholderBox);c instanceof oC?a.cropped?(sl(c,d),c.Xl(e),c.Jr(),c.jb(a.left),c.eb(a.top)):(c.jb(a.left),c.eb(a.top),c.la(e.l()),c.ea(e.o()),sl(c,d),c.Xl(e),c.yI=!1,c.Qk=!1,c.C().find("img").css("transform","").css("width","").css("height","")):(c.Xl(e),c.Jr());break;case yN:Up(c);OC(a,c,this.data.elementIndex);this.data.backgroundColor&&
c.ge(0,this.data.backgroundColor);break;case xN:vD(c);OC(a,c,this.data.elementIndex);break;case tN:e=this.data["new"];a=e.index;e.placementData?c.Wq(a,e.placementData):(e=mh(e.color),c.ge(a,e));break;case 12:c.Xa[this.data.placeholderIndex].st(this.data["new"].flipOrientation);break;case 13:b=this.data.childRange;g=this.data.elements;d=$.extend(!0,{},this.data);d.elements=[];e=this.data.elementIndex;c=new wC(d);OC(a,c,e);if(2===b.length)for(e=b[0],d=0;e<=b[1];e++,d++)if(h=a.elements[e]||null)h.setPosition(g[d].left,
g[d].top),h.setSize(g[d].width,g[d].height),h.$l(g[d].transparency),h.Zl(g[d].rotation),c.addElement(h),c.C().find(".elements").append(h.C());break;case 14:vO(c);break;case 15:c.Js(this.data["new"].data);c.render({cP:!0});break;case VN:cI(c,$.extend(!0,{},this.data["new"]));break;default:throw Error("cannot perform unknown operation type "+this.Ob.toString());}};
Y.prototype.invert=function(){function a(a){var b=a.elementIndex;a.elementIndex=a.oldElementIndex;a.oldElementIndex=b}var b=uO(this.data);switch(this.Ob){case dp:case 11:case 6:case lO:case tN:case 10:case 12:case 15:case VN:return b["new"]=this.data.old,b.old=this.data["new"],new Y(this.Ob,b);case pO:case qO:return new Y(this.Ob==pO?qO:pO,b);case 4:return a(b),new Y(this.Ob,b);case yN:return a(b),new Y(xN,b);case xN:return a(b),new Y(yN,b);case 13:return new Y(14,b);case 14:return new Y(13,b);default:throw Error("cannot invert unknown operation type "+
this.Ob.toString());}};function wO(a,b){this.Ob=a;this.data=b}wO.prototype=new tO;wO.prototype.Xn=function(){ep();var a=null;1==this.Ob?(a=$.extend(!0,{},this.data),a=new Hp(K,a)):a=K.O[this.data.pageIndex];switch(this.Ob){case 5:a=K.O[this.data.oldPageIndex];case 1:Vp(K,a,this.data.pageIndex);break;case 2:a.ia().forEach(function(a){xO(a)});Xp(K,a);break;case 4:yO(a,this.data["new"]);break;default:throw Error("cannot perform unknown operation type "+this.Ob.toString());}};
wO.prototype.invert=function(){var a=uO(this.data);switch(this.Ob){case 1:case 2:return new wO(1==this.Ob?2:1,a);case 4:return a["new"]=this.data.old,a.old=this.data["new"],new wO(this.Ob,a);case 5:var b=a.pageIndex;a.pageIndex=a.oldPageIndex;a.oldPageIndex=b;return new wO(this.Ob,a);default:throw Error("cannot invert unknown operation type "+this.Ob.toString());}};function zO(a,b){return-1<[4,1].indexOf(a.Ob||-1)&&a.data.pageIndex===b}function sO(a,b){this.Ob=a;this.data=b}sO.prototype=new tO;
sO.prototype.Xn=function(){function a(){var a=b instanceof wC?b.ia()[c]:b;a&&(void 0!==d.height&&a.ea(),void 0!==d.width&&a.la(d.width))}var b=K.O[this.data.pageIndex].elements[this.data.elementIndex]||null;if(!b)throw Error("operation element index out of bounds "+this.data.elementIndex);switch(this.Ob){case 1:var c=this.data.textIndex,d=this.data["new"];b.rj(c,d,a);break;default:throw Error("cannot perform unknown operation type "+this.Ob.toString());}};
sO.prototype.invert=function(){var a=uO(this.data);switch(this.Ob){case 1:return a["new"]=this.data.old,a.old=this.data["new"],new sO(this.Ob,a);default:throw Error("cannot invert unknown operation type "+this.Ob.toString());}};function AO(a,b){this.Ob=a;this.data=b}AO.prototype=new tO;
AO.prototype.Xn=function(){var a=this.data["new"],b,c;switch(this.Ob){case 1:b=a.doctypeSpec?Ep(a.doctypeSpec):null;c=bv(a.docType);K.resize(c,b);break;case 2:b=a.doctypeSpec?Ep(a.doctypeSpec):null;c=bv(a.docType);K.lR(a.model,c,b);break;default:throw Error("cannot perform unknown document operation type "+this.Ob.toString());}};
AO.prototype.invert=function(){var a=uO(this.data);a["new"]=this.data.old;a.old=this.data["new"];switch(this.Ob){case 1:return new AO(2,a);case 2:return new AO(1,a);default:throw Error("cannot invert unknown operation type "+this.Ob.toString());}};(function(a){a.path={};var b={rotate:function(a,b){var e=b*Math.PI/180;b=Math.cos(e);e=Math.sin(e);return[b*a[0]-e*a[1],e*a[0]+b*a[1]]},scale:function(a,b){return[b*a[0],b*a[1]]},add:function(a,b){return[a[0]+b[0],a[1]+b[1]]},y4:function(a,b){return[a[0]-b[0],a[1]-b[1]]}};a.path.Z0=function(c){c.start=a.extend({angle:0,length:.3333},c.start);c.end=a.extend({angle:0,length:.3333},c.end);this.fH=[c.start.x,c.start.y];this.gH=[c.end.x,c.end.y];var d=b.y4(this.gH,this.fH),e=b.scale(d,c.start.length),
d=b.scale(d,-1),d=b.scale(d,c.end.length),e=b.rotate(e,c.start.angle);this.zX=b.add(this.fH,e);d=b.rotate(d,c.end.angle);this.AX=b.add(this.gH,d);this.h3=function(a){return a*a*a};this.i3=function(a){return 3*a*a*(1-a)};this.j3=function(a){return 3*a*(1-a)*(1-a)};this.l3=function(a){return(1-a)*(1-a)*(1-a)};this.css=function(a){var b=this.h3(a),c=this.i3(a),d=this.j3(a);a=this.l3(a);var e={};e.x=this.x=this.fH[0]*b+this.zX[0]*c+this.AX[0]*d+this.gH[0]*a+.5|0;e.y=this.y=this.fH[1]*b+this.zX[1]*c+this.AX[1]*
d+this.gH[1]*a+.5|0;e.left=e.x+"px";e.top=e.y+"px";return e}};a.fx.step.path=function(b){var d=b.end.css(1-b.pos);null!=d.q8&&a.cssHooks.transform.set(b.elem,"rotate("+Math.atan2(d.Tba-d.y,d.q8-d.x)+")");b.elem.style.top=d.top;b.elem.style.left=d.left}})(jQuery);function wp(a,b,c,d){this.Z=a;this.ZO=0;this.bR=23;this.FJ="";a=this.i=c;a.Bd||(a.Bd=new Ze(a.config));this.Bd=a.Bd;this.cj=b;this.W=d}function BO(a){a.preventDefault();a.stopPropagation();return!1}var CO=[];
[[642,800,"https://static.canva.com/static/images/onboarding/lion-0.png"],[200,106,"https://static.canva.com/static/images/onboarding/lion-1.png"],[192,200,"https://static.canva.com/static/images/onboarding/lion-2.png"],[200,77,"https://static.canva.com/static/images/onboarding/lion-3.png"],[165,200,"https://static.canva.com/static/images/onboarding/lion-4.png"],[141,200,"https://static.canva.com/static/images/onboarding/lion-5.png"],[200,124,"https://static.canva.com/static/images/onboarding/lion-6.png"],[149,200,"https://static.canva.com/static/images/onboarding/lion-7.png"],[191,200,"https://static.canva.com/static/images/onboarding/lion-8.png"],[150,200,"https://static.canva.com/static/images/onboarding/lion-9.png"],[200,129,"https://static.canva.com/static/images/onboarding/lion-10.png"],
[129,200,"https://static.canva.com/static/images/onboarding/lion-11.png"],[200,154,"https://static.canva.com/static/images/onboarding/lion-12.png"],[200,174,"https://static.canva.com/static/images/onboarding/lion-13.png"],[200,70,"https://static.canva.com/static/images/onboarding/lion-14.png"],[124,200,"https://static.canva.com/static/images/onboarding/lion-15.png"],[200,176,"https://static.canva.com/static/images/onboarding/lion-16.png"],[200,132,"https://static.canva.com/static/images/onboarding/lion-17.png"],[200,149,"https://static.canva.com/static/images/onboarding/lion-18.png"]].forEach(function(a,b){var c="Monboarding"+b;0===b&&(c="M-YUM-LION");a=_.extend({},new pL,{pb:function(){return""},
id:c,u:function(){return c},files:{hJ:{width:a[0],height:a[1],url:a[2]},ny:{width:a[0],height:a[1],url:a[2]}}});CO.push(a)});function DO(){return{SCREEN:{na:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}},THUMBNAIL:{na:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}}}}function EO(a,b,c){c(200,{Ka:function(){return{getVersion:function(){return 0},ic:function(){return DO()}}}});return new Bk}f=wp.prototype;f.go=function(){FO(this)};
function GO(a,b,c,d){function e(){var c=g.shift();c===a.FJ&&(c="\x3cbr\x3e");h+=c;b(h);0<g.length?window.setTimeout(e,250+Math.floor(100*Math.random())):window.setTimeout(d,250);return!1}var g=c.split(""),h="";b("");e()}
function HO(){for(var a=[],b=0;5!==b;b++)a[b]=new Image,a[b].crossOrigin="anonymous";a[0].src="https://static.canva.com/static/images/onboarding/lion-0.png";a[1].src="https://static.canva.com/static/images/onboarding/lion-1.png";a[2].src="https://static.canva.com/static/images/onboarding/lion-2.png";a[3].src="https://static.canva.com/static/images/onboarding/lion-3.png";a[4].src="https://static.canva.com/static/images/onboarding/lion-4.png"}f.AW=function(){var a=this;HO();WebFont.load({google:{families:["Abril+Fatface","Carter+One"]},active:function(){a.next()},inactive:function(){a.next()}})};
function IO(a){a.IT=!1;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("on fullscreenMessageMask");$("body \x3e .mask").on("click",function(){JO(a).then(function(){a.IT||KO(a)}.bind(a))})}
function JO(a){$("body").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");var b=$("body \x3e .mask");b.addClass("off");$("video.for-onboarding").remove();a.yb.addClass("disappearing");return P.delay(500).then(function(){b.removeClass("fullscreenMessageMask off on white");a.yb.remove()})}
f.oZ=function(){IO(this);var a=$e(this.Bd);Ap()&&!this.c4&&LO()&&(a=this.Bd.format("twentyThreeSecondOnboardingChooseText"));this.yb=$('\x3cdiv id\x3d"onboarding-23second-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-time"\x3e'+this.bR+'\x3c/span\x3e\x3cspan class\x3d"onboarding-description"\x3e'+this.Bd.format("twentyThreeSecondOnboardingDescription")+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-icons"\x3e\x3cspan class\x3d"onboarding-search"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_search.png"/\x3e\x3c/span\x3e'+
a+'\x3c/span\x3e\x3cspan class\x3d"onboarding-drag"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand.png"/\x3e\x3c/span\x3e'+af(this.Bd)+'\x3c/span\x3e\x3cspan class\x3d"onboarding-publish"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_publish.png" /\x3e\x3c/span\x3e'+bf(this.Bd)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-actions"\x3e\x3cspan class\x3d"onboarding-show-me-how"\x3e\x3cbutton class\x3d"button onboarding-show-me-how-button"\x3e'+
this.Bd.format("twentyThreeSecondOnboardingShowMeHowButtonText")+'\x3c/button\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_clicking.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_grabbing.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e');this.yb.appendTo("body");this.next()};
f.H_=function(){var a=this,b=$(".onboarding-dialog");$(".onboarding-show-me-how-button").click(function(){a.IT=!0;var c=$(".onboarding-drag .icon"),d=c.clone(),e=$(".onboarding-show-me-how-button"),g=e.clone(),h=e.clone(),e=e.offset(),c=c.find("img").offset();d.attr("id","onboarding-active-hand").addClass("for-onboarding").appendTo("body").offset(c);g.attr("id","onboarding-active-button").addClass("for-onboarding").appendTo("body").offset(e);h.attr("id","onboarding-active-button-width").addClass("for-onboarding").appendTo("body");
d=a.bR-1;$("#onboarding-23second-dialog .onboarding-time").text(d.toString());b.fadeOut(2E3);a.next()})};f.JY=function(){$("body").append(this.CJ);this.CJ.on("click",BO);var a=this.bR-2;window.setTimeout(function(){$("#onboarding-23second-dialog .onboarding-time").text(a.toString())},1E3);this.next(1500)};f.yU=function(){var a=K.Fb().length;hh();1===a&&K.Fb()[0].isEmpty()?(this.nZ=!1,this.page=K.Fb()[0]):(this.nZ=!0,a=new Hp(K,K.Hg()),Vp(K,a,0),this.page=a);this.next()};
f.UW=function(){function a(){c++;2===c&&b.next(300)}var b=this,c=0,d=$("#onboarding-active-hand"),e=$("#onboarding-active-button");$(".onboarding-drag .icon").remove();$("body \x3e .mask").click();(function(){e.css({width:e.width(),height:"46px"});e.text("");P.delay(O.Ca.v2).then(function(){e.animate({width:MO($e(b.Bd)),"border-radius":"25px",padding:"0 15px 0 35px"},{duration:600,queue:!1,complete:a});d.animate({left:1*e.offset().left-15,top:1*e.offset().top-4},{duration:600,queue:!1,complete:a})})})()};
f.fW=function(){var a=$("#onboarding-active-hand"),b=$("#onboarding-active-button"),c=$('\x3cdiv class\x3d"for-onboarding" id\x3d"onboarding-active-hand-morphed"\x3e\x3c/div\x3e'),d=a.offset();c.offset(d);c.appendTo(a.parent());a.appendTo(c);a.css({top:0,left:0});b.appendTo(c);b.css({top:"4px",left:"15px"});this.next()};f.C9=function(){$("#onboarding-active-button").text($e(this.Bd));this.next()};f.z9=function(){NO(af(this.Bd));this.next()};
f.A9=function(){this.sC||NO(this.Bd.format("twentyThreeSecondOnboardingEditText"));this.next()};f.B9=function(){$("#onboarding-active-button").text("Choose");this.next()};function OO(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand_grabbing.png")}function PO(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand.png")}
function QO(){var a=$("#onboarding-active-hand img");a.attr("src","https://static.canva.com/static/images/onboarding_hand_clicking.png");window.setTimeout(function(){a.attr("src","https://static.canva.com/static/images/onboarding_hand.png")},300)}f.NEXT="next";function RO(a,b){return 500+Math.floor(.8*Math.sqrt(Math.pow(a.left-b.left,2)+Math.pow(a.top-b.top,2)))}function NO(a,b){var c=$("#onboarding-active-button");b=_.extend({width:MO(a)},b);c.text(a);c.animate(b,{duration:500,queue:!1})}
function MO(a){return $("#onboarding-active-button-width").text(a).width()}
function SO(a,b,c){var d=2/3,e=c.cu||{x:0,y:0},g=c.callback||function(){},h=$("#onboarding-active-hand-morphed"),k=h.offset(),l={top:1*$(b).offset().top+1*$(b).height()/3+e.y,left:1*$(b).offset().left+1*$(b).width()/3+e.x};c&&c.tU&&"BR"===c.tU&&(l={top:1*$(b).offset().top+1*$(b).height()+e.y,left:1*$(b).offset().left+1*$(b).width()+e.x});b=RO(k,l);l=new $.path.Z0({start:{x:1*h.offset().left,y:1*h.offset().top,angle:10,length:.1},end:{x:l.left,y:l.top,angle:-30,length:.1}});c.callback===a.NEXT&&(g=
function(){a.next(300)});c.MM&&window.setTimeout(function(){c.MM()},d*b);h.animate({path:l},b,g)}f.G4=function(){SO(this,"#search",{callback:this.NEXT})};f.K1=function(){QO();$("#search").focus();this.next(600)};
f.p9=function(){function a(){var a=$("#resultsSearch"),a=$(".layer \x3e .inner \x3e .searchGroup",a).last(),c=$(".photoGallery",a),g=0,h=!1;lN(a);CO.forEach(function(a){var d=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg data-screen-url\x3d"'+a.files.hJ.url+'"data-screen-width\x3d"'+a.files.hJ.width+'"data-screen-height\x3d"'+a.files.hJ.height+'"src\x3d"'+a.files.ny.url+'"width\x3d"'+a.files.ny.width+'"height\x3d"'+a.files.ny.height+'"/\x3e\x3c/a\x3e\x3c/li\x3e');d.appendTo(c);
$("img",d).on("load",function(){g++;!h&&5<=g&&(b.next(),h=!0);d.removeClass("loading")});d.data("result",a)});c.addClass("photoGallery");eA(c);Sb.ot=b.ot}var b=this,c=$("#search");this.ot=Sb.ot;Sb.ot=function(){return new P(function(){})};GO(this,function(a){c.val(a)},this.Bd.format("twentyThreeSecondOnboardingSearchTerm"),function(){lN($("#resultsSearch .layer \x3e .inner \x3e .searchGroup"));sM(b.i,a)})};
f.F4=function(){NO(af(this.Bd));SO(this,"#resultsSearch .searchGroup .photoGallery li:first-child",{callback:this.NEXT})};f.ze=function(){this.next(600)};
f.M2=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),c={top:c.offset().top-40,left:c.offset().left-42},d=RO(b.offset(),c),e=Math.floor(.8*K.Da().o())*W,g=Math.floor(.8025*e);OO();a.Yr=$("#resultsSearch .searchGroup .photoGallery li:first-child img").clone();a.Yr.removeAttr("width");a.Yr.removeAttr("height");a.Yr.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",height:"95px"});b.append(a.Yr);a.Yr.animate({height:e+"px",width:g+"px",left:(-180*
W-42)/2+"px",top:(-180*W-40)/2+"px"},{duration:d,queue:!1});b.animate(c,{duration:d,queue:!1,complete:function(){a.next(300)}})};f.P2=function(){var a=this,b=$("#resultsSearch .photoGallery li:first-child img"),b=yg(wN(b)),c=Math.floor(.8*K.Da().o());b.setSize(Math.floor(.8025*c),c);b.setPosition(-180,-180);b.appendTo(K.Da());Ag(b);PO();a.Yr.fadeOut(200,function(){a.Yr.remove()});a.next(300)};f.t9=function(){var a;a=K.Da().ia().filter(function(a){return a instanceof oC})[0];Bg(a);this.next(200)};
f.Y8=function(){function a(){PO();g.removeClass("on");b.next(300)}var b=this,c=$("#onboarding-active-hand-morphed"),d=K.Da(),e=800/642,g=$(".handle.br"),h=d.Wa()[0],k=vb.$el.offset(),l=uD(vb,this.page).pa(),d=.78*d.l(),m=d*e,n={left:Math.floor(k.left+l.F()+d*W*.78),top:Math.floor(k.top+l.w()+m*W*.78)},p=h.l();h.o();SO(this,".selectionBox .handle.br",{cu:{x:-20,y:-12},callback:function(){var b=c.offset();OO();g.addClass("on");P.delay(300).then(function(){c.animate(n,{duration:1E3,queue:!1,complete:a,
progress:function(){var a=(c.offset().left-b.left)/W+p,d=a*e;$(".selectionBox").css({height:d*W+"px",width:a*W+"px"});h.setSize(a,d)}})})}})};f.J4=function(){var a=this;NO(this.Bd.format("twentyThreeSecondOnboardingAddText"));SO(this,"#objectPanel \x3e menu li.text a",{callback:function(){$("#objectPanel \x3e menu li.text a").css("color","#00f7ff");a.next(300)}})};f.O1=function(){QO();$("#objectPanel \x3e menu li.text a").click().css("color","");this.next(200)};
f.D4=function(){var a=this;SO(this,"#objectPanel .textControls [data-style\x3dtitle]",{cu:{x:0,y:16},callback:function(){a.next(300)}})};
f.n1=function(){function a(){var a=h.zb();h.vk(a,"Carter One")}function b(){T.off("elementLoaded:text",b);c()}function c(){hh();QO();a();h.appendTo(e);Ag(h);Bg(h);window.setTimeout(function(){a()},100);window.setTimeout(function(){},200);d.next(200)}var d=this,e=K.Da(),g={width:e.l()/2,html:"\x26nbsp;",fontFamily:"Carter One",fontSize:function(a,b,c,d){var e=document.createElement("canvas").getContext("2d");if(null==e)return c;e.font=c*O.Li*14/100+"px "+d;a=e.measureText(a).width;isFinite(b)&&0<b&&
(10<b-a||a>b)&&(c*=b/a);return Math.floor(c)}(cf(this.Bd),380,120,"Carter One"),color:"#222",left:e.l()-400,top:Math.floor(.5*e.o()-112.5)};T.on("elementLoaded:text",b);var h=new Kp(g)};f.C$=function(){var a=this,b=K.Da().Wa()[0];b.C().trigger("click");GO(this,function(a){iC(b).html(a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},cf(this.Bd),function(){iC(b).css({border:"none"});$(".onboarding-fake-caret").remove();a.next()})};
f.ZW=function(){var a=bf(this.Bd),b={left:-MO(a)-25,padding:"0 39px 0 17px"};$("#designToolsText a").css({color:"#fff"});NO(a,b);SO(this,".editorActionExport",{callback:this.NEXT,MM:function(){$(".editorActionExport").addClass("fakeHoverState")}})};f.xT=function(){QO();$(".editorActionExport").trigger("click");this.next(600)};
f.YW=function(){var a=this;NO(bf(this.Bd),{left:"22px",padding:"0 20px 0 31px"});SO(this,".exportPopOver__downloadButton",{callback:function(){a.next(600)},MM:function(){$(".editorActionExport").removeClass("fakeHoverState");$(".exportPopOver__downloadButton").addClass("fakeHoverState")}})};f.vT=function(){QO();var a=this;$(".exportPopOver__downloadButton").addClass("fakeActiveState");window.setTimeout(function(){$(".modalContentMask").click();a.next(200)},300);$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")};
f.cI=function(){var a=gh(vb).$el.clone(),b=a.find(".page__content");a.find(".fixed").remove();a.css({top:0,left:0});a.removeClass("selected");$("body \x3e .mask").addClass("on fullscreenMessageMask");this.yb=$('\x3cdiv id\x3d"onboarding-outro-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3c/div\x3e');this.yb.css({width:b.width()-4+"px",height:b.height()-4+"px"});this.yb.append(a);this.yb.appendTo("body");this.next()};
f.MU=function(){var a=this;$("#onboarding-active-hand-morphed").fadeOut(1600,function(){a.next()})};
f.sZ=function(){var a=this,b=$(window).height()-a.yb.offset().top,c=!1;$('\x3cdiv id\x3d"onboarding-go-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-go"\x3e'+this.Bd.format("twentyThreeSecondOnboardingNowText")+'\x3c/span\x3e\x3cspan class\x3d"onboarding-go-description"\x3e'+this.Bd.format("twentyThreeSecondOnboardingYourTurnText")+"\x3c/span\x3e\x3c/div\x3e").appendTo("body");var d=$('\x3cdiv id\x3d"onboarding-exit-hand" class\x3d"for-onboarding"\x3e\x3cdiv class\x3d"exit-hand open"\x3e\x3cdiv class\x3d"exit-hand-fingers"\x3e\x3c/div\x3e\x3cdiv class\x3d"exit-hand-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
d.css({bottom:"-280px"});d.appendTo("body");d.animate({bottom:"0"},900,function(){var e=1*a.yb.css("margin-top").replace(/px/,"")-b;d.animate({bottom:e+"px"},{duration:1800,bl:"easeOutQuint",queue:!1});a.yb.animate({"margin-top":b+"px"},{duration:1800,bl:"easeOutQuint",queue:!1,complete:function(){c||(a.next(1E3),c=!0)}})})};
function TO(){hN=null;$("#search").val("");$("#resultsSearch .searchGroup").removeData("search").css("height","").find("ul").empty();$("#resultsSearch .searchGroup").find("h2").remove();$("#objectPanel .results").addClass("doNotTransition");window.setTimeout(function(){$("#search").blur();$("#objectPanel .results").removeClass("doNotTransition")},O.Ec)}f.IY=function(){function a(){b.next()}var b=this;hh();!0===this.nZ?(Xp(K,this.page),a()):UO(b.page).then(a)};f.PP=function(){TO();this.next()};
f.uT=function(){this.CJ.remove();$("body \x3e .mask").removeClass("on white fullscreenMessageMask").addClass("off");$(".for-onboarding").remove();$("body").removeClass("onboarding-in-progress").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");hh();this.next()};
f.gY=function(){this.Y0=Vb;this.f3=Cb.eE;this.CJ=$("\x3cdiv id\x3d'block-everything'\x3e\x3c/div\x3e");this.$v=wb.$v;Cb.eE=function(){return P.resolve(new jw({id:1,qB:null,status:"COMPLETE"}))};Vb=function(){};wb.close();wb.$v=function(){};K.off("change");this.next()};f.N3=function(){this.V_=Db.Mb;Db.Mb=EO;Qg(yb,"M-YUM-LION",0,DO());this.next()};f.c9=function(){Db.Mb=this.V_;this.next()};function KO(a){Vb=a.Y0;Cb.eE=a.f3;wb.$v=a.$v;VO(window.csession,window.cdoc);K.on("change",Wb)}
f.SY=function(){$(".page.selected").removeClass("invisible-text");KO(this);this.next()};f.j8=function(){$("#resultsLayout").data("view").RY();this.next()};f.onComplete=function(){T.trigger("onboarding:complete")};function WO(a){a.order=[a.HY,a.AW,a.gY,a.oZ,a.H_,a.PP,a.yU,a.JY,a.UW,a.fW,a.C9,a.ze,a.G4,a.N3,a.K1,a.p9,a.ze,a.F4,a.M2,a.P2,a.t9,a.Y8,a.ze,a.J4,a.O1,a.ze,a.D4,a.n1,a.ze,a.C$,a.ze,a.ZW,a.xT,a.ze,a.YW,a.vT,a.ze,a.cI,a.MU,a.ze,a.sZ,a.ze,a.IY,a.uT,a.c9,a.PP,a.SY,a.I9,a.j8,a.onComplete]}
f.i1=function(){var a=$(".templateGallery li:not(.grid)").has(".price.free").first(),b="canva-onboarding-layout-item-"+Math.floor(1E5*Math.random());$(a).addClass(b);this.JA="."+b;this.next()};f.U0=function(){var a=new Dp({},lv(0,0,"PIXELS"),this.i),a=new Hp(a,{}),b=$(this.JA).data("layoutItem");b&&yO(a,Pm(b.content),null,null,!0);this.next()};f.E4=function(){this.CO=$(this.JA);this.DO=$(this.JA+" img");this.jF=$(this.JA+" img").clone();SO(this,this.JA,{callback:this.NEXT})};
f.L2=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),d=c.height()/2-Math.floor(Math.random()*c.height()/6),e=c.height()/2+Math.floor(Math.random()*c.height()/6),c={top:c.offset().top+d,left:c.offset().left+e},d=RO(b.offset(),c),e=d/4;OO();window.setTimeout(function(){a.jF.css("opacity","0.5");$(".page.selected").addClass("hotspotHover")},e);a.DO.parent().addClass("pickedUp");a.jF.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",width:$(".templateGallery li img").width()+
"px",height:$(".templateGallery li img").height()+"px"});b.append(a.jF);b.animate(c,{duration:d,queue:!1,complete:function(){$(".page.selected").removeClass("hotspotHover");a.DO.parent().removeClass("pickedUp");a.next(300)}})};
f.O2=function(){function a(){T.off("pageLayoutLoaded",a);b.next()}var b=this;PO();this.jF.remove();T.on("pageLayoutLoaded",a);$(".page.selected").addClass("invisible-text");if(this.CO.find(".multiPageLayoutItem").length){var c=this.CO.data("searchResult"),d=this.CO.parents(".results").data("view");c&&XO(d,c,!0)}else this.DO.click()};function YO(){return"substantial-text-element"}
f.L1=function(){if(!this.sC){var a=$("."+YO()),b=$("."+YO());a.hasClass("element")||(b=a.parents(".element"));b=b.data("canvaElement");QO();Bg(b);a.hasClass("element")||(LK(a,!0),ZO(a,zc(this.i)),b.$a())}this.next()};
f.S9=function(){var a,b;if(!this.sC){var c=$("."+YO());b=c.clone();b.find("br").replaceWith(this.FJ);a=b.text().trim();var d;d=/\S\S/.test(a)?a.split(/\s+/g):a.split(/\s{2,}/g);2>d.length?(a="",b=d[0]||""):(b=d[d.length-1],3>b.length&&(b=a.slice(a.lastIndexOf(d[d.length-2]))),3>b.length&&(b="!",a+=b),a=a.slice(0,a.lastIndexOf(b)),a=a.replace(new RegExp(this.FJ,"g"),"\x3cbr\x3e"));this.pW=b;this.VU=a;c.children(".inner").html(this.VU)}$(".page.selected").removeClass("invisible-text");this.next()};
f.B$=function(){function a(a){GO(b,function(a){$(".onboarding-fake-caret").remove();c.children(".inner").html(b.VU+a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},b.pW,function(){$("#overlays .element.text.selected").css({border:"none"});$(".onboarding-fake-caret").remove();a()})}if(this.sC)this.next();else{var b=this,c=$("."+YO());c.trigger("click");a(function(){hh();b.next()})}};
f.d8=function(){if(1>$(".page.selected .element.text,.page.selected .element.svg .text").length)this.sC=!0;else{var a=$(".page.selected .element.text,.page.selected .element.svg .text").first(),b=0;$(".page.selected .element.text,.page.selected .element.svg .text").each(function(){var c=$(this).data("canvaElement");c.Jc()>b&&0<c.C().text().split("").length&&(b=c.Jc(),a=$(this))});a.addClass(YO())}this.next()};
f.I4=function(){if(this.sC)this.next();else{var a=parseFloat($("."+YO()).css("font-size").replace("px",""))*W,b=Math.floor(a/2),a=Math.floor(a*this.pW.split("").length/2);SO(this,"."+YO(),{tU:"BR",cu:{x:-a,y:-b},callback:this.NEXT})}};f.K9=function(){$("#objectPanel li.layout a").click();this.next()};f.I9=function(){$("#objectPanel li.elements a").click();this.next()};function Ap(){return/[?&]layouts/g.test(window.location.search)}
function LO(){return 1<=$(".templateGallery li:not(.grid)").has(".price.free").length}function $O(a,b,c){var d=c||1;10<d&&(a.c4=!0,b(!1));Ap()?1<=$(".templateGallery li").length?b(LO()):window.setTimeout(function(){$O(a,b,d+1)},200*d):b(!1)}f.HY=function(){aP.dU();this.next()};f.next=function(a){function b(){d.call(c)}var c=this,d=this.order[this.ZO];d&&d.call?(this.ZO++,a&&!isNaN(parseInt(a,10))?window.setTimeout(b,a):b()):c.next=function(){}};
function FO(a){a.ZO=0;Ap()?$O(a,function(b){b?a.order=[a.HY,a.AW,a.gY,a.oZ,a.i1,a.U0,a.H_,a.yU,a.JY,a.UW,a.fW,a.B9,a.ze,a.E4,a.z9,a.ze,a.L2,a.O2,a.ze,a.d8,a.S9,a.I4,a.ze,a.A9,a.L1,a.ze,a.B$,a.ze,a.ZW,a.xT,a.ze,a.YW,a.vT,a.ze,a.cI,a.MU,a.ze,a.sZ,a.ze,a.IY,a.uT,a.PP,a.SY,a.K9,a.onComplete]:WO(a);a.next()}):(WO(a),a.next())};function vp(a,b,c){this.document=a;this.config=b;this.PU="//www.facebook.com/plugins/like.php?href\x3dhttps%3A%2F%2Fwww.facebook.com%2Fcanva\x26amp;width\x3d450\x26amp;height\x3d65\x26amp;colorscheme\x3dlight\x26amp;layout\x3dbox_count\x26amp;action\x3dlike\x26amp;show_faces\x3dfalse\x26amp;send\x3dfalse\x26amp;appId\x3d"+encodeURIComponent(window.facebookConfig.appId);this.lg=c}vp.prototype.listenTo=Backbone.Events.listenTo;
function bP(){WebFont.load({google:{families:["Yellowtail"]},active:function(){},inactive:function(){}})}
function cP(a){var b=a.config.uh();switch(b){case "FREE_NEW_USER":return b=dP(K.pb()),a={fbUrl:a.PU,twitterText:a.lg.format("magicButtonFreeNewTwitterText",b),congratulations:a.lg.format("magicButtonFreeNewCongratulations"),youHaveCompleted:a.lg.format("magicButtonFreeNewYouHaveCompleted",b),startYourOwnDesign:a.lg.format("magicButtonFreeNewStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-dialog-done"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),$(b(a));
case "DESIGN_TUTORIAL":return b=dP(K.pb()),a={fbUrl:a.PU,twitterText:a.lg.format("magicButtonTutorialTwitterText",b),congratulations:a.lg.format("magicButtonTutorialCongratulations"),youHaveCompleted:a.lg.format("magicButtonTutorialYouHaveCompleted",b),startYourOwnDesign:a.lg.format("magicButtonTutorialStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-start-design"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
$(b(a));case "C4W_INVITED_NEW_USER":return a={congratulations:a.lg.format("magicButtonInvitedUserCongratulations"),gettingTheHangHtml:a.lg.format("magicButtonInvitedUserGettingTheHang"),visitTeamSpace:a.lg.format("magicButtonInvitedUserVisitTeamSpace")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%\x3d gettingTheHangHtml %\x3e\x3c/div\x3e\x3ca class\x3d"button" id\x3d"magic-button-dialog-done" href\x3d"/brand"\x3e\x3c%- visitTeamSpace %\x3e\x3c/a\x3e\x3c/div\x3e'),
$(b(a));default:throw Error("onboarding mode "+b+" not handled");}}
function eP(a){function b(){P.all([gA(1E3),qj(c.N,c.url+"/"+encodeURIComponent(wb.hc())+"/complete",null).get(0).then(vo)]).finally(function(){window.location="/"})}var c=new to;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").removeClass("off").addClass("on fullscreenMessageMask");cP(a).on("animationend",function(){$("body").on("click",b);$("body \x3e .mask").on("click",b)}).appendTo("body")}
function fP(a){return 0<a.document.ia().filter(function(a){return"magic-button"==a.C().attr("id")}).length}
vp.prototype.VS=function(){function a(a){a.stopPropagation();a.preventDefault();eP(b);return!1}var b=this,c=b.document;b.VS=function(){};if(!fP(b)){b.page=new Hp(c,c.Hg());b.page.GW();Vp(c,this.page,c.jc(),!1);$("#canvaDocument").addClass("deletePageDisabled");this.config.uh()&&$("#canvaDocument").addClass("pageControlsDisabled");uD(vb,b.page).$el.css("background-color","#20c4cb");var c={html:gP(this),width:460,justification:"center"},c=new Kp(c),d=c.C();d.attr("id","magic-button");d.on("mousedown",
a);d.on("touchstart",a);b.page.addElement(c,!1,!1);var d=(b.page.l()-c.l())/2,e=(b.page.o()-c.o())/2;c.setPosition(d,e)}};function gP(a){a={tutorialComplete:a.lg.format("magicButtonTutorialCompleteButton")};var b=_.template("\x3cstrong id\x3d'magic-button-text'\x3e\x3c%- tutorialComplete %\x3e \x26nbsp;\x3cspan id\x3d'magic-button-text-triangle'\x3e\x26#9656;\x3c/span\x3e\x3c/strong\x3e");return $(b(a))}vp.prototype.go=function(){bP();this.VS()};function Hp(a,b){this.Eb=a;this.Sc=null;this.elements=[];this.height=0;this.ka=b.layout&&new Om(b.layout);this.jt=this.pi=this.Gq=null;this.sG=this.Fh=this.selected=!1;this.Ey=null;this.HH=this.AD=!1;this.width=0;this.Oh(b,!0);sD(this)}_.extend(Hp.prototype,Backbone.Events);f=Hp.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.GW=function(){this.Fh=!0};function hP(a,b){a.Gq=b;a.trigger("change:preview")}
function iP(a){a.Gq=null;a.trigger("change:preview")}function jP(a){var b=a.elements.filter(function(a){return a.Fh||a.Gb()&&a.Nb&&!a.Nb()?!1:!0}),c=!1,d=kO();d instanceof wO&&(c=zO(d,a.K()));return 0<b.length&&!c}
function yO(a,b,c,d,e){function g(a){a.forEach(function(a){var b=a.u(),c=a.getVersion();Qg(yb,b,c,a.kM())})}function h(){if(-1!==k.K()||e){var a=k.ka;if(a===m||a&&m&&a.id===m.id&&a.version===m.version)iP(k),k.Oh(m.Hg(),!1,e),sD(k)}else k.HH=!1,k.AD=!1}var k=a,l=WL(Hb,Vm(b)),m=b.clone();e||(m.la(a.l()),m.ea(a.o()));a.Ey=a.Ey||a.serialize();a.clear();a.ka=m;a.AD=!0;0===l.length?(a.Oh(m.Hg(),!1,e),sD(a)):(a.HH=!0,c&&hP(a,c),d&&d.lc()===xB?Eq(d.u()).then(g).catch($.noop).finally(h):zL(yb,l,!1,h))}
f.Oh=function(a,b,c){function d(a){0<=q.indexOf(a)||(q.push(a),0<u.length&&e())}function e(){var b=0===u.filter(l).length,d=0===u.filter(h).filter(l).length,e=0<u.filter(k).length;d&&e&&!p?(p=!0,kP(u,a)):b?g():(window.clearTimeout(v),v=window.setTimeout(function(){c||T.trigger("pageTimeoutWaitingForElements");g()},n))}function g(){m.AD=!1;m.sG=!1;T.off("elementLoaded",d);T.off("elementLoadingError",d);window.clearTimeout(v);m.elements.forEach(function(a){a.By=!1});m.trigger("unpacked");T.trigger("pageLayoutLoaded",
m);b||(m.trigger("change"),c||m.Eb&&m.Eb.trigger("change"))}function h(a){return!a.mb()}function k(a){return a.mb()}function l(a){return-1===q.indexOf(a)}var m=this,n=3E4;this.Eb&&!this.Eb.SM&&(n+=5E3*this.Eb.jc());this.sG=!0;this.Ey=null;this.HH=!1;b||this.trigger("willchange");void 0!==a.dpi&&(this.Sc=a.dpi);void 0!==a.width&&this.la(a.width);void 0!==a.height&&this.ea(a.height);var p=!1,q=[],u=[];T.on("elementLoaded",d);T.on("elementLoadingError",d);u=u.concat(function(a){return a?a.map(yg).filter(Boolean):
[]}(a.elements));u.forEach(function(a){a.appendTo(this)},this);var v=window.setTimeout(g,n);0<u.length?window.setTimeout(function(){e()},1):g();a.resizeContentBox?(this.pi=um(a.resizeContentBox),this.jt=lP(this,this.pi)):this.jt=this.pi=null};f.ns=function(){if(this.pi&&this.jt){var a=lP(this,this.pi);if(wm(a,this.jt))return this.pi;this.jt=this.pi=null}return null};
function lP(a,b){var c=a.pa(),d=b.clone();a.ia().forEach(function(a){if(!(a.Fh||a.Gb()||a.Fg())){var b=a.pa();if(!(a instanceof sC&&Hm(b,c))){a=Math.min(d.F(),b.F());var h=Math.min(d.w(),b.w()),k=Math.max(d.Za(),b.Za())-a,b=Math.max(d.wa(),b.wa())-h;d.left=a;d.top=h;d.width=k;d.height=b}}});return d}f.resize=function(a){var b=mP({gp:this.ns(),me:a,page:this});this.Oh(a.Hg(),!0);sD(this);this.trigger("resize");this.jt=(this.pi=b)&&lP(this,b)};f.lR=function(a){this.clear();this.Oh(a,!0);sD(this);this.trigger("resize")};
function kP(a,b){function c(a){T.trigger("elementLoaded",a);T.trigger("elementLoaded:group",a)}a.forEach(function(d,e){if(d.mb()){var g=b.elements[e].childRange;if(dq(g)){for(var h=g[0];h<=g[1];h++)if(!b.elements[h]||b.elements[h].groupIndex!==e){c(d);d.remove();return}for(h=g[0];h<=g[1];h++)e=UF(FC(d),FC(a[h])),d.addElement(a[h]),a[h].$l(e.Fa),a[h].setPosition(e.left,e.top),a[h].Zl(e.rotation),d.C().find(".elements").append(a[h].C()),d.ab();c(d)}else c(d),d.remove()}})}
f.di=function(){var a=new To;this.elements.forEach(function(b){b.di().Dg().forEach(function(b){Wo(a,b)})});return a};f.clone=function(){return new Hp(null,this.serialize())};f.serialize=function(){return this.HH&&this.Ey?this.Ey:this.AD&&this.ka?this.ka.Hg():nP(this)};
function nP(a){function b(a){return a.elementIndex}var c=a.elements.filter(function(a){return!a.Fh}).map(function(a){return a.serialize()}).filter(Boolean);c.forEach(function(a,b){var c=a.elementIndex-b;a.elementIndex=b;c&&a.elements&&a.elements.forEach(function(a){a.elementIndex-=c})});c.filter(function(a){return-1<Object.keys(a).indexOf("elements")}).forEach(function(a){var d=a.elementIndex,e={Fa:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height},l=a.elements.map(b),
m=[];c.forEach(function(a){var b=l.indexOf(a.elementIndex);0<=b&&(l.splice(b,1),m.push(a.elementIndex),b=VF(e,{Fa:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height}),a.transparency=b.Fa,a.rotation=b.rotation,a.top=b.top,a.left=b.left,a.groupIndex=d)});if(0!==m.length&&0===l.length){var n=Math.min.apply(null,m),p=Math.max.apply(null,m);a.childRange=[n,p]}else a.childRange=[-1,-1];delete a.elements});var d={elements:c,width:a.width,height:a.height};a.Sc&&(d.dpi=
a.Sc);var e=a.ka&&a.ka.serialize();e&&(d.layout=e);(a=a.ns())&&(d.resizeContentBox=a.serialize());return d}f.clear=function(){var a;for(iP(this);this.ia().length;)(a=this.elements[0]||null)&&this.oj(a);this.elements=[];this.jt=this.pi=null};f.ia=function(){return this.elements};f.Wa=function(){return this.ia().filter(function(a){return a.Hf()})};function Tp(a){return a.ia().filter(function(a){return a.Gb()})}function oP(a){return a.ia().filter(function(a){return a.Fg()})}
function pP(a,b){function c(a){return!a.Gb()}function d(a){return!(a instanceof tC)}var e=b instanceof Array?b:[b],e=e.filter(c).filter(d);return 0===e.length?e:a.ia().filter(function(a){return!KC(a)}).filter(c).filter(function(a){return!a.Fg()}).filter(d).filter(function(a){return-1===e.indexOf(a)}).filter(function(a){return e.some(function(b){return Yg(b.pa(),a.pa())})})}
f.oj=function(a,b){b=b||{};for(var c=this.elements.indexOf(a),d=0;d<this.elements.length;d++)if(this.elements[d].mb()&&-1!==this.elements[d].elements.indexOf(a)){this.elements[d].oj(a);break}-1<c&&(this.elements.splice(c,1),a.remove(),b.O8&&0===this.elements.length&&(this.ka=void 0),b.xZ||this.trigger("element:remove",this,a,c,!!b.nba),(a.Gb()||a.Fg())&&this.trigger("change:background",this))};
function qP(a,b,c){var d=a.elements.indexOf(b);-1!==d&&b.elements&&0!==b.elements.length&&b.ia().forEach(function(e){d+=1;OC(a,e,d,!0);e.te=b.te;e.Uq(a);!c&&a.trigger("element:add",a,e,!1,!1);b.C().find(".elements").append(e.C())})}f.addElement=function(a,b,c){this.elements.push(a);a.Uq(this);qP(this,a);this.trigger("element:add",this,a,b,c);(a.Gb()||a.Fg())&&this.trigger("change:background",this,a)};
function rP(a){return a.elements.filter(function(a){return a.mb()}).map(function(b){var c=b.ia().map(function(b){return a.elements.indexOf(b)}).filter(function(a){return-1!==a});c.push(a.elements.indexOf(b));return[Math.min.apply(null,c),Math.max.apply(null,c)]})}function sP(a,b){for(var c=0;c!==a.elements.length;c++)if(a.elements[c].mb()&&-1!==a.elements[c].elements.indexOf(b))return a.elements[c]}
function OC(a,b,c,d){c=function(c){var d=c;0>d&&(d=a.elements.length);(c=sP(a,b))?(d=Math.max(d,a.elements.indexOf(c)),d=Math.min(d,a.elements.indexOf(c)+c.ia().length)):(d=Math.min(d,a.elements.length),rP(a).forEach(function(a){d>a[0]&&d<=a[1]&&(d=a[1]+1)}));return d}(c);var e=a.elements.indexOf(b);-1==e?(a.elements.splice(c,0,b),b.Uq(a),qP(a,b,d),!d&&a.trigger("element:add",a,b,!1,!1),(b.Gb()||b.Fg())&&a.trigger("change:background",a,b)):(a.elements.splice(c,0,a.elements.splice(e,1)[0]),a.trigger("element:move",
a,b))}f.F=function(){return 0};f.$b=Hp.prototype.F;f.w=function(){return 0};f.kc=Hp.prototype.w;f.l=function(){return this.width};f.ph=Hp.prototype.l;f.o=function(){return this.height};f.lh=Hp.prototype.o;f.Za=function(){return this.F()+this.l()};f.Ld=Hp.prototype.Za;f.wa=function(){return this.w()+this.o()};f.gd=Hp.prototype.wa;f.pa=function(){return new V(this.F(),this.w(),this.l(),this.o())};f.Ta=function(){return 0};f.setSize=function(){};f.la=function(a){this.ka&&this.ka.la(a);this.width=a};
f.ea=function(a){this.ka&&this.ka.ea(a);this.height=a};f.jb=function(){};f.eb=function(){};f.setPosition=function(){};function Wp(a,b){a.Eb=b;sD(a)}f.Gf=function(){var a=Tp(this);return 0<a.length?(a=a[a.length-1],a.oc()&&a.lM()):!1};function VC(a){a=Tp(a);return 0<a.length?a[a.length-1].oc():!0}
f.wk=function(a){var b;this.Eb&&this.selected!==a&&!this.Fh&&(a||(this.selected=!1),b=this.Eb.Da(),a=a||this===b,b!==this&&(b.selected=!a,b.trigger("change:selected",b,!a)),this.selected=a,this.trigger("change:selected",this,a))};f.Hf=function(){return this.selected};f.remove=function(){this.elements.slice().forEach(function(a){xO(a);a.remove()});this.Eb&&Xp(this.Eb,this);this.Eb=null};
function UO(a){a.elements.forEach(function(a){a.C().fadeOut()});return P.delay(400).then(function(){for(;0<a.elements.length;){var b=a.elements[0];xO(b);b.C().remove();a.oj(b)}a.elements=[]})}f.K=function(){return this.Eb?cp(this.Eb,this):-1};f.iu=function(){return Pm(this.serialize())};function sD(a){(function(){a.ia().slice(0).forEach(function(b){b instanceof tC&&a.oj(b)})})();(function(){var b=a.kb();b&&pv(b).forEach(function(b){(b=yg(b))&&OC(a,b,0)})})()}f.isEmpty=function(){return 1>this.ia().filter(function(a){return!a.Fh}).length};
f.kb=function(){var a=this.Eb;return a?a.kb():null};f.Hv=function(){return this.sG};function Un(a,b){this.rU=this.qU=this.pU=this.oU=this.Yx=this.vv=this.ZP=this.$P=this.scrollHeight=this.scrollWidth=this.scrollTop=this.scrollLeft=0;this.EI=this.PF=null;this.g_=!!b;this.rR=Zg(this);this.uR=Zg(this);this.lI=new tP({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});this.Oc=a;this.Tj=$("\x3cdiv\x3e").addClass("scrollThumb");this.Dk=$("\x3cdiv\x3e").addClass("scrollThumb");this.vq=this.vq.bind(this);this.VG=this.VG.bind(this);this.QG=this.QG.bind(this);
this.SG=this.SG.bind(this);this.OG=this.OG.bind(this);this.PG=this.PG.bind(this);this.bB=this.bB.bind(this);this.cB=this.cB.bind(this);this.MG=this.MG.bind(this);this.NG=this.NG.bind(this)}f=Un.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;
f.render=function(){this.Oc.addClass("scrollElement");$("\x3cdiv\x3e").addClass("scrollTrack hScrollTrack").append(this.Tj).insertAfter(this.Oc);$("\x3cdiv\x3e").addClass("scrollTrack vScrollTrack").append(this.Dk).insertAfter(this.Oc);uP(this);this.Oc.on("scroll",this.VG);this.Oc.on("transitionend",this.vq);this.Oc.on("mouseenter",this.QG);this.Oc.on("mouseleave",this.SG);this.Tj.on("mousedown",this.OG);this.Dk.on("mousedown",this.PG);this.lI.on("attrModified",this.vq);this.lI.on("subtreeModified",
this.vq);this.lI.observe(this.Oc);$("\x3cspan\x3e").appendTo(this.Oc).remove();$(window).on("resize",this.vq);return this};f.remove=function(){vP(this.lI);this.Oc.off("scroll",this.VG);this.Oc.off("transitionend",this.vq);this.Oc.off("mouseenter",this.QG);this.Oc.off("mouseleave",this.SG);this.Tj.off("mousedown",this.OG);this.Dk.off("mousedown",this.PG);$(window).off("resize",this.vq);return this};
function uP(a){Zg(a).read(function(a){var c=this.Oc.prop("clientWidth"),d=this.Oc.prop("offsetWidth"),e=this.Oc.prop("clientHeight"),g=this.Oc.prop("offsetHeight");a.write(function(){d>c&&this.Oc.css("margin-right",c-d);g>e&&this.Oc.css("margin-bottom",e-g);this.ab()})})}f.ab=function(){this.rR.read(this.q_)};
f.q_=function(){var a=this.scrollWidth,b=this.scrollHeight,c=this.vv,d=this.Yx;this.scrollWidth=this.Oc.prop("scrollWidth");this.scrollHeight=this.Oc.prop("scrollHeight");this.$P=this.Oc.prop("clientWidth");this.ZP=this.Oc.prop("clientHeight");this.vv=this.Tj.parent().outerWidth();this.Yx=this.Dk.parent().outerHeight();if(a!==this.scrollWidth||b!==this.scrollHeight||c!==this.vv||d!==this.Yx)this.scrollTop=this.scrollLeft=-1,this.rR.write(this.T8),this.uR.read(this.t_)};
f.T8=function(){var a=Math.round(this.Yx*this.ZP/this.scrollHeight);this.Tj.css("width",Math.round(this.vv*this.$P/this.scrollWidth)+"px");this.Dk.css("height",a+"px");var a=this.$P<this.scrollWidth,b=this.ZP<this.scrollHeight,c=a!==this.PF,d=b!==this.EI;c&&(this.PF=a,this.Tj.toggleClass("disabled",!a));d&&(this.EI=b,this.Dk.toggleClass("disabled",!b));this.g_&&(c||d)&&this.trigger("change:scrollability",this.PF,this.EI)};
f.t_=function(){var a=this.scrollLeft,b=this.scrollTop;this.scrollLeft=this.Oc.scrollLeft();this.scrollTop=this.Oc.scrollTop();if(a!==this.scrollLeft||b!==this.scrollTop)this.uR.write(this.V8),this.g_&&(this.PF||this.EI)&&this.trigger("scroll",this.scrollLeft,this.scrollTop)};f.V8=function(){var a=Math.round(this.Yx*this.scrollTop/this.scrollHeight);this.Tj.css("transform","translateX("+Math.round(this.vv*this.scrollLeft/this.scrollWidth)+"px)");this.Dk.css("transform","translateY("+a+"px)")};
f.vq=function(){this.rR.read(this.q_)};f.VG=function(){this.uR.read(this.t_)};f.QG=function(){this.Tj.addClass("ready");this.Dk.addClass("ready")};f.SG=function(){this.Tj.removeClass("ready");this.Dk.removeClass("ready")};f.OG=function(a){0===a.button&&(this.oU=a.screenX,this.qU=this.scrollLeft,this.Tj.addClass("active"),$(document).on("mousemove",this.bB).on("mouseup",this.MG),a.preventDefault(),a.stopPropagation())};
f.bB=function(a){this.Oc.scrollLeft(this.qU+Math.round((a.screenX-this.oU)*this.scrollWidth/this.vv))};f.MG=function(a){this.bB(a);this.Tj.removeClass("active");$(document).off("mousemove",this.bB).off("mouseup",this.MG)};f.PG=function(a){0===a.button&&(this.pU=a.screenY,this.rU=this.scrollTop,this.Dk.addClass("active"),$(document).on("mousemove",this.cB).on("mouseup",this.NG),a.preventDefault(),a.stopPropagation())};
f.cB=function(a){this.Oc.scrollTop(this.rU+Math.round((a.screenY-this.pU)*this.scrollHeight/this.Yx))};f.NG=function(a){this.cB(a);this.Dk.removeClass("active");$(document).off("mousemove",this.cB).off("mouseup",this.NG)};function wP(){this.query="";this.p3=[]}function xP(a,b){a.query=b;return a}wP.prototype.toString=function(){return(this.query?[this.query]:[]).concat(this.p3).map(function(a){return a.toString()}).join(" AND ")};var mN=null,HM=null,rM=!1,hN=null;function NM(a){Xb=!1;Sb=new fL(Ib,[new dL]);$("#search").on("keypress",function(b){return yP.call(this,b,a)});$("#search").on("keydown",zP);$("#search").on("keyup",zP)}
function yP(a,b){function c(){$("#objectPanel menu .elements a").click()}function d(a){$("#resultsElements li.folderExpanded \x3e a:not([data-query\x3d"+a+"])").mousedown();setTimeout(function(){$("#resultsElements li:not(.folderExpanded) \x3e a[data-query\x3d"+a+"]").mousedown()},500);setTimeout(function(){$("#resultsElements \x3e .layer").animate({scrollTop:$("#resultsElements a[data-query\x3d"+a+"]").parent().position().top},O.Ca.Pq)},900)}a.stopPropagation();if(13==a.which){a=$("#search");if(!a.val().match(/^\s*$/)){var e=
$("#objectPanel").find("menu");switch(a.val().toLowerCase()){case "grid":case "grids":c();d("grids");break;case "chart":case "charts":case "graph":case "graphs":case "bar chart":case "bar graph":case "barchart":case "bargraph":case "pie chart":case "piechart":case "line chart":case "linechart":case "donut chart":case "donutchart":case "pie graph":case "piegraph":case "line graph":case "linegraph":case "donut graph":case "donutgraph":c();d("charts");break;case "layout":case "layouts":e.find(".layout a").click();
a.select();break;case "text":case "font":case "fonts":e.find(".text a").click();a.select();break;case "bkground":case "background":case "backgrounds":e.find(".backgrounds a").click();a.select();break;case "upload":case "uploads":e.find(".uploads a").click();a.select();break;default:sM(b)}}return!1}}
function sM(a,b){function c(){p.animate({scrollTop:H-O.nD},O.Ca.Pq,function(){x.remove();if(mN&&mN.isPending()){var a=fN(),a=$(".inner \x3e .searchGroup",a.find(".layer")).last();a.data("search")===hN&&gN(a)}b&&b()})}function d(){var a=$(".infoPanel",z);0<a.length&&(z.addClass("doNotTransition"),a.addClass("doNotTransition"),$(".close",a).click(),a.data("infoPanelPointer").remove(),a.remove(),z.removeClass("doNotTransition"));var b=BN(n),c=-1;$("\x3e .gallery \x3e li",z).each(function(){var a=$(this);
t+a.data("originalTop")<b&&(a.addClass("oldSearch"),setTimeout(function(){a.addClass("doNotTransition newSearch");setTimeout(function(){a.removeClass("doNotTransition newSearch oldSearch")},O.Ec)},++c*O.Ca.iw+O.Ca.YA))});setTimeout(function(){Xb=!1},c*O.Ca.iw+O.Ca.YA)}var e=$("#search"),g=e.val().trim();if(""!==g){var h=hN?hN.query:"",k=hN?hN.js():[],l=hN?hN.ai:null,m=mN&&!mN.isRejected()&&hN&&!hN.Wb,n=$("#resultsSearch"),p=n.find(".layer").first(),q=$("\x3e .inner \x3e .searchGroup",p),u=HM||hL,
v=rM,h=g===h,k=0===_.difference(k,u).length+_.difference(u,k).length,l=v===l;p.data("userPreparedSearch",!0);if(h&&k&&l&&m){var z=q.last();lN(z);if(!Xb){Xb=!0;var t=CN(z);a=t-O.nD;1<Math.abs(a-p.scrollTop())?p.animate({scrollTop:a},O.Ca.Pq,d):d()}}else{hN=new iN(g,u,null,null,null,null,null,jN(n,n.height()),null,!0,!0,kN.bind(null,a),v,null);TN?e.blur():e.select();z=$('\x3cdiv class\x3d"searchGroup hasContent" data-search-text\x3d"'+_.escape(g)+'"\x3e\x3ch2\x3e\x3c/h2\x3e\x3cul class\x3d"gallery photoGallery infoPanelGallery"\x3e\x3c/ul\x3e\x3c/div\x3e');
$("h2",z).text("“"+g+"”");z.height(n.height());var x=$();0<$(".searchLoaderHolder.on",n).length&&(x=$('\x3cdiv class\x3d"placeholder"\x3e\x3cdiv/\x3e'),x.height($(".searchLoaderHolder",n).height()),p.addClass("doNotTransition"),x.insertAfter(q.last()),p.removeClass("doNotTransition"));lN(q.last());var H=YN(p),u=BN(n),e=H>u+O.nD,g=$(),m=$();if(e){var E=u+O.nD,L=$();q.each(function(){var a=$(this);0==L.length&&CN(a)+a.outerHeight()>E&&(L=a)});0==L.length&&(L=q.last());u=$(".gallery",L);m=E-CN(L);v=
0;0<u.length&&(v=m-(u.offset().top-L.offset().top));v=ON(u,v);g=g.add(v);m=L.nextAll(".searchGroup");0>=$("li",u).length-v.length&&(g=$(),m=m.add(L));m=m.filter(function(){return!$(this).hasClass("inlineFolderGroup")});0==g.length&&0==m.length?e=!1:(n.addClass("modifying"),v=m,0<g.find("a.infoOpen").length&&(v=v.add(L)),l=$(".infoPanel",v),0<l.length&&(v.addClass("doNotTransition"),l.addClass("doNotTransition"),$(".close",l).click(),l.data("infoPanelPointer").remove(),l.remove(),v.removeClass("doNotTransition")),
u=u.data("columnData")||null,ZN(u,g),g.detach(),fA(L,!0),L.hasClass("inlineFolderGroup")&&AP(p.data("view"),!1),n.removeClass("modifying"))}q=$("\x3e .inner \x3e .searchGroup",p);g=m.map(function(){return $(this).outerHeight(!0)}).toArray().reduce(function(a,b){return a+b},0);g=YN(p)+z.height()-g;e&&g<BN(n)&&z.height(z.height()+(BN(n)-g));z.insertAfter(q.last());m.detach();var J=m.toArray(),q=q.filter(function(){return-1==J.indexOf(this)});e||0!=$(".gallery li",q.last()).length||(q.last().remove(),
q=q.filter(function(a){return a!=q.length-1}));z.data("search",hN);var H=0,Q=parseInt(z.css("padding-top"),10)+parseInt(z.css("padding-bottom"),10);q.last().addClass("doNotTransition");q.each(function(){var a=$(this);if(void 0!==a.data("contentHeight")){var b=a.data("contentHeight"),b=b+MN(a);a.height(b);H+=b+Q}});q.last().removeClass("doNotTransition");e=$("#objectPanel").find("menu .search");e.hasClass("on")||e.find("a").click();kN(a);c()}}}
function kN(a){var b=fN(),c=hN;mN&&mN.cancel();mN=null;mN=Sb.ot({Wh:wb?wb.hc():null,query:hN.query,Gn:hN.js(),un:hN.un,Rm:hN.Rm,filters:hN.filters,sort:hN.sort,elevation:hN.elevation,qz:!1,Ig:hN.Ig,from:hN.$m(),limit:hN.Yd(),fm:hN.fm,Pf:hN.Pf,ai:hN.ai,aspectRatio:hN.bi()}).then(function(b){BP(a,b)}).catch(function(d){var e=b.find(".layer \x3e .inner \x3e .searchGroup").last();if(!(d instanceof P.CancellationError&&fN().attr("id")===b.attr("id"))){if("resultsSearch"!==b.attr("id"))return lN(e),P.reject();
c.cancel();d=$('\x3cp class\x3d"noResults"\x3e').text(lc(a).format("objectPanelSearchFailed"));lN(e);e.find(".gallery").remove();e.append(d)}})}
function BP(a,b){var c=fN(),d=$(".layer \x3e .inner \x3e .searchGroup",c).last(),e=b.Yz(),g=$(".photoGallery, .backgroundGallery",d);hN.Ms=e.length;lN(c.find(".layer"));if(0==e.length&&hN.Ms>=hN.limit)hN.ZY();else{var h=hN,k=hN.query;0===h.$m()&&(h.Pf=b.u());0<e.length||h.OH?(e=e.slice(0,h.Yd()),e.forEach(function(a){Qg(yb,a.u(),a.getVersion(),a.Ic())}),e.forEach(function(b){(new CP({model:b,query:k,J:lc(a),W:Jb})).$el.appendTo(g)}),eA(g),setTimeout(function(){h.Ms>=h.limit||!h.OH?WN(c):(hN=h.OH,
kN(a))},e.length*O.Ca.iw+O.Ca.YA)):0==h.$m()&&(b=h.hY,!b||0===b.$m()&&0===b.Uz())&&(g.remove(),$(".noResults",d).remove(),b=$('\x3cp class\x3d"noResults"\x3e').text(lc(a).format("objectPanelSearchNoResults")),d.append(b))}}
function gN(a){if(0>=$(".searchLoader",a).length){var b=$('\x3cdiv class\x3d"searchLoader tileListBusyIndicator"\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e');a.append(b);b.addClass("tileListBusyIndicatorOn")}}function lN(a){$(".searchLoader",a).each(function(){$(this).remove();$(".searchLoaderHolder",a).removeClass("on")})};function DP(){this.mo=[]}DP.prototype.trigger=Backbone.Events.trigger;DP.prototype.listenTo=Backbone.Events.listenTo;DP.prototype.stopListening=Backbone.Events.stopListening;_.extend(DP.prototype,Backbone.Events);DP.prototype.Hk=function(a){EP(this,a,this.mo.length)};function EP(a,b,c){-1===a.mo.indexOf(b)&&(c=Math.max(0,Math.min(c,a.mo.length)),a.mo.splice(c,0,b),a.listenTo(b,"all",function(){a.trigger.apply(this,arguments)}),a.trigger("searchGroup:add",a,b,c))}
DP.prototype.NB=function(a){var b=this.mo.indexOf(a);-1<b&&(a.remove(),this.mo.splice(b,1),this.stopListening(a),this.trigger("searchGroup:remove",this,a,b))};function FP(a){return a.mo[a.mo.length-1]}DP.prototype.getLength=function(){return this.mo.length};function AM(a,b,c){this.bQ=a;this.title=b||"";this.G8=c||"";this.LH=[];this.VA=!0}AM.prototype.trigger=Backbone.Events.trigger;_.extend(AM.prototype,Backbone.Events);f=AM.prototype;f.pb=function(){return this.title};f.remove=function(){this.bQ.cancel()};
f.clear=function(){this.LH=[];this.VA=!0;this.bQ.reset();this.trigger("results:clear",this)};f.Yh=function(a){var b=this;this.trigger("results:willFetch",b);this.bQ.pv(a,function(c,d){b.VA=c.length>=a;0<c.length&&(b.LH=b.LH.concat(c));b.trigger("results:didFetch",b,c,d)})};f.Uz=function(){return this.LH.length};
function GP(a){var b=Ib,c=Db,d=Jb;if(-1<["grid","grids"].indexOf(a.toLowerCase()))return new HP(a);if("uploads"===a)return new IP(c,!0);if("marketplace"===a)return new IP(c,!1);b=new fL(b,[new dL]);c=new iN(a,hL,null,null,null,null,[],0,null,!1,!1,function(){},!1,null);return d.G.get(hg)&&-1<["chart","charts"].indexOf(a.toLowerCase())?new JP(b,c,Nm):new KP(b,c)}function LP(){}_.extend(LP.prototype,Backbone.Events);LP.prototype.pv=function(a,b){b&&b([],!0)};LP.prototype.cancel=function(){};
LP.prototype.reset=function(){};function KP(a,b,c){this.search=a;this.od=b;this.AM=c||Mm;this.Wb=!1;this.KH=this.Pc=null}_.extend(KP.prototype,Backbone.Events);f=KP.prototype;
f.pv=function(a,b){function c(a){return!(a instanceof P.CancellationError)}this.Pc?b&&b([],!0):this.LW(a,b,this.Wb)||(this.od.limit=a,this.KH=b,this.Pc=jL(this.search,{Wh:wb?wb.hc():null,query:this.od.query,Gn:this.od.js(),un:this.od.un,Rm:this.od.Rm,filters:this.od.filters,elevation:this.od.elevation,sort:this.od.sort,qz:!1,Ig:this.od.Ig,from:this.od.$m(),limit:this.od.Yd(),fm:this.od.fm,Pf:this.od.Pf,aspectRatio:this.od.bi()}).catch(c,function(){}).then(this.o9.bind(this)).catch(P.CancellationError,
function(){}))};f.LW=function(){return!1};f.cancel=function(){this.Wb=!0;this.Pc&&this.Pc.cancel();this.Pc=null};f.reset=function(){this.cancel();this.Wb=!1;this.od.reset()};f.o9=function(a){var b=[];!this.Wb&&a&&a.Yz()&&(b=a.Yz());this.FN(b,this.od.Yd());this.KH&&this.KH(b,this.Wb);this.Pc=this.KH=null;this.Wb||(0===this.od.$m()&&(this.od.Pf=a.u()),this.od.Ms=b.length,a=this.od,a.from+=a.limit)};f.FN=function(){};
function HP(a){this.Gx=0;this.Ke=[];this.query=a;this.Wb=!1;if("grid"===a||"grids"===a)this.query="grid",this.Ke=_.keys(Mm)}HP.prototype.cancel=function(){this.Wb=!0};HP.prototype.pv=function(a,b){if(this.Gx>=this.Ke.length||this.Wb)b&&b([],this.Wb);else{var c=this.Ke.slice(this.Gx,this.Gx+a);this.Gx+=a;b&&b(c,!1)}};HP.prototype.reset=function(){this.Wb=!1;this.Gx=0;this.Ke=[]};function IP(a,b){this.ac=a;this.Tl=b;this.Y=null;this.Wb=!1;this.Pc=null;this.iA=!1}
IP.prototype.pv=function(a,b){function c(a,c){function e(a){return(a=a.Ka().ic())&&0<Object.keys(a).length}function l(a){var b=a.Ka(),c=b.ic(),d;qF(a.Ka())&&(d=100*qF(a.Ka()).ONE_USE||0);return Jg({id:a.u(),version:b.getVersion(),files_:_.values(c),oneTimeUsePriceCents:d,status:b.nh(),type:a.lc()})}function m(a,b){a=a.u();b=b.u();return-(a<b?-1:a>b?1:0)}200===a&&c.media&&0!==c.media.length?(a=c.media.filter(e).sort(m).map(l),b&&b(a,d.Wb),d.Y=c.continuation,d.Pc=null,d.iA=!0):b&&b([],d.Wb)}var d=this,
e=[Eg,Gg];this.Pc?b&&b([],!0):null==this.Y&&this.iA?b&&b([],!1):(a=tF((new sF).St(this.Tl).Qt(!1).Ko(),e).Tg(a),null!=d.Y&&a.xj(d.Y),this.Tl||(a=a.by(!0)),this.Pc=PE(Db,a,c))};IP.prototype.cancel=function(){this.Wb=!0;this.Pc&&(this.Pc.cancel(),this.Pc=null)};IP.prototype.reset=function(){this.cancel();this.Wb=!1;this.Y=null;this.iA=!1};
function BM(a){w(!((a.uc||a.query)&&a.od));var b=a.AM||Mm;if(null!=a.od)KP.call(this,a.cQ,a.od,b);else if(null!=a.uc){var c=new wP,c=xP(c,a.query?a.query+" *":"*");KP.call(this,a.cQ,new iN(c.toString(),gL,{designType:a.uc.u()},null,null,null,[new wL({Yu:"score",direction:"DESC"}),new wL({Yu:"lastModified",direction:"DESC"}),new wL({Yu:"id",direction:"ASC"})],0,null,!1,!1,function(){},!1,null),b)}this.cF=!1;this.cA=0}_.extend(BM.prototype,KP.prototype);
BM.prototype.reset=function(){KP.prototype.reset.call(this);this.cF=!1;this.cA=0};BM.prototype.LW=function(a,b,c){var d=[];return this.cF?(MP(this,d,this.cA,a),b&&b(d,c),!0):!1};BM.prototype.FN=function(a,b){(this.cF=0===a.length||a.length<b)&&MP(this,a,this.cA,b-a.length)};function MP(a,b,c,d){c=_.rest(_.keys(a.AM),c);d=_.first(c,d);a.cA+=d.length;d.forEach(function(c){b.push(NP(a,c))})}
function NP(a,b){b=a.AM[b];a=new RI;var c=Rg(K.kb().sb);b={width:c.l(),height:c.o(),elements:[{type:"grid",left:0,top:0,width:c.l(),height:c.o(),items:b.items}]};a.name="Photo Grid";a.content=b;return a}function JP(a,b,c){KP.call(this,a,b,c);this.OJ=c;this.zL=!1;this.Jy=0}_.extend(JP.prototype,KP.prototype);JP.prototype.reset=function(){KP.prototype.reset.call(this);this.zL=!1;this.Jy=0};JP.prototype.FN=function(a){this.zL||(this.zL=OP(this,a,this.Jy,_.size(this.OJ)))};
function OP(a,b,c,d){c=_.rest(_.keys(a.OJ),c);d=_.first(c,d);a.Jy+=d.length;d.forEach(function(a,c){b.splice(c,0,a)});return a.Jy===_.size(a.OJ)}function yM(a){this.Wb=!1;this.Sa=a.Sa;this.gc=a.gc;this.ma=a.ma;this.ua=a.ua;this.bv=a.bv;this.Vr=a.Vr;this.HE=a.HE||null;this.bF=!1;this.pG=this.Y=this.Pc=null}_.extend(yM.prototype,KP.prototype);
yM.prototype.pv=function(a,b){function c(){function b(a){h.pG=a.Kb();h.bF=null==h.pG;a=a.Bf().map(function(a){return a.u()});if(!a.length)return null;k.tl=a;return new St(k)}if(h.bv){var c=(new mk).Ek(new Rj({id:h.bv})).Tg(a).xj(h.pG);return h.gc.PA(c).then(b).catch(g)}return new P(function(a){a(new St(k))})}function d(a){h.Pc=null!=a?rq(h.Sa,a):P.resolve(null);return h.Pc}function e(a){a?(h.Y=a.continuation,this.bv||(h.bF=null==h.Y),b&&b(a.documents,h.Wb),h.Pc=null):b&&b([],h.Wb)}function g(a){b&&
b([],h.Wb);throw a;}var h=this,k={Vr:h.Vr,yL:!0,Y:h.Y,limit:a};this.HE&&(k.ka=this.HE);this.bv||(k.nd=new jr({user:h.ma,D:h.ua}),k.rH=[$q]);this.Pc?b&&b([],!0):this.bF?b&&b([],this.Wb):this.Pc=c().then(d).then(e).catch(g)};yM.prototype.cancel=function(){this.Wb=!0;this.Pc&&(this.Pc.cancel(),this.Pc=null)};yM.prototype.reset=function(){this.cancel();this.Wb=!1;this.pG=this.Y=null;this.bF=!1};
function PP(a){this.ua=a.ua||null;this.Wb=!1;this.LK=a.LK;this.Sa=a.Sa;this.CU=!1;this.Y=this.Pc=null;this.Ii=a.Ii}_.extend(PP.prototype,KP.prototype);
PP.prototype.pv=function(a,b){function c(a){var b=a.Bf().map(h);k.CU=null==a.Kb();k.Y=a.Kb();return 0!==b.length?(a=new St({tl:b}),rq(k.Sa,a)):P.resolve({documents:[]})}function d(a){b(a.documents,k.Wb)}function e(){b([],k.Wb)}function g(){k.Pc=null}function h(a){return a.u()}var k=this;this.Pc?b&&b([],!0):this.CU?b&&b([],this.Wb):(a=UI((new TI).wj(this.ua).Ek("/designs/layouts"),this.LK).Tg(a).xj(this.Y),this.Pc=PI(this.Ii,a).then(c).then(d).catch(e).finally(g))};
PP.prototype.cancel=function(){this.Wb=!0;this.Pc=null};PP.prototype.reset=function(){this.cancel();this.Wb=!1;this.Y=null};function iN(a,b,c,d,e,g,h,k,l,m,n,p,q,u){this.query="";this.Gn=b;this.un=c;this.Rm=d;this.filters=e;this.elevation=g;this.sort=h;"string"===typeof a?this.query=a.trim():a instanceof pL&&(this.query="group:"+a.ja());this.from=0;this.limit=k;this.Ms=0;this.Wb=!1;this.ZY=p;this.Pf=l;this.Ig=m;this.fm=n;this.ai=q;this.aspectRatio=u;this.OH=this.hY=null}
function uM(a){var b={};a.un.forEach(function(a,c){return b[c]=a});var c={};a.Rm.forEach(function(a,b){return c[b]=a});return new iN(a.query,a.Gn,b,c,a.filters,null!=a.elevation?a.elevation:null,a.sort,a.limit,null!=a.Pf?a.Pf:null,null!=a.Ig?a.Ig:!1,null!=a.fm?a.fm:!1,function(){},null!=a.ai?a.ai:!1,void 0!==a.aspectRatio?a.aspectRatio:null)}f=iN.prototype;f.js=function(){return this.Gn};f.$m=function(){return this.from};f.Yd=function(){return this.limit};f.cancel=function(){this.Wb=!0};f.bi=function(){return this.aspectRatio};
f.Uz=function(){return this.Ms};f.reset=function(){this.Ms=this.from=0};function QP(a){if(void 0!==a&&!RP(a))throw Error("StateMachine constructed with invalid options: "+JSON.stringify(a));this.Em=a?a.RV||"none":"none";this.Ei=a?a.Ei.slice(0):[]}QP.prototype.trigger=Backbone.Events.trigger;_.extend(QP.prototype,Backbone.Events);QP.prototype.Zz=function(){return this.Em};function SP(a){return a.Ei.map(function(a){return _.extend({},a)})}
function TP(a,b){var c=a.Ei.concat(b);if(!RP({RV:a.Em,Ei:c}))throw Error("Invalid transitions being added: "+JSON.stringify(c));a.Ei=a.Ei.concat(b)}QP.prototype.transition=function(a){var b=this.Em,c=UP(this,a);if(null!==c)this.Em=c,this.trigger("state:enter",this,c,b);else throw Error("Invalid transition "+a+" from "+this.Em);};
function VP(a,b){var c=a.Em;if(-1===a.Ei.filter(function(a){return a.from===c&&a.to===b}).map(function(a){return a.to}).indexOf(b))throw Error('Cannot transition from "'+c+'" to "'+b+'"');a.Em=b;a.trigger("state:enter",a,b,c)}QP.prototype.start=function(){this.transition("start")};QP.prototype.fail=function(){this.transition("fail")};
function UP(a,b){var c=a.Ei.filter(function(c){return c.name===b&&c.from===a.Em});if(1<c.length)throw Error('More than 1 transition "'+b+'" exists from state "'+a.Em+'"');return 1===c.length?c[0].to:null}function RP(a){var b=a.RV||"none",c;c=-1===WP(a.Ei).indexOf(b)?!1:!0;var d=XP(a.Ei);a=YP(a.Ei);b=0===a.length||1===a.length&&a[0]===b;return c&&b&&0===d.length}function WP(a){a=a.map(function(a){return[a.from,a.to]});return _.uniq(_.flatten(a))}
function YP(a){return WP(a).filter(function(b){return 0===a.filter(function(a){return a.to===b}).length})}function XP(a){return WP(a).filter(function(b){var c=a.filter(function(a){return a.from===b}).map(function(a){return a.name});return c.length>_.uniq(c).length})};function In(a,b,c,d){var e;a==c?e=b>d?1.5*Math.PI:.5*Math.PI:(e=Math.atan((d-b)/(c-a)),a<c?d<b&&(e=2*Math.PI+e):e=Math.PI+e,isNaN(e)&&(e=0));return Lm(180*e/Math.PI)}function Lm(a){a%=360;0>a&&(a+=360);return a}function Gn(a){return Math.PI/180*a}function hC(a,b){a-=b;return 0>a?360+a:a}function ZP(a,b){a=Math.floor(180*Math.atan2(a.y-b.y,a.x-b.x)/Math.PI+90);return 0>a?360+a:a}
function $P(a){switch(a){case "TL":return 270;case "TR":return 0;case "BR":return 90;case "BL":return 180;default:throw Error("Quadrant does not exist");}}function Jn(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))};function aQ(a,b){this.listener=void 0;this.$f=a;this.Ed=b;this.rJ=this.visible=!1;this.qV=[]}f=aQ.prototype;f.qh=function(){return!!this.visible};
function bQ(a){a.$f.Fb().forEach(function(b){if(!(!b||0>b.K()||a.Ed.Ma.length<=b.K())){b=uD(a.Ed,b);if(0>=b.$el.find(".guides").length){var c=$('\x3cdiv class\x3d"guides"\x3e\x3cdiv class\x3d"vertical gutter"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal gutter"\x3e\x3c/div\x3e\x3c/div\x3e');b.$el.prepend(c)}b.$el.find(".guides").css("display","block")}})}f.toggle=function(){this.qh()?(this.hide(),cQ(this)):this.rJ?cQ(this):this.show()};
function dQ(a){return a.qV.filter(function(a){return a&&a.te&&a.R()})}f.add=function(a){this.qV.push(a)};f.hide=function(){var a=this;this.visible=!1;this.$f.Fb().forEach(function(b){uD(a.Ed,b).$el.find(".guides").css("display","none")});dQ(this).forEach(function(a){a.rE()});this.stopListening()};f.stopListening=function(){this.listener&&(this.listener.off("mousedown",".guides",this.ID),this.listener.off("touchstart",".guides",this.ID))};
f.show=function(){this.visible=!0;bQ(this);dQ(this).forEach(function(a){a.activate()});this.listener=new fp("#canvaDocument");this.ID=this.aL.bind(this);this.listener.on("mousedown",".guides",this.ID);this.listener.on("touchstart",".guides",this.ID)};
f.aL=function(a){function b(a){var p=a.clientX-l;a=a.clientY-m;p={align:"vertical",type:"guide",width:0,height:k.o(),left:p/W,top:0};e||(p.align="horizontal",p.width=k.l(),p.left=0,p.top=a/W,p.height=0);a=k;0<=p.left&&p.left<=a.l()&&0<=p.top&&p.top<=a.o()&&(a=new dI(p),a.appendTo(k),a.jb(p.left),a.eb(p.top),a.activate(),d.add(a));g.off("mouseup|touchend",b);g.off("mousemove|touchmove",c);h.remove()}function c(a){var b=a.clientX-l;a=a.clientY-m;e?h.css("top",0).css("left",b):h.css("top",a).css("left",
0)}var d=this,e=$(a.target).hasClass("vertical"),g=new fp($(document)),h=$('\x3cdiv class\x3d"element guide"\x3e\x3c/div\x3e'),k=this.$f.Da();a=uD(this.Ed,k);var l=a.$el.find(".page__content").get(0).getBoundingClientRect().left,m=a.$el.find(".page__content").get(0).getBoundingClientRect().top;e?h.addClass("vertical"):h.addClass("horizontal");vN(a,h);g.on("mousemove|touchmove",c);g.on("mouseup|touchend",b)};function eQ(){var a=Rb();return a.qh()?dQ(a):[]}
function cQ(a){function b(){return'\x3cdiv class\x3d"gutter"\x3e\x3c/div\x3e'}function c(){return'\x3cdiv class\x3d"column lsnap"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column rsnap"\x3e\x3c/div\x3e'}$(".page").hasClass("showGuidelines")?(a.rJ=!1,$(".page").removeClass("showGuidelines"),$(".page .guidelines").remove()):(a.rJ=!0,$(".page").addClass("showGuidelines"),$(".page__content").prepend('\x3cdiv class\x3d"guidelines"\x3e'+
b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+"\x3c/div\x3e"),fQ())}function fQ(){if(K&&K.Fb&&K.Fb()[0]){var a=(K.Fb()[0].l()-140)/18*W-2/3+"px";$(".page .guidelines .column").css("width",a);$(".page .guidelines .gutter").css("width",20*W)}}
function gQ(a){var b=uD(vb,a);if(!b.$el.hasClass("showGuidelines"))return delete ub.dA,[];if(ub.dA)return ub.dA;ub.dA=[];b.$el.find(".guidelines .gutter").each(function(a,d){function e(){return 0}function g(){return(d.getBoundingClientRect().right-k().left)/W}function h(){return(d.getBoundingClientRect().left-k().left)/W}function k(){return b.$el.find(".page__content").get(0).getBoundingClientRect()}ub.dA.push({F:h,$b:h,Ld:g,w:e,kc:e,ph:function(){return g()-h()},lh:function(){return(k().bottom-k().top)/
W},gd:function(){return(k().bottom-k().top)/W},Ta:function(){return 0}})});return ub.dA};var XB=xn("#ffffff"),YB=xn("#272c33"),ZB=xn("#7d8693");function hQ(a){var b=goog.asserts.assertArray(a.data,"expected parameter 'data' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isNumber(a.index),"index",a.index,"number");var c=a.index;soy.asserts.assertType(goog.isNumber(a.maxLength),"maxLength",a.maxLength,"number");var d=a.maxLength;soy.asserts.assertType(null==a.isEmpty||goog.isBoolean(a.isEmpty)||1===a.isEmpty||0===a.isEmpty,"isEmpty",a.isEmpty,"boolean|null|undefined");a=a.isEmpty;c='\x3ctr data-row\x3d"'+soy.$$escapeHtmlAttribute(c)+
'" class\x3d"tableView__row tableView__row--data '+(a?"tableView__row--empty":"")+'"\x3e';a=b.length;for(var e=0;e<a;e++)var g=b[e],c=c+('\x3ctd class\x3d"tableView__cell"\x3e\x3cinput maxlength\x3d"'+soy.$$escapeHtmlAttribute(d)+'" data-column\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"tableView__input tableView__input--data" type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(g)+'" /\x3e\x3c/td\x3e');return soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/tr\x3e")}
function iQ(a){var b='\x3ctr class\x3d"tableView__row tableView__row--header"\x3e';a=goog.asserts.assertArray(a.hg,"expected parameter 'header' of type list\x3cstring\x3e.");for(var c=a.length,d=0;d<c;d++)b+='\x3cth class\x3d"tableView__cell tableView__cell--header"\x3e'+soy.$$escapeHtml(a[d])+"\x3c/th\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/tr\x3e")}
function jQ(a){soy.asserts.assertType(goog.isNumber(a.count),"count",a.count,"number");var b=a.count;soy.asserts.assertType(goog.isString(a.jG)||a.jG instanceof goog.soy.data.SanitizedContent,"itemMessage",a.jG,"string|goog.soy.data.SanitizedContent");var c=a.jG;soy.asserts.assertType(goog.isString(a.GI)||a.GI instanceof goog.soy.data.SanitizedContent,"valueMessage",a.GI,"string|goog.soy.data.SanitizedContent");a=a.GI;for(var d='\x3ctr class\x3d"tableView__row tableView__row--placeholder"\x3e',e=
0;e<b;e++)d+='\x3ctd class\x3d"tableView__cell tableView__cell--placeholder"\x3e\x3cinput tabindex\x3d"-1" data-column\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"tableView__input tableView__input--placeholder" type\x3d"text" placeholder\x3d"'+(0==e?soy.$$escapeHtmlAttribute(c):soy.$$escapeHtmlAttribute(a))+'" /\x3e\x3c/td\x3e';return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/tr\x3e")}
function kQ(a){soy.asserts.assertType(goog.isString(a.mH)||a.mH instanceof goog.soy.data.SanitizedContent,"pasteMessage",a.mH,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tableView__spacer"\x3e\x3c/div\x3e\x3ctextarea placeholder\x3d"'+soy.$$escapeHtmlAttribute(a.mH)+'" class\x3d"tableView__pasteArea" cols\x3d"30" rows\x3d"10"\x3e\x3c/textarea\x3e')};function lQ(a){Backbone.View.call(this,{className:"tableView",tagName:"div"});this.i=a}r(lQ,Backbone.View);f=lQ.prototype;f.events=function(){return{"input .tableView__input":this.Mn,"keyup .tableView__input":this.u6,"keydown .tableView__input":this.oO,"focus .tableView__input--data":this.M5,"focus .tableView__input--placeholder":this.Q6,"blur .tableView__input--data":this.$A,"paste .tableView__input":this.pX,"paste .tableView__pasteArea":this.pX}};
f.K=function(a){if(!a.length)return{Db:-1,Ua:-1};var b=a.parents(".tableView__row").attr("data-row");a=$(a).attr("data-column");b=parseInt(void 0===b?-1:b,10);a=parseInt(void 0===a?-1:a,10);return{Db:b,Ua:a}};function mQ(a,b){return a.$el.find('[data-row\x3d"'+b.Db+'"] [data-column\x3d"'+b.Ua+'"]')}f.rc=function(a){return""+a.val()};f.ti=function(a){mQ(this,a).focus();return this};f.blur=function(a){mQ(this,a).blur();return this};
function nQ(a,b,c){mQ(a,b).toggleClass("tableView__input--empty",!!c)}f.xk=function(a,b,c){var d=mQ(this,a);d.length&&d.val(b)&&!c&&this.trigger("input",a,b)};f.sQ=function(a){var b=this.$el.find(".tableView__row--header");a=iQ({hg:a}).toString();b.length?b.replaceWith(a):this.$el.find(".tableView__row").first().before(a)};f.Mn=function(a){var b=$(a.currentTarget);a=this.K(b);b=this.rc(b);this.trigger("input",a,b)};
f.u6=function(a){a.stopPropagation();oQ(a)?this.xL&&this.trigger("keyup",this.xL,function(){return a.preventDefault()}):a.preventDefault()};f.oO=function(a){a.stopPropagation();var b=$(a.currentTarget),c=this.K(b),b=this.rc(b);this.xL={index:c,value:b,keyCode:a.keyCode,shiftKey:a.shiftKey,altKey:a.altKey,selectionStart:a.currentTarget.selectionStart,selectionEnd:a.currentTarget.selectionEnd};oQ(a)?this.trigger("keydown",this.xL,function(){return a.preventDefault()}):a.preventDefault()};
function oQ(a){if(a.shiftKey)switch(a.which){case 188:case 190:return!1}return!0}f.pX=function(a){var b=!1,c=$(a.currentTarget),c=this.K(c),d=(a.originalEvent.clipboardData||window.clipboardData).getData("text"),e=-1!==d.indexOf("\x3c")||-1!==d.indexOf("\x3e"),g=-1!==d.indexOf("\t"),h=-1!==d.indexOf("\n")||-1!==d.indexOf("\r");if(g||h||e){if(-1===c.Ua||-1===c.Db)b=!0,c.Db=0,c.Ua=0;a.preventDefault();this.trigger("paste",c,d,b)}};
f.Q6=function(a){a.preventDefault();a=parseInt($(a.target).attr("data-column"),10);this.trigger("append",a)};f.M5=function(a){a=$(a.currentTarget);this.trigger("focus",this.K(a));a.select()};f.$A=function(a){var b=$(a.currentTarget);a=this.K(b);b=this.rc(b);this.trigger("blur",a,b)};
f.render=function(a,b,c,d){var e=this.el,g=goog.asserts.assertArray(a,"expected parameter 'data' of type list\x3clist\x3cstring\x3e\x3e.");soy.asserts.assertType(goog.isNumber(b),"maxLength",b,"number");for(var h='\x3ctable class\x3d"tableView__table"\x3e',k=g.length,l=0;l<k;l++)h+=hQ({data:g[l],index:l,maxLength:b});b=soydata.VERY_UNSAFE.ordainSanitizedHtml(h+"\x3c/table\x3e");e.innerHTML=b;c&&this.$el.find(".tableView__row").first().before(iQ({hg:c}).toString());d&&a[0]&&a[0].length&&this.$el.find(".tableView__row").last().after(jQ({count:a[0].length,
jG:ye(this.i,a.length+1),GI:this.i.format("editorToolbarTableValue")}).toString());this.$el.append(kQ({mH:this.i.format("editorToolbarPasteSpreadsheet")}).toString())};f.insertRow=function(a,b,c,d){this.$el.find('.tableView__row--data[data-row\x3d"'+a+'"]').after(hQ({data:d,index:a+1,maxLength:c,isEmpty:b}).toString());pQ(this)};function qQ(a,b){a.$el.find('.tableView__row--data[data-row\x3d"'+b+'"]').remove();pQ(a)}
function pQ(a){var b=0;a.$el.find(".tableView__row--data").each(function(a,d){$(d).attr("data-row",a);a>b&&(b=a)});a.$('.tableView__input--placeholder[data-column\x3d"0"]').attr("placeholder",ye(a.i,b+2))}function rQ(a,b){a.$el.find(".tableView__input--placeholder").toggle(b)};function sQ(a,b,c,d,e,g){var h=this;this.view=a;this.i=b;this.dk=c;this.jj=d;this.maxLength=e||16;this.Nd=g||0;this.data=[];this.headers=[];this.Fu={Ua:0,Db:0};this.view.on("focus",function(a){h.Fu=a});this.view.on("input",function(a,b){return h.xk(a,b)});this.view.on("keyup",function(a,b){return tQ(h,a,b)});this.view.on("keydown",function(a,b){return h.Hl(a,b)});this.view.on("blur",function(a,b){h.validate(a,b);h.trigger("commit",h.getData())});this.view.on("paste",function(a,b,c){return uQ(h,a,
b,c)});this.view.on("append",function(a){return vQ(h,a)})}function wQ(a,b,c){var d=new lQ(c);c=new sQ(d,c,b.dk,b.jj,b.maxLength,b.Nd);c.setData(a);d.render(a,c.maxLength,b.XJ,!0);return{Bb:c,view:d}}f=sQ.prototype;f.setData=function(a){this.data=a};f.sQ=function(a){this.headers=a;this.view.sQ(this.headers)};
f.xk=function(a,b){-1!==a.Db&&-1!==a.Ua&&(b=this.sanitize(b),this.data[a.Db]||(this.data[a.Db]=xQ(this,a.Db+1)),this.data[a.Db][a.Ua]=b,this.validate(a,b),a=a.Ua!==this.Nd,this.trigger("change",this.getData(),a))};f.sanitize=function(a){return a.replace(/[<>]/g,"").substr(0,this.maxLength)};
f.validate=function(a,b){if(-1===a.Db||-1===a.Ua)return!1;var c=a.Ua!==this.Nd,d=gH(b),d=!isNaN(d)||""===b;c&&mQ(this.view,a).toggleClass("tableView__input--numerical",!!d).toggleClass("tableView__input--nonNumerical",!d);nQ(this.view,a,!b.length);b=this.data[a.Db].reduce(function(a,b){return!a.length&&!b.length});this.view.$('.tableView__row[data-row\x3d"'+a.Db+'"]').toggleClass("tableView__row--empty",!!b);return d};
function tQ(a,b,c){var d=b.index,e=b.value;switch(b.keyCode){case 13:c&&c();b.shiftKey?a.insertRow(d.Db):b.altKey?yQ(a,d):zQ(a,d);break;case 38:c&&c();yQ(a,d);break;case 40:c&&c();zQ(a,d);break;case 37:0==b.selectionStart&&0==b.selectionEnd&&(c&&c(),AQ(a,d));break;case 39:b.selectionStart==e.length&&b.selectionEnd==e.length&&(c&&c(),BQ(a,d));break;case 8:0===e.length&&(b=0===a.data[d.Db].reduce(function(a,b){return a.length+b.length}),0===d.Ua&&b?(c&&c(),a.deleteRow(d.Db),CQ(a,d)):(c&&c(),AQ(a,d)))}}
f.Hl=function(a,b){var c=a.index;switch(a.keyCode){case 9:b&&b();a.shiftKey?CQ(this,c):(a=c.Ua===this.jj-1,c.Db===this.data.length-1&&a&&vQ(this),c.Db<=this.data.length-1&&(a&&(c.Db=Math.min(c.Db+1,this.dk)),c.Ua=(c.Ua+1)%this.jj,this.ti(c)));break;case 27:b&&b(),this.view.blur(this.Fu)}};
function uQ(a,b,c,d){d&&DQ(a);d=-1!==c.indexOf("\n")?"\n":"\r";var e=[];c.split(d).forEach(function(a){return e.push(a.split("\t"))});c=function(a,b){return _.findIndex(a,function(a){a=a.slice(b+1);return _.any(a,function(a){return!isNaN(parseFloat(a))})})}(e,a.Nd);0<c&&a.sQ(e[c-1]);var g;for(c=Math.max(0,c);c<e.length&&c!==a.dk;c++,b.Db++)for(b.Db>=a.data.length&&a.insertRow(b.Db-1,xQ(a,b.Db+1),!0),d=0;d<Math.min(e[c].length,a.jj-b.Ua)&&d!==a.jj;d++){g=d+b.Ua;var h=a.sanitize(e[c][d]);g={Db:b.Db,
Ua:g};a.xk(g,h,!0);a.view.xk(g,h,!0);a.validate(g,h)}g&&(a.ti(g),a.trigger("change",a.getData(),!0))}f.ti=function(a,b){this.trigger("focus",a);!b&&this.view.ti(a)};function zQ(a,b){b.Db+1<a.dk&&(b.Db===a.data.length-1?vQ(a):(b.Db++,a.ti(b)))}function yQ(a,b){0<=--b.Db&&a.ti(b)}function BQ(a,b){b.Ua+1<a.jj&&(b.Ua++,a.ti(b))}function AQ(a,b){0<=--b.Ua&&a.ti(b)}function CQ(a,b){var c=0!==b.Db;0!==b.Ua?(b.Ua--,a.ti(b)):c&&(b.Db=Math.max(0,b.Db-1),b.Ua=a.jj-1,a.ti(b))}f.getData=function(){return JSON.parse(JSON.stringify(this.data))};
function xQ(a,b){for(var c=[],d=0;d<a.jj;d++)d===a.Nd?c.push(ye(a.i,b)):c.push(a.i.format("editorToolbarTableValue"));return c}
f.insertRow=function(a,b,c){var d=a+1;b=b||xQ(this,d+1);var e=!0,g=0;this.data.forEach(function(a){a.reduce(function(a,b){return""===a&&""===b})&&g++});b.forEach(function(a){return e=e&&0==a.length});this.data.length<this.dk&&0===g?(this.data.splice(d,0,b),this.view.insertRow(a,e,this.maxLength,b)):this.data.length===this.dk&&rQ(this.view,!1);this.ti({Db:d,Ua:this.Fu.Ua},c);a=this.Fu.Ua!==this.Nd;!c&&this.trigger("change",this.getData(),a)};
function vQ(a,b){a.insertRow(a.data.length-1);void 0!==b&&a.ti({Ua:b,Db:a.data.length-1})}f.deleteRow=function(a){if(1===this.data.length)return{Ua:0,Db:a};qQ(this.view,a);this.data.splice(a,1);this.data.length<this.dk&&rQ(this.view,!0);a=this.Fu.Ua!==this.Nd;this.trigger("change",this.getData(),a)};
function DQ(a){a.data.length||(a.data=[xQ(a,1)]);for(var b=a.data.length-1;0<=b;b--)if(0===b)for(var c=0;c<a.jj;c++)a.xk({Ua:c,Db:b},"",!0),a.view.xk({Ua:c,Db:b},"",!0);else a.data.splice(b,1),qQ(a.view,b);b={Ua:0,Db:0};a.Fu=b;a.ti(b,!0);a.data.length<a.dk&&rQ(a.view,!0)}f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;function EQ(a){var b=this;Backbone.View.call(this,{el:a.el,events:{"mouseover li":function(a){return $(a.currentTarget).addClass("hovering")},"mouseout li":function(a){return $(a.currentTarget).removeClass("hovering")},"hover li.selectable":function(a){b.aN||b.trigger("hover",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length)},"mouseup li.selectable":function(a){b.trigger("trigger",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length,
a)},"click li:not(.selectable)":function(){b.trigger("clickNonSelectable")}}});this.aN=!1;this.UQ=_.debounce(this.UQ,500);this.Hl=this.Hl.bind(this);$(document).on("keydown",this.Hl)}r(EQ,Backbone.View);function FQ(a){var b=$(GQ({className:a.className?" "+a.className:""}));a=a.elements.map(function(a){return $("\x3cli\x3e").toggleClass("selectable",a.$Y).toggleClass("toolbar__menuHeader",a.b4).append(a.element)});var c;(c=b.find("ul")).append.apply(c,[].concat(ma(a)));return new EQ({el:b[0]})}f=EQ.prototype;
f.select=function(a){this.$("li.active").removeClass("active");this.$("li.selectable").eq(a).addClass("active")};f.XB=function(a){var b=this.$("li.active").position().top,c=this.$(".menuList__inner"),d=this.$el.outerHeight(),b=c.scrollTop()+b-d/2;a?c.scrollTop(b):c.stop().animate({scrollTop:b},100)};f.remove=function(){$(document).off("keydown",this.Hl);Backbone.View.prototype.remove.call(this)};f.UQ=function(){this.aN=!1};
f.Hl=function(a){if("visible"===this.$el.css("visibility")){this.aN=!0;this.UQ();if(38===a.which)this.trigger("keyUp",a);else if(40===a.which)this.trigger("keyDown",a);else if(9===a.which&&a.shiftKey)this.trigger("keyShiftTab",a);else if(9===a.which)this.trigger("keyTab",a);else if(13===a.which)this.trigger("keyEnter",a);else if(27===a.which)this.trigger("keyEsc",a);else return;a.preventDefault();return!1}};function HQ(a,b,c){this.element=a instanceof jQuery?a:$(a);this.$Y=b;this.b4=c}var GQ=_.template('\n  \x3cdiv class\x3d"menuList\x3c%- className %\x3e"\x3e\n    \x3cul class\x3d"menuList__inner"\x3e\x3c/ul\x3e\n  \x3c/div\x3e\n');function IQ(a){var b=this;this.index=a.index;this.no=a.no;this.view=a.view;this.listenTo(this.view,{keyUp:function(){return JQ(b,!1)},keyDown:function(){return KQ(b,!1)},keyTab:function(){return KQ(b,!0)},keyShiftTab:function(){return JQ(b,!0)},keyEnter:function(a){null!==b.index&&b.trigger("select",b.index,b.no[b.index||0],a)},keyEsc:function(){return b.trigger("cancel")},hover:function(a){b.index=a;b.view.select(a)},trigger:function(a,d){b.trigger("select",a,b.no[a],d)},clickNonSelectable:function(){return b.trigger("cancel")}})}
function LQ(a){var b=FQ({elements:a.elements,className:a.className});"undefined"!==typeof a.Hu&&b.select(a.Hu);return new IQ({index:"undefined"===typeof a.Hu?null:a.Hu,no:a.elements.filter(function(a){return a.$Y}),view:b})}function JQ(a,b){a.index||(a.index=0);a.index--;0>a.index&&(a.index=b?a.no.length-1:0);a.view.select(a.index);a.view.XB();a.trigger("activeChange",a.no[a.index])}f=IQ.prototype;f.XB=function(a){this.view.XB(a)};
function KQ(a,b){a.index||(a.index=0);a.index++;a.index>=a.no.length&&(a.index=b?0:a.no.length-1);a.view.select(a.index);a.view.XB();a.trigger("activeChange",a.no[a.index])}f.remove=function(){this.stopListening();this.view.remove()};f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.off=Backbone.Events.off;f.on=Backbone.Events.on;function MQ(){Backbone.View.call(this,{className:"sideDrawer",tagName:"section"});this.visible=!1;this.Rn=[];this.$el.hide().append('\x3cdiv class\x3d"sideDrawer__frame"\x3e\x3c/div\x3e')}r(MQ,Backbone.View);MQ.prototype.events=function(){return{click:this.preventDefault}};MQ.prototype.preventDefault=function(a){a.stopPropagation();a.preventDefault()};MQ.prototype.bu=function(a){this.Rn.push(a);this.$el.find(".sideDrawer__frame").append(a.$el);return this};
function TC(a,b){b&&!a.visible?(a.visible=!0,a.$el.show(),a.$el.addClass("sideDrawer--showing"),a.$el.removeClass("sideDrawer--hiding")):!b&&a.visible&&NQ(a)}function NQ(a){a.visible=!1;a.$el.addClass("sideDrawer--hiding");a.$el.removeClass("sideDrawer--showing");P.delay(200*1.1).then(function(){return a.$el.hide()})}MQ.prototype.remove=function(){this.trigger("remove");this.Rn.forEach(function(a){a.stopListening();a.remove()});Backbone.View.prototype.remove.call(this)};function OQ(){}function PQ(){this.type="separator"}r(PQ,OQ);function QQ(a,b){PQ.call(this);this.id=a;this.label=b}r(QQ,PQ);
function RQ(a,b,c){c=void 0===c?{}:c;this.id=a;this.label="number"==typeof b?b.toFixed(1).toString().replace(".0",""):b;this.Jt=(c.Jt||b).toString();this.yf=!!c.yf;this.tn=c.tn;this.enabled=void 0===c.enabled?!0:c.enabled;this.hidden=!!c.hidden;this.icon=!!c.icon;this.Sf=c.Sf;this.uj=!!c.uj;this.Xe=c.Xe||"no";"string"==typeof c.Pe?(a=c.Pe,b=-1<navigator.platform.indexOf("Mac")?"⌘":"Ctrl ",a=a.replace("^",b)):a=void 0;this.Pe=a}r(RQ,OQ);
function SQ(a,b,c){this.id=a;this.label=b;this.placeholder=c;this.type="input"}r(SQ,OQ);function TQ(a,b,c){c=void 0===c?{}:c;this.id=a;this.label=b;this.type="slider";this.min=c.min||0;this.max=c.max||100;this.step=c.step||1}r(TQ,OQ);function UQ(a,b,c){this.color=a;this.label=b;this.index=c||0;this.type="color";this.target="any"}r(UQ,OQ);function VQ(a,b,c){UQ.call(this,a,b,c);this.target="fill"}r(VQ,UQ);function WQ(a,b,c){UQ.call(this,a,b,c);this.target="text"}r(WQ,UQ);function XQ(a,b){var c=!1,d=new PQ,e=[];a instanceof sC?(e.push(new VQ("",ve(b))),c=!0):a.bb&&a.bb().length&&(e=e.concat(a.bb().map(function(a,c){if(a instanceof en)return new VQ(a.qa(),ve(b),c);if("string"===typeof a)return new VQ(a,ve(b),c);if(null===a)return new VQ("",ve(b),c)})),c=!0);if(a instanceof ap||a.gg&&a.gg()&&(a.zV()||a.Sp()))c&&e.push(d),e.push(new RQ("filter",b.format("editorToolbarImageFilter"),{enabled:a.cq(),hidden:a instanceof ap&&!a.gg()}));if(a.Cm||a instanceof ap)c&&-1===e.indexOf(d)&&
e.push(d),e.push(new RQ("crop",b.format("editorToolbarImageCrop"),{enabled:!(a.Yp&&a.Yp()),hidden:a instanceof ap&&!a.Cm}));if(a.Zp()){c&&-1===e.indexOf(d)&&e.push(d);var g=[];g.push(new RQ("flipHorizontal",b.format("editorToolbarElementFlipHorizontally"),{icon:!0}));g.push(new RQ("flipVertical",b.format("editorToolbarElementFlipVertically"),{icon:!0}));e.push(new RQ("flip",b.format("editorToolbarElementFlip"),{Sf:g,uj:!0}))}c&&a.jA()&&(-1===e.indexOf(d)&&e.push(d),e.push(new RQ("gridSpacing",b.format("editorToolbarGridSpacing"),
{Sf:[new TQ("gridSpacing",b.format("editorToolbarGridSpacing"))]})));return e}
function YQ(a,b){var c=[],d={HorizontalAlignLeft:new RQ("HorizontalAlignLeft",me(b),{icon:!0,yf:!0}),HorizontalAlignCenter:new RQ("HorizontalAlignCenter",oe(b),{icon:!0,yf:!0}),HorizontalAlignRight:new RQ("HorizontalAlignRight",ne(b),{icon:!0,yf:!0}),VerticalAlignTop:new RQ("VerticalAlignTop",pe(b),{icon:!0,yf:!0}),VerticalAlignCenter:new RQ("VerticalAlignCenter",re(b),{icon:!0,yf:!0}),VerticalAlignBottom:new RQ("VerticalAlignBottom",qe(b),{icon:!0,yf:!0})},e={HorizontalDistribute:new RQ("HorizontalDistribute",
te(b),{icon:!0,yf:!0}),VerticalDistribute:new RQ("VerticalDistribute",ue(b),{icon:!0,yf:!0})};c.push(new QQ("AlignTo",b.format("editorToolbarElementAlignTo")));a.forEach(function(a){d[a.id]&&c.push(d[a.id])});c.push(new QQ("SpaceEvenly",b.format("editorToolbarElementSpaceEvenly")));a.forEach(function(a){e[a.id]&&c.push(e[a.id])});return c}
function ZQ(a,b,c){var d=[],e={group:new RQ("group",c.format("editorToolbarElementGroup"),{enabled:!1}),ungroup:new RQ("ungroup",c.format("editorToolbarElementUngroup"),{enabled:!0}),copy:new RQ("copy",c.format("editorToolbarElementCopy")),arrange:new RQ("arrange",c.format("editorToolbarElementArrange"),{uj:!0,Sf:[new RQ("forward",c.format("editorToolbarElementForward"),{icon:!0,Pe:"^]",yf:!0}),new RQ("back",c.format("editorToolbarElementBack"),{icon:!0,Pe:"^[",yf:!0})]}),transparency:new RQ("transparency",
le(c),{icon:!0,Sf:[new TQ("transparency",le(c))]}),link:new RQ("link",c.format("editorToolbarElementLink"),{icon:!0,Sf:[new SQ("link",c.format("editorToolbarElementLinkApply"),c.format("editorToolbarElementLinkPlaceholder"))]}),"delete":new RQ("delete",ke(c),{icon:!0}),deletePlaceholderMenu:new RQ("deleteMenu",ke(c),{icon:!0,uj:!0,Sf:[new RQ("imageDelete",c.format("editorToolbarDeleteMenuDeleteImage"),{icon:!1}),new RQ("delete",we(c),{icon:!1})]}),deleteElementMenu:new RQ("deleteMenu",ke(c),{icon:!0,
uj:!0,Sf:[new RQ("elementDelete",we(c),{icon:!1}),new RQ("delete",c.format("editorToolbarDeleteMenuDeleteGroup"),{icon:!1})]})};0!==b.length&&YQ(b,c).forEach(function(a){e.arrange.Sf.push(a)});d.push(new PQ);var g=["deletePlaceholder","deleteElement"];a.forEach(function(b){-1<g.indexOf(b)||("delete"===b?(d.push(new RQ("more",c.format("editorToolbarElementMore"),{Sf:[],uj:!0,enabled:!1})),-1!==a.indexOf("deletePlaceholder")?d.push(e.deletePlaceholderMenu):-1!==a.indexOf("deleteElement")?d.push(e.deleteElementMenu):
d.push(e["delete"])):d.push(e[b]))});return d};function $Q(a,b){a=goog.asserts.assertArray(a.items,"expected parameter 'items' of type list\x3c[color: string, disableTooltip: bool, editable: string, enabled: bool, icon: bool, id: string, index: float|int, label: string, placeholder: string, shortcut: string, submenu: list\x3c[color: string, disableTooltip: bool, editable: string, enabled: bool, icon: bool, id: string, label: string, placeholder: string, shortcut: string, target: string, tooltip: string, type: string, vertical: bool]\x3e, target: string, tooltip: string, type: string, vertical: bool]\x3e.");
var c='\x3cul class\x3d"toolbar__list"\x3e';if(a)for(var d=a.length,e=0;e<d;e++){var g=a[e];if("color"==g.type)g=aR({color:g.color,label:g.label,index:g.index,target:g.target},b);else if("slider"==g.type){var h=g;soy.asserts.assertType(goog.isString(h.id)||h.id instanceof goog.soy.data.SanitizedContent,"id",h.id,"string|goog.soy.data.SanitizedContent");g=h.id;soy.asserts.assertType(goog.isString(h.label)||h.label instanceof goog.soy.data.SanitizedContent,"label",h.label,"string|goog.soy.data.SanitizedContent");
var k=h.label;soy.asserts.assertType(goog.isNumber(h.min),"min",h.min,"number");var l=h.min;soy.asserts.assertType(goog.isNumber(h.max),"max",h.max,"number");var m=h.max;soy.asserts.assertType(goog.isNumber(h.step),"step",h.step,"number");h=h.step;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--slider"\x3e\x3clabel class\x3d"toolbar__label toolbar__label--'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(k)+'\x3c/label\x3e\x3cdiv class\x3d"toolbar__sliderWrapper"\x3e\x3cdiv class\x3d"toolbar__sliderBackground"\x3e\x3c/div\x3e\x3cinput class\x3d"toolbar__slider toolbar__slider--'+
soy.$$escapeHtmlAttribute(g)+'" type\x3d"range" min\x3d"'+soy.$$escapeHtmlAttribute(l)+'" max\x3d"'+soy.$$escapeHtmlAttribute(m)+'" step\x3d"'+soy.$$escapeHtmlAttribute(h)+'" /\x3e\x3c/div\x3e\x3cinput class\x3d"toolbar__sliderValue toolbar__sliderValue--'+soy.$$escapeHtmlAttribute(g)+'" type\x3d"number" min\x3d"'+soy.$$escapeHtmlAttribute(l)+'" max\x3d"'+soy.$$escapeHtmlAttribute(m)+'" step\x3d"'+soy.$$escapeHtmlAttribute(h)+'" disabled\x3d"disabled" /\x3e\x3c/li\x3e')}else if("input"==g.type)l=
g,soy.asserts.assertType(goog.isString(l.id)||l.id instanceof goog.soy.data.SanitizedContent,"id",l.id,"string|goog.soy.data.SanitizedContent"),g=l.id,soy.asserts.assertType(goog.isString(l.label)||l.label instanceof goog.soy.data.SanitizedContent,"label",l.label,"string|goog.soy.data.SanitizedContent"),k=l.label,soy.asserts.assertType(goog.isString(l.placeholder)||l.placeholder instanceof goog.soy.data.SanitizedContent,"placeholder",l.placeholder,"string|goog.soy.data.SanitizedContent"),l=l.placeholder,
g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--input"\x3e\x3cinput class\x3d"toolbar__input toolbar__input--'+soy.$$escapeHtmlAttribute(g)+'" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(l)+'" /\x3e\x3cbutton class\x3d"button buttonSmall toolbar__submit toolbar__submit--'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(k)+'\x3c/button\x3e\x3cdiv class\x3d"toolbar__inputLabel toolbar__inputLabel--'+soy.$$escapeHtmlAttribute(g)+'"\x3e\x3c/div\x3e\x3c/li\x3e');
else if("separator"==g.type)g='\x3cli class\x3d"toolbar__item toolbar__separator toolbar__subheading"\x3e'+(g.label?'\x3cspan class\x3d"toolbar__label"\x3e'+soy.$$escapeHtml(g.label)+"\x3c/span\x3e":"")+"\x3c/li\x3e";else{var n=g,g=b;soy.asserts.assertType(goog.isString(n.id)||n.id instanceof goog.soy.data.SanitizedContent,"id",n.id,"string|goog.soy.data.SanitizedContent");k=n.id;soy.asserts.assertType(goog.isString(n.label)||n.label instanceof goog.soy.data.SanitizedContent,"label",n.label,"string|goog.soy.data.SanitizedContent");
l=n.label;soy.asserts.assertType(goog.isString(n.Jt)||n.Jt instanceof goog.soy.data.SanitizedContent,"tooltip",n.Jt,"string|goog.soy.data.SanitizedContent");m=n.Jt;soy.asserts.assertType(null==n.yf||goog.isBoolean(n.yf)||1===n.yf||0===n.yf,"disableTooltip",n.yf,"boolean|null|undefined");h=n.yf;soy.asserts.assertType(null==n.icon||goog.isBoolean(n.icon)||1===n.icon||0===n.icon,"icon",n.icon,"boolean|null|undefined");var p=n.icon;soy.asserts.assertType(null==n.enabled||goog.isBoolean(n.enabled)||1===
n.enabled||0===n.enabled,"enabled",n.enabled,"boolean|null|undefined");var q=n.enabled;soy.asserts.assertType(null==n.hidden||goog.isBoolean(n.hidden)||1===n.hidden||0===n.hidden,"hidden",n.hidden,"boolean|null|undefined");var u=n.hidden;soy.asserts.assertType(null==n.uj||goog.isBoolean(n.uj)||1===n.uj||0===n.uj,"vertical",n.uj,"boolean|null|undefined");var v=n.uj;soy.asserts.assertType(null==n.Xe||n.Xe instanceof goog.soy.data.SanitizedContent||goog.isString(n.Xe),"editable",n.Xe,"null|string|undefined");
var z=n.Xe;soy.asserts.assertType(null==n.Pe||n.Pe instanceof goog.soy.data.SanitizedContent||goog.isString(n.Pe),"shortcut",n.Pe,"null|string|undefined");var t=n.Pe;soy.asserts.assertType(null==n.Sf||goog.isArray(n.Sf),"submenu",n.Sf,"?Array\x3c{color: string, disableTooltip: boolean, editable: string, enabled: boolean, hidden: boolean, icon: boolean, id: string, index: number, label: string, placeholder: string, shortcut: string, submenu: !Array\x3c{color: string, disableTooltip: boolean, editable: string, enabled: boolean, hidden: boolean, icon: boolean, id: string, label: string, placeholder: string, shortcut: string, target: string, tooltip: string, type: string, vertical: boolean}\x3e, target: string, tooltip: string, type: string, vertical: boolean}\x3e|undefined");
n=n.Sf;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--'+soy.$$escapeHtmlAttribute(k)+" "+(q?"enabled":"disabled")+" "+(u?"hidden":"")+" "+(n?"toolbar__item--submenu":"")+'"\x3e\x3cbutton data-item\x3d"'+soy.$$escapeHtmlAttribute(k)+'" class\x3d"toolbar__button toolbar__button--'+soy.$$escapeHtmlAttribute(k)+" "+(p?"toolbar__button--icon":"")+'"\x3e'+("number"==z?'\x3cinput class\x3d"toolbar__inputButton toolbar__inputButton--'+soy.$$escapeHtmlAttribute(k)+
'" type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(l)+'" /\x3e':'\x3cspan class\x3d"toolbar__label toolbar__label--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(l)+'\x3c/span\x3e\x3cspan class\x3d"toolbar__spinner"\x3e\x3c/span\x3e'+(t&&h?'\x3cspan class\x3d"toolbar__shortcut toolbar__shortcut--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(t)+"\x3c/span\x3e":""))+"\x3c/button\x3e"+(h?"":'\x3cdiv class\x3d"toolbar__tooltip toolbar__tooltip--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+
soy.$$escapeHtml(m)+(t?'\x3cspan class\x3d"toolbar__shortcut toolbar__shortcut--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(t)+"\x3c/span\x3e":"")+"\x3c/div\x3e")+(n?'\x3cmenu class\x3d"toolbar toolbar--'+soy.$$escapeHtmlAttribute(k)+" "+(v?"toolbar--vertical":"")+'"\x3e'+$Q({items:n},g)+"\x3c/menu\x3e":"")+"\x3c/li\x3e")}c+=g}return soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/ul\x3e")}
function aR(a,b){b=b||{};soy.asserts.assertType(goog.isString(a.color)||a.color instanceof goog.soy.data.SanitizedContent,"color",a.color,"string|goog.soy.data.SanitizedContent");var c=a.color;soy.asserts.assertType(goog.isNumber(a.index),"index",a.index,"number");var d=a.index;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var e=a.label;soy.asserts.assertType(goog.isString(a.target)||a.target instanceof
goog.soy.data.SanitizedContent,"target",a.target,"string|goog.soy.data.SanitizedContent");a=a.target;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--color toolbar__item--color--'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cbutton data-colorindex\x3d"'+soy.$$escapeHtmlAttribute(d)+'" class\x3d"toolbar__button toolbar__button--color toolbar__button--icon toolbar__target--'+soy.$$escapeHtmlAttribute(a)+" "+(""==c?"noColor":"")+'" '+(""!=c?'style\x3d"'+(b.Yb?"/*"+
b.Yb+"*/":"")+"background-color: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(c))+'"':"")+'\x3e\x3c/button\x3e\x3cdiv class\x3d"toolbar__tooltip"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e\x3c/li\x3e")}
function bR(a){soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");var b=a.url;soy.asserts.assertType(goog.isNumber(a.width),"width",a.width,"number");var c=a.width;soy.asserts.assertType(goog.isNumber(a.height),"height",a.height,"number");a=a.height;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"'+soy.$$escapeHtmlAttribute(c)+'" height\x3d"'+soy.$$escapeHtmlAttribute(a)+'" viewBox\x3d"0 0 '+
soy.$$escapeHtmlAttribute(c)+" "+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdefs\x3e\x3cfilter id\x3d"invert"\x3e\x3cfeColorMatrix in\x3d"SourceGraphic" type\x3d"matrix" values\x3d"-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0"/\x3e\x3c/filter\x3e\x3c/defs\x3e\x3cimage x\x3d"0" y\x3d"0" width\x3d"'+soy.$$escapeHtmlAttribute(c)+'" height\x3d"'+soy.$$escapeHtmlAttribute(a)+'" xlink:href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(b))+'" filter\x3d"url(#invert)"/\x3e\x3c/svg\x3e')};function cR(a){var b="toolbar ",b=a.name?b+" toolbar--"+a.name:b,b=a.UD?b+" "+a.UD:b,b=a.Mi?b+" toolbar--"+a.Mi:b;Backbone.View.call(this,{className:b,tagName:"menu"});this.H=a.H;this.name=a.name;this.Mi=a.Mi;this.element=a.element;this.ZG=a.ZG;this.ME=!1}r(cR,Backbone.View);f=cR.prototype;
f.events=function(){return{"mousedown \x3e .toolbar__list \x3e .toolbar__item--submenu.enabled \x3e .toolbar__button":this.b_,"mouseup .toolbar__item--submenu:not(.toolbar__item--more).enabled .toolbar .toolbar__item \x3e .toolbar__button":this.w$,"click \x3e .toolbar__list \x3e .toolbar__item--submenu.enabled \x3e .toolbar__button":this.v$,"click .toolbar__item--more.enabled .toolbar .toolbar__button":this.b_}};f.b_=function(a){a=$(a.target);this.ME=!0;dR(this,a.closest(".toolbar__item"),a)};
f.w$=function(a){a=$(a.target).closest(".toolbar__item");var b=a.find(".toolbar__button \x3e .toolbar__inputButton");!b.length&&this.ME&&a.parents(".toolbar__item--submenuExpanded").length?(eR(this),this.ME=!1):b.length&&b.addClass("toolbar__inputButton--active").focus().select()};f.v$=function(){this.ME=!1};
function dR(a,b,c){if(b.hasClass("toolbar__item--submenu")||b.hasClass("toolbar__item--color")){a.trigger("openSubmenu",b,c);var d=b.hasClass("toolbar__item--more"),e=b.parents(".toolbar__item--more").length,g=a.$el.find(".toolbar--more");if(e)g.after(b.find(".toolbar").clone()),g.addClass("hidden");else{c=c.hasClass("toolbar__inputButton--fontSize")&&b.hasClass("toolbar__item--submenuExpanded");d&&g.hasClass("hidden")||c||!a.ZG||a.ZG();b.hasClass("toolbar__item--submenuExpanded")||b.addClass("toolbar__item--submenuExpanded");
var h=b.find(".toolbar__button \x3e .toolbar__inputButton");a=b.find(".toolbar:first \x3e .toolbar__list \x3e .toolbar__item--input");d=b.find(".menuList").length;h.length?il(function(){h.addClass("toolbar__inputButton--active").focus().select()}):d?b.find(".menuList__inner .active").focus():a.length&&a.focus();g.removeClass("hidden");g.next(".toolbar").remove()}}}
function eR(a,b){b=void 0===b?0:b;var c=a.$el.find(".toolbar__item--submenuExpanded");if(c){var d=c.parents(".toolbar").data("element");a.trigger("closeSubmenu",d)}a.$el.find(".toolbar__inputButton--active").removeClass("toolbar__inputButton--active");return P.delay(b).then(function(){return c.addClass("toolbar__item--submenuCollapsing")}).delay(200).then(function(){return c.removeClass("toolbar__item--submenuExpanded toolbar__item--submenuCollapsing")})}f.C=function(){return this.element};
f.getName=function(){return this.name};f.Ru=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("disabled").addClass("enabled")})};f.FK=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("enabled").addClass("disabled")})};
f.WF=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).addClass("hidden")})};f.tZ=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("hidden")})};f.Tf=function(a,b){b?this.Ru(a):this.FK(a)};
function fR(a,b){a.$el.find(".toolbar__item--fontFamily .toolbar__spinner").toggleClass("toolbar__spinner--visible",b)}function gR(a,b,c,d){c="number"==typeof c?c.toFixed(1).toString().replace(".0",""):c;a.$el.find(".toolbar__label--"+b).text(c);a.$el.find(".toolbar__inputButton--"+b).val(c);d&&a.$el.find(".toolbar__label--"+b).css("font-family",d)}function hR(a,b,c){a.$el.find(".toolbar__item--"+b).toggleClass("toolbar__item--active",c)}
f.BS=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){var b=d.$el.find(".toolbar__item--"+a);b.addClass("toolbar__item--active");b.closest(".toolbar").closest(".toolbar__item--submenu:not(.toolbar__item--more)").children(".toolbar__button:first").addClass("toolbar__activeItem--"+a)});return this};
f.VT=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){var b=d.$el.find(".toolbar__item--"+a);b.removeClass("toolbar__item--active");b.closest(".toolbar").closest(".toolbar__item--submenu:not(.toolbar__item--more)").children(".toolbar__button:first").removeClass("toolbar__activeItem--"+a)});return this};f.sD=function(a,b){this.$el.find(".toolbar__item--"+a).append(b.$el).addClass("toolbar__item--submenu")};
f.zy=function(a){"right"===this.Mi?this.$el.appendTo(a):this.$el.prependTo(a)};f.setFillColor=function(a,b,c){this.setColor(a,b,c,"fill")};function iR(a,b,c,d){a.setColor(b,c,d,"text")}
f.setColor=function(a,b,c,d){function e(a){var b="",c=100/a.length;a.forEach(function(d,e){var g=e*c+"%",q=(e+1)*c+"%";0==e?b+=d+" "+q+",":e==a.length-1?b+=d+" "+g:(b+=d+" "+g+",",b+=d+" "+q+",")});return{V$:"-webkit-linear-gradient(left, "+b+")",a$:"linear-gradient(to right, "+b+")"}}c=c||0;var g=this.$el.find(".toolbar__button--color");d&&(g=g.filter(".toolbar__target--"+d));g=g.filter('[data-colorindex\x3d"'+c+'"]');g.length||(g=this.$el.not(".toolbar--element").find(".toolbar__list"),"fill"===
d?g.append(aR(new VQ("",b,c)).toString()):"text"===d?g.append(aR(new WQ("",b,c)).toString()):g.append(aR(new UQ("",b,c)).toString()),g=this.$el.find(".toolbar__button--color").filter('[data-colorindex\x3d"'+c+'"]'));0<a.length?(g.removeClass("noColor"),1==a.length?-1<a[0].indexOf("url")||a[0]===AB?g.css("background-color","").css("background-image","").addClass("noColor"):g.css("background-color",a[0]).css("background-image",""):(a=a.map(function(a){return a||"black"}),a=e(a),g.css("background-color",
"").css("background-image",a.V$).css("background-image",a.a$))):this.element.data("fill")?(a=mh(this.element.data("fill")),g.css("background-color",a.qa()).css("background-image","").removeClass("noColor")):g.css("background-color","").css("background-image","").addClass("noColor")};function jR(a){a.$el.find(".toolbar__separator").removeClass("hidden");a=a.$el.find(".toolbar__item:not(.hidden)").last();a.hasClass("toolbar__separator")&&a.addClass("hidden")}f.addClass=function(a){this.$el.addClass(a)};
f.removeClass=function(a){this.$el.addClass(a)};f.render=function(a){this.el.innerHTML=$Q({items:a});return this};function kR(a){this.view=a.view;this.items=a.items;this.element=a.element;this.cd=a.element.data("canvaElement");this.Do=[];this.lW=0}function lR(a){var b=new cR({H:a.H,name:a.name,UD:a.UD,Mi:a.Mi,element:a.element,ZG:function(){return a.Ne.trigger("hideContextualControlsRequested")}});return(new kR({element:a.element,view:b,items:a.items})).render()}
function mR(a){a.view.$el.css("visibility","hidden");a.view.$el.find(".toolbar__item").each(function(a,c){c=$(c);var d=c.outerWidth(!0);0===a&&(d+=c.position().left);c.attr("data-width",d)});a.view.$el.find(".toolbar__item--more").addClass("disabled").removeClass("enabled");a.view.$el.css("visibility","visible")}f=kR.prototype;
f.oF=function(){var a=this,b=this.Ue&&this.Ue.width();if(b!==this.lW){this.lW=b;var c=function(){return a.view.$(".toolbar__item--collapsed").length},d=this.view.$el.filter(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item").not(".toolbar__item--delete, .toolbar__item--more, .toolbar__item--deleteMenu"),e=this.view.$el.not(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item"),g=this.view.$(".toolbar__item--more"),h=g.data("width"),k=20;this.view.$("\x3e .toolbar__list \x3e .toolbar__item").not(".toolbar__item--collapsed").not(".toolbar__item--more.disabled").each(function(a,
b){k+=$(b).data("width")});if(k>b)for(c=e.get().concat(d.get()).reverse(),d=0;d<c.length&&(e=$(c[d]),e.hasClass("toolbar__item--collapsed")||(e.addClass("toolbar__item--collapsed"),k-=parseInt(e.data("width"),10),g.hasClass("disabled")&&(k+=h,g.removeClass("disabled").addClass("enabled")),!(k<b)));d++);else if(c()&&k<b){h=e.filter(".toolbar__item--collapsed").get().concat(d.filter(".toolbar__item--collapsed").get());for(d=0;d<h.length;d++)if(e=$(h[d]),k+e.data("width")<b)k+=e.data("width"),e.removeClass("toolbar__item--collapsed");
else break;1>=c()&&(this.view.$(".toolbar__item--collapsed").removeClass("toolbar__item--collapsed"),g.removeClass("enabled").addClass("disabled"))}var b=this.view.$el.not(".toolbar--element").find(".toolbar__item--collapsed").get(),g=this.view.$el.filter(".toolbar--element").find(".toolbar__item--collapsed").get(),l=this.view.$(".toolbar--more ul");l.empty();b.forEach(function(a){return l.append($(a).clone().removeClass("toolbar__item--collapsed"))});g.forEach(function(a){return l.append($(a).clone().removeClass("toolbar__item--collapsed"))});
this.view.$(".toolbar").each(function(a,b){b.getBoundingClientRect().right>window.innerWidth&&$(b).addClass("toolbar--alignRight")});b=this.view.$el.filter(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item:last-child").find("\x3e .toolbar__button .toolbar__tooltip");b.length&&b.get(0).getBoundingClientRect().right>window.innerWidth&&b.addClass("toolbar__tooltip--alignRight")}};f.C=function(){return this.element};f.sD=function(a,b){this.view.sD(a,b.view);this.Do.push(b)};
function nR(a,b){a.view.$el=a.view.$el.add(b.view.$el);a.Do.push(b)}f.save=function(a){this.view.$el.data("element",this.element);this.view.$el.data("toolbar",this);this.element.data(a||"toolbar",this)};f.hide=function(){this.view.$el.hide()};f.show=function(){this.view.$el.show()};
f.zy=function(a,b){this.Ue=a;this.activate();this.Ue.empty().append('\x3cdiv class\x3d"toolbar__wrapper"\x3e\x3c/div\x3e');this.view.zy(this.Ue.find(".toolbar__wrapper"));mR(this);this.oF();this.QP=_.debounce(this.oF.bind(this),300);this.viewport=b;this.viewport.on("resize",this.QP)};f.activate=function(){this.Ue&&this.Ue.addClass("toolbarContainer--active")};f.rE=function(){this.Ue&&this.Ue.removeClass("toolbarContainer--active")};
function oR(a,b){a.Ue&&a.Ue.toggleClass("toolbarContainer--noAnimation",!b)}function pR(a,b,c){b.forEach(function(b,e){b instanceof en?a.view.setFillColor([b.qa()],c,e):"string"==typeof b&&a.view.setFillColor([b],c,e)});jR(a.view)}function qR(a){function b(a){a.forEach(function(a){a instanceof IQ&&a.XB(!0);a.Do&&b(a.Do)})}a.Do&&b(a.Do)}f.addClass=function(a){this.view.$el.addClass(a)};f.removeClass=function(a){this.view.$el.addClass(a)};f.data=function(a){return"canvaElement"===a?this.cd:this.element};
f.fo=function(a){this.Do.forEach(function(b){b.view.getName()===a&&b.remove(!0)})};f.remove=function(a){var b=this;this.QP&&this.viewport.off("resize",this.QP);a?(oR(this,!1),this.rE(),this.Do.forEach(function(a){a.remove(!0)}),this.view.remove()):(this.rE(),P.delay(400).then(function(){oR(b,!0);b.Do.forEach(function(a){a.remove(!0)});b.view.remove()}))};f.render=function(){this.view.render(this.items);return this};f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;f.off=Backbone.Events.off;f.on=Backbone.Events.on;function rR(a,b,c){a=a||"Glegoo";b=b===tE?c.Hd():b;return[new RQ("fontFamily",a,{Jt:c.format("editorToolbarFontFamilyTooltip")}),new RQ("fontSize",b,{Jt:c.format("editorToolbarFontSizeTooltip"),Xe:"number"}),new PQ,new WQ("",ve(c)),new PQ,new RQ("bold",c.format("editorToolbarTextBold"),{icon:!0,Pe:"^B"}),new RQ("italic",c.format("editorToolbarTextItalic"),{icon:!0,Pe:"^I"}),new RQ("textAlign",c.textAlign(),{icon:!0,Sf:[new RQ("left",c.format("editorToolbarTextLeft"),{icon:!0,Pe:"^ Shift L"}),new RQ("center",
c.format("editorToolbarTextCenter"),{icon:!0,Pe:"^ Shift C"}),new RQ("right",c.format("editorToolbarTextRight"),{icon:!0,Pe:"^ Shift R"})]}),new RQ("uppercase",c.format("editorToolbarTextUppercase"),{icon:!0,Pe:"^ Shift K"}),new RQ("list",c.format("editorToolbarTextList"),{icon:!0}),new PQ,new RQ("textSpacing",c.format("editorToolbarTextSpacing"),{Sf:[new TQ("letterSpacing",c.letterSpacing(),{min:-200,max:800,step:10}),new TQ("lineHeight",c.lineHeight(),{min:.5,max:2.5,step:.01}),new PQ,new RQ("textVerticalAlign",
c.format("editorToolbarResizeTextBox")),new RQ("textVerticalAlignTop",c.format("editorToolbarResizeTextBoxFromTop"),{icon:!0,Pe:"^ Alt T"}),new RQ("textVerticalAlignMiddle",c.format("editorToolbarResizeTextBoxFromMiddle"),{icon:!0,Pe:"^ Alt M"}),new RQ("textVerticalAlignBottom",c.format("editorToolbarResizeTextBoxFromBottom"),{icon:!0,Pe:"^ Alt B"})]})]}
function sR(a){function b(b){var d=b.name||b.family,e=b.displayName||d,g=c(b.displayNameThumbnail),k=g.url,l=0<=k.indexOf("media-private"),d=$('\x3cbutton href\x3d"#"\n          data-name\x3d"'+d+'"\n          data-display-name\x3d"'+e+'"\n          data-family\x3d"'+b.family+'"\n          data-image-src\x3d"'+k+'"\n          title\x3d"'+e+'"\n          class\x3d"toolbar__button toolbar__button--font"\x3e\x3c/button\x3e');E||e!==H&&b.family!==H||(d.addClass("toolbar__button--selected"),E=!0);a.z_&&
l?e=$('\x3cdiv class\x3d"toolbar__thumbnailSVG"\x3e\x3c/div\x3e').append(bR(g).toString()):(e=$('\x3cimg class\x3d"toolbar__thumbnail" src\x3d"'+g.url+'" width\x3d"'+g.width+'" height\x3d"'+g.height+'" alt\x3d"'+e+'" /\x3e'),l&&e.addClass("toolbar__thumbnail--inverted"));d.append(e);if(e=b.sampleTextThumbnail)e=!!b.sampleTextThumbnail&&!(MJ.has(h.locale)&&(!h.locale||!b.locales||-1!==b.locales.indexOf(h.locale)));e&&(b=c(b.sampleTextThumbnail),a.z_&&l?(l=$('\x3cdiv class\x3d"toolbar__fontSampleTextSVG"\x3e\x3c/div\x3e').append(bR(b).toString()),
d.append(l)):d.append($('\x3cimg class\x3d"toolbar__fontSampleText" src\x3d"'+b.url+'" width\x3d"'+b.width+'" height\x3d"'+b.height+'" /\x3e')));return new HQ(d,!0,!1)}function c(a){return{url:a.url,width:a.width/a.height*30,height:30}}function d(a){a=$('\x3cdiv class\x3d"toolbar__menuHeaderLine"\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar__menuListSeparator"\x3e'+a+'\x3c/div\x3e\x3cdiv class\x3d"toolbar__menuHeaderLine"\x3e\x3c/div\x3e');return new HQ(a,!1,!0)}function e(a){var b=a.find(".menuList__inner");
a=a.find(".toolbar__fontCta");if(0===a.length){a=$;var c;c=k.format("editorToolbarFontUploadUpgradePrompt");var d=k.uN();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"prompt",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"buttonLabel",d,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"toolbar__fontCta"\x3e\x3cdiv class\x3d"toolbar__fontCtaLabel"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cbutton class\x3d"button buttonSmall toolbar__fontCtaButton"\x3e'+soy.$$escapeHtml(d)+"\x3c/button\x3e\x3c/div\x3e");a=a(c.toString());a.insertAfter(b)}}function g(a){var b=a.find(".menuList__inner");a=a.find(".toolbar__fontCta");if(0===a.length){a=$;var c;c=k.format("editorToolbarFontUploadCtaTitle");var d=k.format("editorToolbarFontUploadCtaLabel"),e=!(0<h.WC.length);soy.asserts.assertType(goog.isString("/brand"),"url","/brand","null|string|undefined");soy.asserts.assertType(null==
c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"title",c,"null|string|undefined");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"label",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(e)||1===e||0===e,"buttonEnabled",e,"boolean");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"toolbar__fontUploadFeatureCta"\x3e'+(e?'\x3ca class\x3d"toolbar__fontUploadFeatureCtaTarget" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("/brand"))+
'" '+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+' target\x3d"_blank"\x3e\x3cbutton class\x3d"button toolbar__fontUploadFeatureCtaButton"\x3e'+rp({za:"toolbar__fontUploadFeatureCtaButtonIcon"})+soy.$$escapeHtml(d)+"\x3c/button\x3e\x3c/a\x3e":'\x3cdiv class\x3d"toolbar__fontUploadFeatureCtaLink"\x3e\x3ca class\x3d"toolbar__fontUploadFeatureCtaTarget" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("/brand"))+'" '+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+' target\x3d"_blank"\x3e+ '+
soy.$$escapeHtml(d)+"\x3c/a\x3e\x3c/div\x3e")+"\x3c/div\x3e");a=a(c.toString());a.insertAfter(b)}}var h=a.t3,k=a.zf,l=QJ(h),m=_.uniq(h.nP,!1,function(a){return a.family+a.displayName}),n=NJ(h),p=a.G2.map(function(a){return OA(h,a)}).filter(function(a){return!!a}).sort(h.YJ),q=new Set(l.filter(function(a){return!h.locale||!a.locales||-1!==a.locales.indexOf(h.locale)})),l=l.filter(function(a){return!q.has(a)}),u=n.length||m.length,v=0<q.size,z=2<=p.length||0<p.length&&u,t=0<l.length,x=v?k.format("editorToolbarOtherFontFamily"):
k.format("editorToolbarAllFontFamily"),H=a.Kz;H||(H=p[0]?p[0].displayName||p[0].name||p[0].family:m[0]?m[0].displayName||m[0].name||m[0].family:"Glegoo");var E=!1,u=[],u=z?u.concat(d(k.format("editorToolbarDocumentFontFamily"))).concat(p.map(b)):u,u=m.length?u.concat(d(k.format("editorToolbarBrandFontFamily"))).concat(m.map(b)):u,u=n.length?u.concat(d(k.format("editorToolbarUploadedFontFamily"))).concat(n.map(b)):u,u=v?u.concat(d(k.format("editorToolbarLocaleFontFamily"))).concat([].concat(ma(q)).map(b)):
u,u=t?u.concat(d(x)).concat(l.map(b)):u,m=_.findIndex(u.filter(function(a){return a.element&&a.element.data("name")}),function(a){return a.element.data("name")===H}),m=LQ({elements:u,Hu:m});a.u3?e(m.view.$el):a.v3&&g(m.view.$el);m.view.$el.find(".toolbar__button--selected").parent().addClass("active");return m}
function tR(a,b){var c=Lb,d=b.map(function(b){var d=b===a?"toolbar__button--selected":"",e=b===tE?zc(c).Hd():b;b=$('\x3cbutton class\x3d"toolbar__button '+d+'"\x3e').attr("data-text",b).text(e)[0];return new HQ(b,!0,!1)}),e=b.indexOf(a);if(-1===e)for(var g=Math.ceil(a),h=0;h!==b.length;h++)g>b[h]&&(e=h);b=LQ({elements:d,Hu:e});b.view.$el.find(".toolbar__button--selected").parent().addClass("active");return b}var tE=Number.POSITIVE_INFINITY;function Uz(a){Backbone.View.call(this,{className:"toolbarContainer",tagName:"menu"});this.i=a.i}var uR,vR,wR,xR;r(Uz,Backbone.View);
Uz.prototype.init=function(a){var b=this.i;yR(b);$("#content").on("click",".toolbar__button",!1);zR.forEach(function(b){var c=this;(AR[b]||[]).forEach(function(g){c.$el.on("click",g,{cancel:!0},BR(b,a))})}.bind(this));$("#content").on("click",function(a){$(a.target).closest(".toolbar--fx,.toolbar--flip,.toolbar__item--submenu,.colorPalette,.colorPicker").length||T.trigger("hideContextualControlsRequested")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--back",{cancel:!0},function(){CR(this)});
this.$el.on("mouseup",".enabled \x3e .toolbar__button--forward",{cancel:!0},function(){DR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--copy",{cancel:!0},ER);this.$el.on("click",".enabled \x3e .toolbar__button--delete",{cancel:!0},function(){FR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--imageDelete",{cancel:!0},function(){T.trigger("hideContextualControlsRequested");var a=$(this).parents(".toolbar").last().data("element").data("canvaElement");if(a){var b=a.Hc(),c=
a.ol(b),b={elementIndex:a.K(),pageIndex:a.R().K(),placeholderIndex:b,"new":{},old:c};a.KY();M.register(new Y(lO,b));a.ab()}});this.$el.on("click",".enabled \x3e .toolbar__button--elementDelete",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("toolbar");a&&(a=a.cd)&&a instanceof wC&&GR(a)});this.$el.on("click",".enabled \x3e .toolbar__button--group",{cancel:!0},HR);this.$el.on("click",".enabled \x3e .toolbar__button--ungroup",{cancel:!0},IR);this.$el.on("click",".enabled \x3e .toolbar__button--crop",
{cancel:!0},JR);this.$el.on("mouseup",".enabled \x3e .toolbar__button--flipHorizontal",{cancel:!0},function(){var a=KR(this);if(a instanceof sC){var b=a.Hc(),c=a.Kp(b),h=c.xa,k=h^1;c.st(k);a={pageIndex:cp(K,a.R()),elementIndex:a.K(),placeholderIndex:b,old:{flipOrientation:h},"new":{flipOrientation:k}};M.register(new Y(12,a))}else LR.call(this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--flipVertical",{cancel:!0},function(){var a=KR(this);if(a instanceof sC){var b=a.Hc(),c=a.Kp(b),h=c.xa,
k=h^2;c.st(k);a={pageIndex:cp(K,a.R()),elementIndex:a.K(),placeholderIndex:b,old:{flipOrientation:h},"new":{flipOrientation:k}};M.register(new Y(12,a))}else MR.call(this)});this.$el.on("click",".toolbar__fontCtaButton",{cancel:!0},function(){var a=Mb;a.j.va(km("toolbar_fonts_menu","bottom","fonts"));Fo(a,NR)});this.$el.on("click",".toolbar__fontUploadFeatureCtaTarget",{cancel:!0},function(){Ml(OR(),"upload_your_own_fonts","editor","toolbar","font_dropdown")});this.$el.on("mouseleave",".enabled.toolbar__item--submenu .menuList",
{cancel:!0},PR);this.$el.on("keyup",".enabled \x3e .toolbar__button \x3e .toolbar__inputButton--fontSize",{cancel:!0},QR);this.$el.on("click",".enabled \x3e .toolbar__button--bold",{cancel:!0},function(){RR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--uppercase",{cancel:!0},function(){SR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--italic",{cancel:!0},function(){TR(this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--left",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");
UR(a,"left")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--center",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");UR(a,"center")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--right",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");UR(a,"right")});this.$el.on("click",".enabled \x3e .toolbar__button--list",{cancel:!0},function(){VR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--transparency",{cancel:!0},
uR);this.$el.on("click",".enabled \x3e .toolbar__button--gridSpacing",{cancel:!0},vR);this.$el.on("click",".enabled \x3e .toolbar__button--textSpacing",{cancel:!0},wR);this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignLeft",{cancel:!0},function(){var a=WR(this);a&&XR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignRight",{cancel:!0},function(){var a=WR(this);a&&YR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignCenter",{cancel:!0},
function(){var a=WR(this);a&&ZR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignTop",{cancel:!0},function(){var a=WR(this);a&&$R(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignBottom",{cancel:!0},function(){var a=WR(this);a&&aS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignCenter",{cancel:!0},function(){var a=WR(this);a&&bS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalDistribute",{cancel:!0},function(){var a=
WR(this);a&&cS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalDistribute",{cancel:!0},function(){var a=WR(this);a&&dS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignTop",{cancel:!0},function(){eS("top",this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignMiddle",{cancel:!0},function(){eS("middle",this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignBottom",{cancel:!0},function(){eS("bottom",
this)});this.$el.on("click",".enabled \x3e .toolbar__button--link",{cancel:!0},function(){fS(this)});this.$el.on("click",".enabled \x3e .toolbar__button--filter",{cancel:!0},function(){gS(this,b)});Jb.G.get(hg)&&(this.$el.on("click",".enabled \x3e .toolbar__button--chartData",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("toolbar");if(a){a=a.cd;a.Qu=!a.Qu;var c=hS(a,b);c&&TC(c,a.XM())}}),this.$el.on("click",".enabled \x3e .toolbar__button--chartStyle",{cancel:!0},function(){var a;
$("#objectPanel menu .elements a").click();(function(b){$("#resultsElements li.folderExpanded \x3e a:not([data-query\x3d"+b+"])").mousedown();setTimeout(function(){$("#resultsElements li:not(.folderExpanded) \x3e a[data-query\x3d"+b+"]").mousedown()},500);a||(a=setTimeout(function(){$("#resultsElements \x3e .layer").animate({scrollTop:$("#resultsElements a[data-query\x3d"+b+"]").parent().position().top},O.Ca.Pq);a=void 0},900))})("charts")}));$(window).resize(iS);$(document).on("keyup",function(a){return 27===
a.which&&iS()});var c=this.$el;T.on("hideContextualControlsRequested",function(){if(c.find(".toolbar").length){var a=$(".toolbar").data("element");(a=a&&a.data("toolbar"))&&eR(a.view)}else c.removeClass("toolbarContainer--active toolbarContainer--noAnimation")})};Uz.prototype.render=function(){this.$el.html('\x3cdiv class\x3d"toolbarContainer__inner"\x3e\x3c/div\x3e');return this.$el};
function yR(a){function b(a){return 100-a}function c(){return this.Df()?this.hs(this.zb()):0}function d(){return this.Df()?this.ml(this.zb()):0}uR=jS([{name:"transparency",displayName:a.Fa(),method:Z.prototype.MF,Iy:kS(Z.prototype.$l,"transparency",b),Ny:lS(Z.prototype.MF,"transparency","transparency",!1),EN:b}]);vR=jS([{name:"gridSpacing",displayName:"Spacing",method:sC.prototype.pe,Iy:kS(sC.prototype.Xq,"gridSpacing"),Ny:lS(sC.prototype.pe,"gridSpacing","spacing",!1)}]);wR=jS([{name:"letterSpacing",
displayName:a.letterSpacing(),method:c,Iy:kS(function(a){return this.Df()&&this.hx(this.zb(),a)},"letterSpacing"),Ny:lS(c,"letterSpacing","letterSpacing",!0)},{name:"lineHeight",displayName:a.lineHeight(),method:d,Iy:kS(function(a){return this.Df()&&this.ix(this.zb(),a)},"lineHeight",function(a){return 100*a}),Ny:lS(d,"lineHeight","lineHeight",!0),EN:function(a){return.01*a}}])}function iS(){T.trigger("hideContextualControlsRequested")}function OR(){xR||(xR=U||im());return xR}
function mS(a,b,c,d,e){var g=(new UAParser).getResult().browser.name,g="IE"===g||"Edge"===g,h=c/vb.rp;c=OA(Kb,b);K.HB();e=sR({Kz:b,u3:Jb.G.get(Xf),v3:!!Jb.G.get(mg),t3:Kb,z_:g,zf:e,G2:K.fonts.slice()});d=tR(h,d);a.sD("fontFamily",e);a.sD("fontSize",d);c?gR(a.view,"fontFamily",b,c.family):gR(a.view,"fontFamily","");e.on("select",function(b,c,d){c&&-1!==b&&(nS(c),b=function(){var b=a.cd;a.remove();oS(b,zc(Lb))},d.shiftKey||eR(a.view,100).then(b))});d.on("select",function(b,c,d){c&&-1!==b&&("keydown"===
d.type?QR(d):pS(c),d.shiftKey||eR(a.view,100))});d.on("activeChange",function(b){gR(a.view,"fontSize",b.element.data("text"))});a.view.on("openSubmenu",function(a,b){a&&a.hasClass("toolbar__item--fontSize")&&(a=b.parents(".toolbar").data("element"),(a&&a.data("canvaElement"))instanceof Kp&&qS.IZ(a))});a.view.on("closeSubmenu",function(a){(a&&a.data("canvaElement"))instanceof Kp&&qS.FZ(a)})}
function DR(a){ep();var b=$(a).closest(".toolbar__item"),c=K.Da();a=c.Wa();var c=pP(c,a),d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph" class\x3d"toolbar--layerGraph"\x3e\x3c/ol\x3e'),e=0;e<c.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);b=b.closest(".toolbar").offset();d.css("top",b.top+25);d.css("left",b.left-15);if(!d.data("locked")&&(d.stop(),window.clearTimeout(d.data("fadeTimer")),0!==a.length)){var b=a[0],
g=b.K(),c=c.filter(function(a){return a.K()>g});if(a=c[0])a.mb()&&(a=mG(a)),b.insertAfter(a),b.$a(),b={oldElementIndex:g,elementIndex:b.K(),pageIndex:cp(K,b.R())},M.register(new Y(4,b));var b=$("li",d),h=b.eq(c.length),k=h.prev(),c=b.first().outerHeight(!0);h.addClass("selected");a&&(d.data("locked",!0),h.animate({left:-c/2},{duration:O.Ca.hq/2,bl:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:O.Ca.hq/2,bl:"linear",queue:!1,complete:function(){k.before(h);h.css("left","").css("top",
"");k.css("top","");d.removeData("locked")}})}}).animate({top:-c},{duration:O.Ca.hq,queue:!1}),k.animate({top:c},O.Ca.hq));a=window.setTimeout(function(){d.animate({opacity:0},O.Ca.qW,function(){$(this).remove()})},O.Ca.rW);d.data("fadeTimer",a)}}
function CR(a){ep();var b=$(a).closest(".toolbar__item");a=K.Da();var c=a.Wa();a=pP(a,c);var d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph" class\x3d"toolbar--layerGraph"\x3e\x3c/ol\x3e'),e=0;e<a.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);b=b.closest(".toolbar").offset();d.css("top",b.top+25);d.css("left",b.left-15);if(!d.data("locked")&&(d.stop(),window.clearTimeout(d.data("fadeTimer")),0!==c.length)){var e=
c[0],g=e.K(),b=a.filter(function(a){return a.K()<g}).reverse();if(c=b[0])e.insertBefore(c),e.$a(),e={oldElementIndex:g,elementIndex:e.K(),pageIndex:cp(K,e.R())},M.register(new Y(4,e));var e=$("li",d),h=e.eq(a.length-b.length),k=h.next();a=e.first().outerHeight(!0);h.addClass("selected");c&&(d.data("locked",!0),h.animate({left:-a/2},{duration:O.Ca.hq/2,bl:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:O.Ca.hq/2,bl:"linear",queue:!1,complete:function(){k.after(h);h.css("left",
"").css("top","");k.css("top","");d.removeData("locked")}})}}).animate({top:a},{duration:O.Ca.hq,queue:!1}),k.animate({top:-a},O.Ca.hq));a=setTimeout(function(){d.animate({opacity:0},O.Ca.qW,function(){$(this).remove()})},O.Ca.rW);d.data("fadeTimer",a)}}
function ER(){T.trigger("hideContextualControlsRequested");ep();T.trigger("hideContextualControlsRequested");var a=[];K.Wa().forEach(function(b){var c=b.clone(),d=b.R()||K.Da();b.DA&&!1===b.DA()&&c.nR&&c.nR();DC(c,O.gD);EC(c,O.gD);c.appendTo(d);c.pc();a.push(c)});CK();a.forEach(Ag);hh();DK();setTimeout(function(){aL(a)},O.Ec)}
function FR(a){(a=$(a).parents(".toolbar").last().data("toolbar"))&&a.remove(!0);T.trigger("hideContextualControlsRequested");CK();K.Wa().forEach(function(a){a.Df()&&a.Lx();sN(a);a instanceof yH&&Yl(OR(),"delete_chart");a.remove()});DK();$(".multipleSelectionBox").remove()}function HR(){$K()}function IR(){ZK()}function JR(){T.trigger("hideContextualControlsRequested");K.Wa().forEach(function(a){rS(a)})}function KR(a){return $(a).parents(".toolbar").last().data("element").data("canvaElement")}
function nS(a){function b(a){e.cd&&(a?g.is(".focused")||(CK(),k.forEach(c),DK()):alert("Sorry, there was a problem trying to apply the font "+h+". Please let us know about it."))}function c(a){var b=a.index,c=l.Tb(b);a={elementIndex:l.K(),pageIndex:cp(K,l.R()),textIndex:b,"new":c,old:a};M.register(new sO(1,a))}var d=a.element.parents(".toolbar"),e=d.data("toolbar");if(e){var g=e.C();d.find(".toolbar__button--fontFamily");var h=a.element.data("name");a.element.data("family");a.element.parents(".menuList").find(".toolbar__button--selected").removeClass("toolbar__button--selected");
a.element.addClass("toolbar__button--selected");var k=[];if(g){var l=e.cd;a=l.zb();if(-1!==a)k=[l.Tb(a)],l.vk(a,h,b);else if(l.mb()&&l.se())k=cG(l),l.UH(h,b);else return;aE(e);sS(e,l)}}}
function pS(a){var b=a.element.parents(".toolbar").last().data("element"),c=b.data("toolbar");if(c){var d=parseFloat(a.element.data("text"));gR(c.view,"fontSize",parseFloat(d));a.element.parents(".menuList").find(".toolbar__button--selected").removeClass("toolbar__button--selected");a.element.addClass("toolbar__button--selected");if(b){var e=b.data("canvaElement"),d=parseFloat(d*vb.rp);!e.mb()||e.Df()||e.vV()||d===tE?tS(e,function(){d===tE?e.qL():(e.BE(),e.eC(d))}):(a=d/fG(e),uS(e,a))}}}
function PR(a){a=$(a.currentTarget);a.find(".active").removeClass("active");a.find(".toolbar__button--selected").parents(".selectable").addClass("active")}
function QR(a){a.preventDefault();a.stopPropagation();var b=$(a.target),c=b.parents(".toolbar").last();if(c&&(c=c.data("element"))){var d=c.data("canvaElement");if(13===a.which){if(a=c.data("toolbar")){var c=b.closest(".toolbar__item").find(".menuList"),e=Math.min(Math.max(1,parseFloat(b.val())),400);""===b.val()||isNaN(e)?b.val(d.Jc(0)):(b.val()!==e.toString()&&b.val(e.toString()),gR(a.view,"fontSize",e.toString()),c.find(".toolbar__button--selected").removeClass("toolbar__button--selected"),c.find('[data-text\x3d"'+
e+'"]').addClass("toolbar__button--selected"),eR(a.view),e=parseFloat(e*vb.rp),d.mb()&&!d.Df()?(b=e/fG(d),uS(d,b)):tS(d,function(){d.eC(e)}))}}else 27===a.which&&b.val(d.Jc(0))}}
function gS(a,b){var c=$(a).parents(".toolbar").last(),d=c.data("element").data("canvaElement");d.cG();var e=!!c.data("isFxPanelVisible");T.trigger("hideContextualControlsRequested");if(!e){T.once("hideContextualControlsRequested",function(){c.removeData("isFxPanelVisible")});c.data("isFxPanelVisible",!0);var g=new vS({model:d.Jd(),aP:cJ,zf:b});wS(g,a.getBoundingClientRect());a.parentElement.classList.add("toolbar__item--submenuExpanded");g.$el.removeClass("appeared").addClass("appearing");g.$el.appendTo("#content");
$(".fxPanel").show();window.setTimeout(function(){g.$el.removeClass("appearing").addClass("appeared")},O.Ca.u2)}}
function fS(a){function b(a){k.removeClass("valid invalid");a?(u.text(zc(Lb).format("editorToolbarElementLinkDescription")),k.addClass("valid")):(u.text(zc(Lb).format("editorToolbarElementLinkInvalid")),k.addClass("invalid"))}function c(){var a=k.find(".toolbar__list");a.addClass("toolbar__list--linkShakeInvalid");P.delay(300).then(function(){a.removeClass("toolbar__list--linkShakeInvalid")})}function d(a){""===a||yC.Vt.test(a)||null!==a.match(/^(http)/)||(a="http://"+a);q.val(a);zC(n,a);a=q.get(0);
var b=$(a).data("element"),c=$(a).data("lastLinkState");c!=b.bn()&&(c={elementIndex:b.K(),pageIndex:cp(K,b.R()),"new":{link:b.bn()},old:{link:c||""}},M.register(new Y(10,c)),$(a).data("lastLinkState",b.bn()));h.toggleClass("hasLink",!!n.bn());eR(m.view)}function e(){var a=q.val().trim(),e=yC.URL.test(a)||yC.Vt.test(a),e=""===a||e;b(e);e?d(a):c()}function g(a){var e=$(a.target).val().trim(),g=yC.URL.test(e)||yC.Vt.test(e),g=""===e||g;b(g);13===a.which&&(g?d(e):c())}a=$(a);var h=a.parents(".toolbar").last(),
k=h.find(".toolbar--link"),l=h.data("element"),m=l.data("toolbar"),n=l.data("canvaElement"),p=n.bn();a.parents(".toolbar--more").length&&(h=a.parents(".toolbar--more").next(".toolbar"));var q=h.find(".toolbar__input--link"),u=h.find(".toolbar__inputLabel--link"),v=h.find(".toolbar__submit--link");(function(a){a.val(p).data("element",n).data("lastLinkState",p).focus().select();var c=yC.URL.test(p)||yC.Vt.test(p);b(""===p||c);a.data("linkKeyup")||(a.data("linkKeyup",g).on("keyup",g),v.on("click",e))})(q)}
function LR(){CK();K.Wa().forEach(function(a){if(a.Zp()){var b=a.xa,c=b^1;a.st(c);a={pageIndex:cp(K,a.R()),elementIndex:a.K(),"new":{flipOrientation:c},old:{flipOrientation:b}};M.register(new Y(dp,a))}});DK()}function MR(){CK();K.Wa().forEach(function(a){if(a.Zp()){var b=a.xa,c=b^2;a.st(c);a={pageIndex:cp(K,a.R()),elementIndex:a.K(),"new":{flipOrientation:c},old:{flipOrientation:b}};M.register(new Y(dp,a))}});DK()}
function jS(a){return function(){function b(a,b){var c=a.get(0),d;a.on("input",function(){d!==a.val()&&(b.call(c),d=a.val())});b.call(c)}function c(a,b){var c=a.get(0);a.off("change input");b.call(c)}if(!$(this).hasClass("disabled")){var d=$(this).parents(".toolbar").first();d.hasClass("toolbar--more")&&(d=d.next(".toolbar"));var e=$(this).parents(".toolbar").last().data("element").data("canvaElement"),g=d;a.forEach(function(a){function k(){m.off("blur",k);c(l,a.Ny)}var l=$(".toolbar__slider--"+a.name,
d),m=$(".toolbar__sliderValue--"+a.name,d),n=a.method.call(e)||0,n=("function"==typeof a.EN?a.EN(n):n).toFixed(1).toString().replace(".0","");g.addClass(a.name+"SliderPresent");l.val(n);m.val(n);l.addClass(a.name+"SliderInput");l.data("element",e);l.data(xS(a.name),a.method.call(e));var p=!1;l.on("mousedown",function(){if(!p){p=!0;b(l,a.Iy);var d=function(){$(document).off("mouseup",d);c(l,a.Ny);p=!1};$(document).on("mouseup",d)}});m.on("change",function(){var c=m.val();l.val()!==c&&""!==c&&(l.val(m.val().toString()),
b(l,a.Iy))});m.on("blur",k)})}}}function kS(a,b,c){return function(){var d=parseFloat($(this).val()),e="function"==typeof c?c(d):d,g=$(this).data("element");$(".toolbar__sliderValue--"+b).val(d.toString());g&&void 0!==e&&a.call(g,e)}}function xS(a){return"last"+a.charAt(0).toUpperCase()+a.slice(1)+"State"}
function lS(a,b,c,d){return function(){var e=xS(b),g=$(this).data("element");if(g){var h=$(this).data(e),k=a.call(g);if(h!=k){var l={elementIndex:g.K(),pageIndex:cp(K,g.R()),"new":{},old:{}};d&&g instanceof Kp?(l.textIndex=0,l["new"]=g.Tb(0),l.old=g.Tb(0),l["new"][c]=k,l.old[c]=h,M.register(new sO(1,l))):(l["new"][c]=k,l.old[c]=h,M.register(new Y(dp,l)));$(this).data(e,k)}}}}
function UR(a,b){var c=a.data("toolbar"),d=a.data("canvaElement"),e=d.zb(),g=["left","right","center"];g.splice(g.indexOf(b),1);tS(d,function(){d.vi(e,b);c.view.BS(b).VT.apply(c.view,g)})}function RR(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element").data("canvaElement"),d=c.zb(),e=c.Fe();0===e.length&&c.mb()&&c.se()&&(e=kG(c));var g=!!e.data("bold");yS(c,function(){c.oo(d,!g);JA(e,!0);g=!!e.data("bold");b.toggleClass("toolbar__item--active",g)})}
function SR(a){a=$(a).parents("li");var b=K.Wa()[0],c=b.zb(),d=b.AF(c);tS(b,function(){b.Yq(c,d?void 0:"uppercase");JA(b.cb(c),!0)});a.toggleClass("toolbar__item--active",d)}function TR(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element"),d=c.data("canvaElement"),e=d.zb(),g=d.Fe();0===g.length&&d.mb()&&d.se()&&(g=kG(d));var h=!!g.data("italic");yS(d,function(){d.qo(e,!h);JA(c,!0);h=!!g.data("italic");b.toggleClass("toolbar__item--active",h)})}
function VR(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element").data("canvaElement"),d=c.zb(),e=c.Fe(),g=!!e.data("list");yS(c,function(){c.jx(d,!g);g=!!e.data("list");b.toggleClass("toolbar__item--active",g)})}function yS(a,b){var c=a.Fe(),d=c.is(".focused"),c="true"===c.find(".inner").attr("contenteditable");d&&c?b():zS(a,b)}function tS(a,b){zS(a,b)}
function QC(a,b){if(a&&b){a.view.Tf("crop",!(b.Yp&&b.Yp()));a.view.Tf("filter",!(!b.cq||!b.cq()));var c=xe();if(!(!b.bb||!b.bb().length||a.element&&a.element.hasClass("multiSelected")||b instanceof sC||b instanceof wC||b instanceof ap&&b.Fe().length))pR(a,b.bb(),c);else if(b instanceof wC){var d=b.Yc;d instanceof Kp?iR(a.view,qE(d),c,0):d?d&&d.Kd()&&pR(a,d.bb(),c):iR(a.view,jG(b),c,0)}b.EA&&!b.hb?(a.view.$el.find(".toolbar__item").removeClass("enabled").addClass("disabled"),a.view.Ru("delete")):AS(a,
b);b.qy()&&(c=b.C().data("sideDrawer"))&&TC(c,b.XM());b instanceof wC&&!(b instanceof yH)&&(c=b.Yc,a.view.Tf("elementDelete",!!c),!b.mb()||!c||c instanceof Kp||a.view.WF("color--text","fontFamily","fontSize","bold","italic","textAlign","uppercase","list","textSpacing"))}}
function AS(a,b){var c=pP(b.R(),b),d=b.K(),e=c.filter(function(a){return a.K()>d}),c=c.filter(function(a){return a.K()<d});b=b.gG()||0!==e.length||0!==c.length;a.view.Tf("forward",0!==e.length);a.view.Tf("back",0!==c.length);a.view.Tf("arrange",b)}
function aE(a){if(!a.element||!a.element.hasClass("multiSelected")){var b=a.cd;if(b.se()){var c=b.Fe();if(b instanceof ap){if(0===c.length){a.fo("font");return}a.view.Tf("textSpacing",!1)}if(b.mb()&&!b.se())a.fo("font");else{if(1===c.length){var d=LA(c);0===d.$e.length&&(d=zA(c))}else b.mb()&&b.se()&&(d=hG(b),c=kG(b));var e=function(a){return d.$e.reduce(function(b,c){return b&&a(c)},!0)},g=e(function(a){return(a=OA(Kb,a))&&!0===a.variants.bold}),h=e(function(a){return(a=OA(Kb,a))&&!0===a.variants.italic}),
e=e(function(a){return(a=OA(Kb,a))&&!0===a.variants.boldItalic}),k=function(a){var b;if(!(b=!!c.data(a)))try{b=document.queryCommandState(a)}catch(d){b=!1}return b};a.oF();a.view.Tf("bold",!!c.data("italic")&&h&&e||!(c.data("italic")&&h)&&g);hR(a.view,"bold",k("bold"));a.view.Tf("italic",!!c.data("bold")&&g&&e||!(c.data("bold")&&g)&&h);hR(a.view,"italic",k("italic"));a.view.Tf("uppercase",!0);hR(a.view,"uppercase","uppercase"===c.data("textTransform"));g=c.data("justification")||"left";a.view.VT("left",
"center","right");a.view.BS(g);hR(a.view,"list",!!c.data("list"));g=b.zb();g=b.Jc(g);b.mb()&&!b.Df()&&(lG(b)?g=0:0!==dG(b)||(g=fG(b)));g/=vb.rp;b.CA()?gR(a.view,"fontSize",zc(Lb).Hd()):0!==g?gR(a.view,"fontSize",g):gR(a.view,"fontSize","");BS(a,b);iR(a.view,d.Af,zc(Lb).format("editorToolbarTextPickAColor"));c.data("fontFamily")?(g=c.data("fontName")||d.$e[0],h=d.$e.filter(function(a){return null!==OA(Kb,a)}),g=(1<h.length?"":h[0])||g,(h=OA(Kb,g))&&h.displayName&&(g=h.displayName),h?gR(a.view,"fontFamily",
g,h.family):gR(a.view,"fontFamily","")):1===d.$e.length?(g=d.$e[0],(h=OA(Kb,g))&&h.displayName&&(g=h.displayName),h?gR(a.view,"fontFamily",g,h.family):gR(a.view,"fontFamily","")):1<d.$e.length&&gR(a.view,"fontFamily",zc(Lb).format("editorToolbarTextMultipleFonts"),"Open Sans");b.se()&&!b.Df()&&a.view.WF("textAlign","uppercase","list","textSpacing");b=c.children(".inner");1===b.length&&(b=!0===b.get(0).isContentEditable,a.view.Tf("list",b))}}}}
function sS(a,b){var c=b.iv(),d=c.map(function(a){a=OA(Kb,a);return a.name||a.family}).filter(function(a){return!TH(Kb,a)});0<d.length?(fR(a.view,!0),UJ(Kb,d,function(){var d=new Set(b.iv()),g;a:if(g=new Set(c),d.size!==g.size)g=!1;else{for(var d=la(d),h=d.next();!h.done;h=d.next())if(!g.has(h.value)){g=!1;break a}g=!0}g&&fR(a.view,!1)})):fR(a.view,!1)}function WR(a){if((a=$(a).parents(".toolbar").last().data("element"))&&a.data("canvaElement")instanceof wC)return a.data("canvaElement")}
function eS(a,b){$(b);var c=$(b).parents(".toolbar").last().data("element");b=c.data("toolbar");if(c=c.data("canvaElement")){switch(a){case "top":SK(c);break;case "middle":TK(c);break;case "bottom":UK(c)}b&&BS(b,c)}}function PC(a){var b=a.view.$el,c=b.data("element");c&&c.data("canvaElement")&&(a.oF(),clearTimeout(CS),CS=setTimeout(function(){var a=b.data("fxPanelView");a&&wS(a,b.get(0).getBoundingClientRect())},O.Ec+100))}
function DS(a,b){var c=$(".toolbarContainer");b=[new RQ("group",b.format("editorToolbarElementGroup"),{enabled:!0}),new RQ("copy",b.format("editorToolbarElementCopy")),new RQ("arrange",b.format("editorToolbarElementArrange"),{enabled:!1}),new RQ("transparency",le(b),{icon:!0,Sf:[new TQ("transparency",le(b))],enabled:!1}),new RQ("link",b.format("editorToolbarElementLink"),{icon:!0,enabled:!1}),new RQ("delete",ke(b),{icon:!0})];b=lR({H:hl,Mi:"right",name:"element",items:b,element:a,Ne:T});a.is(".background, .group")&&
b.view.Tf("group",!1);b.zy(c,$(window));b.save()}
function ZO(a,b){var c=a.data("canvaElement"),d=$(".toolbarContainer");if(1===a.length&&c&&c.bp()){var e=a.data("toolbar");e&&e.remove();a=lR({H:hl,Mi:"right",name:"element",items:ZQ(c.ds(),c.gG()?c.aV():[],b),element:a,Ne:T});if(c.qD())nR(a,lR({H:hl,name:"image",element:c.C(),items:XQ(c,b),Ne:T}));else if(c.DS()){var g="group",h=[],e=c.jv();c instanceof yH&&(g="chart",h=[new RQ("chartData",b.format("editorToolbarElementData"),{enabled:!0}),new PQ,new VQ(c.bb()[0].qa(),ve(b))],h.push(new RQ("chartStyle",
b.format("editorToolbarElementStyle"),{enabled:!0})));var k=!1;if(c.Df()){var k=c.Fe(),l=k.data("fontName"),m=k.data("fontFamily"),l=l||m,m=c.Jc(c.zb());c.CA()&&(m=tE);(k=k.data("canvaElement"))&&(e=k.jv());h=h.concat(rR(l,m,b));k=!0}else!c.xv()&&c.se()&&(m=c.Qz(),l=m.fontName,m=m.fontFamily,l=l||m,gG(c)?m=tE:lG(c)?m=0:(m=dG(c),0===m&&(m=fG(c))),h=h.concat(rR(l,m,b)),k=!0);g=lR({H:hl,name:g,element:c.C(),items:h,Ne:T});k&&(mS(g,l,m,e,b),aE(g),sS(g,c));nR(a,g)}else c.rr()?nR(a,lR({H:hl,name:"image",
element:c.C(),items:XQ(c,b),Ne:T})):c.au()?(e=c.Fe(),g=e.data("fontName"),l=e.data("fontFamily"),g=g||l||"Glegoo",l=c.Jc(c.zb()),m=c.jv(),h=rR(g,l,b),e=lR({H:hl,name:"font",element:e,items:h,Ne:T}),c.CA()&&(l=tE),mS(e,g,l,m,b),aE(e),sS(e,c),nR(a,e)):c.ES()&&nR(a,lR({H:hl,name:"shape",element:c.C(),items:[new VQ("",ve(b))],Ne:T}));c.qy()&&hS(c,b);a.zy(d,$(window));a.save();qR(a);c.$a()}}
function eD(a){var b=$(".toolbarContainer"),c=a.data("confirmationToolbar");c||(c=lR({H:hl,name:"crop",UD:"elementToolbar",element:a,items:[new RQ("ok","Ok",{icon:!0,Pe:"↩ Enter"}),new RQ("cancel","Cancel",{icon:!0})]}),c.zy(b,$(window)),c.save("confirmationToolbar"))}
function hS(a,b){if(a.qy()){var c=a.C(),d=c.data("sideDrawer");if(!d){var e=[b.format("editorToolbarElementDataLabelColumnHeader"),b.format("editorToolbarElementDataValueColumnHeader")];b=wQ(a.getData(),a.nV(e),b);b.Bb.on("change",function(b,c){a.Js(b);a.o2({lN:c})});var g=a.getData();b.Bb.on("commit",function(b){var c={pageIndex:cp(K,a.R()),elementIndex:a.K(),"new":{data:b},old:{data:g}};M.register(new Y(15,c));g=b});d=new MQ;d.bu(b.view);TC(d,!1);$("#objectPanel section.content").after(d.$el);c.data("sideDrawer",
d);var h=function(){a.Qu=!1;TC(d,!1)};T.on("objectPanel:tabClicked",h);d.on("remove",function(){return T.off("objectPanel:tabClicked",h)})}return d}}function BS(a,b){if(b=b.Fe().data("canvaElement"))switch(hR(a.view,"textVerticalAlignTop",!1),hR(a.view,"textVerticalAlignMiddle",!1),hR(a.view,"textVerticalAlignBottom",!1),b.rs()){case "top":hR(a.view,"textVerticalAlignTop",!0);break;case "middle":hR(a.view,"textVerticalAlignMiddle",!0);break;case "bottom":hR(a.view,"textVerticalAlignBottom",!0)}}
function uS(a,b){var c=a.pa(),d=cG(a);a.BE();a.setSize(a.l()*b,a.o()*b,!0);a.Fr();b=a.pa();wm(c,b)||(CK(),d.forEach(function(b){var c=b.index,d=a.Tb(c);d.fontSize=b.fontSize;b={elementIndex:a.K(),pageIndex:cp(K,a.R()),textIndex:c,"new":d,old:b};M.register(new sO(1,b))}),c=c.serialize(),d=b.serialize(),c={elementIndex:a.K(),pageIndex:cp(K,a.R()),old:c,"new":d,proportionalSetSize:!0},M.register(new Y(dp,c)),DK())}var CS=0;function BR(a,b){var c=ES[a];return function(a){return c&&c.call(this,a,b)}}var zR=Object.keys({$R:"CLICK_FILL_COLOR",aS:"CLICK_TEXT_COLOR"}),AR={$R:[".toolbar__button--color.toolbar__target--fill"],aS:[".toolbar__button--color.toolbar__target--text"]};
function FS(a,b){function c(a){var c=a.index===b.index,d=a.type===b.type;return!(a.element===b.element&&c&&d)}if(!a)return[];var d=[];a instanceof en&&(d=Jp(a).filter(c));d.forEach(function(a){"FILL"===a.type&&(a.initial=GS(a.element,a.index));"TEXT"===a.type&&(a.initial=a.element.Tb(a.index))});return d}
function HS(a){a.forEach(function(a){if("FILL"===a.type){var c=GS(a.element,a.index);M.register(new Y(tN,{elementIndex:a.element.K(),pageIndex:a.element.R().K(),old:a.initial,"new":c}));a.initial=c}"TEXT"===a.type&&(c=a.element.Tb(a.index),M.register(new sO(1,{elementIndex:a.element.K(),pageIndex:a.element.R().K(),textIndex:a.index,old:a.initial,"new":c})),a.initial=c)})}
function IS(a,b){a.forEach(function(a){"TEXT"===a.type&&a.element.setColor(a.index,b);"FILL"===a.type&&a.element.ge(a.index,b)})}function JS(a,b){return a instanceof sC?a.Kp(b).jh():a.Kd()>b?(a=a.bb()[b],a===AB?null:a):null}function GS(a,b){if(a instanceof sC)return{index:b,placementData:a.ol(b)};var c=a instanceof ap?AB:"";a=JS(a,b);return{index:b,color:a?a.qa():c}}
var ES={$R:function(a,b){function c(a){var b=a?JS(l,m):n;(u=a)&&q.forEach(function(a){a.element.Kq()});b&&(IS(q,b),CK(),HS(q),DK());a||q.forEach(function(a){a.element.qk()})}function d(a,b){k.removeClass("noColor");k.css("background-color",a.qa());b&&IS(q,a);l.ge(m,a)}function e(a){var b=GS(l,m),c=l.R();c&&b!==p&&(CK(),a&&HS(q),M.register(new Y(tN,{elementIndex:l.K(),pageIndex:c.K(),old:p,"new":b})),DK(),p=b)}function g(){h.removeData("colorPalette");h.removeData("activeColorPaletteToolbarButton");
v.remove();e(u);l.qk();q.forEach(function(a){a.element.qk()})}var h=$(this).closest(".toolbar"),k=$(this),l=h.data("element").data("canvaElement");if(l){l.mb()&&l.Yc&&(l=l.Yc);var m=1===l.Kd()?0:l instanceof ap||l instanceof qC||l instanceof rC||l instanceof wC&&l.Yc?k.data("colorindex"):l instanceof sC?l.Hc():-1;if(-1!==m){var n=JS(l,m),p=GS(l,m);a=h.data("activeColorPaletteToolbarButton");var q=FS(n,{element:l,index:m,type:"FILL"});T.trigger("hideContextualControlsRequested");if(a!==this){l.Kq();
a=1<=q.length;var u=!1,v=new On({My:KS,qu:b.Qi&&b.Qi.Ly||[],zl:tc(b.i),Wi:rc(b.i),Ll:l.R().Eb,YB:!0,wD:!0,Pb:JS(l,m),Og:a,wy:n,j:b.j,W:Jb});v.on("preview",d);v.on("confirm",e);v.on("changeApplyAll",c);v.listenTo(M,"beforeOperationStackPop",g);v.listenTo(T,"hideContextualControlsRequested",g);v.render();v.$el.addClass("toolbar--overlay");LS.gm(v.$el,$(this));v.tC();h.data("colorPalette",v);h.data("activeColorPaletteToolbarButton",this)}}}},aS:function(a,b){function c(a){var b=a?mh(p.Tb(u).color):v;
(Q=a)&&z.forEach(function(a){a.element.Kq()});b&&(IS(z,b),CK(),HS(z),DK());a||z.forEach(function(a){a.element.qk()})}function d(a,b){L=a;n.removeClass("noColor");n.css("background-color",a.qa());b&&IS(z,a);p.setColor(u,a)}function e(a){!(q=p.R())||E===L||E&&E.equals(L)||(E=L,CK(),a&&HS(z),HS(t),x=[],H.forEach(g),DK(),H=x)}function g(a){var b=a.index,c=p.Tb(b);a={elementIndex:p.K(),pageIndex:cp(K,q),textIndex:b,old:a,"new":c};x.push(c);M.register(new sO(1,a))}function h(){m.removeData("colorPalette");
m.removeData("activeColorPaletteToolbarButton");S.remove();e(Q);z.forEach(function(a){a.element.qk()})}function k(a){return 0<a.Kd()}function l(a,b){return a.concat(b.bb().map(function(a,c){return{element:b,index:c,type:"FILL",initial:GS(b,c)}}))}var m=$(this).parents(".toolbar"),n=$(this);a=m.data("element");var p=a.data("canvaElement");p.mb()&&p.Yc&&(p=p.Yc);var q=p.R(),u=p.mb()?p.Yc?p.elements.indexOf(p.Yc):-1:p.zb(),v=mh(a.data("fill")),z=FS(v,{element:p,index:u,type:"TEXT"}),t=[],x=[];if(-1!==
u)var H=[p.Tb(u)];else if(p.mb())H=cG(p),t=p.ia().filter(k).reduce(l,[]);else return;a=m.data("activeColorPaletteToolbarButton");T.trigger("hideContextualControlsRequested");if(a!==this){var E=null,L=null;a=b.Qi&&b.Qi.Ly||[];var J=1<=z.length,Q=!1,S=new On({My:KS,zl:tc(b.i),Wi:rc(b.i),Ll:p.R().Eb,qu:a,YB:!0,wD:!0,Pb:v,Og:J,wy:v,j:b.j,W:Jb});S.on("preview",d);S.on("confirm",e);S.on("changeApplyAll",c);S.listenTo(M,"beforeOperationStackPop",h);S.listenTo(T,"hideContextualControlsRequested",h);S.render();
S.$el.addClass("toolbar--overlay");LS.gm(S.$el,n);S.tC();m.data("colorPalette",S);m.data("activeColorPaletteToolbarButton",this)}}};function MS(a){a.appendTo("#overlays")}function NS(){return $("#canvaDocument")}var LS=new nz({sy:MS,bA:NS,margin:O.uS,zC:mz}),KS=new nz({sy:MS,bA:NS,margin:O.bS,zC:mz});function OS(a){soy.asserts.assertType(goog.isString(a.v)||a.v instanceof goog.soy.data.SanitizedContent,"classes",a.v,"string|goog.soy.data.SanitizedContent");var b=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var c=a.disabled;soy.asserts.assertType(a.Rq instanceof soydata.SanitizedHtml||a.Rq instanceof soydata.UnsanitizedText||goog.isString(a.Rq),"selectContent",a.Rq,"soydata.SanitizedHtml");
var d=a.Rq;goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3chtml\x3e.");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox'+(c?" listbox--disabled":"")+" "+soy.$$escapeHtmlAttribute(b)+'" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"listbox__select"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"listbox__options"\x3e'+PS(a)+"\x3c/div\x3e\x3c/div\x3e")}
function PS(a){var b="";a=goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3chtml\x3e.");for(var c=a.length,d=0;d<c;d++)b+=soy.$$escapeHtml(a[d]);return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function QS(a,b,c){var d=this;hc.call(this,a);this.Mh=c.Mh;this.eD=b;this.fX=this.g5.bind(this);a.on("keydown",function(a){return d.Hl(a)});b.on("click",this.fX);a.on("click",function(a){$(a.target).closest("a")[0]||(d.$el.toggleClass("listbox--open"),d.trigger(RS,d.$el.hasClass("listbox--open")))});a.on("click",".listbox__option",function(a){$(a.target).closest("a")[0]||(a=d.Mh($(a.target).closest(".listbox__option")),d.trigger(SS,a))});a.on("mousemove",".listbox__option",function(a){return d.sO(a)});
a.on("mouseout",".listbox__option",function(a){d.trigger(TS,d.Mh($(a.target).closest(".listbox__option")))})}r(QS,hc);function US(a,b){return new QS(a,$(document),b)}f=QS.prototype;f.remove=function(){hc.prototype.remove.call(this);this.eD.off("click",this.fX)};f.uu=function(){this.$el.removeClass("listbox--open");this.$el.blur()};f.g5=function(a){this.$el[0]!==$(a.target).closest(".listbox")[0]&&this.trigger(VS)};function WS(a,b){a.$el.find(".listbox__select").empty().append(b.toString())}
f.Bh=function(a){this.$el.toggleClass("listbox--disabled",!a)};f.kx=function(a){a=$(PS({options:a.map(function(a){return XS(a)})}).toString());this.$el.find(".listbox__options").empty().append(a)};f.Qj=function(){var a=this;return this.$el.find(".listbox__option").toArray().map(function(b){return a.Mh($(b))})};f.length=function(){return this.Qj().length};function YS(a){return a.Qj().findIndex(function(a){return a.$el.hasClass("listbox__option--hover")})}
function ZS(a){return a.Mh(a.$el.find(".listbox__option--hover"))}f.Hl=function(a){27===a.keyCode?(a.preventDefault(),this.trigger($S)):38===a.keyCode?(a.preventDefault(),this.trigger(aT)):40===a.keyCode?(a.preventDefault(),this.trigger(bT)):13===a.keyCode&&(a.preventDefault(),this.trigger(cT))};f.sO=function(a){this.trigger(dT,this.Mh($(a.target).closest(".listbox__option")))};var RS="CLICK",SS="OPTION_SELECT",VS="BLUR",dT="HOVER",TS="UNHOVER",aT="PRESS_UP",bT="PRESS_DOWN",cT="PRESS_ENTER",$S="PRESS_ESC";
function eT(a){gc.apply(this,arguments)}r(eT,gc);eT.prototype.rc=function(){var a=this.$el.attr("data-value");return y(a&&a.toString(),"value must be present on the option")};eT.prototype.wk=function(a){this.$el.toggleClass("listbox__option--selected",a)};function fT(a,b){a.$el.toggleClass("listbox__option--hover",b)}eT.prototype.Hf=function(){return this.$el.hasClass("listbox__option--selected")};function XS(a){return soydata.VERY_UNSAFE.ordainSanitizedHtml(a.$el.prop("outerHTML"))};function gT(a){var b=this;this.view=a;this.UG=null;this.view.on(RS,function(a){return b.Jf(a)});this.view.on(SS,function(a){return hT(b,a)});this.view.on(VS,function(){return b.uu()});this.view.on(dT,function(a){return b.sO(a)});this.view.on(TS,function(a){return fT(a,!1)});this.view.on(aT,function(){var a=YS(b.view);fT(ZS(b.view),!1);0>=a?(a=b.view.length()-1,a=b.view.Qj()[a],fT(a,!0)):fT(b.view.Qj()[a-1],!0)});this.view.on(bT,function(){var a=YS(b.view);fT(ZS(b.view),!1);a===b.view.length()-1?fT(b.view.Qj()[0],
!0):fT(b.view.Qj()[a+1],!0)});this.view.on($S,function(){return b.uu()});this.view.on(cT,function(){hT(b,ZS(b.view));b.uu()})}function iT(a){Fa(0<a.length,"Need at least one option to render the listbox");a=a.filter(function(a){return a.Hf()});Fa(1===a.length,'Expected one option to be selected but found "{}"',a.length);return a[0].mh()}f=gT.prototype;f.kx=function(a){WS(this.view,iT(a));this.view.kx(a)};function jT(a,b){Fa(!a.UG,"onOptionChanged listener already registered");a.UG=b}
f.Jf=function(a){a||this.uu()};f.uu=function(){this.view.uu();fT(ZS(this.view),!1)};f.sO=function(a){fT(ZS(this.view),!1);fT(a,!0)};function hT(a,b){a.Qj().filter(function(a){return a.Hf()}).forEach(function(a){return a.wk(!1)});b.wk(!0);WS(a.view,b.mh());null!=a.UG&&a.UG(b)}function kT(a){return a.Qj().find(function(a){return a.Hf()})}f.Qj=function(){return this.view.Qj()};f.rc=function(){return y(kT(this),"At least one option must have been selected").rc()};f.Bh=function(a){this.view.Bh(a)};
f.destroy=function(){this.view.remove()};function lT(a){this.e2=a}function mT(){return new lT(function(){return new FormData})}
function qM(a){var b=mT();return new P(function(c,d){var e=b.e2();Object.keys(a.VL).forEach(function(b){e.append(b,a.VL[b])});e.append("file",a.file);var g=new XMLHttpRequest;g.onerror=d;g.onreadystatechange=function(){if(4===g.readyState){var b=Ek(g.status),e=b&&(a.FV||g.getResponseHeader("x-amz-version-id"));b&&e?c(e):d()}};g.upload.addEventListener("progress",a.progress||function(){});g.open("POST",a.url,!0);g.send(e)})};function vl(a){return Math.max.apply(Math,a)}function ul(a){return Math.min.apply(Math,a)}function nT(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0>c(a[e],b)?(d=++e,g-=h+1):g=h;return d}function oT(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0<=c(b,a[e])?(d=++e,g-=h+1):g=h;return d};function eh(a){var b,c,d,e,g,h;if(!a.src)return 0;if("data:image/svg+xml"===a.src.substring(0,18))return 1;c=a.naturalHeight;b=a.naturalWidth;d=b*c;if(isNaN(d)||0>=d)return 0;e=document.createElement("canvas");e.width=b;e.height=c;e=e.getContext("2d");e.drawImage(a,0,0);a=e.getImageData(0,0,b,c).data;for(h=e=0;h<c;h++)for(g=0;g<b;g++)0>=a[4*(g+h*b)+3]&&e++;return e/d}function QN(a,b){a=a.get(0).getBoundingClientRect();b=b.get(0).getBoundingClientRect();return ah(a,b)}
function ah(a,b){return!a||!b||a.left+a.width<=b.left||a.top+a.height<=b.top||a.left>=b.left+b.width||a.top>=b.top+b.height?!1:!0}function $C(a,b){a=a instanceof V?a:um(a);return{transform:$o({Fi:a.F(),Gi:a.w(),Rw:b||0}),left:"",top:"",width:a.l(),height:a.o()}}
function dD(a,b,c){var d={lt:0,Qw:0,Rw:0};null!=b&&(d.Fi=b.F(),d.Gi=b.w(),a.css("width",b.l()+"px"),a.css("height",b.o()+"px"));a.each(function(){var a=$(this);d.lt=a.data("FlipTransformation_rotateX")||0;d.Qw=a.data("FlipTransformation_rotateY")||0;!!(c&2)!=(0!=d.lt%360)&&(d.lt+=180,a.data("FlipTransformation_rotateX",d.lt));!!(c&1)!=(0!=d.Qw%360)&&(d.Qw+=0==d.lt%360?180:-180,a.data("FlipTransformation_rotateY",d.Qw));a.css("transform",$o(d))})}
function cD(a){var b=a.attr("style"),c,d;(c=b.match(/translate(3d)?\((-?[.\d]+)[^-.\d]+(-?[.\d]+)/))?(d=parseFloat(c[2]),c=parseFloat(c[3])):(d=parseFloat(a.css("left")),c=parseFloat(a.css("top")));var e=b.match(/width: ([.\d]+)/),g=b.match(/height: ([.\d]+)/),b=e?parseFloat(e[1]):a.width();a=g?parseFloat(g[1]):a.height();return new V(d,c,b,a)}function $B(a){a=a.get(0).getAttribute("viewBox").split(" ");return new V(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]))}
function $o(a){var b=void 0===a.lo?1:a.lo,c=void 0===a.Oq?1:a.Oq,d=a.lt||0,e=a.Qw||0,g=a.Rw||0;a=""+("translate("+(a.Fi||0)+"px,"+(a.Gi||0)+"px)");if(1!=b||1!=c)a+=" scale("+b+","+c+") ";0!=d&&(a+=" rotateX("+d+"deg)");0!=e&&(a+=" rotateY("+e+"deg)");0!=g&&(a+=" rotateZ("+g+"deg)");return a}function pT(a){a=window.getComputedStyle(a);return a.getPropertyValue("transform")||a.getPropertyValue("-webkit-transform")}
function wl(a){if(a=/^matrix(?:3d)?\(([^)]*)\)$/.exec(pT(a))){a=a[1].split(",");if(6==a.length)return{lo:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[2]),Oq:parseFloat(a[3]),Fi:parseFloat(a[4]),Gi:parseFloat(a[5])};if(16==a.length)return{lo:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[4]),Oq:parseFloat(a[5]),Fi:parseFloat(a[12]),Gi:parseFloat(a[13])}}return{lo:0,skewX:0,skewY:0,Oq:0,Fi:0,Gi:0}}
function $g(a,b,c){var d=wl(a),e;for(e in b)b.hasOwnProperty(e)&&d.hasOwnProperty(e)&&(d[e]=c?d[e]+b[e]:b[e]);b=[d.lo,d.skewX,d.skewY,d.Oq,d.Fi,d.Gi];$(a).css("transform","matrix("+b.join(",")+")")}function YD(a,b){return Math.round(1E5*a)/1E5==Math.round(1E5*b)/1E5}
function qT(a){switch(/(\s|^)(tl|t|tr|r|br|b|bl|l)(\s|$)/gi.exec(a.className)[2]){case "tl":return 0;case "t":return 1;case "tr":return 2;case "r":return 4;case "br":return 7;case "b":return 6;case "bl":return 5;case "l":return 3;default:return null}}function SC(a,b){b=Math.round(Lm(b)/45);8>b||(b=0);if(a){for(var c=0;8!==c;c++)a.removeClass("octant"+c);a.addClass("octant"+b)}}
function BJ(a,b,c,d){function e(a,b){var c=a*a,d=1-a,e=d*d;return b[0]*e*d+3*b[1]*e*a+3*b[2]*d*c+b[3]*c*a}for(var g,h,k=0,l=[];1>k;)g=e(k,[a.x,b.x,c.x,d.x]),h=e(k,[a.y,b.y,c.y,d.y]),l.push({x:g,y:h}),k+=5E-5;var m=[{x:a.x,y:a.y}],n=.05,p=null;l.forEach(function(a){null!==p&&a.x>n&&(m.push(p),n+=.05);p=a});m.push({x:d.x,y:d.y});return m}
function rT(){var a=$("#canvaDocument"),b,c,d,e;bA||$("body").hasClass("fullscreenMode")?(e=c=0,d=$(window).width(),a=$(window).height()):(e=O.d0,d=O.c0,b=O.a0,c=O.b0,d=a.width()-c-d,a=a.height()-e-b);return new V(c,e,d,a)}function sT(){var a=O.oD;return Bm(rT().translate(a,a),-2*a,-2*a)}function tT(){var a=O.uS;return Bm(rT().translate(a,a),-2*a,-2*a)};var cA=!1,bA=!1;function uT(a,b){function c(){var c=a.slice(0);b.forEach(function(a){a=SP(a.Ih.og).filter(d).map(e(a.name));c=c.concat(a)});return new QP({Ei:c})}function d(a){return"start"!==a.name}function e(a){return function(b){return{name:b.name,from:a+":"+b.from,to:a+":"+b.to}}}this.kp=null;this.mI=(b||[]).slice(0);this.og=new QP;this.xp=null;var g=this,h;0<this.mI.length?(h=c(),TP(this.og,h.Ei),this.mI.forEach(function(a){g.listenTo(a.Ih,"change:state",g.l7)})):a&&TP(this.og,a);this.listenTo(this.og,"state:enter",
this.k7)}uT.prototype.trigger=Backbone.Events.trigger;uT.prototype.listenTo=Backbone.Events.listenTo;uT.prototype.on=Backbone.Events.on;uT.prototype.off=Backbone.Events.off;_.extend(uT.prototype,Backbone.Events);uT.prototype.start=function(){this.og.start()};uT.prototype.cancel=function(){this.kp&&this.kp.cancel?(this.kp.cancel(),this.kp=null):this.kp&&this.kp.abort&&(this.kp.abort(),this.kp=null);this.mI.forEach(function(a){a.Ih.cancel()})};
uT.prototype.l7=function(a,b,c,d){var e=this.mI.filter(function(b){return b.Ih===a})[0].name+":"+b;this.og.Zz()!==e&&VP(this.og,e);var g=Array.prototype.slice.call(arguments,2),e=["change:state",this,e].concat(g);this.trigger.apply(this,e)};uT.prototype.k7=function(a,b){this.trigger("change:state",this,b)};function zP(a){a.stopPropagation()}function vT(a){a.preventDefault()}function wT(){return!1}var TN="createTouch"in document,RN=!1;function fp(a){this.el=$(a);this.QI={};this.QT=""}function oN(a){return 0<=a.QT.indexOf("touch")}fp.prototype.selected=function(a){var b=this,c=null;return function(d){var e=d.type;b.QT=e;null===c&&(c=e);return e!==c?!0:a.call(this,d)}};function xT(a){return a.split("|").filter(function(a){return""!==a})}
function yT(a){return a.split(/[|+]/).filter(function(a){return""!==a})}function zT(a,b,c,d){if(a.QI[b+"_"+c])throw a='An event handler already exists for "'+b+'"',c&&(a+=' and selector "'+c+'"'),Error(a);a.QI[b+"_"+c]=d}fp.prototype.on=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";if(0<=a.indexOf("|")){var g=this.selected(b);b.R_=g;zT(this,a,e,g);xT(a).forEach(function(a){if(e)d.el.on(a,e,g);else d.el.on(a,g)})}else if(zT(this,a,e,b),e)this.el.on(a,e,b);else this.el.on(a,b);return this};
fp.prototype.off=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";var g=this.QI[a+"_"+e];if(g){if(g!==(b.R_||b))throw Error('The given handler is not listening to event "'+a+'"');b.R_=null;yT(a).forEach(function(a){e?d.el.off(a,e,g):d.el.off(a,g)});delete this.QI[a+"_"+e]}return this};function oj(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}oj.prototype=Object.create(Error.prototype);oj.prototype.constructor=oj;
function nj(a){switch(a){case "card_declined":return new AT;case "expired_card":return new BT;case "incorrect_cvc":return new CT;case "incorrect_number":return new DT;case "invalid_cvc":return new ET;case "invalid_expiry_month":return new FT;case "invalid_expiry_year":return new GT;case "invalid_number":return new HT;case "missing":return new IT;case "processing_error":return new JT;default:return new KT(a)}}function AT(){oj.call(this,"credit card declined")}AT.prototype=Object.create(oj.prototype);
AT.prototype.constructor=AT;function BT(){oj.call(this,"credit card expired")}BT.prototype=Object.create(oj.prototype);BT.prototype.constructor=BT;function CT(){oj.call(this,"credit card cvc incorrect")}CT.prototype=Object.create(oj.prototype);CT.prototype.constructor=CT;function DT(){oj.call(this,"credit card number incorrect")}DT.prototype=Object.create(oj.prototype);DT.prototype.constructor=DT;function ET(){oj.call(this,"credit card cvc invalid")}ET.prototype=Object.create(oj.prototype);
ET.prototype.constructor=ET;function FT(){oj.call(this,"credit card expiry month invalid")}FT.prototype=Object.create(oj.prototype);FT.prototype.constructor=FT;function GT(){oj.call(this,"credit card expiry year invalid")}GT.prototype=Object.create(oj.prototype);GT.prototype.constructor=GT;function HT(){oj.call(this,"credit card number invalid")}HT.prototype=Object.create(oj.prototype);HT.prototype.constructor=HT;function LT(){oj.call(this,"credit card country invalid")}LT.prototype=Object.create(oj.prototype);
LT.prototype.constructor=LT;function MT(){oj.call(this,"credit card region invalid")}MT.prototype=Object.create(oj.prototype);MT.prototype.constructor=MT;function NT(){oj.call(this,"credit card zipcode invalid")}NT.prototype=Object.create(oj.prototype);NT.prototype.constructor=NT;function IT(){oj.call(this,"credit card missing but required")}IT.prototype=Object.create(oj.prototype);IT.prototype.constructor=IT;function JT(){oj.call(this,"credit card processing error")}JT.prototype=Object.create(oj.prototype);
JT.prototype.constructor=JT;function KT(a){oj.call(this,"unknown credit card processing error "+a);this.errorCode=a}KT.prototype=Object.create(oj.prototype);KT.prototype.constructor=KT;function OT(){oj.call(this,"no credit card entered")}OT.prototype=Object.create(oj.prototype);OT.prototype.constructor=OT;function PT(a,b){if(b instanceof AT)return a.format("creditCardDeclined");if(b instanceof BT)return a.format("creditCardExpired");if(b instanceof CT)return a.format("creditCardCvcIncorrect");if(b instanceof DT)return a.format("creditCardNumberIncorrect");if(b instanceof ET)return a.format("creditCardCvcIncorrect");if(b instanceof FT)return a.format("creditCardExpiryMonthIncorrect");if(b instanceof GT)return a.format("creditCardExpiryYearIncorrect");if(b instanceof HT)return a.format("creditCardNumberIncorrect");
if(b instanceof IT)return a.format("creditCardMissingButRequired");if(b instanceof JT)return a.format("creditCardProcessingError");if(b instanceof KT)return a.format("creditCardUnknownProcessingError",b.errorCode);if(b instanceof OT)return a.format("creditCardNoCardEntered");if(b instanceof LT)return a.format("creditCardNoCountryEntered");if(b instanceof MT)return a.format("creditCardNoRegionEntered");if(b instanceof NT)return a.format("creditCardNoZipcodeEntered");if(b instanceof oj&&b.message)return b.message;
throw Error("unrecognized CreditCardError");};function QT(){var a=window.stripeConfig;switch(a.impl){case "local":return new RT;case "stripe":return new ST(a.publishableKey,window.Stripe||null);default:throw Error('unexpected stripe impl "'+a.impl+'"');}}function RT(){}RT.prototype.createToken=P.method(function(a){return JSON.stringify({stripeId:"card_ "+Math.random(),brand:"Visa",expMonth:a.AL,expYear:a.BL,last4:a.th.slice(-4)})});function ST(a,b){(this.mf=b)&&this.mf.setPublishableKey(a)}
ST.prototype.createToken=function(a){return new P(function(b,c){if(!this.mf)throw Error("Stripe API is unavailable");a={cvc:a.Hm,exp_month:a.AL,exp_year:a.BL,number:a.th};this.mf.createToken(a,function(a,e){if(e.error){var g;try{g=e.error.code||""}catch(h){g=""}c(nj(g))}else b(e.id)})}.bind(this))};function tP(a){var b=this,c=window.MutationObserver||window.WebKitMutationObserver;this.kw=null;this.gA={nodeinserted:[],noderemoved:[],characterdatamodified:[],attrmodified:[]};this.config=a?a:{attributes:!1,childList:!0,characterData:!0,subtree:!0};this.$k=new c(function(a){a.forEach(function(a){b.handle(a)})})}tP.prototype.normalize=function(a){return a.toLowerCase()};tP.prototype.on=function(a,b){a=this.normalize(a);this.gA.hasOwnProperty(a)||(this.gA[a]=[]);this.gA[a].push(b);return this};
tP.prototype.handle=function(a){function b(b){var e=c.normalize(b),g=new jQuery.Event(b);c.kw&&(g.target=a.target,g.currentTarget=c.kw.get(0),c.gA.hasOwnProperty(e)&&c.gA[e].forEach(function(a){a.call(c.kw,g)}))}var c=this;"childList"===a.type?(a.addedNodes&&0<a.addedNodes.length?b("nodeInserted"):a.removedNodes&&0<a.removedNodes.length&&b("nodeRemoved"),b("subtreeModified")):"attributes"===a.type?b("attrModified"):"characterData"===a.type&&b("characterDataModified")};
tP.prototype.observe=function(a){var b=$(a).get(0);if(this.kw)throw Error("Already observing an element");b&&(this.$k.observe(b,this.config),this.kw=$(a))};function vP(a){a.$k.disconnect();a.kw=null};function Fp(a,b,c){this.text=b||null;b=nc(a);this.text&&this.text.toLocaleLowerCase()===be(b).toLocaleLowerCase()&&(this.text=null);this.Ku=c||null;this.i=a}Fp.prototype.on=Backbone.Events.on;Fp.prototype.off=Backbone.Events.off;Fp.prototype.trigger=Backbone.Events.trigger;function TT(a){return a.text?(a.text.match(/#[a-z0-9_-]+/gi)||[]).map(function(a){return a.slice(1).trim()}):[]}function UT(a){return null===a.text||""===a.text}Fp.prototype.rl=function(){return this.text};
function VT(a,b){var c;if(c=b){b=b.trim().replace(/\s+/g," ");c=O.Oo;var d="";b=b.trim();if(b.length<=c)c=b;else{void 0===d&&(d="…");var e=b.substr(0,c-d.length),g=b.substr(c-d.length).match(/^\S+/),h=e.match(/\S+$/);h&&g&&(e=e.substr(0,e.length-h[0].length));e=e.trim();""===e&&(e=b.substr(0,c-d.length));c=e=e.trim()+d}}b=c;a.text!==b&&(a.text=b,a.trigger("change"))}
function WT(a,b){var c=lc(a.i);a=nc(a.i);return-1!=[a.Lg(),a.format("documentSvgPlaceholderText"),Vd(c),Wd(c),c.format("objectPanelTextPanelAddBody")].indexOf(b)}function dP(a,b){var c=a.text||be(nc(a.i));b=b&&!!b.S3;a.Ku&&(UT(a)||b)&&(c=a.Ku+" – "+c);return c};function XT(a){this.media=a.media;this.$g=a.$g;this.zc=a.zc;this.Tv=a.Tv;this.cf=a.cf;this.bC=null;this.ZU=a.hm&&this.media.Jv()}f=XT.prototype;f.init=function(){var a=ZT(this);0<a.length&&!this.Gv()&&!this.pn()&&(this.bC=a[0].ak);return this};f.pn=function(){var a=this;return this.zc.some(function(b){return 0<=a.cf.indexOf(b.type)})};function $T(a){return a.pn()?a.zc[0].type:null}f.hG=function(){return"DESIGN"==this.media.lc()};
f.Gv=function(){var a=qF(this.media.Ka());return!a||aU(this)?!0:Object.keys(a).every(function(b){return 0==a[b]})};function aU(a){return a.ZU&&a.cf.some(function(a){return"ONE_USE"===a})}f.jn=function(){var a=this.media.Ka().ic()[nD];return a?a.na():null};function bU(a){if(a.ZU)return Infinity;var b=a.zc.map(function(b){return(b.EL||b.xz||Infinity)-a.Tv});return Math.min.apply(Math,[].concat(ma(b)))}f.iN=function(){return!/\.png$/.test(this.jn())};f.zn=function(a){return 0<=this.cf.indexOf(a)};
function ZT(a){var b=qF(a.media.Ka());if(!b||a.Gv())return[];var c=Object.keys(b).filter(function(b){return 0<=a.cf.indexOf(b)&&0>cU(a).indexOf(b)}).map(function(c){return{ak:c,da:b[c],Hf:a.bC==c}});return _.sortBy(c,function(a){return a.da})}function cU(a){return a.zc.map(function(a){return a.type})}f.pb=function(){return this.media.Ka().pb()};f.Ip=function(){return this.media.u()};f.ks=function(){return this.media.Ka().getVersion()};
function dU(a){if(a.pn())return 0;a=ZT(a).filter(function(a){return a.Hf}).map(function(a){return a.da});return 0<a.length?a[0]:0}function eU(a,b){function c(a){return a.hG()?0:a.Gv()?a.pn()?2:1:a.pn()?(a=cU(a),0<=a.indexOf("ONE_USE")?5:0<=a.indexOf("ROYALTY_FREE")?4:3):6}return c(b)-c(a)}function fU(){this.ni=[]}function gU(a,b){hU(a,b.items.map(function(a){return new XT({media:a.media,$g:a.$g,zc:a.zc,cf:b.cf,Tv:b.Tv,hm:b.hm})}))}
function hU(a,b){a.ni=b;a.ni.forEach(function(a){return a.init()});a.ni.sort(eU)}fU.prototype.zn=function(a){return this.ni.some(function(b){return b.zn(a)})};fU.prototype.DF=function(){return this.ni};function iU(a){return a.ni.filter(function(a){return!a.pn()})}function jU(a){return a.ni.reduce(function(a,c){return a+dU(c)},0)}function kU(a){return Math.min.apply(Math,[].concat(ma(a.ni.map(function(a){return bU(a)}))))}
function lU(a,b,c,d){var e=[];d&&e.push(new Qh({D:b,items:[new fi({sK:xh(d)})],currency:"USD"}));e.push(new Qh({D:b,items:mU(a,c),currency:"USD"}));return e}function mU(a,b){return iU(a).map(function(a){return new fi({jq:new Yh({media:a.Ip(),version:a.ks(),document:b,ak:a.bC||"ONE_USE"})})})};function nU(a){this.$el=a}r(nU,gc);function oU(a,b,c,d,e){this.ua=a.ua;this.tb=a.tb;this.ac=a.ac;this.Z=a.Z;this.Rb=e;this.view=b;this.yb=c;this.QX=d;this.open=!1}function pU(a,b){return new P(function(c){a.QX.once("paymentComplete",c);qU(a,b).then(function(){return a.show()})})}oU.prototype.close=function(){this.yb.remove();this.open=!1};oU.prototype.show=function(){Fa(!this.open,"the watermark remove dialog is already open");this.open=!0;this.QX.refresh();this.yb.show()};
function qU(a,b){var c=["ROYALTY_FREE","EXTENDED"],d,e,g,h=new KE({types:c,status:["ACTIVATED"],D:a.ua,media:b,limit:100});b=(new xF).SR(b).Ko();return P.all([VE(a.ac,b),a.tb.lF(h)]).then(function(b){var c=la(b);b=c.next().value;c=c.next().value;d=b;e=c.zc;g=c.Sl;return P.all(d.media.map(function(b){return a.Z.ja(b.ja())}))}).then(function(b){var h=d.media.map(function(a){return new XT({media:a,$g:b.find(function(b){return b.id===a.ja()}).displayName,zc:e.filter(function(b){return b.media===a.u()}),
yca:g,cf:c,hm:!1})});hU(a.Rb,h)})};function rU(a,b,c,d,e,g,h,k){var l=UN;void 0===k&&(k=!0);var m=Math.max(O.rS,O.rS/d());k=sU(a,c,m,b,h);if(void 0!==h&&null!=k.yt&&null!=k.zt){var n=Math.abs(a.$b()-k.yt),p=Math.abs(a.kc()-k.zt);n>p?k.zt=null:k.yt=null}null!=k.yt&&(!a.Ta()&&1===k.Eo.length&&!k.Eo[0].Ta()&&Math.abs(k.Eo[0].F()-a.F())<m?!h&&a.jb(k.Eo[0].F()):!h&&a.jb(k.yt));null!=k.zt&&(!a.Ta()&&1===k.Eo.length&&!k.Eo[0].Ta()&&Math.abs(k.Eo[0].w()-a.w())<m?!h&&a.eb(k.Eo[0].w()):!h&&a.eb(k.zt));!h||null==k.yt&&null==k.zt||(k=sU(a,c,1,
b,h));l();b=[].concat([a],ma(k.Eo));if(null!=k.yt){c=Math.max.apply(Math,[].concat(ma(b.map(function(a){return a.gd()}))));h=Math.min.apply(Math,[].concat(ma(b.map(function(a){return a.kc()}))));var q=Math.abs(c-h)*d(),u=Math.min.apply(Math,[].concat(ma(b.map(function(a){return g(a)})))),v=[];k.du.vl&&v.push(e(a)-1);k.du.r&&v.push(e(a)+a.ph()*d());k.du.cy&&v.push(e(a)+a.ph()/2*d());Zg().write(function(){v.forEach(function(a,b){$("#overlays .vertical.align").eq(b).addClass("on").css("top",Math.round(u)).css("left",
Math.round(a)).css("height",Math.round(q))})})}if(null!=k.zt){c=Math.max.apply(Math,[].concat(ma(b.map(function(a){return a.Ld()}))));h=Math.min.apply(Math,[].concat(ma(b.map(function(a){return a.$b()}))));var z=Math.abs(c-h)*d(),t=Math.min.apply(Math,[].concat(ma(b.map(function(a){return e(a)})))),x=[];k.du.t&&x.push(g(a)-1);k.du.b&&x.push(g(a)+a.lh()*d());k.du.cx&&x.push(g(a)+a.lh()/2*d());Zg().write(function(){x.forEach(function(a,b){$("#overlays .horizontal.align").eq(b).addClass("on").css("top",
Math.round(a)).css("left",Math.round(t)).css("width",Math.round(z))})})}}
function sU(a,b,c,d,e){function g(a){function b(c,d){return a(c)-a(d)}var c,d=[];S.slice(0).sort(b).forEach(function(e){c&&0==b(c.Ke[0],e)?(c.Ke.push(e),c.Al=Math.min(c.Al,e.Al),c.Bl=Math.min(c.Bl,e.Bl),c.En=Math.max(c.En,e.En),c.Fn=Math.max(c.Fn,e.Fn)):d.push(c={Ke:[e],pos:a(e),Al:e.Al,Bl:e.Bl,En:e.En,Fn:e.Fn,KK:NaN})});return d}function h(a,b){return a.pos-b.pos}function k(a,b){return a.KK<b.KK?a:b}function l(a,b,d){var e=nT(b,{pos:d-c},h),g=oT(b,{pos:d+c},h);b=b.slice(e,g);b.forEach(function(a){a.KK=
Math.abs(d-a.pos)});b.length&&a.push(b.reduce(k))}var m=null,n=null,p=[],q={vl:!1,r:!1,cy:!1,t:!1,b:!1,cx:!1},u=a.ph(),v=a.lh(),z,t,x,H,E,L,J,Q;z=a.$b();t=a.kc();x=a.Ld();H=a.gd();E=a.ph();L=a.lh();J=z+E/2;Q=t+L/2;var S=b.map(function(a){var b=a.$b(),c=a.Ld(),d=(b+c)/2,e=a.kc(),g=a.gd();return{object:a,Al:b,Bl:e,BG:d,CG:(e+g)/2,En:c,Fn:g}});d.Xp||(d.Xp=!0,d.cm={Al:g(function(a){return a.Al}),BG:g(function(a){return a.BG}),En:g(function(a){return a.En}),Bl:g(function(a){return a.Bl}),CG:g(function(a){return a.CG}),
Fn:g(function(a){return a.Fn})});b=0;var N=null;b=[];if(void 0===e||e.vl)if(N=null,b=[],l(b,d.cm.Al,z),l(b,d.cm.En,z),N=b.length&&b.reduce(k))for(m=N.pos,q.vl=!0,b=0;b<N.Ke.length;++b)p.push(N.Ke[b].object);if(void 0===e||e.r)if(N=null,b=[],l(b,d.cm.Al,x),l(b,d.cm.En,x),N=b.length&&b.reduce(k))for(m=N.pos-E,q.r=!0,b=0;b<N.Ke.length;++b)p.push(N.Ke[b].object);if(void 0===e||e.d)if(N=null,b=[],l(b,d.cm.Bl,t),l(b,d.cm.Fn,t),N=b.length&&b.reduce(k))for(n=N.pos,q.t=!0,b=0;b<N.Ke.length;++b)p.push(N.Ke[b].object);
if(void 0===e||e.D$)if(N=null,b=[],l(b,d.cm.Bl,H),l(b,d.cm.Fn,H),N=b.length&&b.reduce(k))for(n=N.pos-L,q.b=!0,b=0;b<N.Ke.length;++b)p.push(N.Ke[b].object);(function(){var b;b=[];l(b,d.cm.BG,J);if(b=b.length&&b.reduce(k)){m=b.pos-E/2;q.cy=!0;for(var c=0;c<b.Ke.length;++c)p.push(b.Ke[c].object);var g=(c=e&&e.Al)?a.Ld():a.$b();u=2*Math.abs(b.BG-g);c&&(m-=(u-E)/2)}})();(function(){var a;a=[];l(a,d.cm.CG,Q);if(a=a.length&&a.reduce(k)){n=a.pos-L/2;q.cx=!0;for(var b=0;b<a.Ke.length;++b)p.push(a.Ke[b].object);
b=e&&e.Bl;v=2*Math.abs(a.CG-(b?H:t));b&&(n-=(v-L)/2)}})();z=a.F()-a.$b();x=a.w()-a.kc();null!==m&&m>a.F()?m+=z:null!==m&&m<a.F()&&(m+=z);null!==n&&n>a.w()?n+=x:null!==n&&n<a.w()&&(n+=x);null!==m&&0===Math.round(10*m)/10&&(m=0);null!==n&&0===Math.round(10*n)/10&&(n=0);return{yt:m,zt:n,Xaa:u,Waa:v,Eo:p,du:q}};var pC="screen";function VO(a,b,c){var d=Ab,e=Ib;a=new pu(b.id,2,0,a,b.version,b.session,b.timestamp,b.content||{},Hq(b.extensions),null!=b.conversionLoss?Ts("conversionLoss",b.conversionLoss):null);c=new iu(d,e,a,new ql,c);c.aq=!0;wb=c;Jb.G.get(Kf)&&wb.start();wb.wQ(tU);Yb=0;return wb}
function Tz(a){$("#canvaDocument").on("mousedown",".page img, .cropControls img, a",vT);$("#canvaDocument").on("mouseup",UN);$("#canvaDocument").on("click",".hasWatermark .removeWatermark",uU(a));$("#content").on("keydown",".element.text.focused",vU);$("#content").on("keydown",".element.text.focused",wU);$("#content").on("input",".element.text.focused",xU);$("#canvaDocument").on("DOMNodeInserted",".element.text.focused",yU);if(!TN)$("#canvaDocument").on("click",".page .element:not(.focused)",!1);
$("#content").on("dblclick",".selectionBox:not(.multipleSelectionBox)",zU);(new fp("#canvaDocument")).on("mousedown",".selectionBox, .element",Zb).on("touchstart",".selectionBox, .element",Zb);(new fp("#canvaDocument")).on("click",".element.focused",zP).on("mousedown",".element.focused",zP).on("touchstart",".element.focused",zP).on("mousedown",".element:not(.focused, .multiSelected)",AU).on("touchstart",".element:not(.focused, .multiSelected)",AU);(new fp("#content")).on("click",".selectionBox.multipleSelectionBox",
wT).on("click",".element.multiSelected",wT).on("mousedown",".selectionBox.multipleSelectionBox",BU).on("touchstart",".selectionBox.multipleSelectionBox",BU).on("mousedown",".element.multiSelected",BU).on("touchstart",".element.multiSelected",BU);(new fp("#content")).on("click",".selectionBox",wT).on("mousedown",".selectionBox",CU).on("touchstart",".selectionBox",CU);(new fp("#content")).on("click",".selectionBox .handle",wT).on("mousedown",".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",
DU).on("touchstart",".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",DU);(new fp("#content")).on("click",".selectionBox .handle",wT).on("mousedown",".selectionBox.text.freeResize .handle.br",EU).on("touchstart",".selectionBox.text.freeResize .handle.br",EU);(new fp("#content")).on("mousedown",".multipleSelectionBox .handle",FU).on("touchstart",".multipleSelectionBox .handle",FU);(new fp("#content")).on("click",".cropControls",wT).on("mousedown",".cropControls",GU).on("touchstart",
".cropControls",GU);(new fp("#content")).on("click",".cropControls .handle",wT).on("mousedown",".cropControls .handle",HU).on("touchstart",".cropControls .handle",HU);(new fp("#content")).on("click",".viewPort .frameHandle",wT).on("mousedown",".viewPort .frameHandle",IU).on("touchstart",".viewPort .frameHandle",IU);(new fp("#content")).on("click",".selectionBox .rotate",wT).on("mousedown",".selectionBox .rotate",Zo).on("touchstart",".selectionBox .rotate",Zo);(new fp("#objectPanel")).on("mousedown",
JU).on("touchstart",JU).on("mousedown",".gallery a",JU).on("touchstart",".gallery a",JU);$("#canvaDocument").on("mouseenter",".unapproved, .failed",KU);if(TN)$("#content").on("click",LU);$("#null").keydown(function(){$(this).blur()})}function MU(){var a=K;function b(a){a.YC(yb)}bA||Zp(a).forEach(b)}
function NU(a,b,c,d,e,g){function h(){return new OU({um:(new UAParser).getBrowser().name,document:a,W:b,oa:wb,As:Date.now(),bj:new Eu(Ib),PK:new xu,Rk:d,i:g})}function k(a){document.title=a}if(bA)vb=new PU({i:g,model:a,H:hl});else{Tb=new aP({model:a,W:b,oa:wb,mc:ac,cj:c,zI:k,lJ:e,jK:h,Bg:d.Bg,i:g,Rk:d,j:y(U)});c=c.uh()?QU:void 0;vb=new PU({i:g,model:a,H:hl,VI:c});$b=new RU({model:a,Wk:vb,i:g});var l=new aQ(a,vb);Rb=function(){return l}}}
function Sz(a,b,c,d,e,g){function h(a){-1===l.indexOf(a)&&(l.push(a),m())}K&&(hh(),K.off(),vb.remove(),bA||(Tb.remove(),$b.remove()));var k=_.flatten(_.pluck(a.pages,"elements")).length,l=[],m=_.after(k+1,function(){if(K&&K.ia){var a=10*K.ia().length;T.off("elementLoaded",h);T.off("elementLoadingError",h);window.setTimeout(function(){K.SM=!0;T.trigger("documentRendered");window.setTimeout(function(){$("#canvaDocument").addClass("rendered")},2E3);g&&(g.va("rendered"),g.done());K.on("change",K.AH);
K.listenTo(T,"elementLoaded:graphic",K.AH);K.listenTo(T,"elementLoaded:svg",K.AH);K.AH();K.on("change",K.HB);K.listenTo(T,"elementLoaded:text",K.HB);K.listenTo(T,"elementLoaded:svg",K.HB);K.HB()},100+a)}});T.on("elementLoaded",h);T.on("elementLoadingError",h);T.on("pageTimeoutWaitingForElements",function(){gO()});K=new Dp(a,b,d);K.on("change",Wb);NU(K,Jb,c,Mb,e?e():[],d);K.Fb().forEach(function(a){a.ia().forEach(function(b){a.trigger("element:add",a,b)})});m();M=new iO;MU()}
function Ag(a){var b=a.R();if(null==b)throw Error("cannot register element add operation - element must first be added to a page");a=uO(a.serialize());a.pageIndex=cp(K,b);M.register(new Y(pO,a))}function SU(a){var b=[];a.elements.forEach(function(a){a=a.elementIndex;-1!==a&&b.push(a)});return[Math.min.apply(null,b),Math.max.apply(null,b)]}
function TU(a){var b=a.R();if(null==b)throw Error("cannot register element group operation - group has no page");a=a.serialize();var c=uO(a);c.pageIndex=cp(K,b);c.childRange=SU(a);M.register(new Y(13,c))}function UU(a){var b=a.R();if(null==b)throw Error("cannot register element ungroup operation - group has no page");a=a.serialize();var c=uO(a);c.pageIndex=cp(K,b);c.childRange=SU(a);M.register(new Y(14,c))}
function sN(a){var b=a.R();if(null!=b){var c=uO(a.serialize());c.pageIndex=cp(K,b);KC(a)&&(b=LC(a))&&(c.groupElementIndex=b.K(),c.groupIndex=b.ia().indexOf(a));M.register(new Y(qO,c))}}
function VU(a){if(a.KJ()){var b=a.R(),c=cp(K,b),d=b.pa();Hm(a.pa(),d)?(CK(),b.ia().forEach(function(b){b!==a&&b.Gb()&&(sN(b),b.remove())}),a.Gb()||(b=a.K(),Up(a),M.register(new Y(yN,{backgroundColor:a.jh(),elementIndex:a.K(),oldElementIndex:b,pageIndex:c})),hh(),Bg(a)),DK()):a.Gb()&&(b=a.K(),d=a.jh(),vD(a),M.register(new Y(xN,{backgroundColor:d,elementIndex:a.K(),oldElementIndex:b,pageIndex:c})))}}
(function(){var a=0,b=!1;Wb=function(){if(wb&&wb.aq){var c=K.serialize();bM(c);if(cq(c).result)Yb=wb.post(Yb,c),null==Yb&&eO(),a=0;else if(K.SM)if(eq())T.once("pageLayoutLoaded",Wb);else 3<=a&&(gO(),wb.close()),a+=1;else b||(b=!0,T.once("documentRendered",Wb))}else gO()}})();var WU=0;
function tU(a){window.clearTimeout(WU);wb&&wb.aq?(1==a?WU=window.setTimeout(function(){gO()},O.my):2==a?(1===Yb&&2===wb.fe()&&window.opener&&"/"===window.opener.location.pathname&&window.opener.location.reload(),fO()):3==a&&(eO(),wb.close()),T.trigger("session:sync",a)):gO()}
(function(){function a(){b=[];$(document).off("keyup",a)}var b=[];Zb=function(c){var d=void 0!==c.clientX?c.clientX:c.originalEvent.touches[0].clientX,e=void 0!==c.clientY?c.clientY:c.originalEvent.touches[0].clientY;if(c.metaKey){$(document).on("keyup",a);var g=[],h=null;$("#canvaDocument .page.selected .element").each(function(){var a=this.getBoundingClientRect();a.left<d&&a.right>d&&a.top<e&&a.bottom>e?(a=$(this).data("canvaElement"),g.push(a),-1===b.indexOf(a)&&(a.Hf()?(xO(a),b.unshift(a)):b.push(a))):
h=$(this).data("canvaElement")});b.forEach(function(a,c){-1===g.indexOf(a)&&b.splice(c,1)});h&&-1!==b.indexOf(h)&&b.unshift(h);var k=b.pop();if(k)return hh(),Bg(k),b.unshift(k),c.stopPropagation(),c.preventDefault(),!1}return!0}})();function XU(){return K.Fb().map(function(a){return{rect:Xg(uD(vb,a)),page:a}})}
function uU(a){return function(b){var c=ay(a.La).ja(),c={j:U,ma:by(a.La).u(),ua:c.u(),aa:Bb,ac:Db,Z:Eb,tb:a.tb,fb:a.fb,i:Lb,bf:c.ei(),fa:a.fa},d=c.i;d.PR||(d.PR=new Ye(d.config));var e=d.PR,d=new fU,g={j:c.j,aa:c.aa,Z:c.Z,fb:c.fb,tb:c.tb,i:c.i,ma:c.ma,ua:c.ua,jf:!1,Of:e.Of(),Rb:d,bf:c.bf,fa:c.fa},h=YU({D:g.ua,Aj:g.aa,Xe:!1,mf:g.fb,Ya:cd(g.i),j:g.j}),h=new ZU({td:h.Bb,Zi:h.view}),g=(new $U({view:h,j:g.j,ma:g.ma,ua:g.ua,aa:g.aa,Z:g.Z,tb:g.tb,Xb:g.Xb,i:g.i,jf:g.jf,Of:g.Of,Rb:g.Rb,ob:g.ob,bf:g.bf,fa:g.fa})).init(),
k=e.title(),e=$;soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"title",k,"string|goog.soy.data.SanitizedContent");k=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"watermarkRemovalDialog__content"\x3e\x3cheader class\x3d"watermarkRemovalDialog__header"\x3e\x3ch2\x3e'+soy.$$escapeHtml(k)+'\x3c/h2\x3e\x3c/header\x3e\x3cdiv class\x3d"watermarkRemovalDialog__body"\x3e\x3cdiv class\x3d"watermarkRemovalDialog__paymentPage"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e');
e=e(k.toString());e.find(".watermarkRemovalDialog__paymentPage").append(h.$el);h=new nU(e);e=new kp({content:h.$el,H:hl,hf:!0,className:"watermarkRemovalDialog"});c=new oU(c,h,e,g,d);b=$(b.target).parent(".selectionBox");d=b.data("element");if(d.data("canvaElement"))return d=d.data("canvaElement"),aV(c,d,b)}}
function aV(a,b,c){var d=K;function e(a,b){if(b.Iv()){var c=b.Tz();if(0<c.length&&c.map(function(a){return a.Nb()}).some(h.bind(null,a)))return!0}return b.Xj()?h(a,b.Nb()):!1}function g(a){return a.Jw?a.Jw():P.resolve()}function h(a,b){return a.some(function(a){return null!=a&&null!=b&&a.id===b.id&&a.version===b.version})}var k=[];if(b.Iv()){var l=b.Tz();0<l.length&&(k=l.map(function(a){return a.Nb()}).filter(bV))}b.Xj()&&bV(b.Nb())&&k.push(b.Nb());b=k.filter(function(a){return null!=a}).map(function(a){return a.id});
pU(a,b).then(function(a){a=d.ia().filter(e.bind(null,a)).map(g);return P.all(a)}.bind(null,k)).then(function(){a.close();c.removeClass("hasWatermark")})}function cV(a){if(a.Iv()){var b=a.Tz();if(0<b.length&&b.some(function(a){return bV(a.Nb())}))return!0}return a.Xj()?bV(a.Nb()):!1}function bV(a){var b;a&&(b=(a=Hb.Ic(a.id,a.version))&&a[Lg]);return b&&b.watermarked||!1}function ep(){$("#overlays .element.text.focused").each(function(){sB($(this))})}
function AU(a){function b(a){cm=!!a.shiftKey;xb=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;pb=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;vc=t.C().get(0).getBoundingClientRect();se.read(c);return!1}function c(){var a=!1;if(t.Xj()){var b=t.Nb();b&&!aq(yb,b)&&(a=!0)}if(!t.EA||t.hb||a){a=xb-E;b=pb-L;ta&&t.mb()&&t.Ui();if(ta){var c=Vg(vb,Wg(vc));(c=dV(c,h))&&c.page?(Hg&&(Hg=!1,t.C().removeClass("outsidePage")),t.Fy()&&!t.Nv(t.R())?(Ub&&c.page!=Ub&&Ub.$el.removeClass("hotspotHover"),
Ub=uD(vb,c.page),Ub.$el.addClass("hotspotHover")):Ub&&Ub.$el.removeClass("hotspotHover")):(t.C().addClass("outsidePage"),Hg=!0)}if(ta||Math.abs(a)>O.Fc||Math.abs(b)>O.Fc){ta=!0;t.setPosition(ha+a/W,fa+b/W);cm||Aa.hasClass("placing")?UN():dh(t,Za,pa);b=$(".page.selected.on");c=$("#overlays");if(1===b.length&&1===c.length&&1===J.length){var a=J.get(0).getBoundingClientRect(),b=b.get(0).getBoundingClientRect(),d=c.get(0).getBoundingClientRect(),c=a.left-d.left,d=a.top-d.top,g=Math.round((a.left-b.left)/
W),a=Math.round((a.top-b.top)/W);e.addClass("positionIndicatorShowing").addClass("positionIndicatorMoving").css("transform","translate("+c+"px,"+d+"px)").text(g+", "+a)}t.$a()}ta&&!ba&&(a=Aa.find("img"),a.attr("data-screen-width",t.l()).attr("data-screen-height",t.o()),t.EA&&a.attr("data-media-approved",t.hb),Aa.addClass("clone"),!t.PD()&&t instanceof oC&&Aa.addClass("cutout"),b=Jg({id:t.ba,version:t.ca,origin:t.origin?t.origin.lc():"CANVA",files_:[{quality:"THUMBNAIL",page:0,url:a.attr("src")},{quality:"SCREEN",
page:0,url:a.attr("src")}]}),c=$("\x3cli\x3e\x3c/li\x3e"),c.data("result",b).append(a.clone()),Aa.data("li",c),t.PD()||t.Zd())&&(ih(Aa,null,oN(wc)),ba=!0)}}function d(a){wc.off("mousemove|touchmove",b).off("mouseup|touchend",d);Md.read(function(){var b=t.C().get(0).getBoundingClientRect();Md.write(function(){var c;e.remove();J.remove();t.tg=!1;$("#hotspots").remove();Ub&&Ub.$el.removeClass("hotspotHover");$("#overlays .align").removeClass("on");if(ta){if(t.R())if(t.Nv(t.R()))CK(),VU(t),c={elementIndex:t.K(),
pageIndex:cp(K,t.R()),"new":{left:t.F(),top:t.w()},old:{left:ha,top:fa}},c=new Y(dp,c),M.register(c),DK();else{t.Df()&&sB(t.Fe());c=Vg(vb,Wg(b));var d=dV(c,h);d&&t.Fy()?(CK(),c=eV(t,c,d,ha,fa),VU(c),DK(),H&&fV([c])):(c=uO(t.serialize()),c.pageIndex=cp(K,t.R()),c.left=ha,c.top=fa,c=new Y(qO,c),CK(),M.register(c),t.remove(),DK())}}else if(!p||q&&!m||n)c=!1,u&&(d=k.closest(".text"),x?sB(d):a.shiftKey||(t instanceof ap?(LK(d,!0),ZO(v,zc(g)),c=!0):t instanceof yH||(t instanceof wC?(t.Ui(),d.is(".element")&&
LK(d,!1),t.fo(),ZO(v,zc(g)),c=!0):LK(d)))),!(t instanceof yH)&&t instanceof wC&&z&&(aG(t,z),(d=t.C().data("toolbar"))&&QC(d,t)),Bg(t,c);Aa.removeClass("clone cutout").removeData("startLeft").removeData("startTop").removeData("li");Aa.find("img").removeAttr("data-screen-width").removeAttr("data-screen-height")})})}if(a.which==O.Kh||a.ctrlKey)return!0;$("#overlays .positionIndicator").remove();var e=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(e);var g=Lb,h=XU(),k=
$(a.target),l=0!==k.parents(".group").length,m=k.is(".group"),n=k.is(".chart"),p=k.is(".group .elements"),q=k.is(".chart .elements"),u=k.is(".text")||0<k.parents(".text").length,v=u?k.closest(".element"):$(this),z;l&&(z=v.data("canvaElement"),v=k.parents(".group").first());if(v.data("canvaElement")){var t=v.data("canvaElement");if(l=t.R()){if(!t.OD())return a.preventDefault(),a.stopImmediatePropagation(),!1;T.trigger("hideContextualControlsRequested");a.altKey&&(ep(),t=t.clone(),t.appendTo(l),t.pc(),
v=t.C());var x=v.hasClass("focused"),H=t.Hf(),E=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,L=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if($(document.elementFromPoint(E,L)).is(".handle.on"))return!0;if(a.shiftKey&&0===K.Wa().length||t.Gb()&&!H||t.Fg()&&!H)return $b.WA(a,!0);var J=$("\x3cdiv\x3e\x3c/div\x3e"),l=Lm(t.Ta());45<l&&135>=l?J.css({position:"absolute",bottom:0,left:0}):135<l&&225>=l?J.css({position:"absolute",bottom:0,right:0}):225<l&&315>=l?J.css({position:"absolute",
top:0,right:0}):J.css({position:"absolute",top:0,left:0});t.C().append(J);l=!(1===K.Wa().length&&K.Wa()[0]===t);a.shiftKey||H||!l||hh();if(t instanceof ap)l=$("#overlays .svg.text.focused"),0<l.length&&(sB(l),t.CP(),ZO(v,zc(g))),l=k.siblings("image").filter(function(){return this.classList.contains("placeholder")&&this.getAttribute("xlink:href")!=O.Po}),k.is("image.placeholder")&&k.attr("xlink:href")!=O.Po?t.qt(k):k.is(".outline")&&1===l.length&&t.qt(l);else if(t instanceof sC)k.is(".placeholder")&&
t.Cg()!==k&&t.qt(k);else if(t instanceof wC){a=z===t;var Q=z instanceof Kp,S=!Q&&t.Yc instanceof Kp,N=Q&&z!==t.Yc;if(S||N||Q&&l||a)(N||S||a)&&t.Yc instanceof Kp&&sB(t.Yc.C()),t.Ui(),t.CP(),a||!m&&!p||ZO(v,zc(g))}var ha=t.F(),fa=t.w(),ta=!1,Za={},pa=ch(t),ba=!1,Aa=t.C();Aa.data("startLeft",ha).data("startTop",fa);var xb=0,pb=0,vc=v.get(0).getBoundingClientRect(),se=Zg(),Md=Zg(),Hg=!1,Ub,cm=!1;t.tg=!0;var wc=new fp($(document));wc.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}}
function eV(a,b,c,d,e){var g=(b.F()-c.rect.F())/W;b=(b.w()-c.rect.w())/W;var h=uO(a.serialize());h.pageIndex=cp(K,a.R());h.left=d;h.top=e;d=new Y(qO,h);CK();M.register(d);d=a.clone();a.remove();d.Gb()&&vD(d);d.appendTo(c.page);d.setPosition(g,b);Ag(d);DK();return d}function dV(a,b){for(var c=0;c!=b.length;c++)if(Yg(a,b[c].rect))return b[c];return null}
function gV(a,b){return K.Wa().filter(function(c){c=c.C().get(0).getBoundingClientRect();return c.left<a&&c.right>a&&c.top<b&&c.bottom>b}).sort(function(a,b){return a.K()-b.K()})}function hV(a){var b=Lb;2>K.Wa().length||(xO(a),a=K.Wa(),1<a.length?(a.forEach(function(a){a.C().removeData("toolbar")}),EK(zc(b),Bc(b))):1===a.length&&($(".multipleSelectionBox").remove(),hh(),a[0].C().removeClass("multiSelected"),SN(a[0]),a[0].$a()))}
function iV(a){function b(a,b){return a.K()-b.K()}if(2>a.length)return null;for(var c=a[0].R(),d=c.K(),e=1;e!==a.length;e++)if(!c||!a[e].R()||a[e].R()!==c)return null;var g=YF(new wC,a);CK();(function(a){a.sort(b);for(var c=a[0],e=1;e!==a.length;e++){var g=a[e].K();a[e].insertAfter(c);var c=a[e],n=a[e].K();g!==n&&M.register(new Y(4,{oldElementIndex:g,elementIndex:n,pageIndex:d}))}return a})(a);g.insertBefore(a[0]);a.forEach(function(a){g.addElement(a);var b=(new Ym).translate(-1*g.F(),-1*g.w());a.transform(b);
g.C().find(".elements").append(a.C())});TU(g);DK();return g}function $K(){function a(a){return a.elements&&0!==a.elements.length}function b(a){return a.Gb()}function c(a){return KC(a)}var d=K.Wa();if(!(1>=d.length||0<d.filter(a).length||0<d.filter(b).length||0<d.filter(c).length)){for(var e=d[0].R(),g=1;g!==d.length;g++)if(!e||!d[g].R()||d[g].R()!==e)return;hh();(d=iV(d))&&Bg(d)}}
function zS(a,b){var c=a.C().data("toolbar"),d=a.zb();if(-1!==d)d=[a.Tb(d)];else if(a.mb()&&a.se())d=cG(a),c&&aE(c);else return;b();CK();d.forEach(function(b){var c=b.index,d=a.Tb(c);b={elementIndex:a.K(),pageIndex:cp(K,a.R()),textIndex:c,"new":d,old:b};M.register(new sO(1,b))});DK();c&&aE(c)}
function NK(a){function b(a){if(0===a.Ta()){var b=a.pa();a.jb(0);a.la(c);var h=a.pa();wm(b,h)||M.register(new Y(dp,{elementIndex:a.K(),pageIndex:d,old:b.serialize(),"new":h.serialize(),proportionalSetSize:!1}))}}if(a.mb()){var c=a.l(),d=cp(K,a.R());CK();$F(a).forEach(b);DK()}}function OK(a){a.mb()&&(CK(),$F(a).forEach(function(b){zS(b,function(){a.Yq(0,"uppercase");JA(a.cb(0),!1)})}),DK())}
function PK(a){a.mb()&&(CK(),$F(a).forEach(function(a){zS(a,function(){a.vi(0,"left");JA(a.cb(0),!1)})}),DK())}function QK(a){a.mb()&&(CK(),$F(a).forEach(function(a){zS(a,function(){a.vi(0,"right");JA(a.cb(0),!1)})}),DK())}function RK(a){a.mb()&&(CK(),$F(a).forEach(function(a){zS(a,function(){a.vi(0,"center");JA(a.cb(0),!1)})}),DK())}
function jV(a,b,c){var d=a.ia().slice(),e=b(a),g=a.Yc;g&&(e=b(g));CK();b=a.Fe();1===b.length&&sB(b);UU(a);vO(a);d.forEach(function(a){var b=a.F(),d=a.w();c(a,e);M.register(new Y(dp,{elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:d}}))});(a=iV(d))&&SN(a);DK()}function XR(a){jV(a,function(a){return a.$b()},function(a,c){BC(a,a.$b()-c)})}function YR(a){jV(a,function(a){return a.Ld()},function(a,c){DC(a,c-a.Ld())})}
function ZR(a){jV(a,function(a){return a.$b()+a.ph()/2},function(a,c){var d=a.$b()+a.ph()/2;BC(a,d-c)})}function $R(a){jV(a,function(a){return a.kc()},function(a,c){CC(a,a.kc()-c)})}function aS(a){jV(a,function(a){return a.gd()},function(a,c){EC(a,c-a.gd())})}function bS(a){jV(a,function(a){return a.kc()+a.lh()/2},function(a,c){var d=a.kc()+a.lh()/2;CC(a,d-c)})}
function dS(a){var b=a.ia().slice();CK();UU(a);vO(a);a=b.slice().sort(function(a,b){return a.$b()>b.$b()});var c=a.shift().Ld(),d=a.pop().$b(),e=a.reduce(function(a,b){return b.ph()+a},0),g=(d-c-e)/(a.length+1),h=c;a.forEach(function(a){var b=a.F(),c=a.w();BC(a,a.$b()-h-g);h=a.Ld();M.register(new Y(dp,{elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:c}}))});(b=iV(b))&&SN(b);DK()}
function cS(a){var b=a.ia().slice();CK();UU(a);vO(a);a=b.slice().sort(function(a,b){return a.kc()>b.kc()});var c=a.shift().gd(),d=a.pop().kc(),e=a.reduce(function(a,b){return b.lh()+a},0),g=(d-c-e)/(a.length+1),h=c;a.forEach(function(a){var b=a.F(),c=a.w();CC(a,a.kc()-h-g);h=a.gd();M.register(new Y(dp,{elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:c}}))});(b=iV(b))&&SN(b);DK()}
function vO(a){var b=[].concat(a.ia()).reverse(),c=FC(a);a.Ui();b.forEach(function(b){a.oj(b);var e=VF(c,FC(b),!0);b.insertAfter(a);b.C().insertAfter(a.C());b.$l(e.Fa);b.setPosition(e.left,e.top);b.Zl(e.rotation)});a.remove();hh();aL(b)}function ZK(){var a=K.Wa(),b;if(b=1===a.length)b=-1!==a[0].ds().indexOf("ungroup");b&&(hh(),CK(),a=a[0],UU(a),vO(a),DK())}
function BU(a){function b(a){t=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;E.read(c);return!1}function c(){var a=t-k,b=x-l,c=$(".multipleSelectionBox").get(0).getBoundingClientRect(),c=Vg(vb,Wg(c)),c=dV(c,H);if(z||Math.abs(a)>O.Fc||Math.abs(b)>O.Fc)z=!0,h.setPosition(n+a/W,p+b/W),dh(h,u,v),c&&c.page&&c.page!==h.R()&&!h.Nv(h.R())?uD(vb,c.page).$el.addClass("hotspotHover"):$(".page").removeClass("hotspotHover"),EK(zc(e),
Bc(e))}function d(){J.off("mousemove|touchmove",b).off("mouseup|touchend",d);L.read(function(){var a=$(".multipleSelectionBox").get(0).getBoundingClientRect(),b=Vg(vb,Wg(a));L.write(function(){var a=dV(b,H);$(".page").removeClass("hotspotHover");$("#overlays .align").removeClass("on");kV(g,!1);if(z){CK();if(h.Nv(h.R()))g.forEach(function(a,b){a={elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{left:a.F(),top:a.w()},old:{left:q[b].left,top:q[b].top}};M.register(new Y(dp,a))});else if(a){for(var c=[],
d=g.length-1;0<=d;d--){var e=g[d];if(e.Fy()){var k=e.C().get(0).getBoundingClientRect(),k=Vg(vb,Wg(k)),e=eV(e,k,a,q[d].left,q[d].top);c.push(e)}}hh();aL(c)}else g.forEach(function(a,b){var c=uO(a.serialize());c.left=q[b].left;c.top=q[b].top;c.pageIndex=cp(K,a.R());M.register(new Y(qO,c));a.remove()}),$(".multipleSelectionBox").remove();DK()}})})}var e=Lb;if(a.which==O.Kh||a.ctrlKey)return!0;var g=K.Wa().sort(function(a,b){return b.K()-a.K()}),h=new tl(g),k=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
l=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,m=gV(k,l)[0];if(a.shiftKey&&m)return hV(m),!1;kV(g,!0);var n=h.F(),p=h.w(),q=g.map(function(a){return{left:a.F(),top:a.w()}}),u={},v=ch(g),z=!1,t=0,x=0,H=XU(),E=Zg(),L=Zg(),J=new fp($(document));J.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}$(function(){bc=new tP;bc.on("nodeInserted",lV).on("nodeInserted",mV).on("nodeRemoved",mV).on("characterDataModified",mV)});
function GK(){if(1===K.Wa().length){var a=K.Wa()[0];if(a.mb()){var b=a.zb(),c;a:{for(c=a.zb()+1;c!=a.elements.length;c++)if(bG(a,c))break a;b:{for(c=0;c!=a.elements.length;c++)if(bG(a,c))break b;c=-1}}-1!==c&&c!==b&&(b=a.cb(c),c=b.data("canvaElement"))&&(sB(a.Fe()),a.Ui(),LK(b),aG(a,c),a.$a())}}}
function LK(a,b){if(!a.hasClass("focused")){var c=a.data("canvaElement");if(c&&c.bp()){var d=a.parents(".page").hasClass("dark");d&&a.addClass("dark");Tb&&(nV(Tb),oV(Tb));var e=!!a.parents(".page").length;if(a.is(".svg .text"))d=a.parents(".element").first(),e&&a.data("precedingElement",d.prevAll(".element").first()),a.addClass("focused svg element"),d.appendTo("#overlays"),c.setPosition(),bp(c);else if(a.is(".group .text")){var g=a.parents(".group").first();e&&(e=g.prevAll(".element").first(),a.data("precedingElement",
e),g.data("precedingElement",e));a.addClass("focused");d&&g.find(".text").addClass("dark");g.appendTo("#overlays");g.data("canvaElement").setPosition()}else e&&a.data("precedingElement",a.prevAll(".element").first()),a.appendTo("#overlays").addClass("focused"),c.setPosition();d=c.zb();a.removeClass("focused");c=c.Tb(d);a.data("oldTextData",c);a.addClass("focused");KA(a);c=a.children(".inner");c.attr("contentEditable","true");c.focus();c.off("paste").on("paste",pV);vP(bc);bc.observe(a);qS.FZ(a);d=
nc(Lb);a=a.data("placeholderText")||d.Lg();a=c.text()==a;(b||a)&&cB(c)}}}function cB(a,b){window.setTimeout(function(){var c,d;window.getSelection&&document.createRange?(d=document.createRange(),d.selectNodeContents(a.get(0)),c=window.getSelection(),c.removeAllRanges(),c.addRange(d)):document.body.createTextRange&&(d=document.body.createTextRange(),d.moveToElementText(a.get(0)),d.select());b&&b()},1)}
function pV(a){if(document.queryCommandSupported("ms-pasteContentOnly"))document.execCommand("ms-pasteContentOnly");else if(document.queryCommandSupported("insertHTML")&&a.originalEvent.clipboardData){var b=a.originalEvent.clipboardData.getData("text/plain"),b=_.escape(b).replace(/\r?\n/g,"\x3cbr\x3e").replace(/ {2}/g," \x26nbsp;");document.execCommand("insertHTML",!1,b)}else throw Error("Beware! Unsupported browser. Sneaking around.");a.preventDefault()}
function lV(a){function b(a){var b=a.attr("style");b&&-1<b.indexOf("Glegoo, Helvetica, Arial, sans-serif")&&a.attr("style","")}a=$(a.target);b(a);a.children().each(function(){b($(this))})}var qV=!1;
function mV(a){var b=$(this),c=b.data("textChangeCount")||0;b.data("textChangeCount",++c);if(qV)qV=!1;else{var c=b.data("designObject")||null,d=b.data("Canva.textElementUpdated:lastCalledAt")||0;5<a.timeStamp-d&&(b.data("Canva.textElementUpdated:lastCalledAt",a.timeStamp),c&&b.is(".svg")&&MD(c));a=/[\uE000-\uF8FF]/g;c=b.html();a.test(c)&&(qV=!0,b.html(c.replace(a,"�")))}}
var qS=function(){function a(a){a.get(0)===e&&(0!==d&&(window.cancelAnimationFrame(d),d=0),$(e).off("keydown mousemove",b),e=null,h=0)}function b(){g=Date.now();0===d&&(d=window.requestAnimationFrame(c))}function c(){var a=Date.now();if(5E3<a-g)d=0;else if(e){if(100<a-h){var b=jQuery.data(e,"toolbar");b&&aE(b);h=a}d=window.requestAnimationFrame(c)}}var d=0,e=null,g=0,h=0;return{FZ:function(c){c=c.get(0);c!==e&&(null!==e&&a($(e)),e=c,b(),$(e).on("keydown mousemove",b))},IZ:a}}();
function sB(a){var b=a.data("canvaElement");if(b&&a.is(".focused")){a.data("textChangeCount",0);var c=a.data("precedingElement"),d=a.children(".inner"),e=b.R()||K.Da(),g=uD(vb,e),h=b.zb(),k=!1,l=!a.parents(".page").length;qS.IZ(a);Tb&&rV(Tb);a.removeClass("dark");if(a.is(".svg.text"))k=a.parents(".element").first(),l&&(c&&0<c.length?k.insertAfter(c):sV(g,k)),a.removeData("precedingElement").removeClass("focused svg element"),d.attr("contentEditable","false"),bp(b),tA(b,h),k=!0,(c=b.C().data("toolbar"))&&
c.fo("font");else if(a.is(".group .text")){var m=a.parents(".group").first();m.find(".text").removeClass("dark");var n=m.data("canvaElement"),c=m.data("precedingElement");l&&(c&&1===c.length&&0>=m.has(c[0]).length?m.insertAfter(c):sV(g,m));m.removeData("precedingElement");a.removeData("precedingElement");a.text().match(/^\s*$/)&&n?((c=a.data("oldTextData"))&&b.rj(h,c),GR(n)):(tA(b,h),k=!0);n.Ui();d.attr("contentEditable","false");n.pc();(c=n.C().data("toolbar"))&&c.fo("font")}else 0<a.length&&(l&&
(c&&0<c.length?a.insertAfter(c):sV(g,a)),a.removeClass("focused"),d.attr("contentEditable","false"),a.text().match(/^\s*$/)?((c=a.data("oldTextData"))&&b.rj(h,c),CK(),sN(b),b.remove(),DK()):(tA(b,h),k=!0));d.off("paste",pV);vP(bc);b.pc();$("#null").focus();window.setTimeout(function(){$("#null").blur()},0);if(k){if(d=a.data("oldTextData"))k=b.Tb(h),e={elementIndex:b.K(),pageIndex:cp(K,e),textIndex:h,"new":k,old:d},e=new sO(1,e),CK(),M.register(e),b.Rc=!0,DK();b=K.pb();e=a.text();UT(b)&&VT(b,WT(b,
e)?"":e)}a.removeData("oldTextData")}}
function CU(a){var b;if(/touch/gi.test(a.type)||!$(this).hasClass("multipleSelectionBox")){var c=$(this).data("element");if(!c)return;b=c.get(0);if(b&&(c=c.data("canvaElement")))if(c instanceof Kp)a.target=b;else{$(this).css("visibility","hidden");var c=document.elementFromPoint(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY),d=$(c).closest(".element").get(0);d?(a.target=c,b=d):a.target=b;$(this).css("visibility","")}else return;
AU.call(b,a)}return!1}function zU(a){var b=$(this).data("element"),c=$(b).data("canvaElement");if(!c||a.metaKey)return!1;b.hasClass("text")?LK(b):c.Cm?rS(c):c.qy()&&(c.Qu=!c.Qu,c.$a());return!1}var tV=!1;
function Bg(a,b){function c(a){var b=a.C();a.yh();b.is(".text.focused")&&sB(b);b.addClass("multiSelected")}tV=!1;var d=Lb,e=a.C(),g=K.Wa();if(a.bp()){var h=!1;g.forEach(function(b){b.R()===a.R()&&(h=!0)});if(!(0<g.length)||h){if(KC(a))if(e=e.parents(".group"),1===e.length&&e.data("canvaElement"))a=e.data("canvaElement"),ZF(a),a.Ui(),a.fo();else return;a.Hf()?a.mb()&&!b&&oS(a,zc(d)):(a.wk(!0),0===g.length?(uV(e),!b&&oS(a,zc(d))):KC(a)||(g.forEach(c),e.addClass("multiSelected"),EK(zc(d),Bc(d))))}}}
function oS(a,b){ZO(a.C(),b)}function SN(a){var b=K.Wa();if(1!=b.length||-1==b.indexOf(a))hh(),Bg(a)}function cL(a){var b=K.Wa(),c=K.Da(),d=c.ia().length-1;if(0!==a&&1===b.length&&(b=c.elements.indexOf(b[0]),-1!==b)){b+=a;0>b&&(b=d);b>d&&(b=0);var e=c.elements[b]||null;e&&(e.Gb()&&(0<a?(b+=1,b>d&&(b=0)):(--b,0>b&&(b=d))),(a=c.elements[b]||null)&&SN(a))}}var vV=_.template('\x3cdiv class\x3d"selectionBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle t" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle l" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle r" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle b" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"\x3c%- rotate %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"removeWatermark" href\x3d"#"\x3e\x3c%- removeWatermark %\x3e\x3c/a\x3e\x3c/div\x3e');
function uV(a){function b(){e.removeClass("initialHover");e.off("mousemove",b)}var c=Lb,d=$("#overlays"),e=a.data("selectionBox"),g=a.data("canvaElement")||null;a.addClass("selected");e||(e=$(vV({resize:Bc(c).resize(),stretch:Bc(c).stretch(),rotate:Bc(c).rotate(),removeWatermark:Bc(c).Q8()})),e.data("element",a).appendTo(d),a.hasClass("text")&&e.addClass("text"),a.hasClass("svg")&&e.addClass("svg"),a.hasClass("graphic")&&e.addClass("graphic"),a.hasClass("unapproved")&&e.addClass("unapproved"),a.hasClass("group")&&
e.addClass("group"),a.data("selectionBox",e));g&&(Jb.G.get(cg)&&(cV(g)?(e.addClass("hasWatermark"),e.addClass("initialHover"),e.on("mousemove",b)):e.removeClass("hasWatermark")),g.$a())}function xO(a){var b=a.C(),c=b.find(".text.focused");a.wk(!1);a.yh();b.removeClass("selected").removeClass("multiSelected");b.is(".text.focused")?sB(b):a instanceof wC?1===c.length&&sB(c):a instanceof ap&&1===c.length&&sB(c);a.Ui();(b=a.R())&&!a.Nv(b)&&(sN(a),a.remove())}function wV(a){xO(a);Bg(a)}
function aL(a){for(var b=0;b!==a.length;b++)if(!a[b].bp())return;if(1===a.length)Bg(a[0]);else for(b=0;b!==a.length;b++)Bg(a[b],!0)}
function fV(a){function b(a){!1===tV?c():(a=d.indexOf(a),-1!==a&&d.splice(a,1),0===d.length&&(c(),aL(e)))}function c(){T.off("elementLoaded",b);T.off("elementLoadingError",b)}var d=a.filter(function(a){return a.Hv()}),e=a.filter(function(b){return 0===a.filter(function(a){return a.mb()&&-1!==a.elements.indexOf(b)}).length});0<d.length?(tV=!0,T.on("elementLoaded",b),T.on("elementLoadingError",b)):aL(e)}
function hh(){T.trigger("hideContextualControlsRequested");K&&K.Wa().forEach(xO);$(".multipleSelectionBox").remove();$(document.activeElement).is("input, textarea")||window.getSelection().removeAllRanges()}
function HK(a){var b=io(),c=b.elements[0],d=-1;b.nm&&0===b.nm.elementIndex&&(d=b.nm.filterableIndex);var e=-1;b.pm&&0===b.pm.elementIndex&&(e=b.pm.textIndex);var g=cp(K,a.R()),h=a.K();if(b&&c&&b.Lv){CK();M.register(new Y(dp,{elementIndex:h,pageIndex:g,"new":{transparency:c.Fa},old:{transparency:a.Fa}}));a.$l(c.Fa);c.DM()&&a.DM()&&(M.register(new Y(dp,{elementIndex:h,pageIndex:g,"new":{border:c.ci()},old:{border:a.ci()}})),sE(a,c.ci()));c.HM()&&a.HM()&&(M.register(new Y(dp,{elementIndex:h,pageIndex:g,
"new":{padding:c.padding},old:{padding:a.padding}})),a.hC(c.padding));c.jA()&&a.jA()&&(M.register(new Y(dp,{elementIndex:h,pageIndex:g,"new":{spacing:c.pe()},old:{spacing:a.pe()}})),a.Xq(c.pe()));if(c.Sp()&&a.Sp()){var b=a.Pz(),k=c.Ep(d),d=a.Jd();if(k&&d){var k=tD(k),l=tD(d),h=new Y(11,{elementIndex:h,pageIndex:g,placeholderIndex:b,"new":{filter:k},old:{filter:l}});nJ(d,k);M.register(h)}}h=c.Kd();b=a.Kd();0!==h&&h===b&&c.bb().forEach(function(b,c){if(null!==b){var d={index:c},e={index:c};a instanceof
sC?d.placementData=a.ol(c):d.color=a.bb()[c];a.ge(c,b);a instanceof sC?e.placementData=a.ol(c):e.color=a.bb()[c];b=new Y(tN,{elementIndex:a.K(),pageIndex:g,old:d,"new":e});M.register(b)}});c.se()&&a.se()&&(h=a.zb(),-1!==e&&-1!==h&&(b=a.Tb(h),(c=c.Tb(e))&&b&&(a.oo(h,c.bold),a.vk(h,c.fontFamily),c.fontMedia&&a.Tq(h,Xm(c.fontMedia)),a.ve(h,c.fontSize),a.qo(h,c.italic),a.vi(h,c.justification),a.hx(h,c.letterSpacing),a.ix(h,c.lineHeight),a.Yq(h,c.textTransform),a.setColor(h,mh(c.color))),c=a.Tb(h),c=new sO(1,
{elementIndex:a.K(),pageIndex:g,textIndex:h,"new":c,old:b}),M.register(c)));DK();a.$a()}}function XK(a){void 0===a&&(a=K.Wa());if(0<a.length){var b=a.map(function(a){return a.clone()});ho(b,a[a.length-1])}}
function YK(){function a(a){if(a.Xj()){var b=a.Nb();b&&!aq(yb,b)&&TE(Db,b.id,(new wD).Fk(b.version)).then(function(b){Qg(yb,b.u(),b.Ka().getVersion(),b.Ka().ic());a.Jw()}).catch($.noop)}}function b(b){b.mb()?b.ia().forEach(a):a(b);e?(DC(b,O.gD),EC(b,O.gD),b.insertAfter(e),e=b):b.appendTo(d);h++;h===g.length&&(CK(),g.forEach(Ag),hh(),DK(),fV(g),XK(g))}var c=io();if(c&&!c.Lv){var d=K.Da(),e=c.xw;!e||-1<d.elements.indexOf(e)||(e=null);e&&e.mb()&&(e=mG(e));var g=c.elements.filter(function(a){return!!a}),
h=0;g.forEach(b)}}
function GU(a){function b(a){p=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;q=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;n.write(c);return!1}function c(){var a=Gn(e.Ta()),b=(p-g)*Math.cos(a)-(h-q)*Math.sin(a)+g-g,a=-1*(h-q)*Math.cos(a)-(p-g)*Math.sin(a)+h-h;if(m||Math.abs(b)>O.Fc||Math.abs(a)>O.Fc)m=!0,b/=W,a/=W,e.jQ(k+b,l+a),e.$a()}function d(){u.off("mousemove|touchmove",b).off("mouseup|touchend",d);e.tg=!1}if(a.which==O.Kh||a.ctrlKey||$(a.target).is(".handle"))return!0;var e=
$(this).data("canvaElement");if(!e)return!0;var g=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,h=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;a=e.dg();var k=a.F(),l=a.w(),m=!1,n=Zg(),p=0,q=0;e.tg=!0;var u=new fp($(document));u.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function HU(a){function b(a){ha=a.shiftKey?!1:!0;S=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;N=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;fa.read(c);return!1}function c(){u=ym(Wg($(".cropControls").get(0).getBoundingClientRect()));fa.write(function(){var a,b,c=0,d=0;b=a=0;var k=ZP({x:S,y:N},q),u=Jn(n,p,S,N),fa=Math.cos(Gn(k-v))*u;ha&&(k=v,u=fa);fa=hC(k,g.Ta());switch(qT(e.get(0))){case 2:c=fa-$P("TR");b=u*Math.cos(Gn(c));a=u*Math.sin(Gn(c));ha&&(b=a/m);c=
z;d=t-b;a=x+a;b=H+b;break;case 7:c=fa-$P("BR");b=u*Math.sin(Gn(c));a=u*Math.cos(Gn(c));ha&&(b=a/m);c=z;d=t;a=x+a;b=H+b;break;case 5:c=fa-$P("BL");b=u*Math.cos(Gn(c));a=u*Math.sin(Gn(c));ha&&(b=a/m);c=z-a;d=t;a=x+a;b=H+b;break;case 0:c=fa-$P("TL"),b=u*Math.sin(Gn(c)),a=u*Math.cos(Gn(c)),ha&&(b=a/m),c=z-a,d=t-b,a=x+a,b=H+b}var u=l.F()+l.l(),fa=l.w()+l.o(),k=Math.floor(d)>l.w(),ta=Math.floor(c)>l.F(),Za=Math.ceil(c+a)<u,Ub=Math.ceil(d+b)<fa;k&&(l.w(),J===l.w()?(d=J,b=Q,ha&&(c=E,a=L)):(d=l.w(),b=Q+(J-
d),ha&&(a=b*m,c=E,Math.ceil(c+a)<u&&(a=u,b=a/m))));ta&&(l.F(),E===l.F()?(c=E,a=L,ha&&(b=Q,d=J)):(c=l.F(),a=L+(E-c),ha&&(b=a/m,d=J,Math.ceil(d+b)<fa&&(b=fa,a=b*m))));Za&&(E+L===u?(a=L,c=E,ha&&(d=J,b=Q)):(a=u-c,ha&&(b=a/m,d=J)));Ub&&(J+Q===fa?(b=Q,d=J,ha&&(c=E,a=L)):(b=fa-d,ha&&(a=b*m,c=E)));isNaN(1*b)||isNaN(1*a)||isNaN(1*d)||isNaN(1*c)||(b<fa&&(d=J,c=E,b=fa,ha&&(a=b*m)),a<u&&(c=E,d=J,a=u,ha&&(b=a/m)),k=Math.floor(d)>l.w(),ta=Math.floor(c)>l.F(),Za=Math.ceil(c+a)<u,Ub=Math.ceil(d+b)<fa,k||ta||Za||
Ub||(h.jb(c/W).eb(d/W).la(a/W).ea(b/W),g.Xl(h),g.$a(),E=c,J=d,L=a,Q=b))})}function d(){Za.off("mousemove|touchmove",b).off("mouseup|touchend",d);ta.write(function(){e.removeClass("on");g.tg=!1})}var e=$(this),g=K.Wa()[0],h=g.dg(),k=g.dg().scale(W),l=g.ed().scale(W);l.jb(0).eb(0);var m=k.bi(),n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q={x:n,y:p};a=ym(Wg(e.get(0).getBoundingClientRect()));var u=ym(Wg($(".cropControls").get(0).getBoundingClientRect())),
v=ZP(a,u),z=k.F(),t=k.w(),x=k.l(),H=k.o(),E=k.F(),L=k.l(),J=k.w(),Q=k.o(),S=0,N=0,ha=!0,fa=Zg(),ta=Zg();g.tg=!0;var Za=new fp($(document));Za.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function IU(a){function b(a){H=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;E=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;L.read(c);return!1}function c(){var a,b,c,d,J=0,Q=0,pa=h.clone(),ba=Jn(l,m,H,E),J=hC(ZP({x:H,y:E},n),e.Ta()),Aa=0;switch(qT(g.get(0))){case 2:Aa=J-$P("TR");Q=ba*Math.cos(Gn(Aa));J=ba*Math.sin(Gn(Aa));a=h.F();c=h.w()-Q;b=h.l()+J;d=h.o()+Q;break;case 7:Aa=J-$P("BR");Q=ba*Math.sin(Gn(Aa));J=ba*Math.cos(Gn(Aa));a=h.F();c=h.w();b=h.l()+J;d=h.o()+
Q;break;case 5:Aa=J-$P("BL");J=ba*Math.sin(Gn(Aa));Q=ba*Math.cos(Gn(Aa));a=h.F()-J;c=h.w();b=h.l()+J;d=h.o()+Q;break;case 0:Aa=J-$P("TL"),Q=ba*Math.sin(Gn(Aa)),J=ba*Math.cos(Gn(Aa)),a=h.F()-J,c=h.w()-Q,b=h.l()+J,d=h.o()+Q}ba=k.w();c<ba&&(t===ba?(c=t,d=x):(c=ba,d=x+(t-c)));ba=k.F();a<ba&&(v===ba?(a=v,b=z):(a=ba,b=z+(v-a)));ba=k.o()+k.w();c+d>ba&&(t+x===ba?(d=x,c=t):d=ba-c);ba=k.l()+k.F();a+b>ba&&(v+z===ba?(b=z,a=v):b=ba-a);20>b?b=20:20>d?d=20:isNaN(1*d)||isNaN(1*b)||isNaN(1*c)||isNaN(1*a)||(pa.jb(a).eb(c).la(b).ea(d),
v=a,t=c,z=b,x=d,L.write(function(){sl(e,pa.scale(1/W));u&&dh(u,p,q);e.$a()}))}function d(){Q.off("mousemove|touchmove",b).off("mouseup|touchend",d);J.write(function(){$("#overlays .align").removeClass("on");g.removeClass("on");e.tg=!1})}var e=K.Wa()[0],g=$(this);e.$a();var h=e.ed();h.scale(W);var k=e.dg();k.scale(W).translate(h.F(),h.w());var l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n={x:l,y:m},p={},q=ch(e),
u=e instanceof oC?new rl(e):null,v=h.F(),z=h.l(),t=h.w(),x=h.o(),H=0,E=0,L=Zg(),J=Zg();e.tg=!0;var Q=new fp($(document));Q.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function FU(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-n;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-p;var d=Math.sqrt(Math.pow(q+b,2)+Math.pow(u+a,2));J=e(H);10>q+b||10>u+a||(E=d/v,c(),x.css("-webkit-transform","scale("+E+")").css("transform","scale("+E+")"))}function c(){var a=$("#overlays").offset();L.css("top",J.top-a.top+"px").css("left",J.left-a.left+"px").css("width",J.width+"px").css("height",J.height+"px")}function d(){N.off("mousemove|touchmove",
b).off("mouseup|touchend",d);kV(z,!1);k();x.remove();h();L.remove()}function e(a){var b=Infinity,c=Infinity,d=0,e=0;a.each(function(a,g){a=g.getBoundingClientRect();a.top<b&&(b=a.top);a.left<c&&(c=a.left);a.bottom>e&&(e=a.bottom);a.right>d&&(d=a.right)});return{top:b,left:c,right:d,bottom:e,width:d-c,height:e-b}}function g(){H=$($(".multiSelected").map(function(a){$(this).data("multi-id",a);return this})).clone(!0).off();H.each(function(){$(this).removeAttr("id");$(this).find("*").removeAttr("id")});
H.removeClass(".multiSelected");x=$('\x3cdiv class\x3d"ghost element"\x3e\x3c/div\x3e');$(".multipleSelectionBox").css("visibility","hidden");$(".multiSelected").css("opacity","0");H.appendTo(x);var a=K.Wa()[0].C().parent(".elements");x.appendTo(a);m.hasClass("br")?x.addClass("fixTopLeft"):m.hasClass("bl")?x.addClass("fixTopRight"):m.hasClass("tr")?x.addClass("fixBottomLeft"):m.hasClass("tl")&&x.addClass("fixBottomRight")}function h(){$(".multipleSelectionBox").css("visibility","visible");$(".multiSelected").each(function(){var a=
$(this).data("canvaElement");$(this).css("opacity",1-a.Fa/100)})}function k(){var a=x.get(0).getBoundingClientRect(),b=a.left,c=a.top;CK();H.each(function(){function a(){0==v&&h.setPosition(t/W,u/W)}function d(){var a=h.pa();if(!wm(n,a)){var b=n.serialize(),a=a.serialize();h.kA()&&(b.transformDependentData=p,a.transformDependentData=h.$z());b={elementIndex:h.K(),pageIndex:q,old:b,"new":a};M.register(new Y(dp,b))}}var e=$(this).data("multi-id"),g=$(".multiSelected").filter(function(){return $(this).data("multi-id")==
e}).first(),h=g.data("canvaElement"),k=g.get(0).getBoundingClientRect(),m=$(this).get(0).getBoundingClientRect(),n=h.pa(),p=h.kA()?h.$z():null,q=cp(K,h.R()),g=(m.right-m.left)/(k.right-k.left),k=(m.bottom-m.top)/(k.bottom-k.top),t=m.left-b+S,u=m.top-c+Q,v=h.Ta();$(this).remove();if(h instanceof Kp){var m=h.Jc(0),m=parseFloat(parseFloat(m*E)),z=h.l()*g,k=h.Tb(0),g=h.Hd;h.Hd=!1;h.ve(0,m);h.la(z);h.ea();h.ab();a();m=h.Tb(0);m={elementIndex:h.K(),pageIndex:q,textIndex:0,"new":m,old:k};M.register(new sO(1,
m));d();g&&rE(h)}else h.setSize(h.l()*g,h.o()*k),a(),d();h.ab();EK(zc(l),Bc(l))});DK()}var l=Lb,m=$(this),n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q=$(".multipleSelectionBox").width(),u=$(".multipleSelectionBox").height(),v=Math.sqrt(Math.pow(q,2)+Math.pow(u,2)),z=K.Wa();if(!(0>=z.length)){a=z[0].R();for(var t=0;t!==z.length;t++)if(z[t].R()!==a)return;m.addClass("on");T.trigger("hideContextualControlsRequested");
kV(z,!0);var x,H,E=1,L=$('\x3cdiv id\x3d"ghostSelectionBox" class\x3d"cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr"\x3e\x3c/a\x3e\x3ca class\x3d"handle br"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl"\x3e\x3c/a\x3e\x3c/div\x3e');g();var J=e(H),t=uD(vb,y(a));a=t.$el.offset().top;var t=t.$el.offset().left,Q=J.top-a,S=J.left-t;x.css("left",S+"px").css("top",Q+"px");H.each(function(a,b){$g(b,{Fi:-S,Gi:-Q},!0)});$("#overlays").append(L);
c();var N=new fp($(document));N.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}
function EU(a){function b(a){var b=(g||0)+Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2))-h;0<b?e.hC(b/W):e.hC();e.$a();a.preventDefault();a.stopPropagation();return!1}function c(){k.off("mousemove|touchmove",b).off("mouseup|touchend",c);e.bk&&e.bk();e.tg=!1;var a={elementIndex:e.K(),pageIndex:cp(K,e.R()),"new":{padding:e.padding},old:{padding:g}};M.register(new Y(dp,a))}var d=$(this);
d.addClass("on");var e=d.parents(".selectionBox").data("element").data("canvaElement");if(e){var g=e.padding,h=Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2));e.tg=!0;var k=new fp($(document));k.on("mousemove|touchmove",b).on("mouseup|touchend",c)}}
function DU(a){function b(a){tr=k instanceof ap||k instanceof qC?E:k.mb()?E:a.shiftKey?!E:E;Em=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;Fm=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;mO.read(c);return!1}function c(){Uq=gp(k);var a=ZP({x:Em,y:Fm},H),b=Jn(t,x,Em,Fm),c=Math.cos(Gn(a-dM))*b,d=0,g=0,l=0;tr&&(a=dM,b=c);if(!(gM&&3>Math.abs(fM-Em)||hM&&3>Math.abs(eM-Fm))){gM=hM=!1;var m=qT(e.get(0)),n,E,yf=!1,a=hC(a,k.Ta());switch(m){case 4:d=c;n=vc;E=ba;break;case 3:d=
c;n=ba;E=vc;break;case 1:g=c;n=xb;E=Za;break;case 6:g=c;n=Za;E=xb;break;case 2:yf=!0;n=pb;E=pa;l=a-$P("TR");d=b*Math.sin(Gn(l));g=b*Math.cos(Gn(l));break;case 7:yf=!0;n=ta;E=Aa;l=a-$P("BR");g=b*Math.sin(Gn(l));d=b*Math.cos(Gn(l));break;case 5:yf=!0;n=pa;E=pb;l=a-$P("BL");d=b*Math.sin(Gn(l));g=b*Math.cos(Gn(l));break;case 0:yf=!0,n=Aa,E=ta,l=a-$P("TL"),g=b*Math.sin(Gn(l)),d=b*Math.cos(Gn(l))}k instanceof Kp&&(3===m?(n=pa,E=vc,fC(k)&&(n=Md),gC(k)&&(n=Aa)):4===m&&(n=ta,E=ba,fC(k)&&(n=se),gC(k)&&(n=pb)));
var Gm=n.get(0).getBoundingClientRect(),nO=S.scrollLeft,oO=S.scrollTop;tr&&yf&&(0===d?d=g*z:g=d/z);var Jz;Jz=0===d?k.l():yf?Math.max(u+d,J)/W:Math.max(u+d,L*W,Hg)/W;var Kz;Kz=0===g?k.o():yf?Math.max(v+g,Q)/W:Math.max(v+g,L*W,Ub)/W;k.elements&&0!==k.elements.length||dh(k,W6,X6,{d:!0,vl:!0,r:!0,D$:!0},tr);c=$("#overlays").get(0).getBoundingClientRect();E=E.get(0).getBoundingClientRect();a=E.left-c.left;c=E.top-c.top;E.left<Uq.x&&fa.addClass("positionIndicatorScalingFromLeft");E.top>Uq.y&&fa.addClass("positionIndicatorScalingFromBottom");
fa.addClass("positionIndicatorShowing").addClass("positionIndicatorScaling").css("transform","translate("+a+"px,"+c+"px)").html(Jz.toFixed(0)+" × "+Kz.toFixed(0));mO.write(function(){Lz=yf;k.setSize(Jz,Kz,Lz);var a=n.get(0).getBoundingClientRect(),b=oO-ha,c=nO-N;ha=oO;N=nO;cm+=Gm.top-a.top-b;wc+=Gm.left-a.left-c;a=k;b=(q+cm)/W;AC(a,(p+wc)/W);IC(a,b);k instanceof Kp&&0!==k.Ta()?(k.la(),k.pc()):k.ab();xV(k);(a=h.data("toolbar"))&&k.mb()&&k.se()&&aE(a)});fM=Em;eM=Fm}}function d(){Gm.off("mousemove|touchmove",
b).off("mouseup|touchend",d);t9.write(function(){fa.remove();$("#overlays .align").removeClass("on");e.removeClass("on");k instanceof Kp?window.setTimeout(function(){k.bk();JA(h,!0);k.tg=!1},0):k.tg=!1;var a=k.pa();if(!wm(l,a)){CK();VU(k);var b=l.serialize(),a=a.serialize();k.kA()&&(b.transformDependentData=m,a.transformDependentData=k.$z());b={elementIndex:k.K(),pageIndex:cp(K,k.R()),old:b,"new":a,proportionalSetSize:Lz};M.register(new Y(dp,b));n&&(b={elementIndex:k.K(),pageIndex:cp(K,k.R()),old:n,
"new":k.Tb(k.zb()),textIndex:k.zb()},M.register(new sO(1,b)));DK()}ta.remove();Za.remove();pa.remove();ba.remove();Aa.remove();xb.remove();pb.remove();vc.remove();se.remove();Md.remove()})}var e=$(this),g=Lb,h=e.parents(".selectionBox").data("element"),k=h.data("canvaElement");if(k){e.addClass("on");var l=k.pa(),m=k.kA()?k.$z():null,n=k instanceof Kp&&k.Hd?k.Tb(k.zb()):null,p=Math.round(k.left*W),q=Math.round(k.top*W),u=JC(k),v=hp(k),z=u/v,t=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,H={x:t,y:x},E=!(k instanceof Kp||k instanceof sC),L=O.fJ;k instanceof wC&&(L=O.ky);k instanceof yH&&(L=O.o0);a=(new V(0,0,L,L)).scale(W);a=Dm(new V(0,0,z,1),a);var J=a.l(),Q=a.o(),S=$("#canvaDocument").get(0),N=S.scrollLeft,ha=S.scrollTop,fa=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(fa);T.trigger("hideContextualControlsRequested");ep();k.mb()&&k.se()&&(k.fo(),ZO(h,zc(g)));var ta=$("\x3cdiv\x3e\x3c/div\x3e");
ta.css({position:"absolute",top:0,left:0});k.C().append(ta);var Za=$("\x3cdiv\x3e\x3c/div\x3e");Za.css({position:"absolute",top:0,left:"50%"});k.C().append(Za);var pa=$("\x3cdiv\x3e\x3c/div\x3e");pa.css({position:"absolute",top:0,right:0});k.C().append(pa);var ba=$("\x3cdiv\x3e\x3c/div\x3e");ba.css({position:"absolute",top:"50%",right:0});k.C().append(ba);var Aa=$("\x3cdiv\x3e\x3c/div\x3e");Aa.css({position:"absolute",bottom:0,right:0});k.C().append(Aa);var xb=$("\x3cdiv\x3e\x3c/div\x3e");xb.css({position:"absolute",
bottom:0,left:"50%"});k.C().append(xb);var pb=$("\x3cdiv\x3e\x3c/div\x3e");pb.css({position:"absolute",bottom:0,left:0});k.C().append(pb);var vc=$("\x3cdiv\x3e\x3c/div\x3e");vc.css({position:"absolute",top:"50%",left:0});k.C().append(vc);var se=$("\x3cdiv\x3e\x3c/div\x3e");se.css({position:"absolute",top:"50%",left:0});k.C().append(se);var Md=$("\x3cdiv\x3e\x3c/div\x3e");Md.css({position:"absolute",top:"50%",right:0});k.C().append(Md);var Hg=0,Ub=0;k instanceof ap&&(g=k.ub?$.extend(!0,{},k.ub):null)&&
(Hg=(g.left+g.right)*XD(k).scale*W,Ub=(g.top+g.bottom)*XD(k).scale*W);var cm=0,wc=0,Uq=gp(k),g=ym(Wg(e.get(0).getBoundingClientRect())),dM=ZP(g,Uq),eM=x,fM=t,gM=!1,hM=!1,W6={},X6=ch(k),Em=0,Fm=0,tr=E,Lz=!1,mO=Zg(),t9=Zg();k.tg=!0;var Gm=new fp($(document));Gm.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}
function xV(a){if(a instanceof Kp&&a.Hd){for(var b=a.Jc(0),c=a.C().children(".inner"),d=c.parent().outerHeight()/W,e=c.parent().outerWidth()/W;c.outerHeight()<=d&&Number(c.prop("scrollWidth"))<=e&&b<O.m0;)b++,a.ve(0,b,!0);for(;(c.outerHeight()>d||.95*Number(c.prop("scrollWidth"))>e)&&b>O.eJ;)b--,a.ve(0,b,!0);b===O.eJ&&c.outerHeight()>d&&a.ea(c.outerHeight());a.C().removeData("cachedLineLengths")}}var yV=_.template('\x3cdiv class\x3d"selectionBox multipleSelectionBox"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"\x3c%- rotate %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3c/div\x3e');
function EK(a,b){if(K&&K.Wa){var c=K.Wa();if(!(2>c.length)){var d=$("#overlays"),e=$(".selectionBox.multipleSelectionBox");0==e.length&&(e=$(yV({resize:b.resize(),rotate:b.rotate()})),e.appendTo(d));0===c.filter(function(a){return 0!==a.Ta()}).length&&e.addClass("cornerHandles");b=zV(c);e.css("left",b.F()).css("top",b.w()).css("width",b.l()).css("height",b.o());var g=$();c.map(function(a){g.push(a.C().get(0))});DS(g,a)}}}
function zV(a){function b(a,b){return HC(vb.Ma[a?a.K():0])+b*W}function c(a,b){return MC(vb.Ma[a?a.K():0])+b*W}var d=a.map(function(a){return b(a.R(),a.$b())}),e=a.map(function(a){return c(a.R(),a.kc())}),d=ul(d),e=ul(e),g=vl(a.map(function(a){return b(a.R(),a.Ld())}));a=vl(a.map(function(a){return c(a.R(),a.gd())}));return new V(d,e,g-d,a-e)}
function AV(){var a=$(this),b=a.data("canvaElement");if(b&&b.bp()&&!(0<a.parents(".group").length)){var c=K.Wa(),d=K.Fb().filter(function(a){a=uD(vb,a);return QN(a.$el,$("#marquee"))}),e=QN(a,$("#marquee")),d=-1!==d.indexOf(b.R()),g=0===c.length;c.forEach(function(a){b.R()===a.R()&&(g=!0)});e&&d&&g?b.Gb()||b.Fg()?(c=a.get(0).getBoundingClientRect(),e=$("#marquee").get(0).getBoundingClientRect(),e.top+10<c.top&&e.left+10<c.left?(b.wk(!0),a.addClass("multiSelected")):(b.wk(!1),a.removeClass("multiSelected"))):
(b.wk(!0),a.addClass("multiSelected")):(b.wk(!1),a.removeClass("multiSelected"))}}function yU(a){a=a.target;"SPAN"==a.tagName&&(a.style.removeProperty("font-size"),a.style.removeProperty("background-color"),a.style.removeProperty("line-height"),a.style.removeProperty("letter-spacing"))}
function vU(a){(function(a){if(13!==a.keyCode||!document.queryCommandSupported("insertLineBreak")||a.ctrlKey||a.metaKey)return!1;if(a.shiftKey||a.altKey)return!0;if(document.queryCommandState("insertUnorderedList")||document.queryCommandState("insertOrderedList"))return!1;a=document.queryCommandValue("formatBlock");return""!==a&&"div"!==a&&"p"!==a?!1:!0})(a)&&(document.execCommand("insertLineBreak",!1,null),a.preventDefault())}
function wU(){if(BV)$("#content").off("keydown",".element.text.focused",wU);else{var a=$(this);CV(a)}}function xU(){BV=!0;var a=$(this);CV(a)}var BV=!1;function CV(a){function b(){a.data("handleTextElementInputTimerId",0);DV(a);JA(a,!0)}if(!EV(a)){var c=a.data("handleTextElementInputTimerId")||0;0===c&&(c=BV?requestAnimationFrame(b):window.setTimeout(b,O.Ec),a.data("handleTextElementInputTimerId",c))}}
function DV(a){var b=a.data("canvaElement");if(b){var c=b.zb();0<Object.keys(b.es(c)).length&&FV(function(){b.Wo(c)})}}function EV(a){return a.hasClass("svg")||0<a.closest(".element.svg").length}
function FV(a){var b=window.getSelection(),c=document.createElement("span");c.classList.add("fauxCaret");c.appendChild(document.createTextNode("​"));if(b.rangeCount){var d=b.getRangeAt(0);d.collapse(!1);d.insertNode(c)}a();b=window.getSelection();b.rangeCount&&(d=document.createRange(),d.setStart(c.childNodes[0],0),d.collapse(!0),b.removeAllRanges(),b.addRange(d));c.parentNode.removeChild(c)}
function JA(a,b){function c(){h.ab();k&&(m.zP(h,L),m.ab())}function d(a,b){return a.$b()+b>a.R().Ld()}function e(a){return a.$b()<=a.R().$b()}var g=!!b;if(!EV(a)){var h=a.data("canvaElement");if(h&&(h.Hv()&&(g=!1),b=a.children(".inner"),0!==b.length)){var k=0<a.parents(".element.group").length,l=0;if(k){var m=a.parents(".group").first().data("canvaElement"),l=m.Ta();h.bk()}100<b.text().length&&h.ht(h.zb());var n=g&&!h.DA();n&&(b.css("width","0"),b.addClass("explicitLineBreaksLayoutMode"));var p=b.prop("scrollWidth"),
q=wl(b[0]).lo;q&&1<q&&(p/=q);var q=a.data("justification"),u=h.l(),v=h.F();if(n){var z=u;a.data("ephemeralStartWidth")?z=a.data("ephemeralStartWidth"):a.data("ephemeralStartWidth",h.l());a=Math.max(z,p+2);h.R()&&(q&&"left"!==q?"right"===q?(h.jb(v+u-a),e(h)&&(a=u,h.jb(0),h.bk())):"center"===q&&(h.jb(v+(u-a)/2),e(h)||d(h,a))&&(h.jb(v),a=u,h.bk()):d(h,a)&&(a=h.R().Ld()-h.$b(),h.bk()))}else a=Math.max(u,p);q=p=0;if(g=(0!==Lm(l)-Lm(h.Ta())||!(!h.ke||"top"===h.ke))&&g){var t=$('\x3cspan class\x3d"shim"\x3e\x26nbsp;\x3c/span\x3e');
h.C().find(".shim").remove();h.C().prepend(t);t.css("position","absolute").css("left",0);h.ke&&"top"!==h.ke?gC(h)?t.css("top","100%"):fC(h)&&t.css("top","50%"):t.css("top",0);var x=t.get(0).getBoundingClientRect(),H=h.w(),E=h.F()}n&&b.removeClass("explicitLineBreaksLayoutMode");h.la(a);var L=h.pa();b=h.o();h.ab();g&&b!==h.o()?(b=t.get(0).getBoundingClientRect(),t.remove(),p=b.top-x.top,q=b.left-x.left,KC(h)&&(t=$m(Zm([q,p]).rotate(m.Ta())),q=t[0],p=t[1]),0==p&&0==q||h.setPosition(E-q/W,H-p/W),window.setTimeout(c,
0)):(c(),t&&t.remove());xV(h)}}}
function bL(){var a=K.Wa(),b,c,d=O.kS*O.iD,e,g;(c=K.Da())&&1===a.length&&(b=a[0],xO(b),a=b.pa(),b instanceof sC?(e=c.pa(),e.eb(e.w()-d),e.la(e.l()+2*d),e.ea(e.o()+2*d),e.jb(e.F()-d)):e=fh(a.clone(),c.pa()),b instanceof Kp?(CK(),d=b.Tb(0),g=b.Jc(0)*(e.o()/a.o()),b.ve(0,g),window.setTimeout(function(){b.la(e.l());b.ea();b.ab()},0),b.setPosition(e.F(),e.w()),g=b.Tb(0),d={elementIndex:b.K(),pageIndex:cp(K,c),textIndex:0,"new":g,old:d},d=new sO(1,d),M.register(d)):(b.pd(e),b.ab()),c={elementIndex:b.K(),
pageIndex:cp(K,c),"new":e.serialize(),old:a.serialize()},c=new Y(dp,c),M.register(c),b instanceof Kp&&DK(),Bg(b))}function Iz(){var a=$(".toolbarContainer .toolbar__button--cancel");0<$("#overlays \x3e .mask.on").length&&0<a.length&&a.trigger("click")}function JU(){Iz()}
function KU(a){function b(a){if($(a.target).is("#cutoutMessage")||0<$(a.target).parents("#cutoutMessage").length||$("#overlays").hasClass("shakeOverlays"))return!0;clearTimeout(v);$("#overlays").addClass("shakeOverlays");v=setTimeout(function(){$("#overlays").removeClass("shakeOverlays")},300)}function c(a){$(a.target).hasClass("buttonCutoutMessageEditText")&&(a=u,a.Cz=!1,a.C().toggleClass("failed",a.Cz),a.Tq(0),a.fC(0),a.vk(0,"Glegoo"),a.ft=!0,KA(a.C(),!0),a.ab(),Bg(u),LK(u.C(),!0),u.$a(),d())}function d(){$(n).off("mousedown",
b).off("mouseleave",d);$("#cutoutMessage").on("transitionend",e).addClass("disappear")}function e(){$(this).remove()}function g(){var a=q.get(0)===n;if(a=q.data("triggerElement")!==n&&!a){var a=$("#overlays").find(".text.focused"),b;0<a.length?(a=Wg(a.get(0).getBoundingClientRect()),b=Wg(n.getBoundingClientRect()),a=Yg(a,b)):a=!1;a=!a}return a}var h,k,l;l=200;var m=85,n=a.currentTarget;a=nc(Lb);h=n.classList.contains("unapproved");k=a.format("documentMediaLoadFailedError");var p=n.classList.contains("failed"),
q=$("#cutoutMessage"),u=$(n).data("canvaElement");if(u){0>=q.length&&(q=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));p&&(l=240,m=100,k=a.format("documentFontLoadFailedError"));q.data("canvaElement",u).html(k).toggleClass("unapproved",h).toggleClass("failed",p).off("transitionend").removeClass("disappear");$(n).on("mousedown",b);g()&&(a=Wg(n.getBoundingClientRect()),h=Wg($("#overlays").get(0).getBoundingClientRect()),k=$("#canvaDocument").offset(),k=tT().translate(k.left,k.top).translate(-h.F(),
-h.w()),l=new V(0,0,l,m),Im(Cm(l,a).translate(-h.F(),-h.w()),k),q.css(l.serialize()).appendTo("#overlays").data("triggerElement",n).on("click",c));$(n).on("mouseleave",d);var v}}function LU(a){$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, #canvaDocument \x3e .inner \x3e .page, #canvaDocument \x3e .inner \x3e .page .page__elements")&&($(a.target).is("input")||$(document.activeElement).blur(),hh())}
function ih(a,b,c){function d(a){RN=!0;window.clearTimeout(S);S=window.setTimeout(function(){RN=!1},1E3);var b=document.elementFromPoint(a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY);N.forEach(function(a){a!=b&&l.call(a)});var c=$(b),d=0<=N.indexOf(b);!d&&0<c.parents("#hotspots").length&&c.is(".element.hotspot")?(Q=b,g.call(b,a),N=[b]):N=d?[b]:[]}function e(a){$(document).off("touchmove",d).off("touchend",e);var b=$(Q);0<b.parents("#hotspots").length&&b.is(".element.hotspot")&&
m.call(Q,a);window.setTimeout(function(){RN=!1},300)}function g(b){if(b&&b.shiftKey)z=!1;else if(a.hasClass("svg")||a.hasClass("cutout")){t=z=!1;var c=$("#cutoutMessage");0>=c.length&&(c=$('\x3cdiv id\x3d"cutoutMessage"\x3e').text(p.format("documentCutoutInFrameWarning")),c.appendTo("#content"));c.off("transitionend").removeClass("disappear")}else if(u&&null===u.Nb())t=z=!1;else{var d=q.clone(!0);d.css("width","").css("height","");b=$(this).data("canvaElement");var e=$(this).data("placeholderIndex");
a.data("placedInElement",b).addClass("placing").addClass("draggedMediaOverHotspot");var g=a.data("li"),h=g.data("result"),k=g.find("img").data("mediaApproved"),g=h.u(),h=h.getVersion(),l=b.hn(e),d=new V(0,0,u?JC(u):parseInt(d.data("screenWidth"),10),u?hp(u):parseInt(d.data("screenHeight"),10));Dm(d,l).translate(-l.F(),-l.w());d={type:"image",index:e,mediaId:g,mediaVersion:h,origin:u?u.Cf():null,imageBox:d.serialize(),flipOrientation:u?u.xa:0,mediaApproved:void 0===k?!0:k};L=b.ol(e);J=tD(b.Ep(e));
g===L.mediaId?z=!1:(b.Wq(e,d),u&&((g=u.C().data("selectionBox"))&&g.hide(),u.Sp()&&u.Jd()&&(c=tD(u.Jd()))),b=b.Ep(e),b.remove(),nJ(b,c||tD(b)))}}function h(){E.read(k)}function k(){var b=a.offset();E.write(function(){$("#cutoutMessage").css("left",b.left+a.width()/2-$("#cutoutMessage").outerWidth()/2).css("top",b.top+a.height()/2-$("#cutoutMessage").outerHeight()/2)})}function l(){var b=$(this).data("canvaElement"),c=$(this).data("placeholderIndex"),d=b.Ep(c);a.removeData("placedInElement").removeClass("placing").removeClass("draggedMediaOverHotspot");
$("#cutoutMessage").on("transitionend",n).addClass("disappear");z&&(b.Wq(c,L),d.remove(),nJ(d,J),u&&(b=u.C().data("selectionBox"))&&b.show())}function m(b){if(a.data("li")&&(!b||!b.shiftKey)&&($("#cutoutMessage").on("transitionend",n).addClass("disappear"),t)){b=a.data("li").data("result");var c=$(this).data("canvaElement"),d=$(this).data("placeholderIndex"),e=c.Xz(d);SN(c);var g={elementIndex:c.K(),pageIndex:cp(K,c.R()),placeholderIndex:d,"new":c.ol(d),old:L},h={elementIndex:c.K(),pageIndex:cp(K,
c.R()),placeholderIndex:d,"new":{filter:tD(c.Ep(d))},old:{filter:J}},g=new Y(lO,g),h=new Y(11,h);CK();M.register(g);M.register(h);c.Rc=!0;c.qt(e);a.one("transitionend",n).addClass("disappeared").removeClass("draggedMediaOverHotspot").removeClass("placing");x.remove();e.removeData("oldPlacement");u&&(u.jb(a.data("startLeft")),u.eb(a.data("startTop")),sN(u),u.remove(),u instanceof oC&&c instanceof ap&&0!=u.xa&&setTimeout(function(){function a(c){c.target!=l.get(0)&&(clearTimeout(v),c.target==l.find("a")[0]?
($(document).on("mouseout mouseup",b),c.preventDefault()):k())}function b(){$(document).off("mouseout mouseup",b);k()}function e(){$(document).off("mousemove",e);u=setTimeout(function(){l.on("mouseenter",g).on("mouseleave",h)},100)}function g(){clearTimeout(v)}function h(){clearTimeout(v);v=setTimeout(k,1E3)}function k(){clearTimeout(u);$(document).off("mousedown",a).off("mousemove",e);l.off("mouseenter",g).off("mouseleave",h);l.on("transitionend",n).addClass("disappear")}var l=$("#cutoutMessage");
0==l.length&&(l=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));var m=uD(vb,y(c.R()));l.off("transitionend").addClass("closeable").removeClass("disappear").text(p.format("documentCutoutFlippedImageWarning")).append('\x3ca href\x3d"#" class\x3d"close"\x3eClose\x3c/a\x3e');GV(m,l);var q=c.pa(),t=c.hn(d),m=q.w()+t.w()+t.o()/2,m=m*W,m=m-l.outerHeight()/2,q=q.F()+t.F()+t.l()/2,q=q*W,q=q-l.outerWidth()/2;l.css("top",m).css("left",q);$(document).on("mousedown",a).on("mousemove",e);var u=0,v=setTimeout(k,
1E4)},200));DK();b&&(e=b.Cf(),e!==Kg&&"GOOGLE"!==e||Cg(Hb,b,c.Kp(d)),kL(b,v))}}function n(){$(this).remove()}b=b||K.Da();var p=nc(Lb),q=$("img",a),u=a.data("canvaElement"),v=!!a.data("isOrganicSearchResult"),z=!0,t=!0,x=$('\x3csection id\x3d"hotspots"\x3e\x3c/section\x3e'),H=yE(vb,b);x.css(H.serialize());var E=Zg();b.ia().forEach(function(a){if((a instanceof ap||a instanceof sC)&&!KC(a)){var b=$('\x3cdiv class\x3d"container"\x3e\x3c/div\x3e'),d=a.pa();b.css(d.scale(W).round().serialize()).css("transform",
"rotate("+a.Ta().toString()+"deg)");for(var d=a.gg(),e=0;e<d;e++){var k=a.hn(e);k.scale(W).round();var n=$('\x3cdiv class\x3d"element hotspot"\x3e\x3c/div\x3e');n.css(k.serialize()).data("canvaElement",a).data("placeholderIndex",e).appendTo(b);!1===c&&n.mouseover(g).mousemove(h).mouseout(l).mouseup(m)}b.appendTo(x)}});x.appendTo("#content");b=uD(vb,b).$el;x.css("left",b.offset().left).css("top",b.offset().top);var L=null,J=null,Q=null,S=null;if(!0===c){var N=[];$(document).on("touchmove",d).on("touchend",
e)}}
function nN(a,b){function c(a){a={left:a.originalEvent.touches[0].clientX,top:a.originalEvent.touches[0].clientY,width:0,height:0};for(var b={left:q,top:u,width:0,height:0},c=0;c<p.length;c++){var d=p[c];ah(a,d)&&!ah(b,d)?e.call(d.element):ah(b,d)&&!ah(a,d)&&g.call(d.element)}q=a.left;u=a.top}function d(b){$(document).off("touchmove",c).off("touchend",d);for(var e={left:b.originalEvent.changedTouches[0].clientX,top:b.originalEvent.changedTouches[0].clientY,width:0,height:0},g=0;g<p.length;g++){var l=p[g];
if(ah(e,l)){var m=$(".page",k).index(l.element);$(l.element).data("page",$("#canvaDocument \x3e .inner \x3e .page").eq(m));h.call(l.element,b,a)}}}function e(){var b=$(this).data("page");b&&(b.addClass("hotspotHover"),$(this).addClass("hover"),a.addClass("placing"))}function g(){var b=$(this).data("page");b&&b.removeClass("hotspotHover");$(this).removeClass("hover");a.removeClass("placing")}function h(b,c){function d(a){function b(){h.off("unpacked",b);mP({gp:h.ns(),me:K.kb(),page:h});c(h.serialize())}
function c(b){n&&(e=new Um({type:xB,id:n.id,version:n.version}),HV(a,e));var d={};a.layout&&(d.id=a.layout.id,d.version=a.layout.version);p&&(d.id=p.id,d.version=p.version);b=Qm(new Om(d),b);var d={"new":b,old:Za,pageIndex:ta.K()},g=cq(b.Hg()),h=U,k=b.serialize();!g&&h&&k&&Tl(h,k.id);yO(ta,b,l,e);M.register(new wO(4,d))}var e;l&&(ta.clear(),hP(ta,l));if(a.width!==ta.l()||a.height!==ta.o()){var g=Qm(new Om,a),h=new Hp(K,{});yO(h,g,null,null,!0);h.on("unpacked",b)}else c(a)}function e(a){return a.getDocument().He().content.pages[q.pageIndex]}
hh();2==arguments.length&&(a=c);var g=a.data("li"),h=$(this).data("page");if(g&&h){h=$("#canvaDocument \x3e .inner \x3e .page").index(h);Ip(K,h);var l,m=!!a.data("isOrganicSearchResult"),n=g.find("a").data("documentProperties"),p=g.find("a").data("layoutProperties"),q=g.find("a").data("pageTemplateRequest"),u=g.find("a").data("pageTemplateRequest"),fa=g.find("a").data("pageTemplate"),ta=K.Da(),Za=ta.iu();n&&n.previewUrl&&(l=n.previewUrl);p&&p.previewUrl&&(l=p.previewUrl);if(q||u||fa)vM.Py(ta,Lb).then(function(a){a&&
(q?(ta.clear(),hP(ta,n.previewUrl),Ab.getDocument(new Bt({$f:n.id,tA:!0})).then(e).then(d)):u?(ta.clear(),$.getJSON(u.url,function(a){(a=a.content.pages[0])&&d(a)})):fa&&d(fa))});else if(0<g.parents(".backgroundGallery").length)uN(a.data("li")),(h=g.data("result"))&&kL(h,m);else if(0<g.parents(".templateGallery").length){var pa=g.data("layoutItem"),m=g.data("designItem"),h=g.data("searchResult"),ba=g.parents(".results").data("view"),Aa=g.find("a");IV(ba,Aa,!0);m?(g=g.data("usablePreview"),JV(ba,m,
g)):pa?KV(ba,pa):h&&XO(ba,h)}}k.remove();a.remove();$("#canvaDocument \x3e .inner \x3e .page").removeClass("hotspotHover")}var k=$('\x3cdiv id\x3d"hotspots"\x3e\x3c/div\x3e'),l=parseInt($("#canvaDocument").offset().left,10),m=parseInt($("#canvaDocument").offset().top,10),n=$("#canvaDocument").get(0).scrollTop;k.css("left",l).css("top",m-n).css("z-index","99999").appendTo("#content");$("#canvaDocument \x3e .inner \x3e .page").each(function(){var a=$(this);a.clone().css("width",a.outerWidth()).css("height",
a.outerHeight()).data("page",a).empty().appendTo(k)});if(b){var p=[],q=0,u=0;$(".page",k).each(function(){var a=$(this).offset(),b=$(this).outerWidth(),c=$(this).outerHeight();p.push({element:this,left:a.left,top:a.top,width:b,height:c})});$(document).on("touchmove",c).on("touchend",d)}else $(".page",k).mouseover(e).mouseout(g).mouseup(h)}
function rS(a){function b(){h.data("selectionBox")?($("#overlays \x3e .mask").addClass("on"),h.addClass("cropping"),a.$a(),$(".cropControls img.uncropped").css("opacity",.5),$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0.5)"),SC($(".cropControls"),a.Ta())):e()}function c(a){13===a.which?d():27===a.which&&e()}function d(){var b=a.F(),c=a.w();a.Jr();b={elementIndex:a.K(),pageIndex:cp(K,a.R()),placeholderIndex:a.Hc(),"new":{placeholderBox:a.ed().serialize(),imageBox:a.dg().serialize(),
cropped:!0,left:a.F(),top:a.w()},old:{placeholderBox:l.serialize(),imageBox:k.serialize(),cropped:m||a instanceof oC,left:b,top:c}};M.register(new Y(6,b));$("#overlays \x3e .mask").removeClass("on");$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0)");a.ab();ZO(h,zc(Lb));g();U&&Ul("crop_confirm")}function e(){a instanceof oC?(l&&sl(a,l),a.Xl(k),a.yI=!1,h.removeClass("cropping")):(a.Xl(k),a.Jr());var b=h.data("toolbar");a.Hf()&&b&&b.show();$("#overlays \x3e .mask").removeClass("on");
$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0)");a.ab();a.Hf()&&ZO(h,zc(Lb));g();Ul("crop_cancel")}function g(){$("#content").off("click",".toolbar--crop .toolbar__button--ok",d).off("click",".toolbar--crop .toolbar__button--cancel",e);$(document).off("keydown",c)}if(a.Cm&&a.IM()){var h=a.C(),k=a.dg(),l=a.ed(),m=!!a.Qk;$("#content").on("click",".toolbar--crop .toolbar__button--ok",d).on("click",".toolbar--crop .toolbar__button--cancel",e);$(document).on("keydown",c);a.yH(a.Hc(),
b)}}function UN(){Zg().write(function(){$("#overlays .align").removeClass("on")})}function dh(a,b,c,d,e){function g(a){var b=null;if(a instanceof Z||a instanceof tl)b=a.R();return b?uD(vb,b):gh(vb)}rU(a,b,c,function(){return W},function(a){return HC(g(a))+Math.round(a.$b()*W)},function(a){return MC(g(a))+Math.round(a.kc()*W)},d,e)}
function ch(a){var b=[];void 0!==a&&(a instanceof Z?b.push(a):a instanceof Array&&(b=a));var c=0==b.length?K.Da():b[0].R();if(!c)return[];a=c.ia();a=a.filter(function(a){return-1===b.indexOf(a)&&!a.Gb()&&!KC(a)});a.push(c);var d=[];Rb&&Rb()&&(d=eQ());c=gQ(c)||[];return a.concat(d).concat(c)}function dO(){Tb&&hO();$("body").addClass("blockDocument");hh();$("#search").blur()}
function bO(){if(Tb){var a=Tb;a.HD=!1;a.$el.removeClass("blockEditorControls");LV(a,a.Mu)}$("body").removeClass("blockDocument")}function JK(a,b){var c=a.ci();c&&sE(a,c+105*b/2);a={elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{borderWidth:a.ci()},old:{borderWidth:c}};M.register(new Y(dp,a))}function KK(a,b){var c=a.pe();b=c+5*b;0<=b&&50>=b&&(a.Xq(b),a={elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{spacing:a.pe()},old:{spacing:c}},M.register(new Y(dp,a)))}
function IK(a){var b=a.ci();b?sE(a,0):sE(a,105);a={elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{borderWidth:a.ci()},old:{borderWidth:b}};M.register(new Y(dp,a))}function MV(a,b){M.register(new Y(dp,{elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{verticalAlignment:a.rs()},old:{verticalAlignment:b}}))}function SK(a){var b=a.rs();a.hR();MV(a,b)}function TK(a){var b=a.rs();a.NN();MV(a,b)}function UK(a){var b=a.rs();a.DJ();MV(a,b)}
function MK(a,b){function c(){a.WT&&a.WT()}function d(){a.MV&&a.MV()}function e(){a.kZ&&a.kZ(0)}var g=a.cb(a.zb());0===oA(g)&&(1===b?FV(d):-1===b?FV(c):0===b&&FV(e),JA(g,!0))}
function GR(a){var b=a.Yc,c=_.sortBy(a.ia(),function(a){return a.w()}),d=c.filter(function(a){return a!==b});if(b){a.Df()&&a.Lx();CK();var e=[],g;if(b instanceof Kp){var h=b.pa(),k=c.indexOf(b)-1,l=c.indexOf(b)+1;g=b.rs();var m=a.w(),n=h.clone(),p;c.length>l&&c[l]instanceof Kp?(p=h.wa()-c[l].w(),n.ea(p)):1<c.length&&c[k]instanceof Kp?(p=c[k].wa()-h.w(),n.ea(p)):n.ea(0);d.forEach(function(a){var b={pageIndex:cp(K,a.R())};b.old=a.pa();e.push(b)});Object.freeze(d);Object.freeze(e);a.zP(b,h,n);if(0===
a.Ta()){c=m;switch(g){case "middle":c=m-p/2;break;case "bottom":c=m-p}g={elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{top:c},old:{top:m}};g=new Y(dp,g);M.register(g);a.eb(c)}}sN(b);a.oj(b);b.remove();g=a.Fr(d[0]);g.proportionalSetSize=!1;g=new Y(dp,g);M.register(g);d.forEach(function(a,b){e[b]&&(e[b].elementIndex=a.K(),e[b]["new"]=a.pa(),e[b].proportionalSetSize=!1)});e.forEach(function(a){M.register(new Y(dp,a))});1===a.ia().length&&(xO(a),UU(a),vO(a));DK()}}
function kV(a,b){a.forEach(function(a){a.tg=b})}function WK(){var a=$(".element [contenteditable\x3dtrue]");if(1===a.length){var b=a.data("textChangeCount")||0;if(0<b&&document.execCommand("undo",!1,null)){a.data("textChangeCount",--b);return}ep()}a=M;if(0!=a.kd.length){a.trigger("beforeOperationStackPop");a.mR=!0;if(0<a.nn.length)throw Error("cannot undo while a grouped operation is being collected");var b=a.kd.pop(),c=b.invert();c.Xn();a.Hw.push(b);hh();fV(rO(c));a.mR=!1;K.trigger("change")}}
function VK(){if(1===$(".element [contenteditable\x3dtrue]").length){if(document.execCommand("redo",!1,null))return;ep()}var a=M;if(0!=a.Hw.length){a.trigger("beforeOperationStackPop");a.yP=!0;if(0<a.nn.length)throw Error("cannot undo while a grouped operation is being collected");var b=a.Hw.pop();b.Xn();a.kd.push(b);hh();fV(rO(b));a.yP=!1;K.trigger("change")}}
function NV(a){var b=new AO(1,{"new":{docType:Su(a.doctype),doctypeSpec:a.Xk?Mp(a.Xk):null},old:{docType:Su(a.Eb.kb()),doctypeSpec:a.Eb.Xk?Mp(a.Eb.Xk):null,model:a.Eb.serialize()}}),c=y(a.doctype.getName()),d=a.Eb.pb();d.Ku=c;d.trigger("change");hh();a.kd.register(b);b.Xn()};function OV(a,b,c){return location.protocol+"//"+location.host+"/design/"+encodeURIComponent(a)+(c?"/"+encodeURIComponent(c):"")+(b?"/"+encodeURIComponent(b):"")}function PV(a,b){return OV(a,"view",b)}function QV(a,b,c,d){return PV(a,b)+"?"+RV(a,c,d)}function RV(a,b,c){return["utm_content\x3d"+encodeURIComponent(a),"utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent(c),"utm_source\x3d"+encodeURIComponent(b)].join("\x26")};function SV(){}SV=Backbone.View.extend({className:"switch"});f=SV.prototype;f.events=function(){return{"blur input":this.$A,"change input":this.V4,dragstart:this.Os,"focus input":this.uq,mousedown:this.Ps}};f.initialize=function(a){a=_.defaults({},a,{Gl:null,on:!1,ek:null});this.Gl=a.Gl;this.lu=void 0===a.lu||!!a.lu;this.KG=this.KG.bind(this);this.LG=this.LG.bind(this);this.ek=a.ek;this.rO=a.on};function TV(a){return!!a.input.prop("checked")}f.$A=function(){this.$el.removeClass("switchFocused")};
f.V4=function(){var a=TV(this);this.$el.toggleClass("switchOn",a);this.trigger("toggle",a)};f.KG=function(a){var b=this.handle.offset().left,c=b+this.handle.outerWidth(),b=TV(this)&&a.pageX<b;a=!TV(this)&&a.pageX>c;if(b||a)this.handle.removeClass("switchHandlePressed"),UV(this),this.toggle()};f.LG=function(a){$(a.target).closest(this.el).length&&(this.trigger("click"),this.lu&&this.toggle());this.handle.removeClass("switchHandlePressed");UV(this)};f.Os=function(a){a.preventDefault()};f.uq=function(){this.$el.addClass("switchFocused")};
f.Ps=function(a){a.target===this.handle[0]&&($(document).on("mousemove",this.KG),this.handle.addClass("switchHandlePressed"));$(document).on("mouseup",this.LG)};f.remove=function(){Backbone.View.prototype.remove.call(this);UV(this)};function UV(a){$(document).off({mousemove:a.KG,mouseup:a.LG})}
f.render=function(){var a;this.rO?(a=this.rO,delete this.rO):a=!(!this.input||!this.input.prop("checked"));var b,c={Gl:this.Gl,ek:this.ek},d,c=c||{};soy.asserts.assertType(null==c.ek||c.ek instanceof goog.soy.data.SanitizedContent||goog.isString(c.ek),"onLabel",c.ek,"null|string|undefined");b=c.ek;soy.asserts.assertType(null==c.Gl||c.Gl instanceof goog.soy.data.SanitizedContent||goog.isString(c.Gl),"offLabel",c.Gl,"null|string|undefined");c=c.Gl;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cinput type\x3d"checkbox"\x3e\x3cdiv class\x3d"switchContent"\x3e\x3cdiv class\x3d"switchLabelOn"\x3e'+
soy.$$escapeHtml(null==(d=b)?"":d)+'\x3c/div\x3e\x3cdiv class\x3d"switchHandle"\x3e\x3c/div\x3e\x3cdiv class\x3d"switchLabelOff"\x3e'+soy.$$escapeHtml(null==(d=c)?"":d)+"\x3c/div\x3e"+(c?'\x3cdiv class\x3d"switchLabelOffSpacer"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e":"")+"\x3c/div\x3e");this.$el.html(b.toString());this.$el.toggleClass("switchOn",a);this.handle=this.$(".switchHandle");this.input=this.$("input");this.input.prop("checked",a);return this};
f.toggle=function(a){void 0===a&&(a=!this.input.prop("checked"));a!==this.input.prop("checked")&&(this.input.prop("checked",a),this.input.change())};function mP(a){function b(a){a.translate(-g.F(),-g.w());zm(a,q,u,p);a.translate(t,x)}var c=a.page,d=c.pa(),e=function(a){a=Rg(a.sb);return new V(0,0,a.l(),a.o())}(a.me),g=a.gp||d;a=g.l();var h=g.o(),k=e.l(),l=e.o(),m=k/a,n=l/h,p=Math.min(m,n),q=a/2,u=h/2,v=k/2,z=l/2,t=v-q,x=z-u;c.ia().forEach(function(a){if(!a.Fh&&!KC(a)){var c;if(a instanceof sC&&1===a.gg()){var g=a.pe();c=a.pa();g=Tm(d.l(),d.o(),g,!1);c=Hm(c,g)}else c=a instanceof oC?a.fq()&&a.Gb():!1;if(c)a instanceof sC?(a.pd(Tm(k,l,a.pe(),!1)),
a.ab()):a.pd(e.clone());else if(a.Gb()){c=a.pa();g=1;b(c);if(m<n)var g=c.w(),h=l-c.wa(),g=l/(l-2*Math.max(0,g,h));else m>n&&(g=c.F(),h=k-c.Za(),g=k/(k-2*Math.max(0,g,h)));1<g&&zm(c,v,z,g);a.pd(c)}else c=a.pa(),a instanceof Kp&&(g=p*a.Jc(0),a.DA()?a.ve(0,g):(a.bk(),a.ve(0,g),a.nR())),b(c),a.pd(c),a instanceof sC&&a.ab()}});c.la(k);c.ea(l);return fh(g.clone(),e)};function VV(){}VV=Backbone.View.extend({className:"tileListBusyIndicator"});f=VV.prototype;f.initialize=function(){this.transitionDelay=-1;this.vI=0};f.hide=function(){WV(this,function(){this.$el.removeClass("tileListBusyIndicatorOn")})};f.render=function(){this.$el.html(this.template());return this};function WV(a,b){0!=a.vI&&(window.clearTimeout(a.vI),a.vI=0);0<=a.transitionDelay?a.vI=window.setTimeout(b.bind(a),a.transitionDelay):b.call(a)}f.show=function(){WV(this,function(){this.$el.addClass("tileListBusyIndicatorOn")})};
f.template=function(){return _.range(8).map(function(){return"\x3cspan\x3e\x3c/span\x3e"}).join("")};function XV(a,b){this.$el=a;this.ym=b.ym||"";this.Zg=b.Zg}function YV(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"masonryLayout"\x3e\x3c/div\x3e').toString());return new XV(b,a)}f=XV.prototype;f.add=function(a,b){var c=this;this.ra||ZV(this,this.ll());var d=$V(this);this.ra.eq(0).append(a);var e=a.get().map(this.o,this);a.each(function(a,h){var k=aW(c,d);d[k]+=e[a];b?c.ra.eq(k).prepend(h):c.ra.eq(k).append(h)})};
function bW(a,b){var c=a.ll();if(void 0!==b.ra){if(b.ra.length!==c)throw Error("Cannot merge masonry layouts with different column counts.");a.ra||ZV(a,c);a.ra.each(function(a,c){b.ra.eq(a).children().appendTo(c)})}}f.contains=function(a){return!(!this.ra||!this.ra.children().filter(a).length)};function ZV(a,b){var c="masonryLayoutColumn "+a.ym;a.ra=_.range(b).map(function(){return $("\x3cdiv\x3e").addClass(c).width(100/b+"%")}).reduce($.merge);a.ra.appendTo(a.$el)}
f.wL=function(a){var b=this.$el.width()/this.ll();return Math.floor(a/b)*this.ll()+this.ll()};f.ll=function(){var a;"function"===typeof this.Zg?(a=this.$el.width(),a=this.Zg(a)):a=this.Zg;return Math.max(a,1)};function $V(a){return a.ra.get().map(function(a){var c=$(a).children();if(!c.length)return 0;var c=c.last().get(0),d=window.getComputedStyle(c),d=parseInt(d.marginBottom,10)||0;return c.getBoundingClientRect().bottom+d-a.getBoundingClientRect().top})}
function aW(a,b){b||(b=$V(a));return _.min(_.range(b.length),function(a){return b[a]})}f.o=function(a){var b=window.getComputedStyle(a);a=a.getBoundingClientRect().height;var c=Math.pow(10,2);return Math.round(a*c)/c+(parseInt(b.marginBottom,10)||0)+(parseInt(b.marginTop,10)||0)};f.Bf=function(){var a=this.ra&&this.ra.children().get()||[];a.sort(function(a,c){return a.offsetTop!==c.offsetTop?a.offsetTop-c.offsetTop:a.offsetLeft-c.offsetLeft});return $(a)};
f.lv=function(a){function b(a){return a.offsetHeight+a.offsetTop}if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var c=b(a[0]);return $(this.ra.children().get().filter(function(a){return b(a)>c}))};f.ql=function(){if(this.ra){var a=aW(this),a=this.ra.get(a);return $(a)}return null};f.isEmpty=function(){return!(this.ra&&this.ra.children().length)};f.push=function(a){this.add(a)};
f.ab=function(){var a=this.ll(),a=this.ra&&a!==this.ra.length;this.ra&&a&&(a=this.Bf().detach(),this.ra&&this.ra.remove(),this.ra=void 0,this.push(a),this.trigger("redraw"))};f.remove=function(a){this.ra&&this.ra.children().filter(a).remove()};f.removeAll=function(){this.ra&&this.ra.children().remove()};
f.split=function(a){if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var b=this.lv(a);if(0===b.length)return null;var c=YV({ym:this.ym,Zg:this.Zg});ZV(c,this.ra.length);this.ra.each(function(a,e){e=$(e).children().filter(b);c.ra.eq(a).append(e)});return c};f.unshift=function(a){this.add(a,!0)};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function cW(a){this.children=[];this.ym=a.ym;this.Zg=a.Zg;this.$el=$("\x3cdiv\x3e")}f=cW.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;function dW(a){return YV({ym:a.ym,Zg:a.Zg})}f.wL=function(a){var b=this.$el.width()/this.ll();return Math.ceil(a/b)*this.ll()+this.ll()};f.ll=function(){var a;"function"===typeof this.Zg?(a=this.$el.width(),a=this.Zg(a)):a=this.Zg;return Math.max(a,1)};
f.Bf=function(){var a=[];this.children.forEach(function(b){b instanceof XV?a=a.concat(b.Bf().get()):a.push(b)});return $(a)};function eW(a,b){return a.CF().filter(function(a){return a.contains(b)})[0]||null}f.CF=function(){return this.children.filter(function(a){return a instanceof XV})};f.ql=function(){var a=this.CF().slice(-1)[0];return a&&a.ql()||null};
function fW(a,b,c){var d,e;d=eW(a,b);if(!d)throw Error("The given element is not an item in the masonry layout.");c.insertAfter(d.$el);e=a.children.indexOf(d);a.children.splice(e+1,0,c[0]);d.lv(b).length&&(a.trigger("beforeSplit",d.ra),b=d.split(b),b.$el.insertAfter(c),a.children.splice(e+2,0,b),a.trigger("afterSplit",d.ra,b.ra))}f.push=function(a){if(!(this.children.slice(-1)[0]instanceof XV)){var b;b=dW(this);b.$el.appendTo(this.$el);this.children.push(b)}this.children.slice(-1)[0].push(a)};
f.ab=function(){function a(){b=!0}var b=!1;this.CF().forEach(function(b){b.on("redraw",a);b.ab();b.off("redraw",a)});b&&this.trigger("redraw")};f.remove=function(a){this.children=this.children.reduce(function(b,c){c instanceof XV?(c.remove(a),c.isEmpty()?c.$el.remove():b.push(c)):b.push(c);return b},[])};
function gW(a,b){var c=a.children.indexOf(b[0]),d,e;if(0>c)throw Error("The given element is not a block in the layout.");d=a.children[c+1];e=a.children[c-1];d instanceof XV&&e instanceof XV&&(a.trigger("beforeMerge",e.ra,d.ra),bW(e,d),d.$el.remove(),a.children.splice(a.children.indexOf(d),1));b.remove();a.children.splice(c,1)}f.unshift=function(a){if(!(this.children[0]instanceof XV)){var b;b=dW(this);b.$el.prependTo(this.$el);this.children.unshift(b)}this.children[0].unshift(a)};function hW(a){this.yp=a;this.c3=$.isWindow(this.yp[0]);this.tV=_.throttle(this.dispatchEvent.bind(this),200)}f=hW.prototype;f.rG=function(){this.stopListening();this.yp.on("scroll",this.tV)};f.stopListening=function(){this.yp.off("scroll",this.tV)};
function iW(a,b,c){c=_.defaults({},c,{QM:!1});var d=b.offset().top;c=c.QM?parseInt(b.css("margin-bottom"),10):0;b=b.outerHeight();d=d+b+c;b=a.c3?a.yp.scrollTop():a.yp.offset().top+parseInt(a.yp.css("border-top-width"),10);a=a.yp.innerHeight();return d-(b+a)}f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.dispatchEvent=function(){this.trigger("scroll",this)};function jW(a){soy.asserts.assertType(null==a.wl||a.wl instanceof goog.soy.data.SanitizedContent||goog.isString(a.wl),"licensePrice",a.wl,"null|string|undefined");var b=a.wl;soy.asserts.assertType(null==a.kq||goog.isBoolean(a.kq)||1===a.kq||0===a.kq,"licenseFree",a.kq,"boolean|null|undefined");var c=a.kq;soy.asserts.assertType(goog.isString(a.Sv)||a.Sv instanceof goog.soy.data.SanitizedContent,"licenseWithMarkup",a.Sv,"string|goog.soy.data.SanitizedContent");var d=a.Sv;soy.asserts.assertType(goog.isString(a.Rv)||
a.Rv instanceof goog.soy.data.SanitizedContent,"licenseDescription",a.Rv,"string|goog.soy.data.SanitizedContent");var e=a.Rv;soy.asserts.assertType(goog.isString(a.Id)||a.Id instanceof goog.soy.data.SanitizedContent,"free",a.Id,"string|goog.soy.data.SanitizedContent");a=a.Id;c=null!=c&&c;b=""+('\x3cli\x3e\x3cdiv class\x3d"license"\x3e\x3cdiv class\x3d"license__name"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"license__price"\x3e'+(c?soy.$$escapeHtml(a):soy.$$escapeHtml(b))+'\x3c/div\x3e\x3c/div\x3e\x3cp class\x3d"priceSummary"\x3e'+
soy.$$escapeHtml(e)+"\x3c/p\x3e\x3c/li\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function kW(a){soy.asserts.assertType(goog.isBoolean(a.UB)||1===a.UB||0===a.UB,"royaltyFreeEnabled",a.UB,"boolean");var b=!!a.UB;soy.asserts.assertType(goog.isBoolean(a.zz)||1===a.zz||0===a.zz,"extendedEnabled",a.zz,"boolean");var c=!!a.zz;soy.asserts.assertType(null==a.mB||a.mB instanceof goog.soy.data.SanitizedContent||goog.isString(a.mB),"oneUsePrice",a.mB,"null|string|undefined");var d=a.mB;soy.asserts.assertType(null==a.VB||a.VB instanceof goog.soy.data.SanitizedContent||goog.isString(a.VB),
"royaltyFreePrice",a.VB,"null|string|undefined");var e=a.VB;soy.asserts.assertType(null==a.Az||a.Az instanceof goog.soy.data.SanitizedContent||goog.isString(a.Az),"extendedPrice",a.Az,"null|string|undefined");var g=a.Az;soy.asserts.assertType(goog.isString(a.Id)||a.Id instanceof goog.soy.data.SanitizedContent,"free",a.Id,"string|goog.soy.data.SanitizedContent");var h=a.Id;soy.asserts.assertType(goog.isString(a.tF)||a.tF instanceof goog.soy.data.SanitizedContent,"freeDescription",a.tF,"string|goog.soy.data.SanitizedContent");
var k=a.tF;soy.asserts.assertType(a.lB instanceof soydata.SanitizedHtml||a.lB instanceof soydata.UnsanitizedText||goog.isString(a.lB),"oneTimeUseWithMarkup",a.lB,"soydata.SanitizedHtml");var l=a.lB;soy.asserts.assertType(goog.isString(a.Lc)||a.Lc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Lc,"string|goog.soy.data.SanitizedContent");var m=a.Lc;soy.asserts.assertType(goog.isString(a.LD)||a.LD instanceof goog.soy.data.SanitizedContent,"c4wFreeMediaTitle",a.LD,"string|goog.soy.data.SanitizedContent");
var n=a.LD;soy.asserts.assertType(a.WB instanceof soydata.SanitizedHtml||a.WB instanceof soydata.UnsanitizedText||goog.isString(a.WB),"royaltyFreeWithMarkup",a.WB,"soydata.SanitizedHtml");var p=a.WB;soy.asserts.assertType(goog.isString(a.Nc)||a.Nc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",a.Nc,"string|goog.soy.data.SanitizedContent");var q=a.Nc;soy.asserts.assertType(a.Bz instanceof soydata.SanitizedHtml||a.Bz instanceof soydata.UnsanitizedText||goog.isString(a.Bz),"extendedWithMarkup",
a.Bz,"soydata.SanitizedHtml");var u=a.Bz;soy.asserts.assertType(goog.isString(a.Wd)||a.Wd instanceof goog.soy.data.SanitizedContent,"extendedDescription",a.Wd,"string|goog.soy.data.SanitizedContent");var v=a.Wd;soy.asserts.assertType(null==a.ow||goog.isBoolean(a.ow)||1===a.ow||0===a.ow,"oneUseFree",a.ow,"boolean|null|undefined");var z=a.ow;soy.asserts.assertType(null==a.Sw||goog.isBoolean(a.Sw)||1===a.Sw||0===a.Sw,"royaltyFreeFree",a.Sw,"boolean|null|undefined");var t=a.Sw;soy.asserts.assertType(null==
a.Xu||goog.isBoolean(a.Xu)||1===a.Xu||0===a.Xu,"extendedFree",a.Xu,"boolean|null|undefined");var x=a.Xu;soy.asserts.assertType(goog.isBoolean(a.AA)||1===a.AA||0===a.AA,"isC4wFreeMedia",a.AA,"boolean");var H=!!a.AA;soy.asserts.assertType(null==a.Mz||goog.isBoolean(a.Mz)||1===a.Mz||0===a.Mz,"forceFree",a.Mz,"boolean|null|undefined");a=a.Mz;b=""+(null!=d&&!z||b&&null!=e&&!t||c&&null!=g&&!x?"\x3cul\x3e"+(null!=d?(H?"\x3cli\x3e\x3cp\x3e"+soy.$$escapeHtml(n)+"\x3c/p\x3e\x3c/li\x3e":"")+jW({wl:d,kq:z||a,
Sv:l,Rv:m,Id:h}):"")+(b&&null!=e?jW({wl:e,kq:t||a,Sv:p,Rv:q,Id:h}):"")+(c&&null!=g?jW({wl:g,kq:x||a,Sv:u,Rv:v,Id:h}):"")+"\x3c/ul\x3e":"\x3cp\x3e"+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3cp class\x3d"priceSummary"\x3e'+soy.$$escapeHtml(k)+"\x3c/p\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function NN(){}
NN=Backbone.View.extend({className:"infoPanel",template:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e'),s9:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo"\x3e\x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- purchase %\x3e\x3c/div\x3e\x3cdiv class\x3d"prices"\x3e\x3c/div\x3e\x3c% if (hasComponentMedia) { %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- includedAssets %\x3e\x3c/div\x3e\x3cul class\x3d"componentItems componentMedia threeCol"\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- details %\x3e\x3c/div\x3e\x3cdiv class\x3d"details"\x3e\x3cp class\x3d"id"\x3e\x3c%- idTag %\x3e\x3ca target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e\x3c% if (hasKeywords) { %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- keywords %\x3e\x3c/div\x3e\x3cp class\x3d"keywords"\x3e\x3c/p\x3e\x3c% } %\x3e'),s2:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle layoutsInfo"\x3e\x3cspan class\x3d"infoPanelLayoutsCount"\x3e\x3c%- count %\x3e\x3c/span\x3e\x3c/h4\x3e\x3c% if (hasComponentDesignPages) { %\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e\x3c% } %\x3e'),
K4:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo layoutsInfo"\x3e\x3cspan class\x3d"infoPanelLayoutsCount"\x3e\x3c%- count %\x3e\x3c/span\x3e \x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e'),
Q$:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% if (isUnapproved) { %\x3e\x3cp class\x3d"unapproved error"\x3e\x3c%- uploadError %\x3e\x3cbr\x3e\x3c%- imageRequirementsTitle %\x3e\x3c/p\x3e\x3cul class\x3d"unapproved error"\x3e\x3cli\x3e\x3c%- imageRequirementsSize %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsExt %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsRgb %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cp class\x3d"delete removeUpload" data-media-id\x3d"\x3c%- id %\x3e" data-version\x3d"\x3c%- version %\x3e"\x3e\x3cspan class\x3d"icon" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c/span\x3e\x3c%- deleteMsg %\x3e\x3c/p\x3e'),
$J:_.template('\x3cli class\x3d"componentItem fetchingComponentItem componentItem\x3c%- id %\x3e"\x3e\x3cspan class\x3d"componentItemLinkLoading"\x3e\x3c/span\x3e\x3ca class\x3d"componentItemLink" target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c% if (hasPrice) { %\x3e\x3cspan class\x3d"componentItemPrice"\x3e\x3c%- price %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/li\x3e'),g4:_.template('\x3cspan class\x3d"mediaKeyword"\x3e\x3c%- keyword %\x3e\x3c/span\x3e',{variable:"keyword"})});
f=NN.prototype;f.initialize=function(a){this.i=a.i;this.W=a.W;this.J=lc(a.i);this.title=a.title||this.model.pb&&this.model.pb()||Pd(this.J);this.document=null;this.Sa=a.Sa;this.kN=a.kN;this.Yj=a.Yj;this.hN=a.hN;this.WM=a.WM;this.jN=a.jN;this.vO=a.vO;this.Qb=a.Qb;this.Cs=a.Cs;this.cp=new Map;this.fI=a.fI};
f.events=function(){return{"mousedown .componentLayouts .componentItem a":this.K2,"click .componentLayouts .componentItem a":this.RS,"click .brandInfo a":this.n9,"click .mediaKeyword":this.q9,"click .removeUpload":this.P8,"click .close":this.close}};
f.render=function(){this.$el.html(this.template({title:this.title,close:Nd(this.J)}));if(this.kN)this.$el.html(this.Q$({title:this.title||Pd(this.J),id:this.model.u(),version:this.model.getVersion(),isUnapproved:this.jN,close:Nd(this.J),closeThisInfoPanel:Od(this.J),uploadError:this.J.format("objectPanelInfoUploadError"),imageRequirementsTitle:this.J.format("objectPanelInfoImageRequirementsTitle"),imageRequirementsSize:this.J.format("objectPanelInfoImageRequirementsSize"),imageRequirementsExt:this.J.format("objectPanelInfoImageRequirementsExt"),
imageRequirementsRgb:this.J.format("objectPanelInfoImageRequirementsRgb"),deleteMsg:this.J.format("objectPanelInfoDelete")}));else if(this.WM)this.$el.html(this.s2({title:this.title,count:Qd(this.J,Number(this.model.He().pageCount)),hasComponentDesignPages:this.xV(),close:Nd(this.J),closeThisInfoPanel:Od(this.J)})),this.xV()&&lW(this);else if(this.Yj)this.$el.html(this.K4({title:this.title,count:Qd(this.J,Number(this.model.jc())),close:Nd(this.J),closeThisInfoPanel:Od(this.J)})),sL(this.model)&&0<
this.model.jc()&&mW(this);else if(this.hN){this.$el.html(this.s9({title:this.title,id:this.model.u(),url:"/media/"+encodeURIComponent(this.model.u()),hasComponentMedia:this.FM(),hasKeywords:this.yV(),close:Nd(this.J),purchase:this.J.format("objectPanelInfoPurchase"),includedAssets:this.J.format("objectPanelInfoIncludedAssets"),details:this.J.format("objectPanelInfoDetails"),keywords:this.J.format("objectPanelInfoKeywords"),idTag:this.J.format("objectPanelInfoIDTag")}));if(this.yV()){var a=this.model.Pj().map(this.g4).join(", ");
this.$(".keywords").html(a)}this.FM()&&nW(this);this.model.ja&&this.model.ja()&&oW(this);var b,c,d=0;this.FM()?(d=this.model.FF()/100,a=0===d?0:100):a=oL(this.model);b=10*a;c=100*a;this.$(".prices").html(kW({UB:!1,zz:!1,mB:pW(this,a,d),VB:pW(this,b,d),Az:pW(this,c,d),Id:this.J.format("objectPanelInfoFree"),tF:this.J.format("objectPanelInfoFreeDescription"),lB:this.J.format("objectPanelInfoOneUse"),Lc:this.J.format("objectPanelInfoOneUsePriceDescription"),LD:this.J.format("objectPanelInfoC4WFreeMedia"),
WB:this.J.Dc(),Nc:this.J.format("objectPanelInfoRoyaltyFreePriceDescription"),Bz:this.J.Gd(),Wd:this.J.format("objectPanelInfoExtendedPriceDescription"),ow:0===a,Sw:0===b,Xu:0===c,AA:this.model.Jv()}).toString())}return this};
function nW(a){function b(a,b){function d(){var a=$(this).attr("src");$(this).remove();k++;u.removeClass("fetchingComponentItem");u.find(".componentItemLink").css("background-image","url("+a+")");k>=h&&qW(c)}if(200===a){a=0;var e=b.Ka().ic(),e=e.THUMBNAIL_LARGE||e[nD],g=qF(b.Ka());g&&(a=100*qF(b.Ka()).ONE_USE||0);var u=$(c.$J({url:"/media/"+b.u(),id:b.u(),hasPrice:g,price:rW(c,a)}));c.$(".componentMedia").append(u);$("\x3cimg/\x3e").attr("src",e.na()).one("load",d)}}var c=a,d=a.model.eM(),e=Math.ceil(d.length/
3),g=.21*$(".infoPanelGallery").width()+20;a=a.$(".componentMedia");var h=d.length,k=0;sW(c);a.css("height",e*g+"px");d.forEach(function(a){Db.Mb(a.id,(new wD).Fk(a.version),b)})}function tW(a,b){function c(){return null}var d=Eb.ja(a.model.ja()).catch(c);a="DESIGN"==qL(a.model)&&a.model.Oa&&a.model.Oa()?Eb.Oa(a.model.Oa()).then(function(a){return a.Lb()||a.oh()}).catch(c):a.model.bV();P.all([d,a]).spread(b)}
function oW(a){tW(a,function(b,c){var d="DESIGN"==qL(a.model)?$("\x3cspan\x3e"):$("\x3ca\x3e").attr("href","#");if(b){var e=b.Lb()||b.dM(),g=a.J.format("objectPanelInfoBrand")+" "+b.u();c?b.ei()&&!e?d.text(a.J.format("objectPanelInfoByUser",c)):d.text(a.J.format("objectPanelInfoByUserFromBrand",c,e||g)):d.text(a.J.format("objectPanelInfoByBrand",e||g))}else d.text(a.J.format("objectPanelInfoByUnknownBrand"));a.$(".brandInfo .brand").append(d).addClass("on");a.$(".brandInfo .infoPanelLayoutsCount").addClass("on");
a.$(".brandInfo .spinner").removeClass("on").addClass("off")})}
function mW(a){function b(a){var b=d.model.getFile("THUMBNAIL_LARGE",a)||d.model.getFile(nD,a),c="https://static.canva.com/static/images/default_thumbnail.gif",e=$(d.$J({url:"#",id:a,hasPrice:!1})).css("padding-top",d.fI*l*100+"%");b&&(c=b.url);g.append(e);$("\x3cimg/\x3e").attr("src",c).one("load",function(){var a=$(this).attr("src");$(this).remove();h++;e.removeClass("fetchingComponentItem");e.find(".componentItemLink").css("background-image","url("+a+")");h>=k&&qW(d)})}function c(a,b){var c=[];Array.isArray(b.media)&&
(c=b.media.map(La).map(Xm));0<c.length&&UE(Db,yF(new xF,c),function(b,c){var e=0;200===b&&(e=c.media.reduce(function(a,b){return a+(qF(b.Ka()).ONE_USE||0)},0));0!==e&&d.$(".componentLayouts .componentItem"+a).append('\x3cspan class\x3d"componentItemPrice unlistedPrice"\x3e$\x3c/span\x3e')})}var d=a,e=a.model.jc(),g=a.$(".componentLayouts"),h=0,k=e,e=$(".infoPanelGallery").width(),l=(e-10)/e/2;sW(a);oW(a);rL(a.model).sort(function(a,b){return a-b}).forEach(function(a){b(a);uW(d,a,function(b){c(a,b)})})}
function lW(a){function b(a){var b=!1,d="https://static.canva.com/static/images/default_thumbnail.gif";e[a]&&(b=!0,d=e[a].url);var m=$(c.$J({url:"#",id:a,hasPrice:!1})).css("padding-top",c.fI*n*100+"%");m.toggleClass("componentItemThumbnailUpdating",!b||g);h.append(m);$("\x3cimg/\x3e").attr("src",d).one("load",function(){var a=$(this).attr("src");$(this).remove();k++;m.removeClass("fetchingComponentItem");m.find(".componentItemLink").css("background-image","url("+a+")");k>=l&&qW(c)})}var c=a,d=a.model.He().imageSets.thumbnail,
e=d.images,g=a.model.getVersion()>d.version,d=a.model.He().pageCount,h=a.$(".componentLayouts"),k=0,l=d,m=$(".infoPanelGallery").width(),n=(m-10)/m/2;sW(a);for(a=0;a<d;a++)b(a)}function sW(a){a.$el.addClass("infoPanelLoading")}function qW(a){window.setTimeout(function(){a.$el.removeClass("infoPanelLoading").addClass("infoPanelLoaded")},O.Ca.U3)}f.yV=function(){return this.model.Pj&&0<(this.model.Pj()||[]).length};f.xV=function(){return this.model.He&&1<this.model.He().pageCount};
f.FM=function(){return this.model.eM&&0<(this.model.eM()||[]).length};function pW(a,b,c){return null===b?null:0===b?a.J.format("objectPanelInfoFree"):null!=c&&0<c?a.J.format("objectPanelInfoComponentsPrice",c,(b/100).toFixed(0)):a.J.format("objectPanelInfoPrice",(b/100).toFixed(0))}function rW(a,b){b=pW(a,b);null===b&&(b=a.J.format("objectPanelInfoPriceUnavailable"));return b}f.close=function(){PN.call(this.$(".close").get(0))};f.n9=function(){$("#search").val("brand:"+this.model.ja());hN=null;sM(this.i)};
f.q9=function(a){$("#search").val(a.currentTarget.textContent);hN=null;sM(this.i)};f.P8=function(a){this.close(a);a=(new YE).Lo(this.model.u()).Fk(this.model.getVersion()).Qt(!0);WE(Db,a,this.vO)};
f.rM=function(a){var b;if(!(this.model instanceof or))throw Error("attempted to get a page from a non-design");try{b=this.model.He().content.pages[a]}catch(c){}if(!b&&this.document)try{b=this.document.He().content.pages[a]}catch(c){}b?this.Qb&&this.Cs&&(a={},a[this.Cs.Jb()]="#"+this.Qb,b=vW(null,b,a)):b=null;return b};function uW(a,b,c){var d=a.model.getFile("ORIGINAL",b).na();$.getJSON(d,function(d){a.cp.set(b,d);c&&c(d)})}function wW(a,b){if(a=a.cp.get(b))return a.content.pages[0]}
function xW(a){return a.Sa.getDocument(new Bt({$f:a.model.u(),tA:!0})).then(function(a){return this.document=a.getDocument()}.bind(a))}
f.RS=function(a,b){function c(a){function b(){mP({gp:v.ns(),me:K.kb(),page:v});c(v.serialize())}function c(b){var g={};a.layout&&(g.id=a.layout.id,g.version=a.layout.version);d.model instanceof pL&&(g.id=d.model.u(),g.version=d.model.getVersion());b=Qm(new Om(g),b);var g={"new":b,old:l,pageIndex:h.K()},n=cq(b.Hg()),p=U,u=b.serialize();!n&&p&&u&&Tl(p,u.id);yO(h,b,k,e);M.register(new wO(4,g))}if(d.model instanceof or){var e=new Um({type:xB,id:d.model.u(),version:d.model.getVersion()});HV(a,e)}if(a.width!==
h.l()||a.height!==h.o()){var g=Qm(new Om,a),v=new Hp(K,{});yO(v,g,null,null,!0);d.listenToOnce(v,"unpacked",b)}else c(a)}var d=this,e=parseInt(a.currentTarget.textContent,10),g=this.Yj?wW(this,e):this.rM(e),h=K.Da();if(b){var k=this.model instanceof or?pr(this.model,e):this.model.getFile(nD,e).na(),l=h.iu();h.clear();k&&hP(h,k);g?c(g):this.Yj?uW(this,e,function(a){return c(a)}):xW(this).then(this.rM.bind(this,e)).then(c.bind(this))}else vM.Py(h,this.i).then(function(b){b&&this.RS(a,!0)}.bind(this))};
f.K2=function(a){var b,c,d,e=parseInt($(a.currentTarget).text(),10),g={url:"https://static.canva.com/static/images/default_thumbnail.gif"};this.Yj?(b=wW(this,e),c=this.model.getFile("THUMBNAIL_LARGE",e)||this.model.getFile(nD,e),d={url:c.na()},c={draft:{content:{pages:[]},imageSets:{thumbnail:{images:[d||g]}}}}):(b=this.rM(e),c=$.extend(!0,{},this.model),d=c.draft.imageSets.thumbnail.images[e],c.draft.imageSets.thumbnail.images[0]=d||g);b?(c.draft.content.pages=[],c.draft.content.pages[0]=$.extend(!0,{},b),b={pageTemplate:b}):
b=this.Yj?{cdfRequest:{url:this.model.getFile("ORIGINAL",e).na()}}:{pageTemplateRequest:{pageIndex:e}};this.model instanceof or?b.documentProperties={id:this.model.u(),version:this.model.getVersion(),previewUrl:pr(this.model,e)}:this.model instanceof pL&&(b.layoutProperties={id:this.model.u(),version:this.model.getVersion(),previewUrl:this.model.getFile(nD,e).na()});e=yW(tq(c),lc(this.i));e.$el.children("a").data(b).css("width",$(a.currentTarget).css("width")).css("height",$(a.currentTarget).css("height"));
$(a.currentTarget).parents("li").data("view",e);return PM.call(a.currentTarget,a)};function yW(a,b,c){if(a instanceof pL)return"DESIGN"===qL(a)&&zW(function(){a.nl()}),new CP({model:a,query:c||void 0,J:b,W:Jb});if(a instanceof RI)return new AW({model:a});if(a instanceof or)return new BW({model:a});if("string"===typeof a&&-1<_.keys(Mm).indexOf(a))return new CW({model:a});if("string"===typeof a&&-1<_.keys(Nm).indexOf(a))return new DW({model:a,J:b});throw new TypeError("Unknown galleryObject type: "+typeof a);}
var zW=function(){var a=Date.now();return function(b){var c=Date.now(),d=Math.max(0,500-(c-a));window.setTimeout(b,d);a=c+d}}();function EW(){}EW=Backbone.View.extend({});EW.rba=function(){};EW.prototype.kc=function(){return Math.round(this.$el.offset().top)};EW.prototype.gd=function(){return Math.round(this.$el.offset().top+this.$el.height())};function FW(a){return Math.round(parseInt(a.$el.css("left"),10)+a.$el.width()/2)}EW.prototype.Vg=function(a,b){b?this.$el.css("top","+\x3d"+a):this.$el.addClass("doNotTransition").css("top","+\x3d"+a).removeClass("doNotTransition")};
function GW(a,b,c){var d=a.$el.data("originalTop");c?a.$el.css("top",d+b):a.$el.addClass("doNotTransition").css("top",d+b).removeClass("doNotTransition")}
EW.prototype.Vy=function(){var a=this.$el.children("a"),b=a.offset(),c=a.width(),d=a.height(),e=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e'),a=a.children().first().clone();a.hasClass("multiPageLayoutItem")&&(a=a.find("img"));a.css("width",c).css("height",d).appendTo(e);e.data("li",this.$el).css("left",b.left).css("top",b.top).css("width",c).css("height",d);return e};function CW(){}CW=EW.extend({tagName:"li",className:"newSearch grid",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});CW.prototype.initialize=function(a){this.pV=this.model;this.z3=Mm[this.pV];!a.el&&this.render();this.$el.data("view",this)};CW.prototype.render=function(){this.$el.html(this.template()).attr("data-grid-name",this.pV);this.$("a").append(vE(this.z3.items));return this};function DW(){}DW=EW.extend({tagName:"li",className:"newSearch chart",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});DW.prototype.initialize=function(a){this.J=a.J;this.tT=this.model;this.e1=JSON.parse(JSON.stringify(Nm[this.tT]));!a.el&&this.render();this.$el.data("view",this)};
DW.prototype.render=function(){this.$el.html(this.template()).attr("data-chart-name",this.tT);var a=CH(this.e1);a.setAttribute("style","max-height: 72px");this.$("a").append(a);this.$("a").append('\x3cspan class\x3d"edit"\x3e'+this.J.format("objectPanelInfoEdit")+"\x3c/span\x3e");return this};function AW(){}AW=EW.extend({tagName:"li",className:"newSearch loading",template:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/a\x3e'),A3:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c/a\x3e')});AW.prototype.initialize=function(a){!a.el&&this.render();this.$el.data("view",this)};
AW.prototype.render=function(){var a=this,b=this.model.getContent();SI(this.model)?(this.$el.addClass("grid").html(this.A3(this.model)),this.$("a").append(vE(b.elements[0].items)),this.$el.removeClass("loading")):(this.$el.html(this.template(this.model)),this.$("img").on("load",function(){a.$el.removeClass("loading")}));this.$el.data("layoutItem",this.model);return this};
AW.prototype.Vy=function(){var a=EW.prototype.Vy.call(this),b=a.children().first();a.addClass("template");SI(this.model)&&(a.addClass("draggableGridItem dragging"),b.find(".item \x3e .content").addBack().css("left",1).css("right",1).css("top",1).css("bottom",1));return a};function BW(){}BW=AW.extend({className:"designGalleryItem newSearch loading",tagName:"li"});BW.prototype.initialize=function(){this.render()};
BW.prototype.render=function(){var a=this,b=this.model.draft,c=HW(this);this.$el.data({designItem:this.model,usablePreview:c,view:this});this.$el.html(this.template({pageCount:b.pageCount,name:b.content.title,thumbnail:Mq(a.model.draft.imageSets.thumbnail)}));this.$el.toggleClass("designItemThumbnailUpdating",c);this.$("img").on("load",function(){a.$el.removeClass("loading")});return this};
function HW(a){var b;try{b=a.model.He().imageSets.thumbnail.version}catch(c){b=-1}return a.model.getVersion()>b}BW.prototype.Vy=function(){var a,b,c;a=EW.prototype.Vy.call(this);a.addClass("template");b=a.find(".designItem");1===b.length&&(c=a.find("img"),c.css("width",a.width()),c.css("height",a.height()),b.remove(),a.append(c));return a};BW.prototype.template=_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c% if (pageCount \x3e 1) { %\x3e\x3cdiv class\x3d"designItem multiPageDesignItem" style\x3d"background-image: url(\x3c%\x3d thumbnail.images[0].url %\x3e);"\x3e\x3cdiv class\x3d"multiPageDesignItemPageCount"\x3e\x3c%\x3d pageCount %\x3e\x3c/div\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/div\x3e\x3c% } else { %\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c% } %\x3e\x3c/a\x3e');function CP(){}CP=EW.extend();CP.prototype.initialize=function(a){this.cj=new jh(window.viewConfig);this.query=a.query;this.J=a.J;this.W=a.W;this.render()};CP.prototype.render=function(){this.$el=this.createElement();this.$el.data("view",this);this.$el.data("searchResult",this.model);this.$el.data("result",this.model);return this};CP.prototype.Yj=function(){return sL(this.model)};
CP.prototype.createElement=function(){function a(){var a;if(c.query&&/^\w+$/.test(c.query)){var b=c.query.toLowerCase();a=c.model.JF();var e=!1;if(a)for(var g=0;g<a.length;g++)if(a[g].toLowerCase()==b){e=!0;break}a='\x3cspan class\x3d"superKeyword '+(e?"superHit":"superMiss")+'" title\x3d"'+(e?"Remove superKeyword ":"Add superKeyword ")+"'"+b+"'\" \x3eS\x3c/span\x3e ";d.data("superKeywordAdd",!e);d.data("query",b);d.find(".searchResultItem__info").append($(a))}}function b(){var a=$('\x3cdiv class\x3d"multiPageLayoutItem"\x3e\x3c/div\x3e'),
b=$('\x3cdiv class\x3d"multiPageLayoutItemPageCount"\x3e\x3c/div\x3e'),e=c.model.getFile("THUMBNAIL_LARGE",0)||c.model.getFile(nD,0);a.css("background-image","url("+e.na()+")");b.text(String(c.model.jc()));d.find("a \x3e *").wrapAll(a);d.find(".multiPageLayoutItem").append(b)}var c=this,d=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg\x3e\x3c/a\x3e\x3c/li\x3e'),e=this.model.getFile("THUMBNAIL_LARGE")||this.model.getFile(nD),g=this.model.getFile(Lg),h=this.J.format("objectPanelSearchResultItemViewShowMoreInfo");
switch(qL(this.model)){case "ELEMENT_GROUP":CP.o$(function(){c.model.nl()});d.addClass("elementGroupSearchResult");break;case Gg:d.addClass("vectorSearchResult");break;case Eg:d.addClass("rasterSearchResult")}(function(){var a=$("img",d);aD(bD,a,e.na()).then(function(){d.removeClass("loading")}).catch(function(){var a=c;a.$el.addClass("failed");a.$el.find(".multiPageLayoutItem").removeClass("multiPageLayoutItem");a.$el.find(".multiPageLayoutItemPageCount").remove();a.$el.find(".price").remove();a.$el.find(".info").remove()});
a.data("screen-url",g.na()).data("screen-width",g.l()).data("screen-height",g.o()).attr("width",e.l()).attr("height",e.o());qL(c.model)===Gg&&(c.model.ps()?a.addClass("graphic"):a.addClass("svg"))})();(function(){var a=oL(c.model),b=(a/100).toFixed(0),e=c.model.FF(),g=!!c.W.G.get(og)&&c.model.Jv(),a=(e=!!e)&&"$"||(0===a||g)&&$d(c.J)||IW(c)&&c.J.format("objectPanelMediaItemCostPro")||null!==a&&"$"+b+" USD"||null;$("a",d).append(JW({xt:h,Vf:e,xf:KW(c)||IW(c)||g,da:a}).toString())})();c.Yj()&&(b(),$(".info",
d).remove());"CANVA"!==c.model.Cf()&&$(".info",d).remove();c.model.restricted||c.model.status==$E||($(".info",d).remove(),$(".price",d).remove(),$("img",d).addClass("inMarketplaceReview"));this.cj.vg.get("quickKeywordEditEnabled",void 0)&&a();return d};
function KW(a){if(0!==oL(a.model)||["text","lines","shapes","frames","Canva"].some(function(b){return b===a.query}))return!1;switch(qL(a.model)){case "DESIGN":return a.W.G.get(lg);case Eg:return a.W.G.get(pg);case Gg:return a.W.G.get(pg);default:return!1}}function IW(a){var b=oL(a.model);if(!a.model.Jv()||0===b||null==b)return!1;switch(qL(a.model)){case Eg:return a.W.G.get(sg);case Gg:return a.W.G.get(sg);default:return!1}}
CP.o$=function(){var a=Date.now();return function(b){var c=Date.now(),d=Math.max(0,500-(c-a));window.setTimeout(b,d);a=c+d}}();function LW(){}LW=Backbone.View.extend({className:"searchGroup"});f=LW.prototype;f.initialize=function(a){this.dv=a.dv;this.$U=[];this.Tw=a.model;this.listenTo(this.Tw,{"results:willFetch":this.$C,"results:didFetch":this.Pr,"results:clear":this.j1});this.i=a.i;this.EP=!1;a.el||this.render();this.$el.data("view",this)};f.render=function(){this.$el.html(this.template({title:this.Tw.pb()}));this.$(".gallery").addClass(this.dv);""===this.Tw.pb()&&this.$("h2").remove();return this};f.$C=function(){};
f.Pr=function(a,b,c){function d(b){return yW(b,p,a.G8)}function e(a){a.$el.appendTo(n)}function g(a){return a instanceof pL&&"DESIGN"===qL(a)}function h(a){return a instanceof CW}function k(a){return a instanceof DW}function l(a){return a instanceof AW}function m(){n.addClass("templateGallery").removeClass("photoGallery")}var n,p=lc(this.i);c||(n=this.$(".gallery"),this.$el.addClass("hasContent"),0<b.length?(c=b.map(d),c.forEach(e),c.some(k)&&n.addClass("chartGallery").removeClass("photoGallery"),
c.some(h)&&n.addClass("gridGallery").removeClass("photoGallery"),c.some(l)&&m(),b.some(g)&&m(),this.$U=this.$U.concat(c),this.ka(),this.trigger("results:render")):0===this.Tw.Uz()&&(n.remove(),this.$(".noResults,.layoutsTab__noResults").remove(),this.$el.append(this.nL())))};f.j1=function(){this.$(".gallery").find("li").each(function(){$(this).data("view").remove()})};f.ka=function(){eA(this.$(".gallery"),!1)};f.compact=function(){fA(this.$el,!0)};
f.ea=function(a,b){var c=0===a?0:"";b?this.$el.css("height",a).css("padding",c):this.$el.addClass("doNotTransition").css("height",a).css("padding",c).removeClass("doNotTransition")};function MW(a,b){a.$el.addClass("doNotTransition").css("height","+\x3d"+b).removeClass("doNotTransition")}f.lv=function(a){var b=a.gd();return a.$el.nextAll().toArray().filter(function(a){a=a.getBoundingClientRect();return(a.top+a.bottom)/2>b}).map(function(a){return $(a).data("view")})};
function NW(a,b){b=a.lv(b);if(0===b.length)return 0;a=b.slice(0).sort(function(a,b){return a.kc()-b.kc()});b=b.slice(0).sort(function(a,b){return b.gd()-a.gd()});a=a[0];return b[0].gd()-a.kc()}function OW(a){return a.$el.outerHeight(!0)-a.$el.height()}f.vz=function(){};f.zT=function(){};f.nL=function(){return $("\x3cp\x3e").addClass("noResults").text(lc(this.i).format("objectPanelSearchNoResults"))};f.template=_.template('\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e');function PW(){}PW=LW.extend();PW.prototype.initialize=function(a){this.i=a.i;this.BA=a.BA;LW.prototype.initialize.call(this,a)};PW.prototype.nL=function(){var a=$("\x3cp\x3e");this.BA?a.addClass("layoutsTab__noResults layoutsTab__noResults--folder").text(lc(this.i).format("objectPanelFolderNoResults")):a.addClass("layoutsTab__noResults layoutsTab__noResults--yourDesigns").text(lc(this.i).format("objectPanelYourDesignsNoResults"));return a};function QW(){}QW=LW.extend();QW.prototype.initialize=function(a){this.i=a.i;LW.prototype.initialize.call(this,a)};QW.prototype.nL=function(){return $("\x3cp\x3e").addClass("layoutsTab__noResults layoutsTab__noResults--templates").html(lc(this.i).format("objectPanelTemplateNoResults"))};function RW(){}RW=LW.extend({});RW.prototype.initialize=function(a){this.Dx=null;this.DU=0;LW.prototype.initialize.apply(this,arguments);a.el&&this.$(".gallery li").each(function(){var a=new EW({el:this});$(this).data("view",a)})};
RW.prototype.vz=function(a,b){var c=a.$el,d=this.lv(a),e=c.height(),e=c.data("originalTop")+e,g=SW(this,e);this.$el.addClass("folderExpanded");c.addClass("folderExpanded");d.forEach(function(a){GW(a,Math.min(b,g),!0)});b>g&&window.setTimeout(function(){d.forEach(function(a){GW(a,b,!1)})},O.Ca.Nz);this.ea(e,!0);this.DU=b;null===this.Dx&&(a=NW(this,a),c=this.$el.next(),this.Dx=$('\x3cdiv class\x3d"spacer"\x3e\x3c/div\x3e'),this.Dx.css("height",a).insertAfter(c))};
RW.prototype.zT=function(a){var b=this.lv(a),c=this.DU-SW(this);0<c&&b.forEach(function(a){a.Vg(-c,!1)});this.$el.removeClass("folderExpanded");a.$el.removeClass("folderExpanded");b.forEach(function(a){GW(a,0,!0)});var d=this;window.setTimeout(function(){d.compact();d.Dx&&d.Dx.remove();d.Dx=null},O.Ca.Nz*O.hy)};function SW(a,b){void 0===b&&(b=a.$el.height());var c=a.$el.parents(".layer").outerHeight(!0);a=a.$el.position().top;return c-(a+b)};function TW(){}TW=LW.extend({className:"inlineFolderGroup searchGroup",template:_.template('\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e')});TW.jy=150;f=TW.prototype;f.initialize=function(a){this.model=a.model;this.hg=null;LW.prototype.initialize.apply(this,arguments);this.render();this.ea(0,!1)};
f.remove=function(){function a(){LW.prototype.remove.apply(b,arguments);b.EP=!1}var b=this,c=this.$(".infoPanel .close"),d=0<c.length,e=this.$el.parent();this.EP=!0;d&&c.trigger("click");if(this.hg)this.hg.css("opacity",0).one("transitionend",function(){$(this).remove();b.hg=null});if(0<e.length){var g=this.$el.offset(),c=g.top+this.$el.outerHeight(),d=e.offset().top+e.outerHeight(),c=c-d;if(0<c){MW(this,-c);var h=e.outerHeight()-g.top;this.$(".gallery li").each(function(){var a=$(this).data("originalTop");
(a>=h||a<-g.top)&&$(this).remove()})}this.$el.one("transitionend",a).addClass("disappearing")}else a()};f.$C=function(){0===this.Tw.Uz()&&gN(this.$el);LW.prototype.$C.apply(this,arguments)};f.Pr=function(a,b,c){lN(this.$el);LW.prototype.Pr.apply(this,arguments);var d=this;window.setTimeout(function(){d.compact()},O.Ca.e9)};f.compact=function(){if(0!==this.model.Uz()){var a=this;LW.prototype.compact.apply(this,arguments);window.setTimeout(function(){a.$el.height()<TW.jy&&a.ea(TW.jy,!0)},O.Ca.Nz)}};
function UW(a){if(null===a.hg){var b=a.$el.parents(".layer");a.hg=$('\x3cdiv class\x3d"folder header clone"\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this folder"\x3eClose\x3c/a\x3e\x3ch2\x3e\x3cspan\x3e'+_.escape(a.Tw.pb())+"\x3c/span\x3e\x3c/h2\x3e\x3c/div\x3e");a.hg.css("opacity",0).insertAfter(b);P.delay(O.Ec).then(function(){a.hg.css("opacity","")});a.hg.find("a.close").one("click",function(){a.trigger("headerClose:click",a)})}}
function VW(a){if(null!==a.hg){var b=a.hg;a.hg=null;b.css("opacity",0).one("transitionend",function(){$(this).remove()})}};function WW(){}WW=Backbone.View.extend({tagName:"section",className:"layer"});WW.Pk=function(a,b){return new LW({model:a,dv:"infoPanelGallery photoGallery",i:b})};f=WW.prototype;f.events=function(){return{scroll:_.throttle(this.scroll,200)}};
f.initialize=function(a){this.i=a.i;this.ZB=this.model=a.model;this.ee=[];this.MH=[];this.Pk=a.Pk||WW.Pk;this.TM=!1;this.listenTo(this.ZB,"searchGroup:add",this.Hk);this.listenTo(this.ZB,"searchGroup:remove",this.NB);this.listenTo(this.ZB,"results:willFetch",this.$C);this.listenTo(this.ZB,"results:didFetch",this.Pr);this.$el.data("view",this)};
f.render=function(){this.$el.empty();this.ee.forEach(function(a){this.$el.append(a.$el)},this);this.$el.append('\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e');return this};f.scroll=function(){0<this.ee.filter(function(a){return a.EP}).length||this.bG()};
f.bG=function(){var a=this.$el.parent(),b=this.ee[this.ee.length-1],c=FP(this.ZB);if(0!==a.length&&b&&c&&!this.TM){var d=function(){var c=b.$el.offset().top+b.$el.outerHeight(),d=a.offset().top+a.outerHeight();return c-d};Zg(this).read(function(){if(c.VA&&d()<=a.outerHeight()*O.jS){var b=this.$("\x3e .inner \x3e .searchGroup .gallery li").length;b>O.mD&&Zg(this).write(function(){XN(this.$el,b-O.mD)});this.TM=!0;c.Yh(XW(this))}c.VA||Zg(this).write(function(){this.$el.data("userPreparedSearch",!0)})})}};
f.Hk=function(a,b,c){(a=this.ee[c-1])&&a.compact();b=this.Pk(b,this.i);this.ee.splice(c,0,b);a?b.$el.insertAfter(a.$el):b.$el.appendTo(this.$el.children(".inner"))};f.NB=function(a,b,c){a=this.ee[c];this.ee.splice(c,1);a.remove()};f.$C=function(a){this.MH.push(a);gN(this.$el)};f.Pr=function(a,b){var c=this.MH.indexOf(a);-1<c&&this.MH.splice(c,1);0===this.MH.length&&lN(this.$el);this.TM=!1;if(a.VA){var d=this;setTimeout(function(){a===FP(d.model)&&d.bG()},b.length*O.Ca.iw+O.Ca.YA)}};
function XW(a){a=a.$el.parent();return jN(a,a.height())};function YW(){}YW=WW.extend({});f=YW.prototype;f.events=function(){var a=WW.prototype.events.apply(this,arguments);a["mousedown .albumGallery a"]=this.o1;a["click .albumGallery a"]=function(){return!1};a["mousedown .albumGallery a img"]=function(a){a.preventDefault()};a["click .inlineFolderGroup \x3e .header a.close"]=this.wT;a.mousedown=this.B1;return a};f.initialize=function(a){WW.prototype.initialize.call(this,a);this.XD=!1;this.eF=0;this.uA=$();this.listenTo(T,"infoPanelToggle",this.V3)};
function ZW(a){a=a.ee.filter(function(a){return a instanceof TW});return 0<a.length?a[0]:null}f.scroll=function(a){WW.prototype.scroll.apply(this,arguments);var b=ZW(this);b&&Zg().read(function(a){var d=parseInt(b.$el.css("margin-top"),10),e=parseInt(b.$el.css("margin-bottom"),10),g=b.$el.outerHeight(!1),d=b.$el.position().top+d,h=0<d,k=d+g<e;a.write(function(){h||k?VW(b):UW(b)})})};f.bG=function(){this.$el.data("userPreparedSearch")?XM.call(this.el):WW.prototype.bG.apply(this,arguments)};
f.B1=function(a){if(a.target===this.el||"li"===a.target.nodeName.toLowerCase()&&0<$(a.target).parents(".browseCategories").length)return(a=this.ee[0].$("li.folderExpanded").data("view"))&&$W(this,a),!1};f.o1=function(a){var b=this.ee[0];a=$(a.currentTarget).parent().data("view");var c=b.$el.hasClass("folderExpanded")&&!a.$el.hasClass("folderExpanded");a.$el.hasClass("folderExpanded")?$W(this,a):c?(b=b.$("li.folderExpanded").data("view"),$W(this,b)):this.XD||aX(this,a);return!1};
f.wT=function(){var a=this.$(".gallery .folderExpanded").data("view");!this.XD&&$W(this,a)};
function aX(a,b){var c=a.ee[0],d=a.model,e=b.$el.children("a"),g=e.attr("title"),e=e.data("query"),h=GP(e),k=new AM(h,g,e);EP(d,k,1);a.trigger("folder:expand",e);d=a.ee[1];d.$el.attr("data-query",e);bX(a,TW.jy);c.vz(b,a.eF);0===NW(c,b)&&d.$el.addClass("end");a.listenTo(d,"headerClose:click",function(){a.wT()});a.uA.remove();a.uA=$('\x3cdiv class\x3d"inlineFolderPointer"\x3e\x3c/div\x3e');a.uA.css("left",FW(b)+parseInt(a.$el.css("padding-left"),10)).insertBefore(d.$el);gN(d.$el);setTimeout(function(){k.Yh(XW(a))},
O.Ca.Nz*O.hy);a.$el.removeData("userPreparedSearch")}function $W(a,b){var c=a.ee[0],d=a.model;if(1<d.getLength()){a.XD=!0;var e=FP(d),g=ZW(a);a.stopListening(g);d.NB(e);a.uA&&setTimeout(function(){a.uA.remove();a.XD=!1},O.Ca.Nz)}c.zT(b);bX(a,0);a.$el.data("userPreparedSearch",!0)}f.Hk=function(a,b,c){(a=this.ee[c-1])&&a.compact();var d=new TW({model:b,dv:"infoPanelGallery photoGallery",i:this.i});this.ee.splice(c,0,d);d.$el.insertAfter(a.$el);P.delay(O.Ec).then(function(){d.ea(TW.jy-72,!0)})};
f.Pr=function(a,b,c){WW.prototype.Pr.apply(this,arguments);AP(this,!0)};function AP(a,b){var c=a.ee[0],d=ZW(a),e=c.$("li.folderExpanded").data("view");if(e){var g=OW(d),h=d.$el.data("contentHeight")||0,g=g+h,k=MN(d.$el),l=Math.max(g,TW.jy),m=c.$el.find("li");b?c.vz(e,l+k):(m.addClass("doNotTransition"),P.delay(O.Ec).then(function(){c.vz(e,l+k);P.delay(O.Ec).then(function(){m.removeClass("doNotTransition")})}));bX(a,l)}}
f.V3=function(a,b){var c=ZW(this);c&&c.el===a.get(0)&&(a=this.ee[0],c=a.$("li.folderExpanded").data("view"),a.vz(c,this.eF+b))};function bX(a,b){var c=b-a.eF;a.eF=b;var d=a.ee[0].$el.nextAll(".searchGroup:not(.inlineFolderGroup)").find(".infoPanel, .infoPanelPointer");d.one("transitionend",function(){$(this).removeClass("transitionTop")}).addClass("transitionTop");P.delay(O.Ec).then(function(){d.css("top","+\x3d"+c)})};function tM(){}tM=Backbone.View.extend({className:"textControls"});tM.x0=1.02;f=tM.prototype;f.events=function(){return{"mousedown a.add":this.z4,"click a.add":this.m1}};f.initialize=function(a){this.Qi=a.Qi;this.i=a.i;this.QD=!1;this.listenTo(this.model,"change:defaultFont",this.M$);this.render()};f.template=_.template("\x3c% if (hasBrandKit) { %\x3e\x3cp\x3e\x3c%- brandFontLabel %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3cp\x3e\x3c%- fontLabel %\x3e\x3c/p\x3e\x3c% } %\x3e\x3cul\x3e\x3c/ul\x3e");
f.m4=_.template('\x3cli style\x3d"color: \x3c%- color %\x3e; text-align: \x3c%- justification %\x3e;"\x3e\x3ca class\x3d"add" data-style\x3d"\x3c%- style %\x3e"href\x3d"#" style\x3d"color: \x3c%\x3d color %\x3e; font-family: \'\x3c%- fontFamily %\x3e\'; font-size: \x3c%- fontSizePercentage %\x3e%; font-style: \x3c%- italic ? "italic" : "normal"%\x3e; font-weight: \x3c%- bold ? "bold" : "normal"%\x3e;"\x3e\x3c%- placeholderText %\x3e\x3c/a\x3e\x3c/li\x3e');
f.render=function(){var a,b=this;this.$el.html(this.template(function(){var a=lc(b.i);return{hasBrandKit:!!b.Qi,fontLabel:a.format("objectPanelTextPanelFontLabel"),brandFontLabel:a.format("objectPanelTextPanelBrandFontLabel")}}()));a=this.$el.children("ul");for(var c in ec)a.append(cX(this,ec[c]));dX(this,this.Z8.bind(this));return this};
f.Z8=function(){var a;this.$(".add").each(function(){a=a||Math.min(1,this.parentElement.offsetWidth/this.offsetWidth);this.style.fontSize=parseFloat(this.style.fontSize)*a+"%"})};function dX(a,b){function c(){d++;3===d&&b&&b()}var d=0;Object.keys(ec).forEach(function(a){a=this.cs(ec[a]).fontFamily;TJ(a,c)},a)}function cX(a,b){b=a.cs(b);return $(a.m4(b))}
f.cs=function(a){var b={title:32,subtitle:18,body:14},c=$.extend(!0,{},this.model.DI[a]),d=$.extend(!0,{},this.model.zr[a]),e=eX(this,a),g=lc(this.i);switch(a){case "title":g=Vd(g);break;case "subtitle":g=Wd(g);break;case "body":g=g.format("objectPanelTextPanelAddBody");break;default:throw Error("Unknown TextElementStyle "+a);}g={bold:!1,italic:!1,justification:"center",color:"auto",placeholderText:g,style:a};c=_.extend({},g,d,c,e);(e=OA(Kb,c.fontFamily))?c.fontFamily=e.family:c=_.extend({},g,d);
void 0===c.fontSize&&(c.fontSize=b[a]);c.fontSizePercentage=c.fontSize*O.Li;return c};function eX(a,b){var c;try{c=a.Qi.KC[0].LC||[]}catch(d){c=[]}return c.filter(function(a){return!!a.font&&a.getName()===b}).map(function(a){a=a.font;return{bold:a.bold,italic:a.italic,fontFamily:a.family,fontSize:a.Pp()}})[0]}f.M$=function(a,b,c){var d=this.$el.find("[data-style\x3d"+b+"]").parent(),e=cX(this,b);TJ(c.fontFamily,function(){d.replaceWith(e)})};
f.m1=function(a){function b(a){a.al(d);Ag(a)}var c=this.model;a=$(a.currentTarget).data("style");var d=c.Da();this.kE(a).then(b,b);this.QD=!0;return!1};
f.kE=function(a){var b=this.$(".add[data-style\x3d"+a+"]"),c=this.cs(a);c.fontSize*=vb.rp;var d=fX(this,b);d.find("a").css("font-size",c.fontSize*O.Li+"%");d.css("font-size","100%").css("opacity",0).appendTo("#content");var e=d.width();d.remove();var g=_.defaults({style:a,lockedWidth:!1,width:e*tM.x0,html:b.text(),placeholderText:b.text()},c);return new P(function(a,b){new Kp(g,function(c,d){d?a(c):b(c)})})};
function fX(a,b){var c=a.model.Da().Gf(),d=a.cs(b.data("style")),e=b.clone();a=gX(a);var g=parseFloat(b.get(0).style.fontSize||100)/100,d=d.color&&"auto"!==d.color?d.color:"inherit";e.css("width",b.width()).css("height",b.height()).css("white-space","nowrap").css("color",d).css("font-size",a*g*100+"%");b=$('\x3cdiv class\x3d"textControls clone text"\x3e\x3c/div\x3e');b.css("font-size",100*W+"%").css("color",c?"white":"black").append(e);return b}
f.z4=function(a){function b(a){var h=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(d.QD)return E.off("mousemove|touchmove",b).off("mouseup|touchend",c),l&&l.remove(),g.removeClass("pickedUp"),d.QD=!1;if(null==l)if(oN(E)){var m=In(t,x,h,a);if(300<m||60>m)l=fX(d,e),$("#content").append(l),g.addClass("pickedUp");else return!0}else if(Math.abs(h-t)>O.Fc||Math.abs(a-x)>O.Fc)l=fX(d,e),$("#content").append(l),g.addClass("pickedUp");
null!=l&&(m=k.top+a-x,l.css("left",k.left+h-t).css("top",m),m=Math.min(1,Math.sqrt(Math.pow(h-t,2)+Math.pow(a-x,2))/H),l.css("font-size",100*(1+(u-1)*m)+"%").css("color",zn(S,N,m).qa()),(h<n.left||h>n.left+p||a<n.top||a>n.top+q)&&QN(v.$el,l)?(null==L&&(L=new bh(l,z)),dh(L,Q,J)):$("#overlays .align").removeClass("on"));return!1}function c(a){function h(){l.remove();g.removeClass("pickedUp");l.hasClass("returning")||k()}function k(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).addClass("reappearing")}
function m(a){a.setPosition(L.F(),L.w());a.appendTo(d.model.Da());Ag(a);Bg(a);LK(a.C())}E.off("mousemove|touchmove",b).off("mouseup|touchend",c);$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");hh();var u=void 0!==a.clientX?a.clientX:a.originalEvent.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.changedTouches[0].clientY;if(null==l&&Math.abs(u-t)<O.Fc&&Math.abs(a-x)<O.Fc)return!1;null!=l&&((u<n.left||u>n.left+p||a<n.top||a>n.top+q)&&QN(v.$el,l)?
(u=e.data("style"),d.kE(u).then(m).finally(h)):(u=e.offset(),l.addClass("returning"),l.one("transitionend",h).css("left",u.left).css("top",u.top).css("font-size","100%").css("color",S.qa())))}if(a.which!==O.Kh){var d=this,e=$(a.currentTarget),g=e.parent("li"),h=$(a.currentTarget).data("style"),k=e.offset(),l=null,m=$("#objectPanel"),n=m.offset(),p=m.outerWidth(),q=m.outerHeight(),h=this.cs(h);h.fontSize*=vb.rp;var u=1/(parseFloat(e.get(0).style.fontSize)/O.Li*gX(this)/h.fontSize)*W,v=gh(vb),z=v.$el.find(".page__content").get(0).getBoundingClientRect(),
t=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,H=Math.abs(t-(n.left+p)),E=new fp($(document));E.on("mousemove|touchmove",b).on("mouseup|touchend",c);var L=null,J=ch(),Q={};a=this.model.Da().Gf();var S=gn(new en,255,255,255),N=new en;h.color&&"auto"!==h.color?N=mh(h.color)||N:a?gn(N,255,255,255):gn(N,0,0,0);this.QD=!1;return TN}};
function gX(a){return parseFloat(getComputedStyle(a.el.querySelector("ul")).fontSize)/parseFloat(getComputedStyle(a.el).fontSize)};function CM(){}CM=WW.extend();CM.prototype.initialize=function(a){this.limit=0;this.J=lc(a.i);a.model=new DP;a.Pk=CM.Pk;WW.prototype.initialize.call(this,a);this.model.Hk(hX())};CM.Pk=function(a,b){return new QW({model:a,dv:"infoPanelGallery photoGallery",i:b})};function hX(){var a=ay(Yx()).ja(),b=y(K.kb().u());return new AM(new PP({ua:a.u(),Sa:Ab,LK:b,Ii:new NI(Ib)}))}CM.prototype.Yh=function(a){this.limit=a;FP(this.model).Yh(a)};
CM.prototype.reset=function(){for(var a=this.model;FP(a);)a.NB(FP(a));this.model.Hk(hX())};function xM(){}xM=WW.extend();xM.Pk=function(a,b,c){return new PW({model:b,BA:a,dv:"infoPanelGallery photoGallery",i:c})};xM.prototype.initialize=function(a){a.model=new DP;a.Pk=xM.Pk.bind(null,a.BA);WW.prototype.initialize.call(this,a);this.model.Hk(new AM(a.t2))};xM.prototype.Yh=function(a){FP(this.model).Yh(a)};function zM(){}zM=WW.extend();zM.prototype.initialize=function(a){this.jE=a.jE;a.model=new DP;WW.prototype.initialize.call(this,a);this.model.Hk(this.jE())};zM.prototype.Yh=function(a){FP(this.model).Yh(a)};zM.prototype.reset=function(){this.model.NB(FP(this.model));this.model.Hk(this.jE())};function vM(){}vM=Backbone.View.extend();f=vM.prototype;f.initialize=function(a){this.Qb=a.Qb;this.wK=a.wK;this.Mr=pN;this.gE=a.gE;this.mK=a.mK;this.iK=a.iK;this.nK=a.nK;this.Sa=a.Sa;this.gc=a.gc;this.Vc=null;this.XU=!1;this.EQ=a.EQ;this.GQ=a.GQ;this.KA=this.iq=this.Ci=null;this.Cs=a.q4.reduce(function(a,c){a[c.template]=KN(c);return a},{});this.NH=null;this.i=a.i;this.J=lc(this.i);this.render();iX(this);this.$el.data("view",this);this.listenTo(this.model,"resize",this.RY)};
f.events=function(){return{"click .templateGallery .info .moreInfo":this.F1,"click .templateGallery a":this.N1,"click .tabDropdown":this.M1}};f.remove=function(){this.KA&&this.KA.remove();Backbone.View.prototype.remove.call(this)};f.O7=_.template('\x3csection class\x3d"layoutTabPanel"\x3e\x3csection class\x3d"layer scrollPane"\x3e\x3cdiv class\x3d"inner"\x3e\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/section\x3e');f.template=_.template('\x3c% if (showTabMenu) { %\x3e\x3cdiv class\x3d"layoutsControls"\x3e\x3cdiv class\x3d"select tabDropdown"\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } %\x3e\x3csection class\x3d"layoutsContainer layoutsContainer"\x3e\x3c/section\x3e');
function iX(a){var b=sk((new rk).Tt(a.wK),[Wj]).WR().Tg(100);a.gc.TU(b).then(function(b){a.Vc=b.Fp().filter(function(a){var b;if(b="undefined"!==typeof a.Ym())b=["OWNER","ADMIN","EDITOR","VIEWER"],b=b.indexOf(a.Ym())<=b.indexOf("EDITOR");return b}).sort(jX);a.Ci&&a.Vc&&kX(a.Ci,a.Vc)}).catch(function(){a.XU=!0;a.Ci&&lX(a.Ci)})}f.Yh=function(a){this.NH&&this.NH.Yh(a)};
f.N1=function(a){hh();if($(a.target).is(".moreInfo"))return!1;a=$(a.currentTarget);var b=a.parents("li").data("view"),c=b.model;this.$(".gallery li.on").removeClass("on");if(IV(this,a))return!1;c.getContent?(KV(this,c),b.$el.addClass("on")):c.ic?(XO(this,c),b.$el.addClass("on")):c.He&&1===c.He().pageCount&&(JV(this,c),b.$el.addClass("on"));return!1};
function IV(a,b,c){var d=b.parents("li").data("view"),e=d.model;return d.Yj&&d.Yj()||e.He&&e.He()&&1<e.He().pageCount?(d=!1!==c&&!b.hasClass("infoOpen"),!0!==c&&b.hasClass("infoOpen")?dA():d&&(c=document.createElement("span"),$(c).css("visibility","hidden").css("width",0).css("height",0),b.append(c),SM.call(c,a.i)),!0):!1}f.F1=function(a){return SM.call(a.currentTarget,this.i)};
vM.Py=function(a,b){if((new jh(window.viewConfig)).uh())b=P.resolve(!0);else{b.iL||(b.iL=new ge(b.config));b=b.iL;a=jP(a);var c=Eb,d=new mX({H:hl,OR:b.OR(),D2:b.Kk(),M4:b.FG(),W8:b.fp(),NR:b.NR()});b=(new nX({i:b,GO:a,Z:c},d)).confirm()}return b};
function JV(a,b,c,d){function e(a){return a.getDocument()}function g(a){function d(){mP({gp:g.ns(),me:K.kb(),page:g});oX(K.Da(),Pm(g.serialize()),p,pr(a,0),m)}n.clear();q&&c&&hP(n,q);l=a.He().content.pages[0];m=new Um({type:xB,id:a.u(),version:a.getVersion()});HV(l,m);null!==k.Qb&&k.Cs.hasOwnProperty(b.u())&&vW(null,l,h());if(l.width!==n.l()||l.height!==n.o()){var e=Qm(new Om,l),g=new Hp(K,{});yO(g,e,null,null,!0);k.listenToOnce(g,"unpacked",d)}else oX(K.Da(),Pm(l),p,pr(a,0),m)}function h(){var a=
{};a[k.Cs[b.u()].Jb()]="#"+k.Qb;return a}var k=a,l,m,n=K.Da(),p=n.iu(),q=pr(b,0);if(d){var u;try{u=b.He().content.pages[0]}catch(v){}u?g(b):(n.clear(),q&&c&&hP(n,q),a.Sa.getDocument(new Bt({$f:b.u(),tA:!0})).then(e).then(g))}else vM.Py(n,a.i).then(function(a){a&&JV(this,b,c,!0)}.bind(a))}function KV(a,b,c){var d=K.Da();c?(a=b.getContent(),a=Qm(new Om,a),SI(b)&&Sm(a,d.l(),d.o()),oX(d,a)):vM.Py(d,a.i).then(function(a){a&&KV(this,b,!0)}.bind(a))}
function XO(a,b,c){function d(a){function c(){mP({gp:n.ns(),me:K.kb(),page:n});oX(g,Pm(n.serialize()),null,b.jn())}if(a&&a.content&&a.content.pages){var d={id:b.u(),version:b.getVersion(),price:oL(b),title:b.pb(),keywords:b.Pj()},d=Rm(new Om(d),a),m=K.Da();a=a.content.pages[0];if(a.width!==m.l()||a.height!==m.o()){var n=new Hp(K,{});yO(n,d,null,null,!0);e.listenToOnce(n,"unpacked",c)}else oX(g,d,null,b.jn())}}var e=a,g=K.Da();c?(b.nl(d),kL(b,!1)):vM.Py(g,a.i).then(function(a){a&&XO(this,b,!0)}.bind(a))}
function oX(a,b,c,d,e){c={"new":b,old:c||a.iu(),pageIndex:a.K()};var g=cq(b.Hg()),h=U,k=b.serialize();!g&&h&&k&&Tl(h,k.id);yO(a,b,d,e);M.register(new wO(4,c))}vM.prototype.render=function(){this.$el.html(this.template({layoutsLabelText:this.J.format("objectPanelLayoutsPanelLayoutsTabLabel"),yourDesignsLabelText:Xd(this.J),showTabMenu:this.GQ}));pX(this);return this};vM.prototype.RY=function(){this.iq.reset&&this.iq.reset();this.NH===this.iq&&this.Yh(jN(this.$el,this.$el.height()))};
vM.prototype.M1=function(){var a=this;this.Ci=this.nK(this.Mr);this.Ci.on("select",function(b){a.Mr!==b&&(a.Mr=b,pX(a))});this.Ci.on("hide",function(){a.$el.removeClass("resultsLayout--fadeResults")});this.Ci.on("remove",function(){a.Ci.off();a.Ci=null});this.Ci.yi(this.$(".tabDropdown"));this.$el.addClass("resultsLayout--fadeResults");this.XU?lX(this.Ci):this.Vc&&kX(this.Ci,this.Vc);iX(this)};
function pX(a){var b=a.$(".tabDropdown"),c=$(a.O7()),d=c.find(".layer");a.$(".layoutsContainer").empty().append(c);a.KA&&a.KA.remove();a.KA=(new Un(c.find(".scrollPane"))).render();switch(a.Mr){case pN:a.iq=a.mK(d);b.text(Yd(a.J));break;case qN:a.iq=a.iK(d);b.text(Zd(a.J));break;case rN:a.iq=a.gE(d,null);b.text(Xd(a.J));break;default:a.iq=a.gE(d,a.Mr),b.text(a.Vc.filter(function(b){return b.u()===a.Mr})[0].getName()||"")}a.EQ&&(c=$(document.createElement("span")).addClass("newFeatureLabel").text(sd(a.i).Jn()),
b.append(c));b.attr("data-selected",a.Mr);a.NH=a.iq;a.Yh(jN(a.$el,a.$el.height()))};var pN="CANVA_LAYOUTS",qN="TEAM_TEMPLATES",rN="YOUR_DESIGNS";function wM(){}wM=qz.extend({className:"layoutsTabMenu"});f=wM.prototype;f.initialize=function(a){this.J=a.J;this.Gu=a.Gu;this.Tc=a.Tc;this.sx=a.sx;this.Ul=null;qz.prototype.initialize.call(this,{content:this.GP(),ux:!1,pw:!0,yo:!1,position:xp})};
f.events=function(){function a(a,d){b.trigger("select",a);b.$(".layoutsTabMenu__item--selected").removeClass("layoutsTabMenu__item--selected");$(d.currentTarget).addClass("layoutsTabMenu__item--selected layoutsTabMenu__item--activated");b.H.setTimeout(function(){return b.remove()},100)}var b=this;return{"click .layoutsTabMenu__item--canvaLayouts":function(b){return a(pN,b)},"click .layoutsTabMenu__item--teamTemplates":function(b){return a(qN,b)},"click .layoutsTabMenu__item--yourDesigns":function(b){return a(rN,
b)},"click .layoutsTabMenu__item--folder":function(b){return a($(b.currentTarget).attr("data-id"),b)},"click .layoutsTabMenu__upgrade":function(){var a=b.Tc;a.j.va(km("object_panel_layouts","folders_dropdown","design_templates"));var d;a.W.G.get(fg)?(window.open("https://about.canva.com/pricing","_blank"),d=!0):d=!1;d||Fo(a,qX);b.remove()}}};f.Jp=function(){return rX};f.remove=function(){this.Ul&&this.Ul.remove();qz.prototype.remove.call(this)};
f.render=function(){qz.prototype.render.call(this);this.Ul||(this.Ul=(new Un(this.$(".selectMenu"))).render());return this};
f.GP=function(){var a=$,b;b=this.J.format("objectPanelLayoutsPanelFoldersLoading");var c=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.J.format("objectPanelLayoutsPanelUpgradeCta"));soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"loadingMsg",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(c instanceof soydata.SanitizedHtml||c instanceof soydata.UnsanitizedText||goog.isString(c),"upgradeHtml",c,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu layoutsTabMenu"\x3e\x3cdiv class\x3d"layoutsTabMenu__loading"\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"layoutsTabMenu__upgradeCta"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/div\x3e");a=a(b.toString());b=a.find(".layoutsTabMenu__loading");b.before(sX({Ks:"canvaLayouts",selected:this.Gu===pN,label:Yd(this.J),locked:!1}).toString());b.before(sX({Ks:"teamTemplates",selected:this.Gu===qN,label:Zd(this.J),locked:this.sx}).toString());b.before(sX({Ks:"yourDesigns",selected:this.Gu===rN,label:Xd(this.J),locked:this.sx}).toString());a.toggleClass("layoutsTabMenu--demoMode",
this.sx);return a};function kX(a,b){b.length?a.$(".layoutsTabMenu__loading").remove():a.$(".layoutsTabMenu__loading").text(a.J.format("objectPanelLayoutsPanelFoldersEmpty"));a.$(".layoutsTabMenu__item--folder").remove();b.forEach(function(b){a.$(".layoutsTabMenu__upgradeCta").before(sX({Ks:"folder",selected:a.Gu===b.u(),label:b.getName()||"",ox:b.shared,Fx:b.Rp()&&b.Rp().starred,Iz:b.u(),locked:a.sx}).toString())})}
function lX(a){a.$(".layoutsTabMenu__loading").text(a.J.format("objectPanelLayoutsPanelFoldersError"))};function sX(a){soy.asserts.assertType(goog.isString(a.Ks)||a.Ks instanceof goog.soy.data.SanitizedContent,"modifierName",a.Ks,"string|goog.soy.data.SanitizedContent");var b=a.Ks;soy.asserts.assertType(goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean");var c=!!a.selected;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var d=a.label;soy.asserts.assertType(goog.isBoolean(a.locked)||
1===a.locked||0===a.locked,"locked",a.locked,"boolean");var e=!!a.locked;soy.asserts.assertType(null==a.ox||goog.isBoolean(a.ox)||1===a.ox||0===a.ox,"sharedFolder",a.ox,"boolean|null|undefined");var g=a.ox;soy.asserts.assertType(null==a.Fx||goog.isBoolean(a.Fx)||1===a.Fx||0===a.Fx,"starredFolder",a.Fx,"boolean|null|undefined");var h=a.Fx;soy.asserts.assertType(null==a.Iz||a.Iz instanceof goog.soy.data.SanitizedContent||goog.isString(a.Iz),"folderId",a.Iz,"null|string|undefined");a=a.Iz;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu__item layoutsTabMenu__item layoutsTabMenu__item--'+
soy.$$escapeHtmlAttribute(b)+(c?" layoutsTabMenu__item--selected":"")+(e?" layoutsTabMenu__item--locked":"")+'"'+(a?' data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+"\x3e"+(a?g?tX({za:"layoutsTabMenu__icon",Ji:h}):uX({za:"layoutsTabMenu__icon",Ji:h}):"")+soy.$$escapeHtml(d)+"\x3c/div\x3e")};function KM(a){this.hO=this.hO.bind(this);this.Kn=this.Kn.bind(this);this.element=a;this.element.on({dragover:this.hO,drop:this.Kn});this.oN=null;this.sW=-1}_.extend(KM.prototype,Backbone.Events);KM.prototype.trigger=Backbone.Events.trigger;
KM.prototype.hO=function(a){var b=this;a.originalEvent.dataTransfer&&(a.originalEvent.dataTransfer.dropEffect="copy",a.preventDefault(),clearTimeout(this.sW),this.oN||(this.oN=Date.now(),1===$("#objectPanel \x3e menu \x3e .uploads.on").length?this.trigger("dragenter"):($("#objectPanel \x3e menu \x3e .uploads \x3e a").click(),setTimeout(function(){b.trigger("dragenter")},300))),this.sW=setTimeout(function(){b.trigger("dragleave");b.oN=null},500))};
KM.prototype.Kn=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}a.preventDefault();a.stopPropagation();b&&b.length&&this.trigger("drop",b);return!1};function vX(){}vX=Backbone.View.extend({className:"uploadsFolderItem"});f=vX.prototype;f.events=function(){return{click:this.Jf,dragstart:this.Os,mousedown:this.Ps}};f.initialize=function(a){this.Qa=a.Qa;this.model=a.model;this.root=a.root};f.Jf=function(){this.Qa.FS(this.model)};f.Os=function(a){a.preventDefault();return!1};f.Ps=function(a){return a.which===O.Kh||this.SQ(a)};f.qO=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this;b?setTimeout(c,600):(this.Jf(),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");this.$el.html(this.template());this.PB();return this};f.PB=function(){var a,b,c=this;a=this.model.re().o()/this.model.re().l();b=this.$(".uploadsFolderItemThumbnail");b.css("padding-bottom",100*a+"%");a=b.find("img");a.one("load",function(){c.$el.removeClass("uploadsFolderItemLoading")});aD(bD,a,this.model.re().na())};
f.SQ=function(a){var b=this.el.getBoundingClientRect(),c=a.clientX,d=a.clientY,e=this.$el.clone().off(),c=new V(c,d,c,d),b=Wg(b);if(this.root){this.$el.addClass("uploadsFolderItemDragging");var d=this.Qa,g=this.model;Ug(d,Dg(g),b,e,c,d.FS.bind(d,g));this.MR(a)}return!1};f.template=_.template('\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e');
f.MR=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.qO(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function wX(a){this.Qa=a.Qa;this.fl=a.fl;this.Zh=!1;this.GM=!0;this.ka=new xX;this.offset=0;this.If=a.If;this.view=new yX({J:a.J});this.view.on({retry:this.fetch,signIn:this.authorize},this)}f=wX.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.authorize=function(){HI(this.fl).then(this.view.a_.bind(this.view,!1)).then(this.fetch.bind(this)).catch(function(){})};
f.f1=function(){return II(this.fl).catch(function(){throw new zX;})};f.fetch=function(){function a(){b.Zh=!1}var b=this;this.If?!b.Zh&&b.GM&&(this.Zh=!0,this.view.Rg(!0),this.view.Ht(!1),this.U$().bind(this).then(this.f1).then(this.o3).finally(a).then(this.O6).catch(zX,this.L6).catch(BX,this.Z6).catch(this.P6)):AX(this.view)};f.Ez=function(){this.fetch()};f.o3=function(){return LI(this.offset,25)};f.getElement=function(){return this.view.$el};f.ql=function(){return this.ka.ql()};f.ss=function(){return this.GM};
f.L6=function(){this.view.Rg(!1);this.view.a_(!0)};f.O6=function(a){var b,c=this;b=$(a.map(function(a){return(new vX({Qa:c.Qa,model:a,root:$(window)})).render()}).map(function(a){return a.el}));Ng(this.Qa,a);this.GM=0<a.length;CX("uploadsItemAppearing",b,2200);this.ka.push(b);this.offset+=a.length;this.view.Rg(!1);this.view.Gt(1>this.ka.Bf().length&&1>a.length);this.trigger("fetch")};f.P6=function(){this.view.Rg(!1);this.view.Ht(!0)};f.Z6=function(){this.view.Rg(!1);this.view.Ht(!0)};f.remove=function(){this.stopListening()};
f.render=function(){this.view.render();this.view.$el.prepend(this.ka.$el);return this};f.U$=P.method(function(){function a(){return P.try(function(){return EI()||P.delay(500).then(a).cancellable()})}return a().timeout(2500).catch(P.TimeoutError,function(){throw new BX;})});function zX(){}zX.prototype=Object.create(Error.prototype);function BX(){}BX.prototype=Object.create(Error.prototype);function yX(){}yX=Backbone.View.extend({className:"facebookPhotos uploadsFolderContent"});f=yX.prototype;f.X2=_.template('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e\x3c%- message %\x3e\x3c/p\x3e');f.aF=_.template('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e\x3c%- message %\x3e\x3cbutton class\x3d"button facebookPhotosRetry"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/p\x3e');f.events=function(){return{"click .buttonFacebook":this.Y5,"click .facebookPhotosRetry":this.V6}};
f.initialize=function(a){this.Ri=new VV;this.J=a.J};f.Y5=function(){this.trigger("signIn")};f.V6=function(){this.trigger("retry")};f.render=function(){this.$el.append(this.Ri.render().$el);return this};f.Q9=_.template('\x3cdiv class\x3d"facebookPhotosSignIn"\x3e\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e\x3cbutton class\x3d"button buttonFacebook"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');f.u4=_.template('\x3cp class\x3d"facebookUploadDisabled feedback feedback--error"\x3e\x3c%\x3d label %\x3e\x3c/p\x3e');
f.Rg=function(a){a?this.Ri.show():this.Ri.hide()};f.Gt=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a?1>b.length&&this.$el.append(this.X2({message:this.J.format("objectPanelUploadsPanelFacebookFolderEmptyMessage")})):b.remove()};
f.Ht=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(this.aF({buttonLabel:this.J.format("objectPanelUploadsPanelFacebookFolderTryAgainButtonLabel"),message:this.J.format("objectPanelUploadsPanelFacebookFolderErrorMessage")})):b.remove()};
f.a_=function(a){var b=this.$(".facebookPhotosSignIn");a?1>b.length&&this.$el.append(this.Q9({buttonLabel:this.J.format("objectPanelUploadsPanelFacebookFolderAuthorizeButton"),message:this.J.format("objectPanelUploadsPanelFacebookFolderSignInMessage")})):b.remove()};function AX(a){a.$(".facebookUploadDisabled");var b=$(a.u4({label:Rd(a.J)}));a.$el.prepend(b)};function CX(a,b,c){b.addClass(a);b.on("animationend",function e(){$(this).off("animationend",e);$(this).removeClass(a)});setTimeout(function(){b.removeClass(a)},c)};function DX(){}DX=Backbone.View.extend({className:"uploadsFolderInfo uploadsInfo"});f=DX.prototype;f.events=function(){return{"click .uploadsInfoTrash":this.trigger.bind(this,"trash")}};f.initialize=function(a){this.Va=a.Va;this.i=a.i;this.ma=a.ma;this.If=a.If};f.render=function(){this.$el.html(this.template(this.si()));return this};
f.si=function(){var a=lc(this.i),b=new WI(this.Va,a),c=this.Va.Oa()===this.ma,d=this.Va.shared,b=b.Lb(),b=a.format("objectPanelUploadsPanelFolderInfoHeader",b);return{isOwner:c,isShared:d,headerMessage:b,itemCount:a.format("objectPanelUploadsPanelFolderInfoItemCount",this.Va.itemCount),youSharedMessage:a.format("objectPanelUploadsPanelFolderInfoYouShared"),sharedWithYouMessage:a.format("objectPanelUploadsPanelFolderInfoSharedWithYou"),trashLabel:a.format("objectPanelUploadsPanelFolderInfoTrashLabel"),
mediaWritesEnabled:this.If}};f.template=_.template('\x3ch3\x3e\x3c%- headerMessage %\x3e\x3c/h3\x3e\x3cp class\x3d"uploadsFolderInfoItemCount"\x3e\x3c%- itemCount %\x3e\x3c/p\x3e\x3c% if (isShared \x26\x26 isOwner) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- youSharedMessage %\x3e\x3c/p\x3e\x3c% } else if (isShared) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- sharedWithYouMessage %\x3e\x3c/p\x3e\x3c% } %\x3e\x3c% if (isOwner \x26\x26 mediaWritesEnabled) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e');function EX(){}EX=Backbone.View.extend({className:"uploadsFolderItemInfo uploadsInfo"});f=EX.prototype;f.events=function(){return{"click .uploadsInfoDownload":this.trigger.bind(this,"download"),"click .uploadsInfoTrash":this.trigger.bind(this,"trash"),"change select":this.A$}};f.initialize=function(a){this.YK=a.YK;this.XN=a.XN;this.Va=a.Va;this.kr=a.kr||[];this.item=a.item;this.J=a.J;this.If=a.If;this.title=a.title;this.item.Mb()&&(this.title=this.item.Mb().importFilename)};
function FX(a){var b=a.$("select").val();return a.kr.filter(function(a){return a.u()===b})[0]}f.render=function(){this.$el.html(this.template(this.si()));this.$("select").val(this.Va.u());return this};
f.si=function(){var a=this;return{title:this.title,downloadLink:this.YK,moveOptions:this.XN,downloadOriginalTitle:this.J.format("objectPanelUploadsPanelItemInfoDownloadOriginal"),options:this.kr.map(function(b){return _.extend({},b,{name:(new WI(b,a.J)).Lb()})}).map(this.x7),trashLabel:this.J.format("objectPanelUploadsPanelItemInfoTrash"),mediaWritesEnabled:this.If}};f.A$=function(){this.trigger("move",FX(this))};f.x7=_.template('\x3coption value\x3d"\x3c%- id %\x3e"\x3e\x3c%- name %\x3e\x3c/option\x3e');
f.template=_.template('\x3c% if (title) { %\x3e\x3ch3\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% } %\x3e\x3c% if (mediaWritesEnabled) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (moveOptions) { %\x3e\x3cselect\x3e\x3c%\x3d options %\x3e\x3c/select\x3e\x3c% } %\x3e\x3c% if (downloadLink) { %\x3e\x3ca class\x3d"uploadsInfoDownload" title\x3d"\x3c%- downloadOriginalTitle %\x3e"\x3e\x26#11015;\x3c/a\x3e\x3c% } %\x3e');function GX(){var a={za:"printOrderError__headerIcon"},a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");a=a.za;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 95.8"\x3e\x3cpath d\x3d"M.4 90.2L46.6 2C48-.7 51.9-.7 53.3 2l46.2 88.2c1.3 2.5-.5 5.5-3.4 5.5H3.8c-2.9.1-4.7-3-3.4-5.5z"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M45.1 73.7c0-1.6.4-2.8 1.3-3.7.9-.8 2.1-1.2 3.8-1.2 1.6 0 2.8.4 3.7 1.3.9.8 1.3 2.1 1.3 3.6s-.4 2.7-1.3 3.6c-.9.9-2.1 1.3-3.7 1.3s-2.9-.4-3.8-1.3c-.9-.9-1.3-2.1-1.3-3.6zm8.6-9.9h-7l-1.5-28.2h10l-1.5 28.2z"/\x3e\x3c/svg\x3e')}
function HX(a){a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");a=a.za;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 100"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"50"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M69.5 25.8l-26 35.4L30.1 54c-3.3-2.1-5.6 2.9-3.8 4.6 1.8 1.7 18.2 16.6 18.2 16.6.5.4 1.2.4 1.7.1.2-.1.4-.3.5-.5 0 0 24.7-40.9 26.9-44.6 2.3-3.8-1.6-7.8-4.1-4.4z"/\x3e\x3c/svg\x3e')}
function IX(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"18px" height\x3d"18px" viewBox\x3d"0 0 18 18" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M2.5 9c0 3.588 2.912 6.5 6.5 6.5s6.5-2.912 6.5-6.5S12.588 2.5 9 2.5A6.503 6.503 0 0 0 2.5 9zm14 0c0 4.14-3.36 7.5-7.5 7.5-4.14 0-7.5-3.36-7.5-7.5 0-4.14 3.36-7.5 7.5-7.5 4.14 0 7.5 3.36 7.5 7.5z"/\x3e\x3cpath d\x3d"M9.75 6.75h-1.5v-1.5h1.5v1.5zm0 6h-1.5v-4.5h1.5v4.5z"/\x3e\x3c/g\x3e\x3c/svg\x3e')}
function JX(a){var b;b={};soy.asserts.assertType(goog.isString(a.Ze)||a.Ze instanceof goog.soy.data.SanitizedContent,"fileType",a.Ze,"string|goog.soy.data.SanitizedContent");var c=a.Ze;soy.asserts.assertType(goog.isString(a.color)||a.color instanceof goog.soy.data.SanitizedContent,"color",a.color,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"32" height\x3d"40" viewBox\x3d"0 0 32 40" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M-8-4h48v48H-8z"/\x3e\x3cpath d\x3d"M4 0C1.8 0 .02 1.8.02 4L0 36c0 2.2 1.78 4 3.98 4H28c2.2 0 4-1.8 4-4V12L20 0H4z" fill\x3d"'+
soy.$$escapeHtmlAttribute(a.color)+'"/\x3e\x3cpath d\x3d"M20 0l12 12h-8.004A4 4 0 0 1 20 8.004V0z" fill-opacity\x3d".5" fill\x3d"#FFF" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+'mix-blend-mode:lighten"/\x3e\x3ctext width\x3d"32" height\x3d"12" x\x3d"16" y\x3d"35" text-anchor\x3d"middle" fill\x3d"#FFF" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+"font-size: 10px; font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\"\x3e"+soy.$$escapeHtml(c)+"\x3c/text\x3e\x3c/g\x3e\x3c/svg\x3e")}
function uX(a){a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");var b=a.za;soy.asserts.assertType(null==a.Ji||goog.isBoolean(a.Ji)||1===a.Ji||0===a.Ji,"withStar",a.Ji,"boolean|null|undefined");a=a.Ji;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+'  width\x3d"20" height\x3d"15" viewBox\x3d"0 0 20 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" fill\x3d"#FFF" d\x3d"M15.5 3H0v8.5c0 .828.672 1.5 1.5 1.5h14c.828 0 1.5-.672 1.5-1.5v-7c0-.828-.672-1.5-1.5-1.5M2 2h7L7 0H0v2h1"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M17.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function tX(a){a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");var b=a.za;soy.asserts.assertType(null==a.Ji||goog.isBoolean(a.Ji)||1===a.Ji||0===a.Ji,"withStar",a.Ji,"boolean|null|undefined");a=a.Ji;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+' width\x3d"18" height\x3d"15" viewBox\x3d"0 0 18 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" d\x3d"M10.32 8.842c.127-.214.2-.466.2-.736V7.64c-.267-.33-.48-.713-.606-1.127-.027-.083-.04-.18-.115-.233-.742-.998-.093-1.186-.102-1.27 0-.418-.003-.837.002-1.254.016-.387.278-1.937 2.163-1.943h.01c1.885.006 2.147 1.556 2.163 1.943.006.417 0 .836.002 1.254-.01.084.64.272-.1 1.27-.076.053-.09.15-.117.233-.127.414-.34.796-.607 1.128v.466c0 .605.37 1.12.89 1.315.142.055 1.31.27 1.762.634.303.245.69.525 1.004 1.057.088.15.23 1.19.23 1.19 0 .387-.276.7-.65.7h-3.846l.092-.336s-.006-.782-.134-1.197c-.085-.33-.254-1.277-.674-1.614-.53-.422-.76-.68-1.57-1.01zm.408.735c-.523-.424-1.883-.674-2.05-.736-.6-.226-1.032-.825-1.032-1.528v-.54c.312-.386.558-.83.706-1.31.032-.097.048-.21.134-.272.86-1.16.106-1.378.117-1.475-.002-.486.004-.972-.003-1.457C8.582 1.808 8.277.008 6.087 0 3.883.007 3.58 1.807 3.56 2.258c-.006.485 0 .97-.002 1.457.01.097-.744.316.117 1.475.086.062.102.175.134.272.147.48.393.924.704 1.31v.54c0 .703-.43 1.302-1.032 1.53-.167.06-1.526.31-2.05.735-.35.284-.802.61-1.166 1.228C.163 10.98 0 12.187 0 12.187c0 .45.32.813.752.813h10.656c.433 0 .753-.363.753-.813 0 0-.163-1.208-.265-1.382-.172-.666-.815-.944-1.167-1.228z" fill\x3d"#FFF"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M15.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function KX(){var a={za:"addressDetailsAddress__expandAddressButtonIcon"},a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");a=a.za;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg  "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' viewBox\x3d"0 0 17 17" width\x3d"17" height\x3d"17" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"M8.783 14.483c-3.385 0-6.14-2.754-6.14-6.14 0-3.384 2.755-6.138 6.14-6.138 3.384 0 6.138 2.754 6.138 6.14 0 3.384-2.753 6.138-6.137 6.138m0-14.167C4.35.316.755 3.91.755 8.344s3.594 8.028 8.028 8.028c4.433 0 8.027-3.595 8.027-8.028S13.216.316 8.783.316"/\x3e\x3cpath d\x3d"M13.066 8.344c0-.522-.422-.944-.944-.944H9.727V5.005c0-.522-.422-.944-.944-.944-.523 0-.945.423-.945.945V7.4H5.444c-.523 0-.945.422-.945.944 0 .26.105.497.276.668.17.17.407.276.668.276h2.394v2.395c0 .26.106.497.277.668.17.172.407.278.668.278.522 0 .944-.423.944-.945V9.288h2.395c.522 0 .944-.422.944-.944"/\x3e\x3c/svg\x3e')}
function rp(a){a=a||{};soy.asserts.assertType(null==a.color||a.color instanceof goog.soy.data.SanitizedContent||goog.isString(a.color),"color",a.color,"null|string|undefined");var b=a.color;soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");a=a.za;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'" ':"")+'fill\x3d"'+soy.$$escapeHtmlAttribute(null==b?"#FFF":
b)+'" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"-505 380 12 10"\x3e\x3cpath d\x3d"M-503 388h8v1h-8zM-494 382.2c-.4 0-.8.3-.8.8 0 .1 0 .2.1.3l-2.3.7-1.5-2.2c.3-.2.5-.5.5-.8 0-.6-.4-1-1-1s-1 .4-1 1c0 .3.2.6.5.8l-1.5 2.2-2.3-.8c0-.1.1-.2.1-.3 0-.4-.3-.8-.8-.8s-.8.4-.8.8.3.8.8.8h.2l.8 3.3h8l.8-3.3h.2c.4 0 .8-.3.8-.8 0-.4-.4-.7-.8-.7z"/\x3e\x3c/svg\x3e')};function jX(a,b){var c=a.Rp()&&a.Rp().starred,d=b.Rp()&&b.Rp().starred;return c^d?c?-1:1:(a.getName()||"").toLowerCase().localeCompare((b.getName()||"").toLowerCase())};function LX(){}LX=Backbone.View.extend({className:"uploadsFolderItem"});f=LX.prototype;f.initialize=function(a){this.Qa=a.Qa;this.disabled=!1;this.model=a.model;this.dw=a.dw;this.zi=a.zi;this.J=a.J;this.nk=void 0;this.root=a.root;(this.ye=a.ye)&&this.listenTo(this.ye,{complete:this.r7,fail:this.s7,update:this.hr})};f.events=function(){return{click:this.Jf,dragstart:this.Os,mousedown:this.Ps}};
f.Jf=function(a){var b=a.target.classList.contains("uploadsInfoButton");if(!this.disabled)if(b)this.trigger("infoClick",this.model);else{var b=!1,c=this.model.Mb();a.target&&$(a.target).is("img")?b=eh(a.target)>O.dJ:1===$(a.target).find("img").length&&(b=eh($(a.target).find("img").get(0))>O.dJ);c?this.Qa.GS(c,void 0,void 0,b):this.ye&&this.ye.Mb()&&this.Qa.HS(this.ye,void 0,void 0,b)}};f.r7=function(){this.nk.remove();this.nk=void 0;this.stopListening(this.ye)};
f.s7=function(){this.Ck(!0);this.nk.$el.addClass("uploadProgressBarFail");this.stopListening(this.ye);setTimeout(this.rZ.bind(this),1E3);setTimeout(this.trigger.bind(this,"uploadFail"),5350)};f.Os=function(a){a.preventDefault();return!1};f.Ps=function(a){Iz();var b=a.target.classList.contains("uploadsInfoButton"),c=a.which==O.Kh;return this.disabled||c||b||a.ctrlKey||this.SQ(a)};
f.qO=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this,e=this.el.getBoundingClientRect();b?(Tg(this.Qa,Wg(e)),setTimeout(c,600)):(this.Jf(a),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");var a=this.model.jV(),b=this.el,a=a&&a.type,c=this.J.jq(this.J.format("objectPanelLicenseExtended")),d=this.J.jq(this.J.format("objectPanelLicenseRoyaltyFree")),e=this.zi;soy.asserts.assertType(null==a||a instanceof goog.soy.data.SanitizedContent||goog.isString(a),"licenseType",a,"null|string|undefined");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"licenseTitleExtended",c,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"licenseTitleRoyaltyFree",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(e)||1===e||0===e,"showControls",e,"boolean");var e=!!e,g='\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e';if(null!=a){switch(goog.isObject(a)?a.toString():a){case "ROYALTY_FREE":g+='\x3cdiv class\x3d"uploadsFolderItemLicense" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3cpath d\x3d"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0z" id\x3d"a"/\x3e\x3cfilter x\x3d"-50%" y\x3d"-50%" width\x3d"200%" height\x3d"200%" filterUnits\x3d"objectBoundingBox" id\x3d"b"\x3e\x3cfeOffset dy\x3d"1" in\x3d"SourceAlpha" result\x3d"shadowOffsetOuter1"/\x3e\x3cfeGaussianBlur stdDeviation\x3d"1" in\x3d"shadowOffsetOuter1" result\x3d"shadowBlurOuter1"/\x3e\x3cfeComposite in\x3d"shadowBlurOuter1" in2\x3d"SourceAlpha" operator\x3d"out" result\x3d"shadowBlurOuter1"/\x3e\x3cfeColorMatrix values\x3d"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in\x3d"shadowBlurOuter1"/\x3e\x3c/filter\x3e\x3cmask id\x3d"c" x\x3d"0" y\x3d"0" width\x3d"20" height\x3d"20" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#a"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(2 2)"\x3e\x3cuse fill\x3d"#000" filter\x3d"url(#b)" xlink:href\x3d"#a"/\x3e\x3cuse stroke\x3d"#FFF" mask\x3d"url(#c)" stroke-width\x3d"2" fill\x3d"#9F72D7" xlink:href\x3d"#a"/\x3e\x3c/g\x3e\x3cpath d\x3d"M6 6h12v12H6z"/\x3e\x3cpath d\x3d"M15.3 9c-.72 0-1.4.295-1.885.806L12 11.128l-.76.705h.005L9.9 13.092a1.64 1.64 0 0 1-1.2.521c-.935 0-1.695-.795-1.695-1.78 0-.984.76-1.78 1.695-1.78.455 0 .88.185 1.22.543l.565.526.755-.705-.63-.585A2.618 2.618 0 0 0 8.7 9C7.21 9 6 10.274 6 11.833c0 1.56 1.21 2.834 2.7 2.834.72 0 1.4-.295 1.885-.806L12 12.544l.005.006.755-.717h-.005l1.345-1.258a1.64 1.64 0 0 1 1.2-.522c.935 0 1.695.796 1.695 1.78 0 .985-.76 1.78-1.695 1.78-.45 0-.88-.184-1.22-.542l-.57-.532-.755.706.635.59c.51.531 1.185.826 1.91.826 1.49 0 2.7-1.269 2.7-2.833C18 10.264 16.79 9 15.3 9z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3c/svg\x3e');
break;case "EXTENDED":g+='\x3cdiv class\x3d"uploadsFolderItemLicense" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3cpath d\x3d"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0z" id\x3d"a"/\x3e\x3cfilter x\x3d"-50%" y\x3d"-50%" width\x3d"200%" height\x3d"200%" filterUnits\x3d"objectBoundingBox" id\x3d"b"\x3e\x3cfeOffset dy\x3d"1" in\x3d"SourceAlpha" result\x3d"shadowOffsetOuter1"/\x3e\x3cfeGaussianBlur stdDeviation\x3d"1" in\x3d"shadowOffsetOuter1" result\x3d"shadowBlurOuter1"/\x3e\x3cfeComposite in\x3d"shadowBlurOuter1" in2\x3d"SourceAlpha" operator\x3d"out" result\x3d"shadowBlurOuter1"/\x3e\x3cfeColorMatrix values\x3d"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in\x3d"shadowBlurOuter1"/\x3e\x3c/filter\x3e\x3cmask id\x3d"c" x\x3d"0" y\x3d"0" width\x3d"20" height\x3d"20" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#a"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(2 2)"\x3e\x3cuse fill\x3d"#000" filter\x3d"url(#b)" xlink:href\x3d"#a"/\x3e\x3cuse stroke\x3d"#FFF" mask\x3d"url(#c)" stroke-width\x3d"2" fill\x3d"#399BE6" xlink:href\x3d"#a"/\x3e\x3c/g\x3e\x3cpath d\x3d"M5 6h14v12H5z"/\x3e\x3cpath d\x3d"M14 10.762a1.7 1.7 0 0 0-.4.313l-1.34 1.258-.76.711-1.415 1.317a2.597 2.597 0 0 1-1.885.806c-1.49 0-2.7-1.275-2.7-2.834C5.5 10.774 6.71 9.5 8.2 9.5c.72 0 1.4.295 1.91.832l.63.585-.755.705-.565-.526a1.658 1.658 0 0 0-1.22-.543c-.935 0-1.695.796-1.695 1.78 0 .985.76 1.78 1.695 1.78.455 0 .88-.184 1.2-.521l1.34-1.259.76-.705 1.415-1.322c.3-.316.673-.549 1.085-.681v1.137zM16.372 13c-.251.653-.86 1.113-1.572 1.113-.45 0-.88-.184-1.22-.542l-.57-.532-.755.706.635.59c.51.531 1.185.826 1.91.826 1.27 0 2.336-.92 2.624-2.161h-1.052zM19 9.5h-1.5V8h-1v1.5H15v1h1.5V12h1v-1.5H19v-1z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3c/svg\x3e');
break;default:g+='\x3cdiv class\x3d"uploadsFolderItemLicense"\x3e'}g+="\x3c/div\x3e"}a=soydata.VERY_UNSAFE.ordainSanitizedHtml(g+(e?'\x3cdiv class\x3d"uploadsControls"\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e':""));b.innerHTML=a;this.$el.toggleClass("uploadsFolderItemMovable",this.dw);this.PB();this.ye&&!this.ye.Zf&&(b=this.$(".uploadsControls"),this.nk||(this.nk=new MX),this.nk.render().$el.insertBefore(b));if(b=this.ye)b=this.ye,b=b.Zf&&!b.media;
b&&this.rZ();return this};f.PB=function(){function a(){d.off("load",a);e.$el.removeClass("uploadsFolderItemLoading")}var b,c,d,e=this;b=this.model.re().o()/this.model.re().l();c=this.$(".uploadsFolderItemThumbnail");c.css("padding-bottom",100*b+"%");d=c.find("img");d.on("load",a);b=this.model.re().na();aD(bD,d,b)};f.show=function(){this.nk&&this.hr()};
f.SQ=function(a){var b,c,d=this.model.Mb();b=a.clientX;c=a.clientY;var e=this.$el.clone().off();e.find(".uploadProgressBar").remove();e.find(".uploadsFolderItemLicense").remove();e.find(".uploadsControls").remove();this.trigger("pickedUp",this.model,e.find("img"));if(this.root){b=new V(b,c,b,c);c=Wg(this.el.getBoundingClientRect());this.$el.addClass("uploadsFolderItemDragging");var g=!1;if(d){var g=this.Qa,h;h=d.Ka().ic()[Lg];h=Jg({id:d.u(),version:d.Ka().getVersion(),files_:[{page:0,quality:"THUMBNAIL",
url:e.find("img").attr("src")},{page:0,quality:"SCREEN",url:h.na(),width:h.l(),height:h.o()}]});Ug(g,h,c,e,b,g.GS.bind(g,d));g=!0}else if(this.ye){d=this.Qa;g=this.ye;h=e.find("img").attr("src");var k=g.Mb();k?(h=Jg({id:k.u(),version:1,files_:[{page:0,quality:"THUMBNAIL",url:h},{page:0,quality:"SCREEN",url:h,width:g.sb.width,height:g.sb.height}]}),Ug(d,h,c,e,b,d.HS.bind(d,g)),g=!0):g=!1}g&&this.MR(a)}return!0};f.Ck=function(a){this.disabled=a};
function NX(a,b){a.dw=b;a.$el.toggleClass("uploadsFolderItemMovable",a.dw)}f.rZ=function(){this.nk&&this.nk.remove();this.nk=void 0;this.$el.addClass("uploadsFolderItemFailed");this.$el.find("img").attr("title",this.J.format("objectPanelUploadsPanelUploadFailed"));NX(this,!1);this.Ck(!0)};
f.Qx=P.method(function(a,b){var c=this;return a?P.try(function(){c.$el.toggleClass("doNotAnimate",!!b).addClass("doNotTransition").height(c.$el.height())}).delay(O.Ec).then(function(){c.$el.removeClass("doNotTransition").addClass("uploadsFolderItemHidden").height("")}).delay(350):(this.$el.removeClass("doNotAnimate uploadsFolderItemHidden"),P.resolve())});f.hr=function(){OX(this.nk,this.ye.Wn)};
f.MR=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.qO(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function PX(a){this.Qa=a.Qa;this.ac=a.ac;this.Y=null;this.pq=!0}PX.prototype.fetch=function(a){function b(a){return lk({id:a.u(),media:a,thumbnail:a.Ka().ic()[nD],type:"MEDIA"})}var c=this;a=tF((new sF).St(!0).Qt(!1).Ko(),[Eg,Gg]).Tg(a);null!=c.Y&&a.xj(c.Y);return RE(this.ac,a).then(function(a){0!==a.media.length&&Pg(c.Qa,a.media);c.Y=a.Y;c.pq=null!=c.Y;return P.resolve(a.media.map(b))})};PX.prototype.ss=function(){return this.pq};function QX(a){this.Qa=a.Qa;this.Ii=a.Ii;this.LR=a.LR;this.Y=null;this.pq=!0}QX.prototype.fetch=function(a){function b(a){return lk(a)}var c=this;a=(new TI).Ek(this.LR).Tg(a).xj(this.Y);return QI(this.Ii,a).tap(function(a){c.Y=a.Kb();c.pq=!!c.Y}).tap(function(a){a=(a.Bf()||[]).map(function(a){return a.Mb()}).filter(Boolean);Pg(c.Qa,a)}).then(function(a){return(a.Bf()||[]).map(b)})};QX.prototype.ss=function(){return this.pq};function RX(a){this.Qa=a.Qa;this.gc=a.gc;this.Va=a.Va;this.Y=null;this.pq=!0}RX.prototype.fetch=function(a){function b(a){return a.Bf()||[]}var c=this;a=nk((new mk).xj(this.Y).Ek(Sg(this.Va))).Tg(a);return this.gc.PA(a).tap(function(a){c.Y=a.Kb();c.pq=!!c.Y}).tap(function(a){a=b(a).map(function(a){return a.Mb()});Pg(c.Qa,a)}).then(b)};RX.prototype.ss=function(){return this.pq};function SX(a){this.Qn=this.D=void 0;this.Kv=a.ma===a.Va.Oa();this.Qa=a.Qa;this.W=a.W;this.RU=this.Zh=!1;this.Va=a.Va;this.kr=a.kr;this.gc=a.gc;this.sA=!1;this.fi=[];this.ka=new xX;this.ac=a.ac;this.J=a.J;this.Qr=a.Qr;this.Z=a.Z;this.Lt=a.Lt;this.Wf=a.Wf;this.listenTo(this.Wf,"create",this.H$);this.ma=a.ma;this.Rh=a.Rh;this.pF=a.pF;this.Uo=a.Uo;this.zi=a.zi;this.view=new TX({disabled:a.disabled,model:this.Va,J:this.J,Uo:a.Uo,cl:a.cl,If:this.W.G.get(ig)});this.listenTo(this.view,{upload:this.CI,share:this.F9})}
f=SX.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.Th=function(){this.OV=void 0;this.kg&&(gW(this.ka,this.kg.$el),this.kg=void 0)};f.fetch=function(a){a=a||25;this.Zh||this.sA||!this.ss()||(this.Zh=!0,this.view.Rg(!0),this.pF.fetch(a).bind(this).then(this.o6).catch(this.p6))};f.Ez=function(a){a=this.ka.wL(a);isFinite(a)?this.fetch(a):this.fetch()};f.getElement=function(){return this.view.$el};
function UX(a,b){for(var c=0;c<a.fi.length;c++){var d=a.fi[c];if(d.model===b||d.ye===b)return d}return null}f.ql=function(){return this.ka.ql()};function VX(a){return a.Wf.GF(a.Va.u()).filter(function(b){return!UX(a,b)}).filter(function(b){return b.Zf&&!b.media?!1:b.Zf&&b.Mb()?-1===a.Lt.indexOf(b.Mb().u()):!0})}f.ss=function(){return this.pF.ss()};
f.moveItem=function(a,b,c){var d=UX(this,a);d&&(this.Th(),this.view.Gt(1===this.fi.length),b=Oj(Pj(new Nj,Sg(this.Va)).N_([a.u()]),Sg(b)),P.settle([this.gc.C4(b),d.Qx(!0,c)]).then(function(b){b[0].isFulfilled()?this.removeItem(a):WX(this,a)}.bind(this)))};
f.mX=function(a){var b;if(a===this.OV)this.Th();else{var c;c=(new EX({YK:this.W.G.get(Uf),XN:this.Va!==bk,Va:this.Va,kr:this.kr,item:a,title:a.getName()||be(this.Qr),J:this.J,If:this.W.G.get(ig)})).render();c.on({move:this.moveItem.bind(this,a),trash:this.z$.bind(this,a),download:this.J2.bind(this,a)});b=UX(this,a);this.Th();c=(new XX({Ni:!1,Br:!0,content:c.$el,J:this.J,target:b.$el})).render();c.on("close",this.Th,this);this.kg=c;fW(this.ka,b.$el,this.kg.$el);this.kg.show();this.OV=a;this.Rh&&this.Rh(this.kg.getContent(),
!0)}};
f.o6=function(a){this.RU=!0;this.Zh=!1;YX(this,VX(this).map(this.NY,this));YX(this,a.filter(this.d4,this).map(this.S8,this));this.view.Rg(!1);this.view.Gt(1>this.fi.length);a=this.view;var b=a.$(".uploadsFolderContentUploadButton");if(!a.If)b.remove(),b=soydata.VERY_UNSAFE.ordainSanitizedHtml(Rd(a.J)),soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"label",b,"soydata.SanitizedHtml"),b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"feedback feedback--error"\x3e'+soy.$$escapeHtml(b)+
"\x3c/p\x3e").toString(),a.$el.prepend(b);else if(a.Uo&&1>b.length){var b=a.J.format("objectPanelUploadsPanelUploadButtonLabel"),c=!!a.disabled;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"label",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(c)||1===c||0===c,"disabled",c,"boolean");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentUploadButton" '+(c?"disabled":"")+"\x3e"+
soy.$$escapeHtml(b)+"\x3c/button\x3e").toString();a.$el.prepend(b)}this.trigger("fetch")};f.d4=function(a){function b(a){var b="MEDIA"===a.lc(),c=a.Mb();a="FONT"!==a.Mb().lc();return b&&(!c||a)}var c=this;return function(a){return c.fi.every(function(b){return b.ye&&b.ye.Mb()?b.ye.Mb().u()!==a.u():!0})}(a)&&-1===c.Lt.indexOf(a.u())&&b(a)};
function ZX(a){function b(){if(!e.Kv)return e.Z.Oa(e.Va.Oa())}function c(){$X(e.view,!1)}function d(a,b){a&&(e.Kv||b)&&(e.Qn=b?b:void 0,e.D=a,$X(e.view,!0),aY(e.view,!1,bY(e)))}var e=a,g;g=(new pk).Ek(Sg(a.Va));a.gc.vc(g).then(function(a){a=a.vc();var g=a.Ym();a&&(e.Va=a);a="ADMIN"===g;var g="OWNER"===g,l=e.Va.qe(),m=e.Va===ak;!a&&!g||l||m?c():P.all([e.Z.ja(e.Va.ja()),b()]).spread(d).catch(c)}).catch(c)}f.p6=function(){this.Zh=!1;this.sA=!0;this.view.Rg(!1);this.view.Ht(!0)};
f.RG=function(a){this.removeItem(a);this.trigger("trash",a.u())};f.t7=function(a){var b=UX(this,a);b&&(b.model=b.model.Ky({id:a.Mb().u()}),b.Ck(!1),NX(b,!0))};function YX(a,b){var c=$(b.map(function(a){return a.el}));a.fi=a.fi.concat(b);CX("uploadsItemAppearing",c,2200);a.ka.push(c);b.forEach(function(a){a.show()})}f.remove=function(){this.fi.forEach(function(a){a.remove()});this.Zq&&this.Zq.remove();this.stopListening()};
f.removeItem=function(a){a=UX(this,a);a.remove();this.fi.splice(this.fi.indexOf(a),1);this.view.Gt(1>this.fi.length)};f.render=function(){this.view.render();this.view.$el.prepend(this.ka.$el);this.view.Rg(!0);return this};f.S8=function(a){a=(new LX({Qa:this.Qa,model:a,dw:!0,zi:this.zi,J:this.J,root:$(window)})).render();this.listenTo(a,{infoClick:this.mX,pickedUp:this.trigger.bind(this,"pickedUp")});return a};
f.NY=function(a){var b=(new LX({Qa:this.Qa,model:lk({id:"",thumbnail:{height:a.sb.height,url:a.jn(),width:a.sb.width},type:"MEDIA"}),dw:!1,zi:!0,J:this.J,root:$(window),ye:a})).render();this.listenTo(b,{infoClick:this.mX,pickedUp:this.trigger.bind(this,"pickedUp")});this.listenTo(a,"start",this.t7);return b};function WX(a,b){if(b=UX(a,b))b.Qx(!1),a.view.Gt(!1)}f.H$=function(){function a(a){a.Ck(!0)}var b=VX(this);!this.iA()||1>b.length||(b=b.map(this.NY,this),b.forEach(a),cY(this,b),this.view.Gt(!1))};
f.iA=function(){return this.RU};function cY(a,b){var c=$(b.map(function(a){return a.el}));a.fi=b.concat(a.fi);CX("uploadsItemUploading",c,600);a.ka.unshift(c);b.forEach(function(a){a.show()})}f.CI=function(a){var b=this.Va===bk;this.Uo&&(b?0<a.length&&this.Qa.Wy(this.Va,"button").upload(a):this.Qa.CI(this.Va,a,"button"))};
f.F9=function(a,b){function c(a,b){"UNSHARED"===a?bY(d)&&(d.Kv||window.confirm(d.J.format("objectPanelUploadsPanelSharePopOverUnshareConfirmation")))&&(dY(d,d.D.u(),!1),d.view.Ck(!d.Kv),d.trigger("disabled",!d.Kv)):(dY(d,a,b),d.view.Ck(!1),d.trigger("disabled",!1))}var d=this,e;this.D&&(e=d.Kv?this.J.format("objectPanelUploadsPanelSharePopOverPrivateLabel"):Td(this.J,this.Qn.Lb()||this.Qn.oh()),e=[{id:"UNSHARED",eR:!bY(this),title:e},{id:this.D.u(),eR:bY(this),title:this.D.Lb()||this.J.format("objectPanelUploadsPanelSharePopOverPublicLabel")}],
this.Zq&&(d.stopListening(this.Zq),this.Zq.remove()),this.Zq=new eY({title:this.J.format("objectPanelUploadsPanelSharePopOverTitle")}),fY(this.Zq,e),this.Zq.qx(a,b),this.listenTo(this.Zq,"change",c))};function dY(a,b,c){function d(){aY(e.view,!1,bY(e))}var e=a;c=c?"EDITOR":void 0;aY(e.view,!0);b=ik(a.Va,b,c);a.gc.qR(b).then(function(a){a&&a.vc()&&a.vc().u()===e.Va.u()?(e.Va=a.vc(),aY(e.view,!1,bY(e))):d()}).catch(d)}
function bY(a){return 0<(a.Va.Nj()&&a.Va.Nj().getEntries()||[]).filter(function(b){return a.D&&b.ja()===a.D.u()&&"EDITOR"===b.Ym()}).length}f.z$=function(a){function b(){return c().then(function(a){return ZE(g.ac,a.u(),a.Ka().getVersion())})}function c(){return P.try(function(){return a.Mb()||TE(g.ac,a.u(),wF(new wD))})}function d(b){b.isFulfilled()?g.RG(a):WX(g,a)}var e=UX(this,a),g=this;e&&(this.Th(),P.settle([b(),e.Qx(!0)]).get(0).then(d))};
f.J2=function(a){var b=this;(function(){var c=a.u(),d=new wD;d.includeImportFileUrl=!0;d=wF(d);return TE(b.ac,c,d)})().then(function(a){a=a.Ka().importFileUrl;var b=$("#canvaDownloadIframe");1>b.length&&(b=$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"));b.attr("src",a)})};function TX(){}TX=Backbone.View.extend({className:"uploadsFolderContent"});f=TX.prototype;f.events=function(){return{"change .uploadsFolderContentFileInput":this.Z5,"click .uploadsFolderContentUploadButton":this.q7,"click .uploadsFolderContentShareButton:not(.buttonSpinner)":this.a7}};
f.initialize=function(a){this.E0="image/jpeg,image/png,image/raw,image/svg+xml,image/x-fuji-raf";this.Ri=new VV;this.Uo=a.Uo;this.disabled=a.disabled;this.J=a.J;this.cl=a.cl||this.J.format("objectPanelUploadsPanelDragIn");this.model=a.model;this.If=a.If};
f.render=function(){var a=this;this.If&&this.$el.html(gY({accept:this.E0}).toString());this.$el.toggleClass("uploadsFolderContentChristmas",function(){var b=a.model.getName()?a.model.getName().toLowerCase():"";return-1<["christmas","xmas","x-mas"].indexOf(b)}());this.$el.append(this.Ri.render().$el);this.Ck(this.disabled);return this};f.Z5=function(){var a;a=this.$(".uploadsFolderContentFileInput")[0].files;a.length&&this.trigger("upload",a)};
f.a7=function(a){var b=a.target.getBoundingClientRect();this.trigger("share",b.right,b.top+b.height/2);$(a.target).blur()};f.q7=function(){this.$(".uploadsFolderContentFileInput").click()};f.Rg=function(a){a?this.Ri.show():this.Ri.hide()};f.Ck=function(a){this.disabled=a;this.$el.toggleClass("uploadsFolderContentDisabled",a);this.$el.find(".uploadsFolderContentUploadButton").prop("disabled",a)};
f.Gt=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a&&this.If?1>b.length&&this.$el.append(hY({cl:this.cl}).toString()):b.remove();this.$el.toggleClass("uploadsFolderContentEmpty",a)};f.Ht=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(iY({message:this.J.format("objectPanelUploadsPanelFolderContentLoadingError")}).toString()):b.remove()};
function $X(a,b){var c=a.$(".uploadsFolderContentShareButton");b?1>c.length&&a.$el.prepend(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentShareButton"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e\x3c/button\x3e').toString()):c.remove();a.$el.toggleClass("uploadsFolderContentShareable",b)}function aY(a,b,c){a=a.$(".uploadsFolderContentShareButton");a.toggleClass("buttonSpinner",b);a.toggleClass("uploadsFolderContentShareButtonShared",c)};function gY(a){soy.asserts.assertType(goog.isString(a.accept)||a.accept instanceof goog.soy.data.SanitizedContent,"accept",a.accept,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cinput class\x3d"uploadsFolderContentFileInput" type\x3d"file" accept\x3d"'+soy.$$escapeHtmlAttribute(a.accept)+'" multiple\x3e\x3cdiv class\x3d"uploadsFolderContentDropOverlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderDropIcon"\x3e\x3c/div\x3e')}
function iY(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e'+soy.$$escapeHtml(a.message)+"\x3c/p\x3e")}
function hY(a){soy.asserts.assertType(goog.isString(a.cl)||a.cl instanceof goog.soy.data.SanitizedContent,"emptyPrompt",a.cl,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e'+soy.$$escapeHtml(a.cl)+"\x3c/p\x3e")};function jY(){}jY=Backbone.View.extend({className:"uploadsFolder"});f=jY.prototype;f.close=function(){this.$el.removeClass("uploadsFolderOpen")};
f.events=function(){return{"blur .uploadsFolderName \x3e input":this.F6,"click .uploadsFolderName \x3e span":this.E6,"click .uploadsFolderThumbnail":this.rX,dragenter:this.Q5,dragleave:this.R5,dragstart:this.Os,drop:this.Kn,"mouseover .uploadsFolderThumbnail":this.p7,"mouseout .uploadsFolderThumbnail":this.o7,"focus .uploadsFolderName \x3e input":this.G6,"keypress .uploadsFolderName \x3e input":this.I6}};
f.initialize=function(a){this.Ni=a.Ni;this.ty=a.ty;this.Qb=a.Qb;this.disabled=!1;this.model=a.model;this.fw=!1;this.J=a.J;this.$G=-1;this.LY=!1;this.zi=a.zi;this.H=a.H};function kY(a,b,c){a=a.el.getBoundingClientRect();return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}
function lY(a){function b(){return k.model.u().split("").reduce(function(a,b){return a+b.charCodeAt(0)},0)}var c="rgba(159, 109, 218, 1);rgba(250, 204, 51, 1);rgba(235, 78, 135, 1);rgba(80, 154, 210, 1);rgba(243, 149, 48, 1);rgba(226, 70, 51, 1);rgba(126, 198, 100, 1);rgba(49, 70, 146, 1)".split(";"),d=!!a.model.u(),e=!!a.model.re(),g=!!a.model.qe(),h="LOGOS"===a.model.qe(),k=a;return e?"":h&&a.Qb?"#"+a.Qb:d&&!g?c[b()%c.length]:"rgba(217, 218, 221, 1)"}
function mY(a,b,c){return a.Ni&&kY(a,b,c)&&!a.aq()}f.aq=function(){return this.$el.hasClass("uploadsFolderOpen")};f.Q5=function(a){this.Ni&&(this.$el.addClass("uploadsFolderDropping"),this.aq()||(this.H.clearTimeout(this.$G),this.$G=this.H.setTimeout(this.rX.bind(this,a),1E3)))};f.R5=function(a){kY(this,a.originalEvent.clientX,a.originalEvent.clientY)||(this.H.clearTimeout(this.$G),this.$G=-1,this.$el.removeClass("uploadsFolderDropping"))};f.Os=function(a){a.preventDefault();return!1};
f.Kn=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}this.$el.removeClass("uploadsFolderDropping");b&&b.length&&this.Ni&&!this.disabled&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",this.model,b))};f.E6=function(){this.disabled||(this.ty?nY(this,!0):this.trigger("click",this.model))};f.F6=function(){this.fw&&(this.fw=!1,oY(this))};f.G6=function(){this.fw=!0};f.I6=function(a){13===a.which&&oY(this)};
f.rX=function(a){this.disabled||(a=a.target.classList.contains("uploadsInfoButton"),this.trigger(a?"infoClick":"click",this.model))};f.p7=function(){this.$el.addClass("uploadsFolderHover")};f.o7=function(){this.$el.removeClass("uploadsFolderHover")};f.open=function(){this.$el.addClass("uploadsFolderOpen")};
f.render=function(){var a=!this.ty||this.disabled,b=new WI(this.model,this.J),c=this.model.qe();this.fw=!1;this.$el.toggleClass("uploadsFolderAllowDrop",this.Ni);this.$el.toggleClass("uploadsFolderStaticName",a);this.$el.attr("title",b.Lb());c?this.$el.attr("data-system-folder",c):this.$el.removeAttr("data-system-folder");this.$el.html(this.template(this.si()));this.PB();nY(this,this.LY);return this};
f.PB=function(){function a(){c.off("load",a);e.$el.removeClass("uploadsFolderLoading")}var b,c,d=!1,e=this;b=this.$(".uploadsFolderThumbnail");b.addClass(function(){var a=e.model.re();return a&&a.o()>a.l()?"uploadsFolderThumbnailPortrait":"uploadsFolderThumbnailLandscape"}());b.css("background-color",lY(this));b.toggleClass("uploadsFolderThumbnailDefault",!this.model.re());d="LOGOS"===this.model.qe();c=b.children("img");c.on("load",a);aD(bD,c,function(){var a=e.model.re();return a?a.na():d?"https://static.canva.com/static/images/logos_folder_thumbnail_transparent_bg.png":
"https://static.canva.com/static/images/default_folder_thumbnail_transparent_bg.png"}())};f.si=function(){return _.extend({},this.model,{name:(new WI(this.model,this.J)).Lb(),shared:this.model.shared,showControls:this.zi})};f.show=function(){this.$el.addClass("uploadsFolderLoading")};f.PS=function(){var a=this;this.$el.addClass("uploadsFolderZoomIn");this.H.setTimeout(function(){a.$el.removeClass("uploadsFolderTransparent");a.$el.removeClass("uploadsFolderZoomIn")},500)};f.template=_.template('\x3cdiv class\x3d"uploadsFolderThumbnail"\x3e\x3cimg\x3e\x3c% if (showControls) { %\x3e\x3cdiv class\x3d"uploadsControls"\x3e\x3c% if (shared) { %\x3e\x3cspan class\x3d"uploadsInfoShared"\x3eshared\x3c/span\x3e\x3c% } %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderName"\x3e\x3cinput type\x3d"text" value\x3d"\x3c%- name %\x3e"\x3e\x3cspan\x3e\x3c%- name %\x3e\x3c/span\x3e\x3c/div\x3e');
f.Ck=function(a){this.disabled=a};f.Qx=P.method(function(a){var b=this;return a?P.try(function(){b.$el.addClass("doNotTransition");b.$el.height(b.$el.height())}).delay(O.Ec).then(function(){b.$el.removeClass("doNotTransition");b.$el.addClass("uploadsFolderHidden");b.$el.height("")}).delay(300):(this.$el.removeClass("uploadsFolderHidden"),P.resolve())});
function nY(a,b){a.fw=!1;a.LY=b;a.$el.toggleClass("uploadsFolderRenaming",b);b&&(b=a.$(".uploadsFolderName \x3e input"),b.val(a.model.getName()),b.select(),a.fw=!0)}function pY(a){var b;b=a.$(".uploadsFolderThumbnail");b.css("background-color","rgba(217, 218, 221, 1)");a.H.setTimeout(function(){b.css("background-color",lY(a))},O.Ec)}function oY(a){var b=Sd(a.J),b=a.$(".uploadsFolderName \x3e input").val().trim()||b;a.trigger("rename",a.model,b)};function qY(a){this.Qb=a.Qb;this.Qa=a.Qa;this.Y=null;this.bL=this.PE=void 0;this.fl=a.fl;this.uz=a.uz;this.dl=a.dl;this.W=a.W;this.Zh=!1;this.gc=a.gc;this.Ii=a.Ii;this.dj=[];this.sA=!1;this.ka=new xX;this.listenTo(this.ka,"redraw",this.v6);this.ac=a.ac;this.i=a.i;this.VN=!0;this.XG=this.XG.bind(this);this.Z=a.Z;this.Lt=[];this.Wf=a.Wf;this.ma=a.ma;this.DE=[];this.H=a.H;this.Rh=a.Rh;this.Tc=a.Tc;this.view=new rY({J:lc(this.i),zo:this.W.G.get(Xf)&&!this.dl,root:a.root});this.listenTo(this.view,{close:this.lw,
drop:this.Kn,drag:this.P5,dragScroll:this.S5,folderUpgradeCta:this.g6});this.dl&&(a=new sY({i:this.i}),this.listenTo(a,"click",this.K6),this.rq=a)}function tY(a,b,c){return a.dj.filter(function(a){return!uY(this,a.model)&&mY(a,b,c)}.bind(a))[0]}f=qY.prototype;f.g6=function(){var a=this.Tc;a.j.va(km("object_panel_uploads","top","photo_folders"));Fo(a,vY)};f.lw=function(){this.Th()};
f.P5=function(a,b){function c(){e&&d.view.Rr.addClass("uploadsFolderItemCloneOverTarget").removeClass("uploadsFolderItemCloneNotOverTarget")}var d=this;wY(this,a,b);var e=tY(this,a,b);e!==this.PE&&(this.PE&&this.view.Rr.addClass("uploadsFolderItemCloneNotOverTarget").removeClass("uploadsFolderItemCloneOverTarget"),this.PE=e,this.bL&&clearTimeout(this.bL),this.bL=setTimeout(c,300))};f.S5=function(a){this.PO&&this.trigger("dragScroll",a)};
f.Kn=function(a,b){function c(){xY(e.view,"uploadsFolderItemCloneDropping");d.$el.toggleClass("uploadsFolderDroppedOn",!0);setTimeout(function(){d.$el.toggleClass("uploadsFolderDroppedOn",!1)},500)}var d,e=this,g=this.PO,h=this.TX,k=this.SX;wY(this,-1,-1);this.PO=this.SX=this.TX=this.PE=void 0;a=(d=tY(this,a,b))&&d.model;g&&a&&a!==k&&!uY(e,a)?(c(),h.moveItem(g,a,!0)):e.wq||xY(this.view,"uploadsFolderItemCloneHidden")};f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;
f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.Th=function(){var a;this.NV=void 0;this.kg&&(gW(this.ka,this.kg.$el),this.X3=this.kg.Nl,this.kg=void 0,yY(this)||this.Cx());this.wq&&(a=this.vc(this.wq),this.av.remove(),this.av=void 0,zY(this,a).close(),this.wq=void 0,AY(this.view,!1))};
f.MT=function(a){var b=jY,c=a.Oa()===this.ma,d=!!a.qe();a=new b({Ni:!0,ty:c&&!d,Qb:this.Qb,model:a,J:lc(this.i),zi:!a.qe(),H:this.H});this.listenTo(a,{click:this.lO,drop:this.wR,infoClick:this.d6,rename:this.R8});a.render().show();return a};f.kK=function(a){var b;b=a.getName();b=(new uk).Rt(b);b.type="MEDIA";b=b.Tt(this.ma);this.gc.kK(b).then(this.b6.bind(this,a)).catch(this.c6.bind(this,a))};
f.lK=function(a){function b(b,d,h,k){return new SX({Qa:c.Qa,W:c.W,Va:a,kr:c.Fp().filter(function(a){return BY(c,a)}),gc:c.gc,ac:c.ac,J:lc(c.i),Qr:nc(c.i),Z:c.Z,Lt:c.Lt,Wf:c.Wf,ma:c.ma,disabled:uY(c,a),Rh:c.Rh,pF:b,Uo:d,zi:h,cl:k})}var c=this,d;switch(a){case ak:d=new wX({Qa:c.Qa,fl:c.fl,J:lc(c.i),If:c.W.G.get(ig)});break;case bk:d=b(new PX({Qa:this.Qa,ac:this.ac}),!0,!0);this.listenTo(d,{trash:c.RG,pickedUp:c.nX.bind(c,d,a),disabled:c.jX.bind(c,a)});break;case ck:d=b(new QX({Qa:this.Qa,Ii:this.Ii,
LR:"/media/unlimited_use_purchases"}),!1,!1,lc(this.i).format("objectPanelUploadsPanelPurchasedUnlimitedUseFolderEmpty"));break;default:d=b(new RX({Qa:this.Qa,gc:this.gc,Va:a}),!0,!0),this.listenTo(d,{trash:c.RG,pickedUp:c.nX.bind(c,d,a),disabled:c.jX.bind(c,a)}),c.uz&&ZX(d)}d.fetch();d.render();return d};
f.fetch=function(a){if(!this.Zh&&!this.sA&&this.VN)if(this.dl){var b=sk((new rk).xj(this.Y),["MEDIA"]);b.includeSystemFolders=!0;b.includeThumbnails=!0;a=b.Tt(this.ma).Tg(a||25);this.Zh=!0;this.view.Rg(!0);this.gc.TU(a).bind(this).then(this.i6).catch(this.j6)}else this.vc(bk.u())||CY(this,bk),this.vc(ck.u())||CY(this,ck),this.vc(ak.u())||CY(this,ak),this.VN=!1,this.view.Rg(!1),this.trigger("fetch")};f.Ez=function(a){a=this.ka.wL(a);isFinite(a)?this.fetch(a):this.fetch(25)};
f.vc=function(a){return this.Fp().filter(function(b){return b.u()===a})[0]};f.Fp=function(){return this.dj.map(function(a){return a.model})};f.ql=function(){return this.ka.ql()};f.qe=function(a){return this.Fp().filter(function(b){return(b=b.qe())&&b===a})[0]};
function yY(a){function b(){var a=zY(h,ak);return!a||g.eq(2).is(a.$el)||g.eq(3).is(a.$el)}function c(a){return a.childNodes.length}function d(){var a=h.qe("UNFOLDERED"),a=a&&zY(h,a);return!a||g.eq(1).is(a.$el)||g.eq(2).is(a.$el)}function e(){var a=h.qe("LOGOS"),a=a&&zY(h,a);return!a||g.eq(1).is(a.$el)}var g=a.ka.Bf(),h=a;return function(){var a=h.ka.$el.find(".uploadsLayoutColumn").get().map(c),b=[].concat(a).sort().reverse();if(b=_.isEqual(a,b))b=2>Math.max.apply(Math,a)-Math.min.apply(Math,a);return b}()&&
b()&&(!h.rq||g.first().is(h.rq.$el))&&d()&&e()}f.getElement=function(){return this.view.$el};function zY(a,b){return a.dj.filter(function(a){return a.model===b})[0]}function DY(a){return a.wq?a.vc(a.wq):void 0}function uY(a,b){return _.contains(a.DE,b.u())}function BY(a,b){var c=-1!==_.values(dk).map(function(a){return a.u()}).indexOf(b.u());return!uY(a,b)&&!c}
f.lO=function(a){a.u()===this.wq?this.Th():(this.Th(),zY(this,a).open(),AY(this.view,!0),this.av=this.lK(a),this.wq=a.u(),EY(this,{Br:!1,content:this.av.getElement(),Va:a}),this.trigger("open"),this.Rh(zY(this,a).$el))};f.b6=function(a,b){b=b.vc();a=zY(this,a);a.model=b;a.Ck(!1);a.render();pY(a)};f.c6=function(a,b){a=y(zY(this,a));window.alert(this.hV(b));this.stopListening(a);this.dj.splice(this.dj.indexOf(a),1);this.ka.remove(a.$el);this.Cx()};
f.hV=function(a){return a instanceof Array&&a[0]&&"quota exceeded"==a[0].error?lc(this.i).format("objectPanelUploadsPanelCreateFolderQuotaExceededError"):lc(this.i).format("objectPanelUploadsPanelCreateFolderError")};f.d6=function(a){var b=a.u()===this.NV;this.Th();b||(this.NV=a.u(),b=(new DX({Va:a,i:this.i,ma:this.ma,If:this.W.G.get(ig)})).render(),b.on("trash",this.y$.bind(this,a)),EY(this,{Br:!0,content:b.$el,Va:a}),this.Rh(this.kg.getContent(),!0))};
f.f6=function(a){var b;b=this.vc(a.u());b=zY(this,b);b.model=a;b.render()};f.i6=function(a){var b=a.Fp();b.length&&FY(this,b);this.vc(ak.u())||CY(this,ak);this.vc(ck.u())||CY(this,ck);this.dl&&this.rq&&this.ka.push(this.rq.$el);this.Y=a.Kb();this.Zh=!1;this.VN=!!this.Y;this.Cx();this.view.Rg(!1);this.trigger("fetch")};f.j6=function(){this.Zh=!1;this.sA=!0;this.view.Rg(!1);this.view.Ht(!0)};f.jX=function(a,b){b?this.DE.push(a.u()):this.DE=_.without(this.DE,a.u())};f.RG=function(a){this.Lt.push(a)};
f.nX=function(a,b,c,d){this.TX=a;this.SX=b;this.PO=c;this.view.Rr=d};f.v6=function(){this.Th();this.Cx()};f.K6=function(){var a=this,b;b=function(){var b;b=Uj({name:Sd(lc(a.i)),user:a.ma});b=a.MT(b);b.$el.addClass("uploadsFolderTransparent");a.dj.push(b);a.ka.push(b.$el);b.Ck(!0);nY(b,!0);return b}();this.Rh(b.$el).then(function(){b.PS()});U&&U.track("new_upload_folder")};f.XG=function(){this.ka.ab()};f.uX=function(){var a,b;b=(a=this.dl?this.qe("UNFOLDERED"):bk)&&a.u()===this.wq;a&&!b&&this.lO(a)};
function CY(a,b){b=new jY({Ni:!1,ty:!1,Qb:a.Qb,model:b,J:lc(a.i),zi:!1,H:a.H});a.listenTo(b,"click",a.lO);b.render().show();a.dj.push(b);a.ka.push(b.$el)}function FY(a,b){b=b.map(a.MT,a);a.dj=a.dj.concat(b);b=$(b.map(function(a){return a.el}));a.ka.push(b)}f.remove=function(){$(window).off("resize",this.XG);this.stopListening();this.view.remove()};
f.R8=function(a,b){var c,d;c=a.Ky({name:b});d=zY(this,a);d.model=c;d.render();nY(d,!1);a.u()?(b=(new fk).Ek(Sg(a)).Rt(b),this.gc.qR(b).catch(this.f6.bind(this,a))):this.kK(c)};f.render=function(){this.rq&&this.rq.render();this.view.render();this.view.$el.prepend(this.ka.$el);var a=this.view;a.zo&&a.$el.prepend(a.P$({folderUpgradePrompt:a.J.format("objectPanelUploadsPanelFolderUpgradePrompt"),learnMoreButtonLabel:a.J.format("objectPanelUploadsPanelLearnMoreButtonLabel")}));return this};
function wY(a,b,c){a.dj.forEach(function(a){uY(this,a.model)||a.$el.toggleClass("uploadsFolderDropping",mY(a,b,c))}.bind(a))}f.show=function(){$(window).on("resize",this.XG)};function EY(a,b){var c=b.Va===ak,d=zY(a,b.Va).$el;a.kg=(new XX({Ni:!c,Br:b.Br,content:b.content,J:lc(a.i),Nl:a.X3,target:d})).render();a.kg.on({close:a.Th,drop:a.wR.bind(a,b.Va)},a);fW(a.ka,d,a.kg.$el);a.kg.show()}
f.Cx=function(){function a(){var a=e.qe("LOGOS");if(a=a&&zY(e,a))g.splice(g.indexOf(a.el),1),g.unshift(a.el)}function b(){var a=zY(e,ak);a&&(g.splice(g.indexOf(a.el),1),g.unshift(a.el))}function c(){var a=zY(e,ck);a&&(g.splice(g.indexOf(a.el),1),g.unshift(a.el))}function d(){var a=e.qe("UNFOLDERED");if(a=a&&zY(e,a))g.splice(g.indexOf(a.el),1),g.unshift(a.el)}var e=this;if(this.dl&&!this.kg){var g=this.ka.Bf().detach().toArray();b();c();d();a();g.splice(g.indexOf(e.rq.el),1);g.unshift(e.rq.el);this.ka.push($(g))}};
f.y$=function(a){function b(){var b=a.itemCount,d=lc(c.i);return window.confirm(d.format("objectPanelUploadsPanelTrashFolderConfirmation",b))}var c=this,d;0<a.itemCount&&!b()||(this.Th(),d=hk((new fk).Ek(Sg(a))),P.settle([this.gc.qR(d),zY(c,a).Qx(!0).bind(c).then(c.Cx)]).then(function(b){b[0].isFulfilled()?(b=zY(this,a),b.remove(),this.stopListening(b),this.dj.splice(this.dj.indexOf(b),1)):(zY(this,a).Qx(!1),this.Cx())}.bind(this)))};
f.wR=function(a,b,c){this.W.G.get(ig)&&(BY(this,a)?this.Qa.CI(a,b,c||"drop"):uY(this,a)||0<b.length&&this.Qa.Wy(a,c||"drop").upload(b))};function rY(){}rY=Backbone.View.extend({className:"uploadsFolders"});rY.prototype.initialize=function(a){this.Ri=new VV;this.Rr=$();this.J=a.J;this.root=a.root||$(window);this.zo=a.zo};rY.prototype.events=function(){return{mousedown:this.Ps,"click .folderUpgradeCta .buttonLearnMore":this.v5}};rY.prototype.v5=function(){this.trigger("folderUpgradeCta")};rY.j0=50;rY.y0=100;rY.z0=5;f=rY.prototype;
f.Ps=function(a){function b(){function b(a){var h=a.clientX;a=a.clientY;d.trigger("drag",h,a);h<rY.j0?(e||d.trigger("close"),e=!0,d.trigger("dragScroll",0)):h>g?d.trigger("dragScroll",0):Math.abs(l-a)>rY.z0?d.trigger("dragScroll",c(h,a)):d.trigger("dragScroll",0);return!1}function k(a){d.root.off("mousemove",b);d.root.off("mouseup",k);d.trigger("dragScroll",0);d.trigger("drop",a.clientX,a.clientY)}var l=a.clientY;d.root.on("mousemove",b);d.root.on("mouseup",k);return!1}function c(a,b){var c;c=rY.y0;
b=new V(a,b,0,0);a=d.$el.parent(".scrollPane").get(0).getBoundingClientRect();var e=Wg(a);a=b.w()-(e.w()+c);c=b.wa()-(e.wa()-c);return 0>a?Math.max(Math.floor(a/10),-10):0<c?Math.min(Math.ceil(c/10),10):0}var d=this,e=!1,g=this.el.getBoundingClientRect().right;return function(){var b=0<$(a.target).parents(".uploadsFolderItemMovable").length,c=$(a.target).hasClass("uploadsFolderItemMovable");return a.which==O.Kh||!(c||b)}()||b()};f.render=function(){this.Ri.render();this.$el.append(this.Ri.$el);return this};
function xY(a,b){var c;c=a.Rr.clone();c.removeClass().addClass(b);b=a.Rr.get(0).getBoundingClientRect();c.css("top",b.top+"px").css("left",b.left+"px").css("width",b.width+"px").css("height",b.height+"px");$("body").append(c);a.Rr.remove();a.Rr=$();setTimeout(function(){c.remove()},500)}f.Rg=function(a){a?this.Ri.show():this.Ri.hide()};f.Ht=function(a){var b=this.$(".uploadsFoldersError");a?1>b.length&&this.$el.append(this.aF({message:this.J.format("objectPanelUploadsPanelFoldersFetchError")})):b.remove()};
function AY(a,b){a.$el.toggleClass("uploadsFoldersFolderOpen",b)}f.aF=_.template('\x3cp class\x3d"uploadsFoldersError"\x3e\x3c%- message %\x3e\x3c/p\x3e');f.P$=_.template('\x3cdiv class\x3d"folderUpgradeCta"\x3e\x3cspan class\x3d"folderUpgradePrompt"\x3e\x3c%- folderUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');function XX(){}XX=Backbone.View.extend({className:"inlineContent"});XX.s0=14.14;f=XX.prototype;f.events=function(){return{"click .inlineContentClose":this.trigger.bind(this,"close"),drop:this.Kn}};f.initialize=function(a){this.Ni=a.Ni;this.QS=!1;this.Br=!!a.Br;this.content=a.content;this.J=a.J;this.Nl=a.Nl;this.target=a.target};f.getContent=function(){return this.content};
f.Kn=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}b&&b.length&&this.Ni&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",b))};
function GY(a){function b(){var a=XX.s0/2,b=d.target.offset().left+d.target.outerWidth()/2,e=d.$el.offset().left;c(b-e-a)}function c(a){d.Nl=a;e.css("transform","translateX("+a+"px) rotate(-45deg)")}var d=a,e;e=a.$(".inlineContentPointer");e.addClass("doNotTransition");void 0!==a.Nl?c(a.Nl):b();window.setTimeout(function(){e.removeClass("doNotTransition");b()},O.Ec)}
f.render=function(){this.$el.html(this.template(this.si()));this.$el.toggleClass("inlineContentAppearing",!this.QS);this.$(".inlineContentContent").append(this.content);return this};f.si=function(){return{closeButton:this.Br,closeTitle:this.J.format("objectPanelUploadsPanelInlineContentCloseTitle")}};f.show=function(){this.QS=!0;GY(this);HY(this)};
function HY(a){var b;P.try(function(){a.$el.height("auto");b=a.$el.height();a.$el.height(0)}).delay(O.Ec).then(function(){a.$el.removeClass("inlineContentAppearing");a.$el.height(b)}).delay(200).then(function(){a.$el.addClass("doNotTransition");a.$el.height("")}).delay(O.Ec).then(function(){a.$el.removeClass("doNotTransition")})}f.template=_.template('\x3cdiv class\x3d"inlineContentPointer"\x3e\x3c/div\x3e\x3c% if (closeButton) { %\x3e\x3ca class\x3d"inlineContentClose" href\x3d"#" title\x3d"\x3c%- closeTitle %\x3e"\x3e\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"inlineContentContent"\x3e\x3c/div\x3e');function xX(){cW.call(this,{Zg:function(a){return Math.floor(a/90)},ym:"uploadsLayoutColumn"});this.listenTo(this,{afterSplit:this.Q0,beforeMerge:this.W0,beforeSplit:this.X0})}xX.prototype=Object.create(cW.prototype);xX.prototype.Q0=function(a,b){b.addClass("doNotTransition");b.each(function(b,d){d=$(d);d.css("margin-top",IY(a.eq(b))-d.offset().top)}.bind(this));b.height();b.removeClass("doNotTransition");setTimeout(function(){a.children().add(b).add(b.children()).css("margin-top","")},O.Ec)};
xX.prototype.X0=function(a){JY(a.children())};function IY(a){function b(a){return a.offset().top+a.outerHeight()}return a.children().length?b(a.children().last()):b(a)}function JY(a){var b=a.get().map(function(a){return window.getComputedStyle(a)});a.each(function(a,d){d.style.marginTop=d.previousSibling?Math.max(parseInt(b[a-1].marginBottom,10)||0,parseInt(b[a].marginTop,10)||0)+"px":(parseInt(b[a].marginTop,10)||0)+"px"})}
xX.prototype.W0=function(a,b){var c;c=b.children();c.addClass("doNotTransition");JY(c);(function(){return b.get().map(function(a){return a.firstChild})})().forEach(function(b,c){b&&(b=$(b),b.css("margin-top",b.offset().top-IY(a.eq(c))).addClass("closing-transition").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).removeClass("closing-transition")}))}.bind(this));c.height();c.removeClass("doNotTransition");setTimeout(function(){c.css("margin-top",
"")},O.Ec)};function sY(){}sY=Backbone.View.extend({className:"newUploadsFolder"});f=sY.prototype;f.events=function(){return{click:this.trigger.bind(this,"click")}};f.initialize=function(a){this.i=a.i};f.PS=function(){this.$el.addClass("newUploadsFolderAppearing");setTimeout(function(){this.$el.removeClass("newUploadsFolderAppearing")}.bind(this),450)};f.render=function(){var a=lc(this.i);this.$el.html(this.template({label:a.format("objectPanelUploadsPanelNewFolderButtonLabel")}));return this};f.template=_.template('\x3cdiv class\x3d"newUploadsFolderThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"newUploadsFolderLabel"\x3e\x3c%- label %\x3e\x3c/div\x3e');function JM(a){this.Qa=a.Qa;this.Nu=0;this.element=$("\x3cdiv\x3e").addClass("layer scrollPane uploadsPanel");this.Tc=a.Tc;this.Vc=new qY({Qb:a.Qb,Qa:a.Qa,uz:a.uz,dl:a.dl,fl:a.fl,W:a.W,gc:a.gc,Ii:a.Ii,ac:a.ac,i:a.i,Z:a.Z,Wf:a.Wf,ma:a.ma,H:a.H,Rh:this.Rh.bind(this),Tc:this.Tc,lK:a.lK});this.Vc.on({fetch:this.PJ,open:this.e6,dragScroll:this.h6},this);this.Vc.once("fetch",this.Vc.uX,this.Vc);this.nW=-1;a.W.G.get(ig)&&this.listenTo(a.N2,{dragenter:this.T5,dragleave:this.U5,drop:this.V5})}f=JM.prototype;
f.listenTo=Backbone.Events.listenTo;f.h6=function(a){a!==this.Nu?(this.Nu=a,this.JH&&clearInterval(this.JH),0!==this.Nu&&(this.JH=setInterval(this.b8.bind(this),10))):0===a&&this.JH&&clearInterval(this.JH)};
f.Rh=function(a,b){var c=this.element.height(),d=iW(this.nt,a,{QM:!0}),e=c+d-a.outerHeight(!0);a=c/3;var g=null;this.element.find(".closing-transition").each(function(a,b){a=parseInt(b.style.marginTop,10)-10;if(iW(this.nt,$(b),{QM:!0})<d&&0<a)return e-=a,d-=a,!1}.bind(this));if(b&&0<d)g=this.element.scrollTop()+d+10;else if(!b&&e>a||0>e)g=this.element.scrollTop()+e-a;return new P(function(a){null!==g?this.element.animate({scrollTop:g},200,"linear",a):a()}.bind(this))};
f.PJ=function(){var a=this.Vc.av,b=a&&a.ql();a&&a.ss()&&b&&800>iW(this.nt,b)&&0===this.Nu?this.Vc.av.Ez(800):(a=this.Vc.ql())&&800>iW(this.nt,a)&&this.Vc.Ez(800)};f.getElement=function(){return this.element};f.T5=function(){var a=DY(this.Vc);a&&a!==ak&&a!==ck||this.Vc.uX();this.element.addClass("uploadsPanelDropTarget")};f.U5=function(){KY(this)};function KY(a){a.element.removeClass("uploadsPanelDropTarget")}f.e6=function(){this.Vc.av.on("fetch",this.PJ,this)};
f.Y6=function(){var a=this.nt.yp.scrollTop();a>this.nW&&this.PJ();this.nW=a};f.b8=function(){var a=1*this.element.scrollTop();(function(){return 0===a&&0>this.Nu})()||this.element.scrollTop(a+this.Nu)};f.render=function(){this.Vc.getElement().appendTo(this.element);this.Vc.render();return this};
f.show=function(){var a=Number(this.element.height()),b=800;isNaN(a)||(b+=a);var a=this.element,a=$(a),c=a.data("CANVA_SCROLL_TARGET");c||(c=new hW(a),c.rG(),a.data("CANVA_SCROLL_TARGET",c));this.nt=c;this.nt.on("scroll",this.Y6,this);this.nt.rG();this.Vc.show();this.Vc.Ez(b)};f.V5=function(a){KY(this);var b=this.Vc,c=DY(b);c&&b.wR(c,a,"drop")};function MX(){}MX=Backbone.View.extend({className:"uploadProgressBar"});MX.prototype.initialize=function(){this.vh=0};MX.prototype.render=function(){this.$el.html(this.template());OX(this,this.vh);return this};function OX(a,b){var c;c=a.$(".uploadProgressBarFill");c.css("transform","translateX("+Math.max(c.height()/a.$el.width()*100,b)+"%)");a.vh=b}MX.prototype.template=_.template('\x3cdiv class\x3d"uploadProgressBarFill"\x3e\x3c/div\x3e');function LM(a){this.$el=$('\x3cdiv class\x3d"uploadProgressPorthole"\x3e\x3cdiv class\x3d"uploadProgressPortholeFill"\x3e\x3c/div\x3e\x3c/div\x3e');this.root=a.root;this.root.append(this.$el);this.TO=this.Wn=0;this.Ix=Date.now();this.UZ=0;this.Wf=a.Wf;this.sf=a.sf}f=LM.prototype;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.start=function(){this.Ix=Date.now()-100;this.stopListening(this.Wf);this.listenTo(this.Wf,{create:this.iI,fail:function(a){LY(this,a,this.sf)}})};f.iI=function(){this.TO=setTimeout(this.gW.bind(this),50)};
f.gW=function(){function a(){var a=Math.random();.025>a&&(c.$el.addClass("showRubberDucky"),.005>a&&c.$el.addClass("showNautilus"),setTimeout(function(){c.$el.removeClass("showRubberDucky showNautilus")},9E3))}var b=KL(this.Wf,this.Ix),c=this;clearTimeout(this.UZ);clearTimeout(this.TO);this.root.addClass("showUploadsProgressPorthole");100===b?this.finish():(this.Wn=Math.round(.7*b+.05),MY(this),a(),this.TO=setTimeout(this.gW.bind(this),1E3))};
f.finish=function(){var a=this;this.UZ=setTimeout(function(){a.Ix=Date.now()-2E3-100;a.Wn=100;MY(a);setTimeout(a.reset.bind(a),1100)},2E3)};function LY(a,b,c){var d=a.$el.find(".uploadProgressPortholeFill");d.addClass("uploadProgressPortholeFillFailure");setTimeout(function(){d.removeClass("uploadProgressPortholeFillFailure")},650);b&&EL.show(b,c)}
function MY(a){var b=a.$el.find(".uploadProgressPortholeFill"),c="translateY("+(100-a.Wn)+"%)";b.css("transform",c+" rotate(2deg)");setTimeout(function(){b.css("transform",c+" rotate(-2deg)")},1050);setTimeout(function(){b.css("transform",c)},2100)}f.reset=function(){this.Wn=0;this.Ix=Date.now();this.root&&this.root.removeClass("showUploadsProgressPorthole");MY(this)};f.remove=function(){this.reset();this.stopListening(this.Wf);this.$el.remove()};function NY(a){var b=this;hc.call(this,a);a.on("click",".searchMenu__toggle",function(){return b.trigger(OY)})}r(NY,hc);function PY(){var a=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"searchMenu"\x3e\x3cdiv class\x3d"select searchMenu__toggle"\x3e\x3c/div\x3e\x3c/div\x3e').toString());return new NY(a)}var OY="SHOW_OVERLAY";
function QY(a){var b=this;hc.call(this,a);a.on("click",".searchMenu__item",function(a){return b.kO(a)});a.on("click",".searchMenu__freeFilterCta",function(){return b.trigger(RY)})}r(QY,hc);QY.prototype.kO=function(a){a=$(a.target).closest(".searchMenu__item").data("filterType");this.trigger(SY,a)};var SY="FILTER_CHANGE",RY="FREE_FILTER_CTA";function TY(a){qz.call(this,{className:"searchMenuPopOver",content:a.content,ux:!1,position:xp})}r(TY,qz);TY.prototype.Jp=function(){return rX};var UY=new Ff("gd",!1);function VY(a,b,c){var d=this;this.Vl=a.Vl;this.view=b;this.i8=c;this.Fq=this.Eq=null;this.KL=a.KL;this.aC="NONE";this.WD=a.WD;this.anchor=a.anchor;this.j=a.j;this.view.on(OY,function(){WY(d);d.Eq.yi(d.anchor)})}
function EM(a){var b=PY();return{Bb:XY(a,b,function(b){var d=[],e;d.push({type:"NONE",label:a.Vl.format("searchMenuMostRelevant"),xf:!1});a.G.get(UY)?d.push({type:"FREE",label:a.Vl.ai(),xf:!0}):(e=a.Vl.Ga("searchMenuFreeFilterCtaHtml",4E5),d.push({type:"FREE_CTA",label:a.Vl.ai(),xf:!0,disabled:!0}));var g=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"selectedFilterType",b,"string|goog.soy.data.SanitizedContent");d=goog.asserts.assertArray(d,"expected parameter 'filters' of type list\x3c[crownTag: bool|null, label: string, selected: bool|null, type: string]\x3e.");
soy.asserts.assertType(null==e||e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"footerCta",e,"?soydata.SanitizedHtml|string|undefined");for(var h='\x3cdiv class\x3d"searchMenu__overlay"\x3e\x3cdiv class\x3d"selectMenu"\x3e',k=d.length,l=0;l<k;l++){var m=d[l],n,p=m.type==b,q=m.xf;n=m.label;m=m.type;soy.asserts.assertType(null==p||goog.isBoolean(p)||1===p||0===p,"selected",p,"boolean|null|undefined");soy.asserts.assertType(null==q||goog.isBoolean(q)||1===
q||0===q,"crownTag",q,"boolean|null|undefined");soy.asserts.assertType(goog.isString(n)||n instanceof goog.soy.data.SanitizedContent,"label",n,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(m)||m instanceof goog.soy.data.SanitizedContent,"type",m,"string|goog.soy.data.SanitizedContent");n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu__item searchMenu__item'+(p?" searchMenu__item--selected":"")+'" data-filter-type\x3d"'+soy.$$escapeHtmlAttribute(m)+
'"\x3e'+soy.$$escapeHtml(n)+(q?rp({za:"searchMenu__crown",color:"#3f4652"}):"")+"\x3c/div\x3e");h+=n}h+=(e?'\x3cdiv class\x3d"searchMenu__footerCta"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+"\x3c/div\x3e\x3c/div\x3e";b=soydata.VERY_UNSAFE.ordainSanitizedHtml(h);g=g(b.toString());g=new QY(g);b=new TY({content:g.$el});return{Fq:g,Eq:b}}),view:b}}function XY(a,b,c){return new VY(a,b,c)}
function YY(a){return X(X(X(X(new Zl("filter_changed"),"section","editor"),"subsection","object_panel"),"location","search_menu"),"type",a)}VY.prototype.kO=function(a){if("FREE_CTA"===a)this.Eq.cancel(),this.WD();else{this.aC=a;var b=this.Fq,c=this.aC;b.$el.find(".searchMenu__item--selected").removeClass("searchMenu__item--selected");b.$el.find('.searchMenu__item[data-filter-type\x3d"'+c+'"]').addClass("searchMenu__item--selected");this.Eq.cancel();this.KL();this.j.va(YY(a.toString()))}};
function WY(a){var b=a.i8(a.aC),c=b.Eq,d=b.Fq;a.Fq=d;a.Eq=c;a.Fq.on(SY,function(b){return a.kO(b)});a.Fq.on(RY,function(){a.Eq.cancel();a.WD()});a.Eq.once("remove",function(){d.remove();a.Fq===d&&(a.Fq=null)})};function GM(){}GM=Backbone.View.extend({});GM.prototype.events=function(){return{"click .searchFilterMediaTypeOption__link":this.E3}};GM.prototype.initialize=function(a){var b=this,c=new DP;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new AM(new LP);c.Hk(d);this.lG=new YW({model:c,el:this.$(".layer"),i:a.i});c=new RW({model:d,el:this.$(".browseCategories"),i:a.i});this.lG.ee.push(c);!a.el&&this.render()};GM.prototype.js=function(){return this.$el.find(".searchFilterMediaTypeOption--selected").data("mediaTypes")};
GM.prototype.E3=function(a){this.$el.find(".searchFilterMediaTypeOption").removeClass("searchFilterMediaTypeOption--selected");$(a.target).closest(".searchFilterMediaTypeOption").addClass("searchFilterMediaTypeOption--selected");this.trigger("searchFilterMediaType")};function IM(){}IM=Backbone.View.extend({});
IM.prototype.initialize=function(a){var b=this,c=new DP;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new AM(new LP);c.Hk(d);this.lG=new YW({model:c,el:this.$(".layer"),i:a.i});c=new RW({model:d,el:this.$(".browseCategories"),i:a.i});this.lG.ee.push(c);this.lG.on("folder:expand",function(a){b.trigger("folder:expand",a)});!a.el&&this.render();a.L9&&(c=$('\x3cspan class\x3d"badgeContainer"\x3e'),d=$("\x3cspan\x3e").addClass("newFeatureLabel").text(sd(a.i).Jn()),c.append(d),
this.$("a[data-query\x3dcharts]").append(c));a=ZY({label:$d(lc(a.i))});a=$('\x3cspan class\x3d"badgeContainer"\x3e').append($(a.toString()));this.$("a[data-crowntag\x3dtrue]").append(a)};function $Y(a){var b=this;this.af=a.af||$(document);this.Se=a.Se||$("body");this.VF=function(){return b.hide()};this.element=null;this.yx=!1}f=$Y.prototype;f.show=function(){this.element||(this.element=$("\x3cdiv\x3e"),this.element.css("height","100%").css("left","0").css("position","fixed").css("top","0").css("width","100%").css("z-index","1000").css("opacity","0"));this.element.on("click",this.VF);this.Se.append(this.element);this.af.on("keydown",this.VF);this.yx=!0};
f.hide=function(){this.yx&&(this.yx=!1,this.element.off("click",this.VF),this.element.remove(),this.trigger("close"),this.af.off("keydown",this.VF));return!1};f.remove=function(){this.hide();this.element&&this.element.remove()};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;var dN="contextTipRoyaltyFreeFolder";function aZ(a){var b=this;this.af=a.af;this.Se=a.Se;this.Ry=a.Ry;this.bd=a.bd;this.GY=function(){return b.remove()};this.width=a.width;this.style=a.style;this.Dn=new $Y({af:this.af,Se:this.Se});this.Dn.on("close",this.GY);this.element=null}
function bZ(a){switch(a.key){case dN:return new aZ({af:a.af,Se:a.Se,Ry:a.i.format("unlimitedUseFolderContextTipContentText"),bd:a.i.format("unlimitedUseFolderContextTipButtonText"),width:215,style:"contextTipOnboarding"});case "contextTipRoyaltyFreePaymentOption":return new aZ({af:a.af,Se:a.Se,Ry:a.i.format("royaltyFreePaymentOptionContextTipContentText"),bd:a.i.format("royaltyFreePaymentOptionContextTipButtonText"),width:215,style:"contextTipOnboarding"});default:throw Error('Unknown ContextTipKey "'+
a.key+'" when creating ContextTip');}}f=aZ.prototype;
f.qx=function(a,b,c){c=void 0===c?!0:c;var d=this,e=$('\x3cspan class\x3d"contextTipContent"\x3e').text(this.Ry),g=$('\x3cbutton class\x3d"button buttonBlock contextTipButton"\x3e').text(this.bd),h=this.createElement();g.on("click",function(){return d.remove()});this.Dn.show();h.empty().append(e).append(g).appendTo(this.Se).css("width",this.width).css("left",a).css("top",c?b-h.height()/2:b).removeClass("contextTipOff").addClass("contextTipOn");return new P(function(a){return d.on("remove",a)})};
f.remove=function(){var a=this;this.Dn.remove();this.Dn.off("close",this.GY);if(this.element)this.element.removeClass("contextTipOn").addClass("contextTipOff").on("animationend",function(){return a.element.remove()});this.trigger("remove")};f.createElement=function(){this.element||(this.element=$('\x3cdiv class\x3d"contextTip"\x3e'),this.element.addClass(this.style));return this.element};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function cZ(a){this.Z=a.Z;this.i=a.i;this.Ok=a.Ok;this.fE=a.fE;this.root=a.root;this.aE=null;this.Mt={};this.$O=new Map}cZ.prototype.start=function(){Lw(this.Z).bind(this).tap(this.KZ).then(this.vZ);return this};function cN(a,b,c){-1!==a.Ok.indexOf(b)&&a.$O.set(b,c)}function dZ(a,b){return-1!==a.Ok.indexOf(b)&&!1===a.Mt[b]?eZ(a,b):P.resolve()}function fZ(a){var b=dN;gZ(a,b).then(function(){return dZ(a,b)})}
function gZ(a,b){function c(){return!0!==this.Mt[b]?(this.Mt[b]=!1,Mw(this.Z,b,!1)):P.resolve()}return a.Mt.hasOwnProperty(b)?c.call(a):Lw(a.Z).bind(a).tap(a.KZ).then(c)}cZ.prototype.vZ=function(){var a=this,b=hZ(this);this.aE&&this.aE.remove();b&&eZ(this,b).then(function(){return a.vZ()})};function hZ(a){for(var b=0;b!==a.Ok.length;b++)if(!1===a.Mt[a.Ok[b]])return a.Ok[b];return null}cZ.prototype.KZ=function(a){this.Mt=a};
function eZ(a,b){var c=a.Ok.indexOf(b);if(0<=c){a.aE=a.fE(b);var d=iZ(a,b);if(d)return jZ(a,b).then(function(){return a.aE.qx(d.x,d.y)});a.Ok.splice(c,1)}return P.resolve()}function jZ(a,b){a.Mt[b]=!0;return Mw(a.Z,b,!0)}function iZ(a,b){return a.$O.has(b)&&(a=a.$O.get(b))?a():null};function eY(a){this.af=a.af||$(document);this.items=[];this.Se=a.Se||$("body");this.title=a.title;this.view=this.rK();this.Dn=new $Y({af:this.af,Se:this.Se});this.Dn.on("close",this.remove.bind(this))}f=eY.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.rK=function(){var a=new kZ;a.on("toggle",this.Tf.bind(this));return a};f.remove=function(){var a=this.view;this.Dn.hide();a.hide();setTimeout(function(){a.remove()},300)};
function fY(a,b){a.items=b;a.view.render({items:a.items,title:a.title})}f.qx=function(a,b){this.Dn.hide();this.Se.append(this.view.getElement());this.Dn.show();this.view.qx(a,b)};f.Tf=function(a){var b=this.items.filter(function(b){return b.title===a})[0];this.remove();b&&this.trigger("change",b.id,!b.eR)};function kZ(){}kZ=Backbone.View.extend({className:"contextMenu"});f=kZ.prototype;f.events=function(){return{"click .contextMenuItem":this.n6}};f.getElement=function(){return this.$el};f.hide=function(){var a=this.$el;a.removeClass("contextMenuOn").addClass("contextMenuOff");setTimeout(function(){a.css("left","-9999em").css("top","-9999em")}.bind(this),400)};f.n6=function(a){this.trigger("toggle",$(a.target).text())};
f.render=function(a){var b=this.$el,c=$('\x3cstrong class\x3d"contextMenuInfo"/\x3e').text(a.title),d=$('\x3cul class\x3d"contextMenuItems"/\x3e');a.items.forEach(function(a){var b=$('\x3cli class\x3d"contextMenuItem"/\x3e').text(a.title);a.eR&&b.addClass("contextMenuItemTicked");d.append(b)});b.empty().append(c).append(d);return this};f.qx=function(a,b){this.$el.css("left",a).css("top",b).removeClass("contextMenuOff").addClass("contextMenuOn")};function lZ(){}lZ=Backbone.View.extend({className:"dropdownPane"});lZ.prototype.initialize=function(){this.once("show",this.render)};lZ.prototype.show=function(){this.$el.hasClass("focus")||(this.trigger("show",this),this.$el.siblings().removeClass("focus"),this.$el.addClass("focus"))};function mZ(){}mZ=qz.extend({className:"dropdownMenuPopoverContainer"});f=mZ.prototype;f.initialize=function(a){qz.prototype.initialize.call(this,_.defaults(a,{Mf:{top:-4}}));this.Rn=[];this.Ro=null;this.on("show",this.J9);this.on("remove",this.M8)};f.render=function(){qz.prototype.render.call(this);this.$("h2, .buttonContainer").remove();var a=this.$(".content");this.Rn.forEach(function(b){b.$el.appendTo(a)});return this};
f.bu=function(a){this.listenTo(a,"show",this.y9);this.listenTo(a,"show",this.Nq);this.listenTo(a,"resize",this.Nq.bind(this,a));this.Rn.push(a)};f.Nq=function(a){var b=window.innerHeight-108,c=a.$el.hasClass("focus");c&&a.$el.removeClass("focus");var d=a.$el.prop("offsetHeight");c&&a.$el.addClass("focus");this.$(".content").css("height",Math.min(d,b))};f.gm=function(){qz.prototype.gm.call(this);this.Ro&&this.Nq(this.Ro);return this};f.y9=function(a){this.Ro=a};f.J9=function(){0<this.Rn.length&&this.Rn[0].show()};
f.M8=function(){this.Ro=null;this.Rn.forEach(function(a){a.remove()});this.Rn.length=0};function OU(){}OU=mZ.extend({className:"dropdownMenuPopoverContainer brandPrimaryColorStyled"});f=OU.prototype;
f.initialize=function(a){mZ.prototype.initialize.call(this,a);this.um=a.um;this.document=a.document;this.W=a.W;this.oa=a.oa;this.uc=this.document.kb();this.yB=null;this.VM=this.bN=!1;this.bj=a.bj;this.PK=a.PK;this.Rk=a.Rk;this.i=a.i;this.iU=this.OK=this.Lu=null;var b=y(this.uc.u()),c=y(this.uc.getName()),d=y(this.uc.sb),e=nZ,g=this.W.G.get(Of),h=this.W.DN(),k=this.W.G.get(Xf);a=a.As;var l=this.i;l.fh||(l.fh=new de(l.config));this.SU=new e({Km:c,np:b,RK:d,pL:g,rL:h,uL:k,As:a,fh:l.fh});c=oZ;e=this.i;
e.Zk||(e.Zk=new ee(e.config));this.Yk=new c({Sk:b,Zk:e.Zk});this.cZ=d.Sj();this.qE=new pZ({BK:d.l(),yK:d.o(),AK:d.Sj(),Gm:xc(this.i)});d=qZ;c=this.i;c.rh||(c.rh=new fe(c.config));this.Gg=new d({Sk:b,rh:c.rh});this.bu(this.SU);this.bu(this.Yk);this.bu(this.qE);this.bu(this.Gg);this.listenTo(this.SU,"show",this.I$);this.XX()};
f.events=function(){var a=mZ.prototype.events.call(this);a["click .documentSaveButton"]=this.E5;a["click .documentCopyButton"]=this.k5;a["click .documentResizePaneButton"]=this.q5;a["click .documentResizeButton"]=this.o5;a["click .customDimensionsPaneButton"]=this.m5;a["keydown .customDimensionsWidth, .customDimensionsHeight"]=this.q6;a["change .customDimensionsUnits"]=this.Z4;a["click .customDimensionsResizeButton"]=this.n5;a["click .magicResizePaneButton"]=this.z5;a["change .magicResizePane input"]=
this.c5;a["click .magicResizeButton:enabled"]=this.y5;a["click .button.retry"]=this.XX;a["click .resizeUpgradeCta .buttonLearnMore"]=this.p5;return a};f.Rl=function(a,b){this.trigger("documentResizeRequested",a,b)};function rZ(a){switch(a){case "PIXELS":return"PIXELS";case "MILLIMETERS":return"MILLIMETERS";case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";default:throw Error("Unknown units "+a);}}
function sZ(a){var b=a.$(".customDimensionsUnits").prop("value"),c="PIXELS"===b?0:3,d=+parseFloat(a.$(".customDimensionsWidth").val()).toFixed(c),c=+parseFloat(a.$(".customDimensionsHeight").val()).toFixed(c),e=a.uc.sb,g=e.l(),h=e.o(),k=e.Sj(),e=!1;if(d===g&&c===h&&b==k)a.cancel();else{var g=a.$(".customDimensionsUnits").prop("value"),h=a.$(".customDimensionsWidth").val(),k=a.$(".customDimensionsHeight").val(),l=Math.floor(1E3*tZ(O.l0,g))/1E3,m=Math.ceil(1E3*tZ(O.n0,g))/1E3;null!=(g=h<m||k<m?xc(a.i).format("customDimensionsPaneDimensionUnder",
m,g):h>l||k>l?xc(a.i).format("customDimensionsPaneDimensionOver",l,g):null)?a.qE.kf(g):(a.qE.jg(),e=!0,g=new ht({width:d,height:c,units:rZ(b)}),h=lv(d,c,b),a.Rl(h,g),a.ok())}null!=U&&Ml(U,"change_design_dimension",null,null,"editor",{resize_type:"custom",new_units:b,new_width:d.toString(),new_height:c.toString(),success:e})}function uZ(a){a.yB||(a.yB=gA(O.my),a.yB.finally(function(){a.yB=null}));return a.yB}
f.XX=function(){this.p_({});sj(this.PK.N,"/documentcreationoption/expanded").get(0).then(La).then(Du).bind(this).tap(function(a){this.OK=a.OF;this.iU=_.flatten(a.OF.map(function(a){return a.options}))}).then(this.p4).catch(this.sV)};f.p4=function(){var a=[];this.OK.forEach(function(b){b.options.forEach(function(b){a.push(b.Km)})});Iu(this.bj,new Jv({tl:a})).bind(this).tap(function(a){this.Lu=a.Lu}).then(this.n8).then(this.p_).catch(this.sV)};f.p5=function(){var a=this.Rk;a.j.va(jm());Fo(a,Jo)};
f.p_=function(a){this.Yk.oQ(a);this.Ro===this.Yk&&(this.Yk.render(),this.Nq(this.Yk));this.Gg.oQ(a);this.Ro===this.Gg&&(this.Gg.render(),this.Nq(this.Gg),vZ(this))};f.sV=function(){this.Yk.pQ();this.Ro===this.Yk&&(this.Yk.render(),this.Nq(this.Yk));this.Gg.pQ();this.Ro===this.Gg&&(this.Gg.render(),this.Nq(this.Gg))};
f.I$=function(){if(!this.VM){var a=this;this.VM=!0;uZ(this).then(function(){var b=a.$(".documentCopyButton");b.prop("disabled",!1);b.removeClass("disabled");b.parent().removeAttr("title");a.VM=!1})}};function vZ(a){a.bN||(a.bN=!0,uZ(a).then(function(){var b=0<a.$(".magicResizePane input:checked").length;a.$(".magicResizeButton").prop("disabled",!b).toggleClass("disabled",!b);a.bN=!1}))}
f.E5=function(a){var b=this;a=$(a.currentTarget);a.addClass("active");a.one("animationend",function(){b.trigger("documentSaveRequested");b.ok()})};f.k5=function(){this.trigger("documentCopyRequested");this.ok()};f.q5=function(){this.Yk.show()};
f.o5=function(a){var b=this;a=$(a.currentTarget);var c=a.prop("value");a.addClass("active");a.one("animationend",function(){if(c===b.document.kb().u())b.cancel();else{var a=_.find(b.Lu,function(a){return a.u()===c}),e=_.find(b.iU,function(a){return a.Km===c});y(e.np);y(a);b.Rl(a,new gt({id:e.np,version:1}));b.ok()}});null!=U&&Ml(U,"change_design_dimension",null,null,"editor",{resize_type:"preset",resize_doctype_id:c})};f.m5=function(){this.qE.show()};f.q6=function(a){13===a.keyCode&&sZ(this)};
f.Z4=function(){var a=this.$(".customDimensionsUnits").prop("value"),b=this.$(".customDimensionsWidth").prop("value"),c=this.$(".customDimensionsHeight").prop("value");a:{c=new mv({units:this.cZ,width:b,height:c});b=Rg(c);switch(a){case "PIXELS":break a;case "CENTIMETERS":c=b.l()/96*2.54;b=b.o()/96*2.54;break;case "INCHES":c=b.l()/96;b=b.o()/96;break;case "MILLIMETERS":c=b.l()/96*25.4;b=b.o()/96*25.4;break;default:throw Error("Unknown units: "+c.Sj());}b=new mv({width:c,height:b,units:a})}c="PIXELS"===
a?0:3;this.$(".customDimensionsWidth").val(+b.l().toFixed(c));this.$(".customDimensionsHeight").val(+b.o().toFixed(c));this.cZ=a};f.n5=function(){sZ(this)};f.z5=function(){this.Gg.show();vZ(this)};f.c5=function(){vZ(this)};
f.y5=function(a){var b=[],c=this.$(".magicResizePane input:checked:enabled"),d=$(a.currentTarget);d.blur();d.prop("disabled",!0);var e=c.toArray().map(function(a){return OV(this.oa.hc(),"remix",ou(this.oa))+"?resizeTo\x3d"+encodeURIComponent(a.value)},this);this.Gg.$(".errorMessage").remove();var g=function(){var a=window.open(e.shift());a&&b.push(a);null==a?(b.forEach(function(a){a.close()}),b=[],d.prop("disabled",!1),this.FQ(),U&&Yl(U,"magic_resize")):0===e.length?(this.ok(),U&&Yl(U,"magic_resize")):
0<navigator.userAgent.indexOf("Safari")&&0<navigator.userAgent.indexOf("Version/11")?setTimeout(g,1100):g()}.bind(this);g()};f.FQ=function(){wZ.h$(this.um)?(new wZ({um:this.um,i:Kd(this.i)})).show():(this.Gg.FQ(),this.Nq(this.Gg))};f.n8=function(){var a={};this.OK.forEach(function(b){a[b.NF]=b.options.map(function(a){return{id:a.Km,displayName:a.displayName,displayDimensions:a.EK,category:b.NF}})});return a};function nZ(){}
nZ=lZ.extend({className:"dropdownPane fileMenuPane",template:_.template('\x3cheader\x3e\x3ch3 class\x3d"fileMenuPaneTitle" data-doctype\x3d"\x3c%- data.doctypeId %\x3e"\x3e\x3c%- data.doctypeName %\x3e\x3c/h3\x3e\x3cdiv class\x3d"documentDimensions"\x3e\x3c%- data.documentDimensions %\x3e\x3c/div\x3e\x3c% if (data.enableDocumentResize) { %\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizePaneButton"\x3e\x3c%- data.changeDimensionsLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% if (data.enableMagicResize) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button magicResizePaneButton"\x3e\x3c%- data.magicResizeLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% } %\x3e\x3c/ul\x3e\x3c% } else if (data.showUpgradeCta) { %\x3e\x3cdiv class\x3d"resizeUpgradeCta"\x3e\x3cspan\x3e\x3c%- data.resizeUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- data.learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/header\x3e\x3csection\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentSaveButton" data-syncstatus\x3d"\x3c%- data.lastSavedLabel %\x3e"\x3e\x3c%- data.saveLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3cli title\x3d"\x3c%- data.waitingForSaveTitle %\x3e"\x3e\x3cbutton class\x3d"button documentCopyButton disabled" disabled\x3e\x3c%- data.makeACopyLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/section\x3e',{variable:"data"})});
nZ.prototype.initialize=function(a){lZ.prototype.initialize.call(this);this.Km=a.Km;this.np=a.np;this.RK=a.RK;this.pL=a.pL;this.rL=a.rL;this.uL=a.uL;this.As=a.As;this.fh=a.fh};
nZ.prototype.render=function(){var a=moment(this.As).fromNow();this.$el.html(this.template({documentDimensions:this.RK.print(),enableDocumentResize:this.pL,enableMagicResize:this.rL,doctypeName:this.Km,doctypeId:this.np,magicResizeLabel:this.fh.FW(),changeDimensionsLabel:this.fh.format("editorFileMenuPaneChangeDimensions"),saveLabel:this.fh.save(),makeACopyLabel:this.fh.format("editorFileMenuPaneMakeACopy"),waitingForSaveTitle:this.fh.format("editorFileMenuPaneWaitingForSave"),showUpgradeCta:this.uL,
resizeUpgradePrompt:this.fh.a9(),learnMoreButtonLabel:this.fh.uN(),lastSavedLabel:this.fh.h4(a)}));return this};function oZ(){}
oZ=lZ.extend({className:"dropdownPane documentResizePane",template:_.template('\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button customDimensionsPaneButton"\x3e\x3c%- data.useCustomDimensions %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuActionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizeButton" value\x3d"\x3c%- documentType.id %\x3e"\x3e\x3c%- documentType.displayName %\x3e \x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e',{variable:"data"})});
oZ.prototype.initialize=function(a){lZ.prototype.initialize.call(this);this.kz={};this.Sk=a.Sk;this.$r=!1;this.Zk=a.Zk};oZ.prototype.render=function(){this.$el.html(this.template({documentTypes:this.kz,fetchFailed:this.$r,useCustomDimensions:this.Zk.R$(),couldNotBeLoaded:this.Zk.gK(),tryLoadingAgain:this.Zk.jR(),fetchingDesignTypes:this.Zk.HL()}));if("custom"!==this.Sk)for(var a=this.$(".documentResizeButton"),b=0;b<a.length;b++)if(a[b].value===this.Sk){a.eq(b).addClass("selected");break}return this};
oZ.prototype.oQ=function(a){this.$r=!1;this.kz=a};oZ.prototype.pQ=function(){this.$r=!0};function pZ(){}pZ=lZ.extend({className:"dropdownPane customDimensionsPane"});f=pZ.prototype;f.initialize=function(a){lZ.prototype.initialize.call(this);this.BK=a.BK;this.yK=a.yK;this.Gm=a.Gm;this.AK=a.AK;this.on("show",this.s3)};
f.render=function(){var a=this;this.$el.html(this.template({defaultWidth:this.BK,defaultHeight:this.yK,actionResize:this.Gm.H0(),times:this.Gm.times(),pixelsUnit:this.Gm.f8(),dimOptions:["PIXELS","INCHES","CENTIMETERS","MILLIMETERS"].map(function(b){return{value:b,selected:b===a.AK,name:Fv(b)}})}));return this};f.s3=function(){var a=this;this.$el.one("transitionend",function(){a.$(".customDimensionsWidth").focus()})};
f.kf=function(a){var b=this.$(".customDimensions__error");b.text(a);b.addClass("customDimensions__error--visible");this.trigger("resize")};f.jg=function(){this.$(".customDimensions__error").removeClass("customDimensions__error--visible")};f.template=_.template('\x3cfieldset\x3e\x3cinput class\x3d"customDimensionsWidth textInput" type\x3d"number" value\x3d"\x3c%- defaultWidth %\x3e"\x3e \x3c%- times %\x3e \x3cinput class\x3d"customDimensionsHeight textInput" type\x3d"number" value\x3d"\x3c%- defaultHeight %\x3e"\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"customDimensionsUnits"\x3e\x3c% for (var i \x3d 0; i \x3c dimOptions.length; ++i) { %\x3e\x3coption value\x3d"\x3c%- dimOptions[i].value %\x3e" \x3c% if (dimOptions[i].selected) { %\x3e selected \x3c% } %\x3e \x3e\x3c%- dimOptions[i].name %\x3e\x3c/option\x3e\x3c% } %\x3e\x3c/select\x3e\x3cspan\x3e\x3c/fieldset\x3e\x3cdiv class\x3d"customDimensions__error feedback feedback--warning"\x3e\x3c/div\x3e\x3cfieldset\x3e\x3cbutton class\x3d"button buttonBlock customDimensionsResizeButton"\x3e\x3c%- actionResize %\x3e\x3c/button\x3e\x3c/fieldset\x3e');function xZ(a,b,c){this.Xm=a;this.Fo=b;this.zm=c}var yZ=[];function zZ(a,b){if("INCHES"==a)throw Error('Cannot define measurement unit conversion from "INCHES" to itself');if(0==b)throw Error("Cannot define measurement unit conversion with conversionFactor \x3d 0");var c=new xZ("INCHES",a,b);a=new xZ(a,"INCHES",1/b);b=[c,a];AZ(c,b,1);AZ(a,b,0);Array.prototype.push.apply(yZ,b)}
function tZ(a,b){if("PIXELS"==b)return a;for(var c=0;c<yZ.length;c++){var d=yZ[c];if("PIXELS"==d.Xm&&d.Fo==b)return d.zm*a}throw Error('Unknown measurement unit conversion from "PIXELS" to "'+b+'"');}
function AZ(a,b,c){var d,e,g;for(e=0;e<yZ.length;e++){var h=yZ[e];if(h.Xm==a.Fo){if(d=new xZ(a.Xm,h.Fo,a.zm*h.zm),b.push(d),0!=c)for(g=0;g<yZ.length;g++)h=yZ[g],d.Xm==h.Fo&&b.push(new xZ(d.Fo,h.Xm,1/(h.zm*d.zm)))}else if(h.Fo==a.Xm&&(d=new xZ(h.Xm,a.Fo,h.zm*a.zm),b.push(d),0!=c))for(g=0;g<yZ.length;g++)h=yZ[g],d.Fo==h.Xm&&b.push(new xZ(d.Xm,h.Fo,d.zm*h.zm))}}zZ("MILLIMETERS",25.4);zZ("PIXELS",96);zZ("CENTIMETERS",2.54);function qZ(){}
qZ=lZ.extend({className:"dropdownPane magicResizePane",template:_.template('\x3cheader\x3e\x3ch3\x3e\x3c%- data.copyAndResize %\x3e\x3c/h3\x3e\x3c/header\x3e\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e.\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuOptionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" value\x3d"\x3c%- documentType.id %\x3e"\x3e \x3c%- documentType.displayName %\x3e \x3c% if (documentType.id \x3d\x3d data.currentDocumentTypeId) { %\x3e\x3cspan class\x3d"documentTypeCurrentDesign menuOptionsListSubLabel"\x3e\x3c%- data.currentDesignSize %\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/label\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button magicResizeButton disabled" disabled\x3e\x3cimg class\x3d"iconWand" src\x3d"https://static.canva.com/static/images/icon_wand.svg" alt\x3d"Magic wand" /\x3e\x3cimg class\x3d"iconWand black" src\x3d"https://static.canva.com/static/images/icon_wand_black.svg" alt\x3d"Magic wand" /\x3e \x3c%- data.abracadabraResize %\x3e\x3c/button\x3e\x3c/footer\x3e',{variable:"data"}),
k8:_.template('\x3cp class\x3d"errorMessage"\x3e\x3cstrong\x3e\x3c%- data.ohSnap %\x3e\x3c/strong\x3e \x3c%- data.multipleTabs %\x3e\x3c/p\x3e',{variable:"data"})});f=qZ.prototype;f.initialize=function(a){lZ.prototype.initialize.call(this);this.Sk=a.Sk;this.kz={};this.$r=!1;this.rh=a.rh};
f.render=function(){this.$el.html(this.template({documentTypes:this.kz,currentDocumentTypeId:this.Sk,fetchFailed:this.$r,copyAndResize:this.rh.b2(),couldNotBeLoaded:this.rh.gK(),tryLoadingAgain:this.rh.jR(),fetchingDesignTypes:this.rh.HL(),currentDesignSize:this.rh.l2(),abracadabraResize:this.rh.D0()}));this.$('input:not([value\x3d"'+this.Sk+'"])').slice(0,3).prop("checked",!0);this.$('input[value\x3d"'+this.Sk+'"]').prop("disabled",!0).parent("label").addClass("menuOptionsListDisabled");return this};
f.oQ=function(a){this.$r=!1;this.kz=a};f.pQ=function(){this.$r=!0};f.FQ=function(){this.$("footer").prepend(this.k8({ohSnap:this.rh.Q4(),multipleTabs:this.rh.L4()}))};function BZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");var b=a.message;soy.asserts.assertType(goog.isString(a.To)||a.To instanceof goog.soy.data.SanitizedContent,"alertClass",a.To,"string|goog.soy.data.SanitizedContent");var c=a.To;soy.asserts.assertType(a.sn instanceof soydata.SanitizedHtml||a.sn instanceof soydata.UnsanitizedText||goog.isString(a.sn),"iconHtml",
a.sn,"soydata.SanitizedHtml");var d=a.sn;soy.asserts.assertType(null==a.Qc||goog.isBoolean(a.Qc)||1===a.Qc||0===a.Qc,"showDismiss",a.Qc,"boolean|null|undefined");var e=a.Qc;soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");var g=a.title;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",
a.v,"null|string|undefined");var h=a.v;soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");var k=a.global;soy.asserts.assertType(null==a.wb||goog.isBoolean(a.wb)||1===a.wb||0===a.wb,"withIcon",a.wb,"boolean|null|undefined");var l=a.wb;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");a=a.small;l=null==l?!0:l;b=""+('\x3cdiv class\x3d"feedbackAlert '+
soy.$$escapeHtmlAttribute(c)+(k?" feedbackAlert--global":"")+(l?" feedbackAlert--withIcon":"")+(e?" feedbackAlert--dismissible":"")+(a?" feedbackAlert--small":"")+(h?" "+soy.$$escapeHtmlAttribute(h):"")+'"\x3e\x3cdiv class\x3d"feedbackAlert__message"\x3e\x3cdiv class\x3d"feedbackAlert__iconContainer"\x3e'+(l?soy.$$escapeHtml(d):"")+"\x3c/div\x3e"+(g?'\x3cstrong class\x3d"feedbackAlert__title"\x3e'+soy.$$escapeHtml(g)+"\x3c/strong\x3e ":"")+'\x3cdiv class\x3d"feedbackAlert__messageBody"\x3e'+soy.$$escapeHtml(b)+
"\x3c/div\x3e\x3c/div\x3e"+(e?'\x3cbutton type\x3d"button" class\x3d"feedbackAlert__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24"\x3e\x3cpolygon points\x3d"19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12"/\x3e\x3c/svg\x3e')+"\x3c/button\x3e":"")+"\x3c/div\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function CZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Qc||goog.isBoolean(a.Qc)||1===a.Qc||0===a.Qc,"showDismiss",a.Qc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.wb||goog.isBoolean(a.wb)||1===a.wb||0===a.wb,"withIcon",a.wb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(BZ(soy.$$assignDefaults({To:"feedbackAlert--success",sn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+DZ())},a)))}
function EZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Qc||goog.isBoolean(a.Qc)||1===a.Qc||0===a.Qc,"showDismiss",a.Qc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.wb||goog.isBoolean(a.wb)||1===a.wb||0===a.wb,"withIcon",a.wb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(BZ(soy.$$assignDefaults({To:"feedbackAlert--info",sn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+FZ())},a)))}
function GZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Qc||goog.isBoolean(a.Qc)||1===a.Qc||0===a.Qc,"showDismiss",a.Qc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.wb||goog.isBoolean(a.wb)||1===a.wb||0===a.wb,"withIcon",a.wb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(BZ(soy.$$assignDefaults({To:"feedbackAlert--warning",sn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+HZ())},a)))}
function IZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Qc||goog.isBoolean(a.Qc)||1===a.Qc||0===a.Qc,"showDismiss",a.Qc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.wb||goog.isBoolean(a.wb)||1===a.wb||0===a.wb,"withIcon",a.wb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(BZ(soy.$$assignDefaults({To:"feedbackAlert--danger",sn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+HZ())},a)))}
function FZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(FZ.zZ="FeedbackTemplates.infoIcon");
function DZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M10,0 C15.52,0 20,4.48 20,10 C20,15.52 15.52,20 10,20 C4.48,20 0,15.52 0,10 C0,4.48 4.48,0 10,0 Z M10,1.33333333 C5.21637967,1.33333333 1.33333333,5.21637967 1.33333333,10 C1.33333333,14.7836203 5.21637967,18.6666667 10,18.6666667 C14.7836203,18.6666667 18.6666667,14.7836203 18.6666667,10 C18.6666667,5.21637967 14.7836203,1.33333333 10,1.33333333 Z M6,10 L5,11 L8,14 L15,7 L14,6 L8,12 L6,10 Z" transform\x3d"translate(2,2)"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(DZ.zZ="FeedbackTemplates.successIcon");
function HZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z" transform\x3d"rotate(180 12 12)"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(HZ.zZ="FeedbackTemplates.warningIcon");function JZ(a,b){this.$el=a;this.Jh=b}r(JZ,gc);function KZ(a){w(!(a.global^0),"$globalContainer is required for global alerts");var b=a.type.NM();a=BZ({To:a.type.za,v:a.v,global:a.global,sn:b,message:a.message,Qc:a.Qc,small:a.small,title:a.title,wb:a.wb});return LZ($(a.toString()),void 0)}
function LZ(a,b){w(a.hasClass("feedbackAlert"),'$el must have "feedbackAlert" in its classList');w(!a.hasClass("feedbackAlert--global")||!!b,"$globalContainer must only be used with global alerts");return new JZ(a,b)}
JZ.prototype.Le=function(){this.Jh&&(Fa(!this.Jh.hasClass("globalFeedbackAlertContainer"),"the global container already has a global alert"),this.Jh.data("gcpt",this.Jh.get(0).style["padding-top"]),this.Jh.css("padding-top",parseFloat(this.Jh.css("padding-top"))+this.$el.outerHeight()),this.Jh.addClass("globalFeedbackAlertContainer"))};
JZ.prototype.remove=function(){if(this.Jh){this.Jh.removeClass("globalFeedbackAlertContainer");this.Jh.css("padding-top","");var a=parseFloat(this.Jh.data("gcpt"));a&&this.Jh.css("padding-top",a);this.Jh.removeData("gcpt")}gc.prototype.remove.call(this)};var MZ={za:"feedbackAlert--info",NM:FZ},NZ={za:"feedbackAlert--warning",NM:HZ},OZ={za:"feedbackAlert--danger",NM:HZ};function PZ(a,b,c){var d=this;this.Nh=a.Nh;this.j=a.j;this.P3=b;c.on(QZ,function(a){return d.onMessage(a)});c.on(RZ,function(){return c.hide()})}
function SZ(a){var b=TZ(a.ob,a.F2),c=$,d;soy.asserts.assertType(goog.isString(a.Nh)||a.Nh instanceof goog.soy.data.SanitizedContent,"animatorUrl",a.Nh,"string|goog.soy.data.SanitizedContent");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(UZ({content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3ciframe src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.Nh))+'" class\x3d"animatorFrame" scrolling\x3d"no" frameborder\x3d"0" marginheight\x3d"0" marginwidth\x3d"0" /\x3e')}));c=
c(d.toString());d=new VZ(c,$(document));c=new WZ(c,d);return{Bb:new PZ(a,b,c),view:c}}function TZ(a,b){return P.resolve($.get(OV(a,"render",b))).then(function(a){return a.toString()})}
PZ.prototype.onMessage=function(a){if(a.origin===this.Nh&&"string"===typeof a.data.type)switch(a.data.type){case XZ:YZ(this,a);break;case ZZ:a=La(a.data.event);a=new $Z({location:C("location",a),type:C("type",a)});"error"===a.location?this.j.track("animator_error",{section:"editor",subsection:"animator",type:a.type}):Ml(this.j,a.type,"editor","animator",a.location);break;default:throw Error("unknown message type: "+a.data.type);}};
function YZ(a,b){a.P3.then(function(a){return new a_(a)}).catch(b_).then(function(a){return b.source.postMessage({type:"ANIMATE_DESIGN",html:I("html",a.html)},b.origin)})}var XZ="ANIMATOR_LOADED",ZZ="TRACKING";function a_(a){this.html=a}function b_(){return new a_(null)}function $Z(a){this.location=a.location;this.type=a.type};function WZ(a,b){var c=this;hc.call(this,a);this.Or=b;this.onMessage=this.onMessage.bind(this);b.on(c_,function(){return c.trigger(RZ)});window.addEventListener("message",this.onMessage)}r(WZ,hc);WZ.prototype.show=function(){this.Or.show()};WZ.prototype.hide=function(){var a=this;this.Or.hide().then(function(){a.remove()})};WZ.prototype.onMessage=function(a){this.trigger(QZ,a)};WZ.prototype.remove=function(){hc.prototype.remove.call(this);window.removeEventListener("message",this.onMessage)};
var RZ="CLOSE",QZ="MESSAGE";function d_(a){a=a||{};return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"fileTypesDialog__icon"\x3e'+JX(a)+"\x3c/div\x3e")};function e_(a){kp.call(this,{H:a.H,title:a.$u.title(),content:f_(a.$u)})}r(e_,kp);
function f_(a){var b=$,c;c=a.AB();var d=a.g8(),e=a.GA(),g=a.f4(),h=a.Z7(),k=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.a8()),l=a.X7(),m=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.Y7());a=a.zM();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"png",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"pngDescription",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||
e instanceof goog.soy.data.SanitizedContent,"jpg",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"jpgDescription",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"pdfStandard",h,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(k instanceof soydata.SanitizedHtml||k instanceof soydata.UnsanitizedText||goog.isString(k),"pdfStandardDescription",
k,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(l)||l instanceof goog.soy.data.SanitizedContent,"pdfPrint",l,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(m instanceof soydata.SanitizedHtml||m instanceof soydata.UnsanitizedText||goog.isString(m),"pdfPrintDescription",m,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"gotIt",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+
d_({Ze:"PNG",color:"#3F6BD1"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(c)+"\x3c/strong\x3e "+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+d_({Ze:"JPG",color:"#399BE6"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(e)+"\x3c/strong\x3e "+soy.$$escapeHtml(g)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+d_({Ze:"PDF",color:"#00C4CC"})+
'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(h)+"\x3c/strong\x3e "+soy.$$escapeHtml(k)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+d_({Ze:"PDF",color:"#26B45A"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(l)+"\x3c/strong\x3e "+soy.$$escapeHtml(m)+'\x3c/p\x3e\x3c/section\x3e\x3cfooter class\x3d"fileTypesDialog__footer"\x3e\x3cbutton class\x3d"button close fileTypesDialog__gotItButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");return b(c.toString())}e_.prototype.render=function(){kp.prototype.render.call(this);this.$(".dialog").addClass("fileTypesDialog");return this};function g_(a){kp.call(this,{H:a.H,content:h_(a.Yy),hf:!1})}r(g_,kp);
function h_(a){var b=$,c;c=a.title();var d=a.qg(),e=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.j2()),g=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.a1());a=a.zM();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"title",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"subtitle",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof
soydata.UnsanitizedText||goog.isString(e),"cropMarksDescription",e,"soydata.SanitizedHtml");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"bleedAreaDescription",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"gotIt",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"cropAndBleedDialog__headerImage" src\x3d"https://static.canva.com/static/images/crop_and_bleed_dialog_header.png"\x3e\x3csection class\x3d"cropAndBleedDialog__content"\x3e\x3cheader class\x3d"cropAndBleedDialog__header"\x3e\x3ch2\x3e'+
soy.$$escapeHtml(c)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3c/header\x3e\x3csection class\x3d"cropAndBleedDialog__section"\x3e\x3cdiv class\x3d"cropAndBleedDialog__icon"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"64" height\x3d"64" viewBox\x3d"0 0 64 64" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3ctitle\x3eIcon\x3c/title\x3e\x3cdefs\x3e\x3crect id\x3d"path-1" width\x3d"64" height\x3d"64" rx\x3d"4"/\x3e\x3cpath id\x3d"path-3" d\x3d"M32 32h32v32H32z"/\x3e\x3cmask id\x3d"mask-4" x\x3d"-8" y\x3d"-8" width\x3d"48" height\x3d"48"\x3e\x3cpath fill\x3d"#fff" d\x3d"M24 24h48v48H24z"/\x3e\x3cuse xlink:href\x3d"#path-3"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg id\x3d"Page-1" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg id\x3d"On-boarding-Dialog---Bleed" transform\x3d"translate(-444 -506)"\x3e\x3cg id\x3d"Message" transform\x3d"translate(404 162)"\x3e\x3cg id\x3d"Group" transform\x3d"translate(40 344)"\x3e\x3cg id\x3d"Icon"\x3e\x3cmask id\x3d"mask-2" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#path-1"/\x3e\x3c/mask\x3e\x3cuse id\x3d"Rectangle-214" fill\x3d"#EBECED" xlink:href\x3d"#path-1"/\x3e\x3cg id\x3d"Rectangle-214" mask\x3d"url(#mask-2)"\x3e\x3cuse fill\x3d"#F5F5F5" xlink:href\x3d"#path-3"/\x3e\x3cuse stroke\x3d"#D9D9D9" mask\x3d"url(#mask-4)" stroke-width\x3d"16" xlink:href\x3d"#path-3"/\x3e\x3c/g\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M32 4h2v16h-2z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M4 32h16v2H4z"/\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
'\x3c/div\x3e\x3cp class\x3d"cropAndBleedDialog__description"\x3e'+soy.$$escapeHtml(e)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"cropAndBleedDialog__section"\x3e\x3cdiv class\x3d"cropAndBleedDialog__icon"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"64" height\x3d"64" viewBox\x3d"0 0 64 64" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3crect id\x3d"path-1" width\x3d"64" height\x3d"64" rx\x3d"4"/\x3e\x3c/defs\x3e\x3cg id\x3d"Page-1" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg id\x3d"On-boarding-Dialog---Bleed" transform\x3d"translate(-444 -590)"\x3e\x3cg id\x3d"Message" transform\x3d"translate(404 162)"\x3e\x3cg id\x3d"Group" transform\x3d"translate(40 428)"\x3e\x3cg id\x3d"Icon"\x3e\x3cmask id\x3d"mask-2" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#path-1"/\x3e\x3c/mask\x3e\x3cuse id\x3d"Rectangle-214" fill\x3d"#EBECED" xlink:href\x3d"#path-1"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M24 24h40v40H24z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#F5F5F5" mask\x3d"url(#mask-2)" d\x3d"M32 32h32v32H32z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#D9D9D9" mask\x3d"url(#mask-2)" d\x3d"M32 4h2v16h-2z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#D9D9D9" mask\x3d"url(#mask-2)" d\x3d"M4 32h16v2H4z"/\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
'\x3c/div\x3e\x3cp class\x3d"cropAndBleedDialog__description"\x3e'+soy.$$escapeHtml(g)+'\x3c/p\x3e\x3c/section\x3e\x3cfooter class\x3d"cropAndBleedDialog__footer"\x3e\x3cbutton class\x3d"button close cropAndBleedDialog__gotItButton"\x3e'+soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");return b(c.toString())}g_.prototype.render=function(){kp.prototype.render.call(this);this.$(".dialog").addClass("cropAndBleedDialog");return this};function i_(a){this.j=a.j}function j_(a,b){a.track("download_page_range_change",{pageRange:b})}function k_(a,b){a.track("download_button_click",{filetype:b})}i_.prototype.PC=function(a){this.track("close",{type:a})};i_.prototype.track=function(a,b){this.j.track(a,_.extend(this.cM(),b))};i_.prototype.cM=function(){return{section:"editor",subsection:"download_menu",version:"2016-09"}};function l_(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(goog.isString(a.Zu)||a.Zu instanceof goog.soy.data.SanitizedContent,"fileTypeInfoLinkTitle",a.Zu,"string|goog.soy.data.SanitizedContent");var d=a.Zu;soy.asserts.assertType(goog.isString(a.eu)||a.eu instanceof goog.soy.data.SanitizedContent,"allPages",a.eu,"string|goog.soy.data.SanitizedContent");
var e=a.eu;soy.asserts.assertType(goog.isString(a.hH)||a.hH instanceof goog.soy.data.SanitizedContent,"pageRangePlaceholder",a.hH,"string|goog.soy.data.SanitizedContent");var g=a.hH;soy.asserts.assertType(goog.isString(a.Du)||a.Du instanceof goog.soy.data.SanitizedContent,"cropMarksAndBleed",a.Du,"string|goog.soy.data.SanitizedContent");var h=a.Du;soy.asserts.assertType(goog.isString(a.Rx)||a.Rx instanceof goog.soy.data.SanitizedContent,"transparentBackground",a.Rx,"string|goog.soy.data.SanitizedContent");
var k=a.Rx;soy.asserts.assertType(goog.isString(a.nG)||a.nG instanceof goog.soy.data.SanitizedContent,"learnMore",a.nG,"string|goog.soy.data.SanitizedContent");var l=a.nG;soy.asserts.assertType(goog.isString(a.download)||a.download instanceof goog.soy.data.SanitizedContent,"download",a.download,"string|goog.soy.data.SanitizedContent");var m=a.download;soy.asserts.assertType(goog.isNumber(a.ld),"pageCount",a.ld,"number");var n=a.ld;soy.asserts.assertType(goog.isBoolean(a.iz)||1===a.iz||0===a.iz,"displayRemoveCanvasOption",
a.iz,"boolean");var p=!!a.iz;soy.asserts.assertType(goog.isBoolean(a.zo)||1===a.zo||0===a.zo,"showUpgradeCta",a.zo,"boolean");var q=!!a.zo;soy.asserts.assertType(goog.isString(a.fG)||a.fG instanceof goog.soy.data.SanitizedContent,"invalidPageRange",a.fG,"string|goog.soy.data.SanitizedContent");var u=a.fG,v=goog.asserts.assertArray(a.ne,"expected parameter 'exportOptions' of type list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e.");soy.asserts.assertType(goog.isString(a.Cu)||
a.Cu instanceof goog.soy.data.SanitizedContent,"cropAndBleedInfoLinkTitle",a.Cu,"string|goog.soy.data.SanitizedContent");var z=a.Cu;soy.asserts.assertType(goog.isString(a.mp)||a.mp instanceof goog.soy.data.SanitizedContent,"defaultExportOption",a.mp,"string|goog.soy.data.SanitizedContent");var t=a.mp;soy.asserts.assertType(null==a.vr||a.vr instanceof goog.soy.data.SanitizedContent||goog.isString(a.vr),"animatorCtaText",a.vr,"null|string|undefined");a=a.vr;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"exportPopOver__header"\x3e\x3ch2 class\x3d"exportPopOver__title"\x3e'+
soy.$$escapeHtml(c)+'\x3c/h2\x3e\x3ca href\x3d"#" class\x3d"exportPopOver__infoLink" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+IX()+'\x3c/a\x3e\x3c/header\x3e\x3csection class\x3d"exportPopOver__container"\x3e\x3csection class\x3d"exportPopOver__option"\x3e'+m_({options:v,block:!0,v:"exportPopOver__fileTypeSelect"})+'\x3c/section\x3e\x3csection class\x3d"exportPopOver__settingsContainer exportPopOver__settingsContainer--expanded exportPopOver__settingsContainer--notransitions" data-export-type\x3d"'+
soy.$$escapeHtmlAttribute(t)+'" data-design-pages\x3d"'+soy.$$escapeHtmlAttribute(n)+'" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+'height: 0"\x3e\x3csection class\x3d"exportPopOver__section exportPopOver__pageSettings"\x3e\x3clabel class\x3d"exportPopOver__option"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" class\x3d"exportPopOver__allPagesOption" checked\x3e'+soy.$$escapeHtml(e)+'\x3c/label\x3e\x3cdiv class\x3d"exportPopOver__option exportPopOver__pageRangeOption"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" class\x3d"exportPopOver__radio"\x3e\x3cinput type\x3d"text" class\x3d"textInput exportPopOver__input" placeholder\x3d"'+
soy.$$escapeHtmlAttribute(g)+'"\x3e\x3c/div\x3e\x3c/section\x3e\x3csection class\x3d"exportPopOver__section exportPopOver__option exportPopOver__printSettings"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" name\x3d"cropsAndBleed" class\x3d"exportPopOver__cropMarksAndBleedInput"\x3e'+soy.$$escapeHtml(h)+'\x3c/label\x3e\x3ca href\x3d"#" class\x3d"exportPopOver__questionMarkIcon exportPopOver__cropAndBleedQuestionIcon" title\x3d"'+soy.$$escapeHtmlAttribute(z)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"18" height\x3d"18" viewBox\x3d"0 0 18 18" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M15.5 9a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0zm-14 0a7.5 7.5 0 1 1 15 0 7.5 7.5 0 0 1-15 0z"/\x3e\x3cpath d\x3d"M9.75 12.75h-1.5v-1.5h1.5v1.5zm-1.5-2.25c0-.466.065-.948.178-1.224.113-.277.32-.549.622-.817.301-.268.502-.486.602-.654.1-.168.15-.346.15-.532 0-.563-.26-.844-.78-.844-.246 0-.443.075-.591.227-.149.151-.226.36-.233.627H6.75c.007-.636.212-1.134.617-1.494.404-.36.956-.539 1.655-.539.706 0 1.254.17 1.644.512.39.341.584.823.584 1.446 0 .283-.063.55-.19.801-.126.252-.348.53-.664.837l-.405.385c-.132.15-.241.301-.241.925v.344h-1.5z"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/a\x3e\x3c/section\x3e"+(p||q?'\x3csection class\x3d"exportPopOver__section exportPopOver__option exportPopOver__pngSettings"\x3e\x3clabel class\x3d"exportPopOver__transparentBackgroundCheckbox '+(q?"disabled":"")+'"\x3e\x3cinput type\x3d"checkbox" name\x3d"removeCanvas" class\x3d"exportPopOver__transparentBackgroundCheckbox__input" '+(q?"disabled":"")+"\x3e"+soy.$$escapeHtml(k)+"\x3c/label\x3e"+(q?n_({tagName:"a",v:"exportPopOver__questionMarkIcon exportPopOver__transparentBackgroundLearnMoreButton",
small:!0,href:"#",text:l}):"")+"\x3c/section\x3e":"")+(a?'\x3csection class\x3d"exportPopOver__section exportPopOver__animatorCta"\x3e\x3cspan class\x3d"exportPopOver__animatorCtaText"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e"+n_({tagName:"a",v:"exportPopOver__animatorCtaLearnMoreButton",small:!0,href:"#",text:l})+"\x3c/section\x3e":"")+'\x3c/section\x3e\x3cdiv class\x3d"exportPopOver__pageRangeError"\x3e'+soy.$$escapeHtml(u)+'\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable exportPopOver__downloadButton"\x3e'+
soy.$$escapeHtml(m)+"\x3c/button\x3e\x3c/footer\x3e")};function o_(){}o_=qz.extend();
o_.prototype.events=function(){var a=qz.prototype.events.call(this);a["input .exportPopOver__pageRangeOption .exportPopOver__input"]=this.l6;a["change input[name\x3dpageRangeOption]"]=this.e5;a["focus .exportPopOver__pageRangeOption .exportPopOver__input"]=this.a6;a["blur .exportPopOver__pageRangeOption .exportPopOver__input"]=this.T4;a["change .exportPopOver__pageRangeOption .exportPopOver__input"]=this.d5;a["change .exportPopOver__fileTypeSelect \x3e select"]=this.a5;a["click .exportPopOver__downloadButton"]=
this.r5;a["click .exportPopOver__transparentBackgroundLearnMoreButton"]=this.I5;a["click .exportPopOver__animatorCtaLearnMoreButton"]=this.h5;a["change .exportPopOver__transparentBackgroundCheckbox__input"]=this.f5;a["click .exportPopOver__cropAndBleedQuestionIcon"]=this.l5;a["change .exportPopOver__cropMarksAndBleedInput"]=this.Y4;a["click .exportPopOver__header .exportPopOver__infoLink"]=this.u5;return a};o_.eS=new Ff("gf",!1);o_.fS=new Ff("gg",!1);o_.g0=new Ff("nr",!1);f=o_.prototype;
f.initialize=function(a){this.W=a.W;this.model=a.model;this.he=a.he;this.Jl=a.Jl;this.Tc=a.Tc;this.ta=a.ta;this.dc=a.dc;this.fb=a.fb;this.aa=a.aa;this.Z=a.Z;this.ud=a.ud;this.tb=a.tb;this.cc=a.cc;this.md=a.md;this.La=a.La;this.j=a.j;this.Hb=a.Hb;this.H=a.H;var b=this.i=a.i;b.Sb||(b.Sb=new Ge(b.config));this.Sb=b.Sb;this.Xb=a.Xb;this.Kj=a.Kj;this.Dd=a.Dd;this.Nh=a.Nh;this.G=a.G;this.xc=a.xc;this.sd=a.sd;this.vX=!0;this.pj=a.pj;this.Na=a.Na;this.ne=[{value:p_,text:this.Sb.GA()},{value:q_,text:this.Sb.AB()},
{value:r_,text:this.Sb.format("exportPopOverStandardPdf")},{value:s_,text:this.Sb.format("exportPopOverPrintPdf")}];this.G.get(o_.fS)&&this.G.get(o_.eS)&&a.Nh&&this.ne.push({value:t_,text:this.Sb.format("exportPopOverAnimation")});var c,b=this.model.kb().tE;c=q_;"IMAGE"===b?(b=this.model.kb().Up,c="JPG"===b.Ze?p_:q_):"PDF"===b&&(b=this.model.kb().Vs,c=96>=b.Sc?r_:s_);this.fY=this.mp=c;a=_.defaults(a,{We:"",Mf:{top:-4},content:$(l_({title:this.Sb.Ze(),Zu:this.Sb.Zu(),eu:this.Sb.eu(),hH:this.Sb.format("exportPopOverInRangePagesPlaceholder"),
Du:this.Sb.Du(),Rx:this.Sb.Rx(),nG:this.Sb.format("exportPopOverLearnMoreButton"),download:this.Sb.download(),ld:this.model.jc(),iz:this.W.G.get(Vf),zo:!this.W.G.get(Vf)&&this.W.G.get(Xf),fG:this.Sb.format("exportPopOverInvalidPageRangeInput"),ne:u_(this),Cu:this.Sb.Cu(),mp:this.mp,vr:!this.G.get(o_.fS)&&this.G.get(o_.g0)?this.Sb.vr():void 0}).toString())});qz.prototype.initialize.call(this,a)};
f.render=function(){function a(){bq(this.model)||(this.$el.removeClass("exportPopOver--disabled"),this.$(".exportPopOver__downloadButton").prop("disabled",!1),this.$(".exportPopOver__message").remove(),this.stopListening(this.model,"change",a))}qz.prototype.render.call(this);this.$(".dialog \x3e h2").remove();this.$(".buttonContainer").remove();this.$(".dialog").addClass("exportPopOver");il(function(){v_(this,this.$(".exportPopOver__settingsContainer"))}.bind(this));var b="";this.model.isEmpty()?
b=this.Sb.format("exportPopOverEmptyDesignError"):bq(this.model)?(b=this.Sb.format("exportPopOverDownloadsInProgressError"),this.listenTo(this.model,"change",a)):(w_(this),x_(this),y_(this));b&&(KZ({type:NZ,v:"exportPopOver__message",message:b,wb:!1}).$el.appendTo(this.$(".exportPopOver__header")),this.$el.addClass("exportPopOver--disabled"),this.$(".exportPopOver__downloadButton").prop("disabled",!0));return this};
function w_(a){a.$(".exportPopOver__warning").remove();a.$(".exportPopOver__downloadButton").prop("disabled",!1)}f.cancel=_.debounce(function(){qz.prototype.cancel.call(this);this.Kj.PC("pressed_esc")},10,!0);f.blur=function(a){qz.prototype.blur.call(this,a);this.Kj.PC("clicked_mask")};
function z_(a){y(a.Nh);var b=a.$(".exportPopOver__downloadButton"),c=SZ({ob:a.Hb.hc(),F2:ou(a.Hb),j:a.j,Nh:a.Nh}).view;b.addClass("submitting");A_(a.Dd).finally(function(){c.$el.appendTo("body");c.show();this.ok();b.removeClass("submitting")}.bind(a))}
function B_(a){function b(){this.$el.removeClass("exportPopOver--withPageRangeError")}var c,d;c=a.$(".exportPopOver__pageRangeOption .exportPopOver__input");d=c.val().trim();if(""===d||o_.wS.test(d))return b.call(a),c.removeClass("exportPopOver__input--withError"),!0;d=a.$(".exportPopOver__pageRangeError");a.$el.addClass("exportPopOver--withPageRangeError");c.addClass("exportPopOver__input--withError");d.css("top",c.position().top-c.outerHeight()-6+"px");c.one("blur",b.bind(a));return!1}
f.r5=function(a){a.preventDefault();if(!this.$(".exportPopOver__pageRangeOption .exportPopOver__radio").prop("checked")||B_(this)){this.$(".exportPopOver__cropMarksAndBleedInput").not(":visible").prop("checked",!1);this.$(".exportPopOver__transparentBackgroundCheckbox__input").not(":visible").prop("checked",!1);var b=C_(this);a={dW:b===s_};if(b===t_)z_(this),k_(this.Kj,b);else{var c;var d=this.$(".exportPopOver__pageRangeOption .exportPopOver__input").val();c=Rp(this.model).length;if(o_.wS.test(d)){for(var e=
[],d=d.split(","),g=0;g<d.length;g++){var h=d[g].split("-"),k=parseInt(h[0],10);if(!isNaN(k)){var l=k=Math.max(1,Math.min(k,c));1<h.length&&(l=parseInt(h[1],10),l=isNaN(l)?c:Math.max(1,Math.min(l,c)));var h=k,m=l;m<h&&(h=l,m=k);for(k=0;e[k]<h;)k++;for(;h<=m;)e[k]!==h&&e.splice(k,0,h),k++,h++}}c=e}else c=_.range(1,c+1);e=!!this.$(".exportPopOver__cropMarksAndBleedInput").prop("checked");d=b!=p_?!!this.$(".exportPopOver__transparentBackgroundCheckbox \x3e input").prop("checked"):!1;k=this.model.kb();
g=k.Up;l=k.Vs;k=null;switch(b){case p_:b="JPG";l=g&&g.Sc||96;k=g&&g.gq||k;break;case q_:b="PNG";l=g&&g.Sc||96;break;case r_:b="PDF";l=Math.min(l&&l.Sc||96,96);break;case s_:b="PDF";l=l&&l.Sc||96;96>=l&&(l=300);break;default:throw Error("Unknown export option",b);}b={format:b,O:c,Kr:e,pu:e,gt:d,Mx:k,Es:l};D_({he:this.he,Jl:this.Jl,i:this.i,ta:this.ta,dc:this.dc,fb:this.fb,aa:this.aa,Z:this.Z,ud:this.ud,cc:this.cc,tb:this.tb,md:this.md,La:this.La,j:this.j,document:this.model,Hb:this.Hb,H:this.H,Xb:this.Xb,
ne:b,Dd:this.Dd,G:this.G,W:this.W,fu:a,xc:this.xc,sd:this.sd,Na:this.Na}).start();this.ok();k_(this.Kj,b.format)}}};function E_(a,b){b.val().trim().length&&j_(a.Kj,b.val().toString())}
f.a5=function(a){var b;b=$(a.currentTarget).val().toString();a=this.$(".exportPopOver__settingsContainer");a.attr("data-export-type",b);w_(this);x_(this);y_(this);if(C_(this)===t_){var c;this.pj.it?10<this.model.jc()&&(c=this.Sb.Ga("exportPopOverAnimationPageLimitWarningHtml")):c=this.Sb.Ga("exportPopOverAnimationRendererErrorHtml");c?(KZ({message:c,type:OZ,wb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer")),this.$(".exportPopOver__downloadButton").prop("disabled",
!0)):this.pj.JI?KZ({message:this.Sb.Ga("exportPopOverAnimationFilterWarningHtml"),type:NZ,wb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer")):KZ({message:this.Sb.Ga("exportPopOverAnimationBetaWarningHtml"),type:NZ,wb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer"))}c=C_(this)===t_?this.Sb.format("exportPopOverPreviewAnimation"):this.Sb.download();this.$(".exportPopOver__downloadButton").text(c);v_(this,a);this.Kj.track("download_file_type_change",
{from_filetype:this.fY,to_filetype:b});this.fY=b};
function v_(a,b){var c=0,d;b.removeClass("exportPopOver__settingsContainer--expanded");b.children(":visible").each(function(a,b){c+=$(b).outerHeight(!0)});d=parseInt(b.css("height"),10);a.vX?(a.vX=!1,b.css("height",c),b.addClass("exportPopOver__settingsContainer--expanded"),b.css("height"),b.removeClass("exportPopOver__settingsContainer--notransitions")):d===c?b.addClass("exportPopOver__settingsContainer--expanded"):(b.css("height",c),b.one("transitionend",function(){b.addClass("exportPopOver__settingsContainer--expanded")}))}
f.l6=function(){this.$(".exportPopOver__pageRangeOption .exportPopOver__radio").prop("checked",!0);B_(this)};f.a6=function(){B_(this)};f.T4=function(a){a=$(a.currentTarget);0===a.val().trim().length&&(a.val(""),this.$(".exportPopOver__allPagesOption").prop("checked",!0))};f.d5=function(a){E_(this,$(a.currentTarget))};
f.e5=function(){var a=this.$(".exportPopOver__pageRangeOption .exportPopOver__radio"),b=this.$(".exportPopOver__pageRangeOption .exportPopOver__input");a.prop("checked")?(b.focus().select(),B_(this),E_(this,b)):(b.removeClass("exportPopOver__input--withError"),j_(this.Kj,"all"))};f.I5=function(){var a=this.Tc;a.j.va(km("export_pop_over","png_export_options","transparent_background"));Fo(a,F_)};f.h5=function(){var a=this.Tc;a.j.va(km("export_pop_over","bottom","animator"));Fo(a,G_)};f.f5=function(){this.Kj.track("transparent_bg_click")};
f.l5=function(){(new g_({H:this.H,Yy:Nc(this.i)})).render().show()};f.Y4=function(){this.Kj.track("crop_marks_click")};f.u5=function(){(new e_({H:this.H,$u:Lc(this.i)})).render().show()};function u_(a){var b;return a.ne.map(function(a){b=a.value===this.mp;return{value:a.value,text:b?this.Sb.format("exportPopOverRecommended",a.text):a.text,selected:b}}.bind(a))}function C_(a){return a.$(".exportPopOver__fileTypeSelect \x3e select").val()}
function x_(a){function b(){return this.model.ia().some(function(a){return a.bn()})}(function(){var a=C_(this);return a===p_||a==q_}).call(a)&&b.call(a)&&KZ({message:soydata.VERY_UNSAFE.ordainSanitizedHtml(H_(a)),type:NZ,wb:!1,v:"exportPopOver__warning"}).$el.prependTo(a.$(".exportPopOver__settingsContainer"))}
function y_(a){function b(){switch(d){case p_:return this.Sb.GA();case q_:return this.Sb.AB();default:throw Error("Unknown export value",d);}}function c(){return 1<this.model.jc()}var d=C_(a);(function(){return d===p_||d==q_}).call(a)&&c.call(a)&&KZ({message:soydata.VERY_UNSAFE.ordainSanitizedHtml(He(a.Sb,b.call(a))),type:NZ,wb:!1,v:"exportPopOver__warning"}).$el.prependTo(a.$(".exportPopOver__settingsContainer"))}
function H_(a){var b=["KABpChgmirA","KABpCl3wNm4"],c=a.model.kb().category;return c&&0<=b.indexOf(c)?a.Sb.format("exportPopOverSocialMediaLinksExportWarningHtml","https://support.canva.com/creating-your-design/page-setup/hyperlinks/"):a.Sb.format("exportPopOverLinksExportWarning")}o_.wS=/^\s*\d+\s*(?:-\s*(?:\d+\s*)?)?(?:,\s*(?:\d+\s*(?:-\s*(?:\d+\s*)?)?)?)*$/;var p_="jpg",q_="png",r_="standardPdf",s_="printPdf",t_="animation";function I_(){}I_=qz.extend();I_.prototype.events=function(){var a=qz.prototype.events.call(this);a["click .resubmitLayout"]=this.D5;return a};I_.prototype.initialize=function(a){this.d9=a.resubmit;var b="in layout review";this.options.forSale&&(b="for sale as a layout");b={title:b.charAt(0).toUpperCase()+b.slice(1),content:$(I_.ZI({status:b})),We:""};qz.prototype.initialize.call(this,_.extend({},b,a))};
I_.prototype.render=function(){qz.prototype.render.call(this);this.$(".buttonContainer").remove();return this};I_.prototype.D5=function(){this.d9();this.remove()};I_.ZI=_.template('\x3cp\x3eThis design is \x3c%- status %\x3e.\x3c/p\x3e\x3cbr\x3e\x3cdiv class\x3d"layoutThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"exportButtons"\x3e\x3cbutton class\x3d"button buttonBlock resubmitLayout"\x3eResubmit\x3c/button\x3e\x3c/div\x3e');function J_(){}J_=Backbone.View.extend({className:"shareViaEmailForm",tagName:"form"});J_.prototype.events=function(){return{"click button":this.send,submit:this.send}};J_.prototype.initialize=function(a){this.mode=a.mode;this.Ye=a.Ye;this.Qf=a.Qf};J_.prototype.render=function(){this.$el.html(J_.template({sendLabel:this.Qf.send(),placeholder:this.Qf.Hj()}));return this};
J_.prototype.send=function(a){a.preventDefault();a=this.$("input").val().replace(/[ ,;]+/g,",").split(",").map(tI).filter(Boolean);0===a.length?alert("Enter some email addresses!"):(this.$("button").prop("disabled",!0),this.trigger("sendClicked",{V2:a,mode:this.mode,Ye:this.Ye}))};J_.template=_.template('\x3cdiv data-input-placeholder\x3d"\x3c%- placeholder %\x3e"\x3e\x3cinput class\x3d"textInput" placeholder\x3d"\x3c%- placeholder %\x3e" type\x3d"text"\x3e\x3c/div\x3e\x3cbutton class\x3d"button"\x3e\x3c%- sendLabel %\x3e\x3c/button\x3e');function K_(){}K_=qz.extend({className:"descriptionPopOver"});K_.Oo=254;f=K_.prototype;
f.initialize=function(a){this.i=a.i;var b;b=Dc(this.i).format("editorControlsTitleTooLongError",K_.Oo+1);this.U_=KZ({type:OZ,message:b,wb:!1,v:"descriptionPopOver__error"}).$el;b={title:Dc(a.i).format("editorControlsPopoverHeadingDesignTitle"),We:Dc(a.i).format("editorControlsPopoverDoneButton"),content:$("\x3ctextarea\x3e").addClass("textInput").attr("maxlength",K_.Oo).after($("\x3cdiv\x3e").addClass("descriptionPopOver__errorContainer"))};a=_.extend({},b,a);qz.prototype.initialize.call(this,a);
this.on("hide",this.N5)};f.events=function(){var a=qz.prototype.events.apply(this,arguments);a["keydown textarea"]=this.r6;a["keypress textarea"]=this.s6;a["paste textarea"]=this.N6;return a};f.render=function(){qz.prototype.render.call(this);var a=this.model.pb();UT(a)?this.$("textarea").val(""):this.$("textarea").val(a.rl());return this};f.yi=function(a){qz.prototype.yi.call(this,a);this.$("textarea").autosize({append:""}).focus().select();return this};
function L_(a){a.$(".descriptionPopOver__errorContainer").append(a.U_)}function M_(a){a.$(".descriptionPopOver__errorContainer").empty()}f.N5=function(a){var b=this.$("textarea"),c=this.model.pb(),b=b.val().trim();2!==a&&0!==a||b===c.rl()||(U&&(a=U,a.track("design_title_changed",{title:b,source:"typed",template:a.aj})),VT(c,b));M_(this)};f.r6=function(a){M_(this);var b=a.altKey||a.shiftKey;13!==a.which||b||(a.preventDefault(),this.ok())};
f.N6=function(){M_(this);this.$("textarea").val().length>=K_.Oo&&L_(this)};f.s6=function(){this.$("textarea").val().length>=K_.Oo&&this.$(".descriptionPopOver__errorContainer").is(":empty")&&L_(this)};function N_(){}N_=Backbone.View.extend({className:"shareView"});f=N_.prototype;f.events=function(){return{"click .shareButtonSocial":this.F5,"click .shareButtonEmail":this.t5}};f.initialize=function(a){this.location=a.location;this.Hb=a.Hb;this.lL=new J_({mode:"default",Ye:ou(this.Hb),Qf:a.Qf});this.Qf=a.Qf;this.SC=["Take a look at my new @Canva creation!","Check out my new @Canva design!","I just made this fantastic design with @Canva!","How great does my new @Canva design look?"]};
f.render=function(){Backbone.View.prototype.render.call(this);var a=N_.ZI;this.$el.append(a({shareOnFacebookTitle:this.Qf.format("shareViewShareOnFacebook"),shareOnTwitterTitle:this.Qf.format("shareViewShareOnTwitter"),postLabel:this.Qf.post(),tweetLabel:this.Qf.format("shareViewTweet"),emailLabel:this.Qf.email()}));this.$(".shareEmail").append(this.lL.render().el);this.listenTo(this.lL,"sendClicked",this.s5);this.listenTo(this,"emailSendingError",this.B2);return this};f.xQ=function(){this.trigger("shareClicked")};
f.F5=function(a){a.preventDefault();this.xQ()};f.t5=function(a){a.preventDefault();this.$(".shareEmail").show();this.trigger("shareViewResize")};f.s5=function(a){this.trigger("emailSend",a)};f.B2=function(a){var b=this.lL.$("button");b.prop("disabled",!1);b.attr("class","");this.$(".shareEmail h2").append('\x3cp class\x3d"error"\x3e'+a+"\x3c/p\x3e");this.trigger("shareViewResize")};N_.ZI=_.template('\x3cdiv class\x3d"shareButtons"\x3e\x3cbutton class\x3d"button buttonFacebook shareButtonSocial" title\x3d"\x3c%- shareOnFacebookTitle %\x3e"\x3e\x3c%- postLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonTwitter shareButtonSocial" title\x3d"\x3c%- shareOnTwitterTitle %\x3e"\x3e\x3c%- tweetLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button shareButtonEmail"\x3e\x3c%- emailLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"shareEmail"\x3e\x3ch2\x3e\x3c%- emailLabel %\x3e\x3c/h2\x3e\x3c/div\x3e');
N_.openWindow=function(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d445,top\x3d240")};function PU(){}var PU=Backbone.View.extend({el:"#canvaDocument"}),QU="fit",Az={"10%":"10%","25%":"25%","50%":"50%","75%":"75%","100%":"100%","125%":"125%","150%":"150%","175%":"175%","200%":"200%","300%":"300%","400%":"400%","500%":"500%",haa:"fill",iaa:QU};PU.w2=function(){$("#addNewPage").remove();PU.M0=!0};f=PU.prototype;
f.events=function(){return{"click #addNewPage .addPage":this.l1,"click #addNewPage .makeNewDesign":this.E1,"click #addNewPage .copyDesign":this.p1,"click \x3e .inner \x3e .page":function(){return!1},"mousedown \x3e .inner \x3e .page":this.WN,mousemove:this.mousemove,mouseout:this.mouseout,scroll:this.k9}};f.remove=function(){this.undelegateEvents();this.stopListening();this.Ma.forEach(function(a){a.remove()})};
f.initialize=function(a){this.listenTo(this.model,{"page:add":this.F7,"page:move":this.H7,"page:remove":this.I7,resize:this.RA});this.listenTo(T,{"pageView:copyButton:click":this.EX,"pageView:deleteButton:click":this.EX,"pageView:toolbar:mouseout":this.L7});this.Ma=[];var b=this;this.model.Fb().forEach(function(c){b.Ma.push(new O_({model:c,Ss:Fc(a.i),hP:Hc(a.i)}))});this.i=a.i;this.H=a.H;this.vf=_.object(_.values(Az),_.map(Az,function(a){return parseInt(a,10)/100}));this.VI=QU;this.cg=!1;this.Lr=
this.dh=0;this.vb=null;this.$j=this.oA=this.Ff=this.fP=0;this.sJ=!1;this.A4=Zg(this);this.rp=function(){var a=b.model.O[0],a=Math.max(a.l(),a.o());return Math.max(1,Math.min(a/O.e0))}();this.render()};
f.render=function(){var a=this.$el.children(".inner"),b=this;this.Ma.forEach(function(c,d){c.render();a.append(c.$el);P_(c,Q_(b,d));c.$el.addClass("on")});var c=this.Ma[this.Ma.length-1].$el,d=this.$("#addNewPage");PU.M0?(d.hide(),this.$el.removeClass("multiPage")):(d.css("top",Q_(this,this.Ma.length)),d.insertAfter(c),this.$el.removeClass("multiPage"),this.model.kb().Ls&&(this.$el.addClass("multiPage"),1<this.model.Fb().length&&this.model.Fb().length>=O.ly&&(this.$("#addNewPage").addClass("off"),
R_(this))));var c=Q_(this,0),d=S_(this),e=sT();a.css("height",c+d+($(window).height()-e.wa()));this.RA(!0);return this};f.l1=function(a){a=$(a.currentTarget);if(!a.is(":animated")&&!a.is(".off")){a=Sp(this.model);var b=uO(a.serialize());b.pageIndex=cp(this.model,a);M.register(new wO(1,b))}T_(this);return!1};
f.E1=function(){var a={type:this.model.kb().u()},b="/design?create";null!=a.type&&(b+="\x26type\x3d"+encodeURIComponent(a.type));null!=a.width&&(b+="\x26width\x3d"+encodeURIComponent(String(a.width)));null!=a.height&&(b+="\x26height\x3d"+encodeURIComponent(String(a.height)));null!=a.E$&&(b+="\x26units\x3d"+encodeURIComponent(String(a.E$)));null!=a.category&&(b+="\x26category\x3d"+encodeURIComponent(String(a.category)));null!=a.zh&&(b+="\x26schema\x3d"+encodeURIComponent(String(a.zh)));window.open(b,
"");return!1};f.p1=function(){T.trigger("documentView:copyDocument");return!1};
f.k9=function(){var a=this.$el.scrollTop()||0,b=Q_(this,0),c=sT(),d=Qp(this.model),e=this.Ma[d].$el.offset(),g=this.fP<a?"down":"up",h=-1;T.trigger("documentView:scroll",a);this.fP=1*a;U_(this);this.H.clearTimeout(this.oA);if(!this.$el.hasClass("modifying")){d=$(window).height();if(this.dh>d/2)for(c=0;c<this.Ma.length-1;c++){h=b+c*(this.dh+this.Lr);if(h<a){if(e=h+this.dh-a,0>=e){h=c+1;continue}}else e=a+d-h;h=e>a+d-(h+this.dh)?c:c+1;break}else"up"==g&&e.top+this.dh>c.wa()?h=Math.floor((a+$(window).height()-
(b-this.Lr))/(this.dh+this.Lr))-1:"down"==g&&0>e.top&&(h=Math.ceil((a-b)/(this.dh+this.Lr)));0==a?h=0:a>=this.$el.children(".inner").height()-this.$el.prop("clientHeight")&&(h=this.model.Fb().length-1);0<=h&&(h=Math.min(this.model.Fb().length-1,h),h=Math.max(0,h),Ip(this.model,h))}};
f.mousemove=function(a){this.A4.read(function(){var b=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)+this.$el.scrollTop();this.Ma.forEach(function(a){var d=a.pa();Zg().write(function(){b>d.w()&&b<d.wa()?a.$el.addClass("pseudoHover"):a.$el.removeClass("pseudoHover")})})})};f.mouseout=function(a){-1<$(a.relatedTarget||a.toElement).parents().addBack().index(this.$el.children(".inner"))||this.Ma.forEach(function(a){a.$el.removeClass("pseudoHover")})};
f.WN=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-e;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-g;if(k||Math.abs(b)>O.Fc||Math.abs(a)>O.Fc){k||(k=!0,d.$el.addClass("dragging doNotAnimate"),Ip(p,cp(p,q)));for(var b=-1,c=0;c<m.length&&!(h+a<m[c]);c++)b++;0>b&&(b=0);Vp(p,q,b);b=a=h+a;a<x?(b=(x-a)/(x-z),b=2>=b?x-(x-a)*(1-b/4):z):a>H&&(b=(a-H)/(t-H),b=2>=b?H+(a-H)*(1-b/4):t);P_(d,b)}return!1}function c(){l.off("mousemove|touchmove",
b).off("mouseup|touchend",c);if(k){d.$el.removeClass("doNotAnimate");var a=q.K(),e=Q_(v,a);d.$el.animate({top:e},O.Ca.DX,"easeOutBack",function(){P_(d,e);d.$el.removeClass("dragging")});M.register(new wO(5,{pageIndex:a,oldPageIndex:u}))}}if(!(0===$(a.target).closest(".pageToolbar").length||0<$(a.target).closest("a").length)){var d=null;this.Ma.forEach(function(b){b.$el.get(0)==a.currentTarget&&(d=b)});var e=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,g=void 0!==a.clientY?a.clientY:
a.originalEvent.touches[0].clientY,h=MC(d),k=!1,l=new fp($(document));l.on("mousemove|touchmove",b).on("mouseup|touchend",c);for(var m=[],n=0;n<this.Ma.length;n++)m.push(Q_(this,n)-this.dh/2);var p=this.model,q=d.model,u=cp(p,q),v=this,z=Q_(this,-1),t=Q_(this,this.Ma.length),x=Q_(this,0),H=Q_(this,this.Ma.length-1);return!1}};
f.I7=function(a,b,c){hh();var d=this,e=this.Ma[c];this.H.clearTimeout(this.oA);this.Ff&&Ip(a,Math.min(a.Fb().length-1,c));b={height:0,top:Q_(this,c)+this.$j*(this.dh+this.Lr)};this.Ff&&c==a.Fb().length&&(b.top+=this.dh);this.$el.addClass("modifying");e.$el.addClass("removing").animate(b,{duration:O.Ca.ik,bl:"easeOutSine",queue:!1,complete:function(){e.remove();d.$el.removeClass("modifying");d.Ff?TN&&(d.oA=d.H.setTimeout(function(){U_(d)},O.qS)):R_(d)}});this.Ma.splice(c,1);V_(this,c);this.$el.hasClass("holding")||
W_(this,c)};
f.F7=function(a,b,c,d){hh();this.model.Fb().length>=O.ly&&(this.$("#addNewPage").addClass("off"),R_(this));var e=!0;!1===d&&(e=!1);var g=cp(this.model,b);a=this.Ma[0];this.Ma.splice(g,0,new O_({model:b,Ss:Fc(this.i),hP:Hc(this.i)}));var h=this.Ma[g];b=a.hM();var k=this;null!=this.vb&&h.ZH(this.vb);h.wi(this.Dw());c=Q_(this,g,this.model.Fb().length-1);X_(h,b,c+this.$j*(this.dh+this.Lr));this.H.clearTimeout(this.oA);this.Ff?Ip(this.model,g-1):e&&Ip(this.model,g);0==g?h.$el.insertBefore(a.$el):h.$el.insertAfter(this.Ma[g-
1].$el);k.$el.addClass("modifying");var l=Q_(this,g);h.$el.addClass("newPage");h.$el.addClass("on");this.H.requestAnimationFrame(function(){var a=h.$el.height();h.$el.css("height",0);h.$el.animate({height:a,top:l},{duration:O.Ca.ik,bl:"easeOutSine",queue:!1,complete:function(){h.$el.css("height","");h.$el.removeClass("newPage");P_(h,l);k.$el.removeClass("modifying");k.Ff&&TN&&(k.oA=k.H.setTimeout(function(){U_(k)},O.qS))}}).css("overflow","");V_(this,g);e&&!this.$el.hasClass("holding")&&W_(this,g)}.bind(this))};
f.H7=function(a,b,c,d){function e(a,b){return function(){P_(a,b)}}hh();a=this.Ma[c];b=this.Ma[d];c<d?a.$el.insertAfter(b.$el):c>d&&a.$el.insertBefore(b.$el);this.Ma.splice(d,0,this.Ma.splice(c,1)[0]);c>d&&(a=c,c=d,d=a);for(;c<=d;c++)a=this.Ma[c],a.$el.hasClass("dragging")||(b=Q_(this,c),a.$el.animate({top:b},O.Ca.DX,e(a,b)));W_(this,d)};
f.EX=function(){hh();this.Ff=this.Ff||this.model.Fb().length;this.$el.addClass("holding");this.model.Fb().length<=O.ly&&(this.$("#addNewPage").removeClass("off"),R_(this))};f.L7=function(){U_(this)};function U_(a){a.Ff&&!a.$el.hasClass("modifying")&&(a.Ff=0,a.$j=0,V_(a,0,!0),a.$el.removeClass("holding"))}
function R_(a){if(!bA){var b=sT(),c=a.Ma[0],d=Y_(c),e=Z_(c),g;d.l()<=b.l()?(g=b.F()+Math.round((b.l()-d.l())/2),a.$el.children(".inner").css("width","")):(g=50,a.$el.children(".inner").css("width",g+e.l()+g));var h=Math.abs(qv(a.model.kb()))*W;a.Ma.forEach(function(b,c){c=Q_(a,c);X_(b,g+h,c)});var e=Z_(c),c=a.$("#addNewPage"),k=c.is(".off")?450:220,k=Math.max(e.l(),k),e=e.F()-h;k>d.l()&&(e=(b.l()+2*b.F()-k)/2);c.css("top",Q_(a,a.Ma.length)).css("left",e).css("width",k)}}
function Q_(a,b,c){var d=O_.JJ(a.model.kb(),a.Dw(),a.vb)*W;void 0===c&&(c=a.model.Fb().length);a.Ff&&(c=a.Ff);var e=sT(),g=Math.round(O.Wt*W);c=S_(a,c);var h=e.w();bA||a.cg?h=0:c<=e.o()&&(h+=(e.o()-c)/2);return h+(d+g)*b}function S_(a,b){var c=O_.JJ(a.model.kb(),a.Dw(),a.vb)*W;void 0===b&&(b=a.model.Fb().length);a.Ff&&(b=Math.max(a.Ff,b));var d=W,e=a.$("#addNewPage");b=b*c+(b-1)*O.Wt*d;a.model.uc.Ls&&!$("body").hasClass("blockDocument")&&(b+=O.Wt*d+e.outerHeight());return Math.round(b)}
function $_(a,b){var c=sT(),d=S_(a);if(d>c.o()){var e=a.$el.prop("clientHeight"),d=Q_(a,0)+d+(e-c.wa());a.dh>c.o()&&(d+=c.l()/6)}else d=a.$el.prop("clientHeight");b?a.$el.children(".inner").animate({height:d},{duration:O.Ca.ik,bl:"easeOutSine",queue:!1}):a.$el.children(".inner").css("height",d)}
function V_(a,b,c){var d=O_.JJ(a.model.kb(),a.Dw(),a.vb);void 0===b&&(b=0);void 0===c&&(c=0<a.Ff);$_(a,c);var e=0;a.Ff&&b==a.model.Fb().length?(c=(a.$j||a.Ff)-b,a.$j!=c-1&&(c=a.$j+1,a.$j=b),e+=(d+O.Wt*W)*c,a.$j=c):a.$j&&(c=a.$j,e+=(d+O.Wt*W)*c);a.$("#addNewPage").animate({top:Q_(a,a.Ma.length)+e},{duration:O.Ca.ik,bl:"easeOutSine",queue:!1});var g=a.$el.scrollTop()||0,h=g+a.$el.prop("clientHeight");a.Ma.forEach(function(a,b){var c=Q_(this,b)+e;b=c+d;!this.Ff&&!this.$j||b>g&&c<h?a.$el.addClass("transitioning").animate({top:c},
{duration:O.Ca.ik,bl:"easeOutSine",queue:!1,complete:function(){P_(a,c)}}):P_(a,c)},a);a.H.setTimeout(function(){for(var b=0;b<a.Ma.length;b++)a.Ma[b].$el.removeClass("transitioning")},O.Ca.ik)}
function W_(a,b){b=Math.max(0,Math.min(a.Ma.length-1,b));var c=a.$el.scrollTop()||0;if(b==a.Ma.length-1)c=sT(),c=Q_(a,a.model.Fb().length)+a.$("#addNewPage").height()-c.wa();else{b=Q_(a,b);var d=b+a.dh,e=a.$el.prop("clientHeight"),e=c+e,g=O.oD;e<d?c+=d-e+g:c>d&&(c-=c-b+g)}a.sJ||c==a.$el.scrollTop()||(a.sJ=!0,a.$el.animate({scrollTop:c},O.Ca.ik,"easeOutSine",function(){a.sJ=!1}))}
f.RA=function(a){var b;b=b||this.model.Da();var c=sT(),d=Z_(this.Ma[b.K()]).scale(1/W);b=d.l();d=d.o();this.vf.fill=Math.max(c.l()/b,this.vf["10%"]);this.vf[QU]=d*this.vf.fill>c.o()?Math.max(c.o()/d,this.vf["10%"]):this.vf.fill;c=this.cg?QU:this.VI;b=this.model.Da();var e=Z_(this.Ma[b.K()]).scale(1/W),d=e.l(),e=e.o();a=a&&"PIXELS"!==this.model.Sj();if(bA||0===d||0===e)c=Az["100%"];Qz(this,c,b,a)};function Gz(a,b){a.cg=b;a.RA()}
function yE(a,b){for(var c=0;c<a.Ma.length;c++)if(a.Ma[c].model==b)return a.Ma[c].pa();return null}
function Qz(a,b,c,d){c=c||a.model.Da();a.$el.addClass("zooming");c=a.Ma[c.K()];a.VI=a.cg?a.VI:b;var e=W=a.vf[b];a.Lr=Math.round(O.Wt*e);a.dh=Math.round(Y_(c).o());fQ();T.trigger("documentView:zoom",b,e);R_(a);$_(a,!1);b=sT();e=a.$el.children(".inner").width();c=Xg(c);e>b.l()&&(e=Math.round(c.F()+c.l()/2),e=Math.round(e-b.F()-b.l()/2),c.l()<b.l()&&(e+=(b.l()-c.l())/2),a.$el.scrollLeft(e));!d&&S_(a)>b.o()&&(d=Math.round(c.w()+c.o()/2),a.fP=1*(a.$el.scrollTop()||0),a.$el.scrollTop(Math.round(d-b.wa()/
2)));a.model.ia().forEach(function(a){a.ab()});EK(zc(a.i),Bc(a.i));a.$el.removeClass("zooming")}function Oz(a){return a0(a,function(a){return a[1]},function(a){return a[1]>W})}function Pz(a){return a0(a,function(a){return-1*a[1]},function(a){return a[1]<W})}function a0(a,b,c){if(b=_.chain(a.vf).pairs().sortBy(b).find(c).value())return Qz(a,b[0]),b[0]}function T_(a){a.$el.focus().blur();window.getSelection().removeAllRanges()}
function Hz(a,b){a.$el.find(".inner").scrollTop(a.$el.find(".inner").scrollTop()+a.$el.find(".page").eq(b).position().top);Ip(a.model,b)}f.Da=function(){var a=Qp(this.model);if(a>=this.Ma.length)throw Error("No page view exists for selected page index "+a+".");return 0<=a?this.Ma[a]:null};function gh(a){return a.Da()||a.Ma[0]}f.wi=function(a){this.$el.toggleClass("document--printMarkingsEnabled",a);this.Ma.forEach(function(b){b.wi(a)})};f.Dw=function(){return this.$el.hasClass("document--printMarkingsEnabled")};
function Vg(a,b){var c=a.$el.offset(),d=c.left-a.$el.scrollLeft();a=c.top-a.$el.scrollTop();return b.clone().translate(-d,-a)}function uD(a,b){b=b.K();if(0>b||b>=a.Ma.length)throw Error("No page view exists for selected page index "+b+".");return a.Ma[b]}f.ZH=function(a){this.vb=a;this.Ma.forEach(function(b){b.ZH(a)})};function yp(){}yp=qz.extend();yp.prototype.initialize=function(a){this.j=a.j;this.wg=a.wg;this.Ne=a.Ne;this.anchor=a.anchor;this.xD=a.xD;this.FC=a.FC;this.RZ=0;a=_.extend({},{yo:!0,position:"topLeft",Mf:{left:10,top:-14}},a);qz.prototype.initialize.call(this,a);0<this.FC?this.listenTo(this.Ne,"session:sync",this.uV):b0(this)};yp.prototype.uV=function(a){2==a&&(a=0===$(".modalContent").length,this.RZ++,a&&this.RZ>=this.FC&&(b0(this),this.stopListening(this.Ne,"session:sync",this.uV)))};
function b0(a){a.yi(a.anchor);c0(a);a.j&&a.j.track("dialog_show",{type:a.wg,section:"editor",subsection:"header",location:"publish_pop_over"})}function c0(a){a.anchor.one("click",function(){a.j&&Rl(a.j,a.xD,"header",a.wg+"_dialog")})}yp.prototype.Jp=function(){return d0};yp.prototype.remove=function(){this.j&&Sl(this.j,this.wg,"header","publish_pop_over");kp.prototype.remove.call(this)};function e0(a,b,c){this.context=a;this.active=!!c;this.qc=b}e0.prototype.getContext=function(){return this.context};
function f0(a){switch(a.context){case "PUBLIC_STREAM":return a.qc.format("editorControlsPublicationPublic");case "TEAM_STREAM":return a.qc.format("editorControlsPublicationShowing");case "TEAM_TEMPLATE":return a.qc.format("editorControlsPublicationTemplated");case "MARKETPLACE_LAYOUT":case "MARKETPLACE_TEXT":return a.qc.format("editorControlsPublicationMarketplace");case "PUBLICLY_REMIXABLE":return a.qc.format("editorControlsPublicationPubliclyRemixable");default:throw Error("Unknown PublicationContext "+
a.context);}}
function g0(a){switch(a.context){case "PUBLIC_STREAM":return a.qc.format("editorControlsPublicationMakeActivePublic");case "TEAM_STREAM":return a.qc.format("editorControlsPublicationMakeActiveShowTeam");case "TEAM_TEMPLATE":return a.qc.format("editorControlsPublicationMakeActivePublishAsTemplate");case "MARKETPLACE_LAYOUT":return a.qc.format("editorControlsPublicationMakeActivePublishAsLayout");case "MARKETPLACE_TEXT":return a.qc.format("editorControlsPublicationMakeActivePublishAsGroup");case "PUBLICLY_REMIXABLE":return a.qc.format("editorControlsPublicationMakePubliclyRemixable");
default:throw Error("Unknown PublicationContext "+a.context);}}e0.prototype.toggle=function(a){return new e0(this.context,this.qc,void 0!==a?a:!this.active)};var h0={PUBLIC_STREAM:2,TEAM_STREAM:0,TEAM_TEMPLATE:1},i0={PUBLIC_STREAM:"switchMakePublic",TEAM_STREAM:"switchShowTeam",TEAM_TEMPLATE:"switchPublishTemplate",MARKETPLACE_LAYOUT:"switchPublishLayout",MARKETPLACE_TEXT:"switchPublishText",PUBLICLY_REMIXABLE:"switchMakePubliclyRemixable"};function j0(){}j0=qz.extend({className:"docPublisherPopOver"});j0.prototype.initialize=function(a){qz.prototype.initialize.call(this,_.defaults(a,{Mf:{top:-4}}));this.qc=a.qc};
function k0(a,b){function c(a,c){return new e0(b[c].getContext(),d.qc,TV(a))}var d=a,e=b.map(function(a){return new SV({on:a.active})}),g=e.map(function(a,c){var e=$(d.j$({label:g0(b[c])}));e.addClass(i0[b[c].context]);a.render().$el.appendTo(e);return e}),h=a.$(".buttonContainer");g.forEach(function(a){a.insertBefore(h)});return new P(function(a,b){d.once("hide",function(d){return 2===d?a(e.map(c)):b(new l0)})})}j0.prototype.aF=_.template('\x3cp class\x3d"error"\x3e\x3c%- message %\x3e\x3c/p\x3e');
j0.prototype.j$=_.template('\x3cdiv class\x3d"switchContainer"\x3e\x3clabel\x3e\x3c%- label %\x3e\x3c/label\x3e\x3c/div\x3e');function m0(a){var b=this;this.j=a.j;this.document=a.document;this.Sa=a.Sa;this.oa=a.getSession();this.mc=a.mc;this.ud=a.ud;this.qc=a.qc;this.vL=nh(a.cj);this.pY=this.vL.map(function(c){var d=a.cj.vg.get("activePublicationContexts",[]);return new e0(c,b.qc,0<=d.indexOf(c))});this.B8=n0(this);this.G$=o0(this);this.nJ=null;this.Pi=a.cj.aM();this.mu=a.mu;this.ug=a.ug}f=m0.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;
f.stopListening=Backbone.Events.stopListening;f.LJ=function(a){return 0<a.filter(function(a){return a.active}).length&&this.document.isEmpty()?P.reject(Error(this.qc.format("editorControlsPublishErrorNoContent"))):P.resolve(a)};function p0(a){return[].concat(a.pY).map(Object.freeze)}
f.tR=function(a){var b=this,c=p0(this).slice().sort(function(a,b){return kh.indexOf(a.context)-kh.indexOf(b.context)}),d=a.slice().sort(function(a,b){return kh.indexOf(a.context)-kh.indexOf(b.context)});this.trigger("processingStateChange",!0);return gA(1E3).then(function(){return q0(b,d,c)}).tap(function(a){return r0(b,a)}).then(function(a){return a.map(function(a,b){return a?a:c[b]}).sort(function(a,c){a=b.vL.indexOf(a.getContext());c=b.vL.indexOf(c.getContext());return a-c})}).then(function(a){return b.pY=
a.slice()}).finally(function(){return b.trigger("processingStateChange",!1)})};function s0(a){var b=(new wD).by(!0);return a.Pi?TE(Db,a.Pi,b).then(function(a){return a.Ka().nh()}):null!==a.Pi?P.resolve("PENDING_REVIEW"):P.resolve(null)}function n0(a){var b={};b.PUBLIC_STREAM=a.bt.bind(a);b.TEAM_STREAM=a.GJ.bind(a);b.TEAM_TEMPLATE=a.JC.bind(a);b.MARKETPLACE_LAYOUT=a.C8.bind(a);b.MARKETPLACE_TEXT=function(){return t0(a).then(a.D8.bind(a))};b.PUBLICLY_REMIXABLE=a.A8.bind(a);return b}
function o0(a){var b={};b.PUBLIC_STREAM=a.Vx.bind(a);b.TEAM_STREAM=a.HJ.bind(a);b.TEAM_TEMPLATE=a.TC.bind(a);b.MARKETPLACE_TEXT=function(){return P.resolve()};b.MARKETPLACE_LAYOUT=function(){return P.resolve()};b.PUBLICLY_REMIXABLE=a.F$.bind(a);return b}f.GJ=function(){return this.oa.bt("BRAND")};f.bt=function(){return this.oa.bt("GLOBAL").tap(function(){var a=this.j;a.track("design_public",{design:this.oa.hc(),template:a.aj})}.bind(this))};
f.A8=function(){return wq(this.Sa,new Xt({document:this.oa.hc(),vE:new kr({nB:lr,xd:dr})}))};f.JC=function(){return this.oa.JC().tap(function(){var a=this.j;a.track("design_templatify",{design:this.oa.hc(),template:a.aj})}.bind(this))};f.HJ=function(){return this.oa.Vx("BRAND")};f.Vx=function(){return this.oa.Vx("GLOBAL").tap(function(){var a=this.j;a.track("design_private",{design:this.oa.hc(),template:a.aj})}.bind(this))};
f.F$=function(){return wq(this.Sa,new Xt({document:this.oa.hc(),vE:new kr({nB:lr,xd:Yq})}))};f.TC=function(){return this.oa.TC().tap(function(){var a=this.j;a.track("design_untemplatify",{design:this.oa.hc(),template:a.aj})}.bind(this))};
function u0(a,b,c,d,e,g){if(UT(a.document.pb()))return P.reject(new v0("You cannot publish an untitled design as a layout - please title your design."));var h=new w0({workflow:b,typeDescription:d,document:a.document,availableLocales:a.mu,userLocale:a.ug,showProgress:e,keywords:g});return new P(function(d,e){function g(b,e){"submitted"==e&&d(new e0(c,a.qc,!0))}b.on("change:state",g);h.on("remove",function(){b.off("change:state",g);e(Error("No action specified"))});h.show()})}
f.D8=function(){var a=new x0({oa:this.oa,document:this.document,mc:this.mc}),a=new y0(a.submit.bind(a),["text"]),b=this.document.fonts.slice();return u0(this,a,"MARKETPLACE_TEXT","text group",!1,b)};
function t0(a){var b=[];1<a.document.jc()&&b.push("Text groups cannot be more than one page.");var c=a.document.ia().filter(function(a){return a.mb()}).filter(function(a){return!KC(a)}),d=a.document.ia().filter(function(a){return!a.mb()}).filter(function(a){return!KC(a)});1===c.length&&0===d.length||b.push("All elements must be in the same group.");(c[0].o()>Op(a.document)||c[0].l()>Pp(a.document))&&b.push("Text groups cannot be taller or wider than the page. This includes the boundaries of each element, and not just the visible parts.");
0<a.document.fonts.slice().filter(function(a){return void 0!==SA(a)}).length&&b.push("Text groups do cannot include uploaded custom fonts.");var e=mh("#000000");a.document.ia().filter(function(a){if(a.Kd())return a.bb().filter(function(a){return a===AB||a instanceof en&&!a.equals(e)}).length}).length&&b.push("Only black color is allowed.");0<a.document.ia().filter(function(a){return!a.mb()}).filter(function(a){return!(a instanceof Kp)&&!(a instanceof oC)&&!(a instanceof ap)&&!(a instanceof qC)&&!(a instanceof
rC)}).length&&b.push("Only text elements are currently supported.");0<a.document.ia().filter(function(a){return a.mb()}).filter(function(a){return 0!==a.Ta()}).length&&b.push("Rotated groups are not currently supported.");return 0<b.length?(a="Sorry, your text group could not be published. "+b.join(" "),P.reject(new v0(a))):P.resolve()}f.C8=function(){var a=new z0({oa:this.oa,document:this.document,mc:this.mc}),a=new y0(a.submit.bind(a));return u0(this,a,"MARKETPLACE_LAYOUT","layout",!0)};
function A0(a){var b=new au({$f:a.oa.hc(),version:a.oa.fe(),$s:"MEDIUM"});return Bq(a.Sa,b)}function q0(a,b,c){var d=b.filter(function(a){return a.active}).map(function(a){return a.getContext()});return 0<d.indexOf("MARKETPLACE_LAYOUT")&&0<d.indexOf("MARKETPLACE_TEXT")?P.reject(new v0("Design cannot be both a layout and a text group.")):P.reduce(b,function(b,d,h){return B0(a,d,c[h]).then(function(a){return b.concat(a?d:null)})},[])}
function r0(a,b){!a.nJ&&0<b.filter(function(a){return a&&a.active}).length&&(a.nJ=A0(a).finally(function(){a.nJ=null}))}function B0(a,b,c){return b.active===c.active?P.resolve(!1):(a=b.active?a.B8[b.getContext()]:a.G$[b.getContext()])?a().then(function(){return!0}):P.resolve(!1)}function v0(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}v0.prototype=Object.create(Error.prototype);v0.prototype.constructor=v0;
function l0(){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message="Cancelled document publication"}l0.prototype=Object.create(Error.prototype);l0.prototype.constructor=l0;function z0(a){this.oa=a.oa;this.mc=a.mc;this.document=a.document}
z0.prototype.submit=function(a){var b=this.document.eg();if(!b)throw Error("no locale");var c=wK().NI(b);a.forEach(function(a){var e="PAID"===a.price?tK:sK,g="PAID"===a.price?"STANDARD":"FREE",h=(a.keywords||[]).map(function(a){return new nF(b||"",a)});vK(c,zK(yK(a.media).Fk(a.version),a.title).I_(a.description).MI(h).UR(e).VR(g))});kK(this.mc,this.oa.hc(),this.oa.fe(),c,function(a){if(200!=a)throw Error("success not indicated");cO()},this.document.kb().u())};function x0(a){this.oa=a.oa;this.mc=a.mc;this.document=a.document}x0.prototype.submit=function(a){w(0===a.length,"Cannot publish text groups containing new media (not yet implemented).");y(this.document.eg(),"The document requires a locale.");Fa(this.document.Pj().some(function(a){return"text"===a.toLowerCase()}),'The document requires the "text" keyword.');a=new fK({id:this.oa.hc(),version:this.oa.fe()});lK(this.mc,new gK({document:a,locale:this.document.eg()}))};function y0(a,b){uT.call(this,[{name:"start",from:"none",to:"pricing"},{name:"price",from:"pricing",to:"pricingChildren"},{name:"price",from:"pricingChildren",to:"reviewingSubmission"},{name:"submit",from:"reviewingSubmission",to:"submitted"},{name:"submit",from:"submitted",to:"submitted"},{name:"success",from:"submitted",to:"completed"},{name:"error",from:"pricing",to:"failed"},{name:"error",from:"pricingChildren",to:"failed"},{name:"error",from:"reviewingSubmission",to:"failed"},{name:"error",from:"submitted",
to:"failed"},{name:"error",from:"failed",to:"failed"}]);this.document=K;this.e$=a;this.L0=b||[];this.RJ=[]}y0.prototype=new uT;y0.prototype.start=function(){this.og.start()};function C0(a,b){b.title&&VT(a.document.pb(),b.title);b.keywords&&Np(a.document,_.union(b.keywords,a.L0));b.locale&&a.document.setLocale(b.locale);gA(O.my).then(function(){a.og.transition("price")},function(b){a.og.transition("error");throw b;})}y0.prototype.TP=function(){this.og.transition("review")};
function D0(a,b){function c(a,c){200===a&&c&&c.media&&0!==c.media.length?b(c.media):b&&b([])}a=$p(a.document).map(function(a){return a.id});0===a.length?b&&b([]):(a=tF((new sF).St(!0).Qt(!1),[Eg,Gg]).K_().SR(a),PE(Db,a,c))};function E0(a,b){return a.vg.get("editorActions",[]).map(function(a){return(a=F0[a]||null)?a(b):null})}
function G0(a,b){function c(){function b(a){return new H0({YE:h,ej:k,qf:d,dI:!1,ij:t},a)}var c=Pc(a.i),d=Gd(a.i),e=dy(ay(a.La))+cy(ay(a.La))+l;if(!(0>=a.W.G.get(Wf)-e)){var g=new I0({aa:a.aa,D:ay(a.La).ja(),uE:sm,UN:J0(a.md),Z:a.Z,cc:a.cc,pg:ay(a.La).getSubscription(),lr:by(a.La).Lb(),$o:Zc(a.i)}),h=new K0({Xd:ad(a.i)}),k=new L0,t={CK:3,vK:e,yl:a.W.G.get(Wf),vG:5},c=aaa({X:c,qf:d,pK:b,j:a.j,ij:t,Et:g});$("body").append(c.view.$el);c.Bb.Le();c.Bb.show()}}a.getSession().save();var d=M0(a.W.Oe(),a.document,
a.df.getKeys()),e=baa({i:Pc(a.i)}),g=caa({G:a.G,Xd:ad(a.i),X:Pc(a.i),mF:pc(a.i),ua:ay(a.La).ja().u(),Z:a.Z,uq:function(){a.j.va(X(new Zl("share_button_user_input_focus"),"location","editor"))}}),h=a.G.get(new Ff("nc",!1)),k=a.G.get(new Ff("nk",!1));b=daa({Fl:PV(a.getSession().hc()),H:a.H,W:a.W,it:d.it,rz:g.view,wu:e.view,i:a.i,uy:h,HC:k,nc:b});var l=0;b.once("remove",function(){0<l&&c()});return eaa({Gw:uh(a.config).KQ,QA:faa,ob:a.getSession().hc(),Zb:a.getSession().fe(),sz:a.document.isEmpty(),La:a.La,
pj:d,Y3:a.W.G.get(kg),yl:a.W.G.get(Wf),j:a.j,Sa:a.Sa,Oe:a.W.Oe(),Z:a.Z,ud:a.ud,cc:a.cc,aa:a.aa,fb:a.fb,dc:a.dc,tb:a.tb,ru:function(b,c){var d=a.getSession().hc(),e=a.document.Fb()[0].l(),g=a.document.Fb()[0].o(),h=soydata.VERY_UNSAFE.ordainSanitizedTrustedResourceUri(a.config.vg.get("embedScriptUrl",""));b=soydata.VERY_UNSAFE.ordainSanitizedHtml(mf(qd(a.i),a.document.pb()?_.escape(dP(a.document.pb())):_.escape(qd(a.i).format("newLightboxUntitled")),QV(a.getSession().hc(),null,"link","embeds"),location.protocol+
"//"+location.host+("/"+encodeURIComponent(c))+"?"+["utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent("embeds"),"utm_source\x3d"+encodeURIComponent("link")].join("\x26"),_.escape(b)));var k;k=k||{};soy.asserts.assertType(h instanceof soydata.SanitizedTrustedResourceUri||h instanceof soydata.UnsanitizedText||goog.isString(h),"embedScriptUrl",h,"soydata.SanitizedTrustedResourceUri");soy.asserts.assertType(goog.isNumber(g),"thumbnailHeight",g,"number");soy.asserts.assertType(goog.isNumber(e),
"thumbnailWidth",e,"number");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"designId",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"byLineHtml",b,"soydata.SanitizedHtml");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"canva-embed" data-height-ratio\x3d"'+soy.$$escapeHtmlAttribute(Math.round(g/e*1E4)/1E4)+'" data-design-id\x3d"'+soy.$$escapeHtmlAttribute(d)+
'" style\x3d"'+(k.Yb?"/*"+k.Yb+"*/":"")+"padding:"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(Math.round(g/e*1E4)/1E4*100))+'% 5px 5px 5px;background:rgba(0,0,0,0.03);border-radius:8px;"\x3e\x3c/div\x3e\x3cscript async src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterTrustedResourceUri(h))+'"'+(k.Yb?' nonce\x3d"'+k.Yb+'"':"")+"\x3e\x3c/script\x3e"+soy.$$escapeHtml(b)).toString()},so:a.so,Io:ou(a.getSession()),F_:a.getSession().context.hv().sl(),Sr:a.getSession().context.hv().gV(),i:a.i,H:a.H,vu:e.Bb,
ta:a.ta,Dd:N0({document:a.document,Hb:a.getSession()}),view:b,G:a.G,On:function(){l++},tp:g.Bb})}function M0(a,b,c){if(!a)return{it:!1,JI:!1};var d,e;try{e=b.serialize();d=Er(e);var g=O0(d,c),h=g.some(function(a){return a.level===P0}),k=g.some(function(a){return a.level===Q0});return{it:!h,JI:k}}catch(l){return{it:!1,JI:!1}}}
var F0={UPGRADE:function(a){var b=new R0({qc:Dc(a.i)});b.on("click",function(){var b=S0(a.md),d=ay(a.La).ja(),e=T0({aa:Bb,Z:Eb,j:a.j,D:d,Ws:b,Wp:U0,fb:a.fb,Ax:!1,Dr:!1,Si:!!a.Si,ip:!!a.ip,i:a.i,G:a.G,La:a.La,W:a.W});e.on("signup",function(){window.location=e.pH});e.show()});return b},SHARE:function(a){var b=Dc(a.i),c=new Backbone.View({tagName:"button",className:"button editorActionShare",events:{click:function(){a.j.va(X(new Zl("share_button_click"),"location","editor"));G0(a).show()}}});c.$el.text(b.am());
return c},EXPORT:function(a){var b,c;b=Dc(a.i);c=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:function(b){var c={model:a.document,W:a.W,he:-1!==["DESIGN_TUTORIAL","FREE_NEW_USER"].indexOf(a.config.uh()),Jl:function(){var b=G0(a,V0);W0(b);b.show()},j:a.j,Tc:a.Rk,ta:a.ta,Hb:a.getSession(),aa:a.aa,ud:a.ud,dc:a.dc,fb:a.fb,Z:a.Z,tb:a.tb,cc:a.cc,La:a.La,md:a.md,i:a.i,H:a.H,Xb:a.Xb,Kj:new i_({j:a.j}),Dd:N0({document:a.document,Hb:a.getSession()}),pj:M0(a.G.get(o_.eS),
a.document,a.df.getKeys()),Nh:a.config.vg.get("animatorUrl",null),G:a.G,xc:a.xc,sd:a.sd,Na:a.Na};(new o_(c)).yi($(b.target));a.j.track("download_button_click",{section:"editor",location:"menu_bar"})}}});b=b.download();c.$el.text(b);return c},PRINT:function(a){var b=gaa({tr:function(a){return(new Un(a)).render()},j:a.j,aa:a.aa,ua:ay(a.La).ja().id,Sa:a.Sa,me:a.document.kb(),bj:a.bj,ih:function(){return gA(O.my)},kh:function(){return a.document.jc()},Zm:function(){return new X0(vb.$el)},yc:function(){return new Y0({id:a.getSession().hc(),
version:a.getSession().fe()})},fV:function(){return dP(a.document.pb())},kv:function(){var a=function(){var a=[];K.ia().forEach(function(b){var c=b.R()?b.R().K():-1;switch(b.constructor){case sC:case ap:b.Xa.forEach(function(b){b instanceof nC&&!b.isEmpty()&&b.Nb()&&a.push({Us:c,EJ:b})});break;case oC:b.Nb()&&a.push({Us:c,EJ:b})}});return a}();return function(a){return new P(function(b){zL(yb,a,!1,b)})}(function(a){a=a.map(function(a){return a.Nb()});return _.uniq(a,!1,function(a){return a.u()+":"+
a.getVersion()})}(a.map(function(a){return a.EJ}).filter(function(a){a=a.Nb();a=yb.Ic(a.u(),a.getVersion());return!a||!a[pD]||!a[nD]}))).then(function(){return a.map(function(a){var b=a.EJ,c;c=b.Nb();c=yb.Ic(c.u(),c.getVersion());return{xG:{oS:c[pD],ny:c[nD]},Ba:b.dg?b.dg():b.an(),Us:a.Us}})})},Op:function(){return Z0()},mA:function(){vb.$el.removeClass("document--canPrintOnePage").removeClass("document--canPrintTwoPages")},zA:function(b,c){return haa(a.document,b,c)},bf:ay(a.La).ja().ei(),i:a.i,
iB:function(){vb.RA()},Na:a.Na,Rl:function(b){var c=new Map([["realEstateFlyer","TACQ-ujqN6g"],["posterUS","TACQ-oYd_9A"],["businessCard","TACQ-vRWTmU"],["a4","TACQ-j4WGew"],["poster","TACQ-jGq9fY"]]),g=b.id;if(null==g)throw Error("The doctype to resize must have an id");c=c.get(g);if("T"!==g[0]&&null==c)throw Error("Unexpected doctype with deprecated id format: "+g);NV({doctype:b,Xk:new gt({id:c||g,version:1}),Eb:a.document,kd:M})},v9:function(){switch(a.G.get(new Ff("nj",0))){case 1:return Dc(a.i).format("editorControlsBuyPrint");
case 2:return Dc(a.i).format("editorControlsPurchasePrint");case 3:return Dc(a.i).format("editorControlsProfessionalPrint");default:return Dc(a.i).print()}}(),tk:function(a){vb.ZH(a)},wi:function(a){vb.wi(a)},tx:function(a){var b=vb;Fa(1===a||2===a,'pageCount can be either 1 or 2 but found "{}"',a);1===a?b.$el.removeClass("document--canPrintTwoPages").addClass("document--canPrintOnePage"):2===a&&b.$el.removeClass("document--canPrintOnePage").addClass("document--canPrintTwoPages")},fb:a.fb,hm:!!a.W.G.get(og),
tf:by(a.La),G:a.G}),c=new Backbone.View;c.setElement(b.view.$el);a.document.on("change",function(){b.Bb.tO();b.Bb.mO();b.Bb.gO()});a.document.on("resize",function(){var c=a.document.kb();iaa(b.Bb,c)});return c}};F0.PUBLISH_TO_STREAM=function(a){function b(){return p0(l).filter(function(a){return a.active}).sort(function(a,b){a=h0[a.getContext()]||0;b=h0[b.getContext()]||0;return a===b?0:a>b?-1:1})[0]}function c(a){null!==a&&(a===$E?m.$el.addClass("publishToStreamSwitchForSale"):(m.$el.addClass("publishToStreamSwitchInReview"),cO()))}function d(b){var c=Dc(a.i);b instanceof Error||(b=Error(c.format("editorControlsErrorFlippingSwitch")));(new oz({title:c.format("editorControlsPublishErrorTitle"),content:$("\x3cp\x3e"+
b.message+"\x3c/p\x3e")})).show().$el.addClass("docPublisherError")}function e(b){var c=Dc(a.i),e=p0(l).map(function(a,d){return new e0(a.getContext(),c,b&&0===d?b:a.active)}),h=new j0({We:c.format("editorControlsPublicationSaveChanges"),qc:c}),k=h.remove.bind(h);return k0(h.yi(m.$el),e).then(l.LJ.bind(l)).then(l.tR.bind(l)).finally(g).tap(k).catch(l0,k).catch(d)}function g(){var a=b()||p0(l)[0];if(a){n=!0;try{var c=m,d=f0(a);c.ek=d;c.$(".switchLabelOn").text(d);m.toggle(a.active)}finally{n=!1}}}
function h(a){var b=p0(l).map(function(b){return b.toggle(a)});return l.LJ(b).then(l.tR.bind(l)).finally(g).catch(d)}var k=nh(a.config),l=new m0({j:a.j,getSession:a.getSession,document:a.document,Sa:a.Sa,mc:a.mc,ud:a.ud,qc:Dc(a.i),mu:a.mu,cj:a.config,ug:by(a.La).eg()}),m=function(){var a=p0(l),c=a[0],d=b()||c;(a=d?new SV({on:d.active,ek:f0(d),Gl:g0(c),lu:1===a.length||!d.active}):null)&&a.$el.addClass("publishToStreamSwitch");return a}(),n=!1;if(!m)return null;0<=k.indexOf("MARKETPLACE_LAYOUT")&&
s0(l).then(c);m.on("toggle",function(a){var b=p0(l),c=1<b.length?e:h;m.lu=1===b.length||!a;if(!n)return c(a)});m.on("click",function(){wb&&wb.save();m.lu||e()});l.on("processingStateChange",function(a){m.$el.toggleClass("switchProcessing",a)});a.so.on($0,function(){var a=p0(l).map(function(a){return"PUBLIC_STREAM"===a.getContext()?a.toggle(!0):a});return l.LJ(a).then(l.tR.bind(l)).finally(g).catch(d)});return m};function R0(){}R0=Backbone.View.extend({tagName:"button",className:"button buttonUpgrade"});R0.prototype.initialize=function(a){this.qc=a.qc};R0.prototype.events=function(){return{click:this.trigger.bind(this,"click")}};R0.prototype.render=function(){this.$el.html(this.template({upgrade:this.qc.UC()}));return this};R0.prototype.template=_.template('\x3cdiv class\x3d"buttonUpgradeSparkle"\x3e\x26starf;\x3c% _.times(5, function() { %\x3e\x3cspan\x3e\x3c/span\x3e\x3c% }); %\x3e\x3c/div\x3e\x3c%- upgrade %\x3e');function aP(){}aP=Backbone.View.extend({el:"#editorControls"});
aP.prototype.initialize=function(a){this.listenTo(this.model,"change:title",this.fR);this.listenTo(this.model,"resize",this.fR);this.listenTo(this.model,"change",this.E2);this.listenTo(T,"documentView:scroll",this.I2);this.listenTo(T,"documentView:copyDocument",this.JT);this.listenTo(T,"session:sync",this.iQ);this.listenTo(T,"documentSaveRequested",this.MW);this.W=a.W;this.Bg=a.Bg;this.cj=a.cj;this.oa=a.oa;this.Mu=2;this.VK=!1;this.As=Date.now();this.zI=a.zI;this.lJ=a.lJ;this.jK=a.jK;this.i=a.i;this.Rk=
a.Rk;this.j=a.j;this.cN=this.HD=!1;this.render();jaa(this)};aP.prototype.events=function(){return{"click #documentFileMenuButton":this.q1,"click #documentTitle .content":this.z1,"mousedown #documentTitle .content":function(a){a.stopPropagation();a.preventDefault();return!1},"click #documentFileMenuUndoButton":this.w1,"click #documentFileMenuRedoButton":this.u1,"click #documentFileMenuResizeButton":this.v1,"click #editorHelpMenuButton":this.s1,"click #editorLogo":this.t1}};
function kaa(){var a=Tb;a.cN=!0;LV(a,a.Mu)}function hO(){var a=Tb;a.$el.addClass("blockEditorControls");a.HD=!0}aP.dU=function(){$(".helpMenuButton").remove();aP.M3=!0};aP.A2=function(){$("#yourDesigns").remove();aP.X$=!0};aP.D9=function(a){$("#documentTitle").addClass("nonInteractive");$("#documentTitle .content").text(a);aP.GZ=a};aP.JM=function(){return void 0!==aP.GZ};f=aP.prototype;f.remove=function(){this.undelegateEvents();this.stopListening();return this};
f.render=function(){this.fR();aP.M3&&this.$(".helpMenuButton").remove();aP.JM()&&(this.$("#documentTitle").addClass("nonInteractive"),this.$("#documentTitle .content").text(aP.GZ));aP.X$&&this.$("#yourDesigns").remove();this.lJ.forEach(function(a,b){var c=a&&$("\x3cli\x3e\x3c/li\x3e");a&&(a.render().$el.addClass("prerollAnimation prerollDelay"+(b+3)).appendTo(c),$("#documentMenu").append(c))});return this};f.q1=function(a){this.j.track("editor_menu_file_clicked");a1(this,$(a.target))};
function a1(a,b){var c=a.jK();c.yi(b);a.listenTo(c,"documentSaveRequested",a.MW);a.listenTo(c,"documentResizeRequested",a.Rl);a.listenTo(c,"documentCopyRequested",a.JT);return c}f.z1=function(a){aP.JM()||(new K_({model:this.model,i:this.i})).yi($(a.currentTarget))};f.w1=function(){$("#documentBlocker").hasClass("on")||WK()};f.u1=function(){$("#documentBlocker").hasClass("on")||VK()};
f.v1=function(){this.j.track("editor_menu_magic_resize_click",{magicResizeIsEnabled:this.W.DN()});if(this.W.DN())a1(this,this.$("#documentFileMenuResizeButton")).Gg.show();else{var a=this.Rk;a.j.va(jm());Fo(a,Jo)}};f.s1=function(){this.j.track("editor_menu_help_clicked")};f.t1=function(){-1!=lh.indexOf(this.cj.uh())&&U&&Yl(U,"minichallenge_leave");this.$el.off("mouseout","#documentMenu li")};function nV(a){a.$("#primaryNavigation").removeClass("undoDisabled")}
function oV(a){a.$("#primaryNavigation").removeClass("redoDisabled")}function rV(a){0<M.kd.length?nV(a):(a.$("#primaryNavigation").addClass("undoDisabled"),a.$("#documentFileMenuUndoButton").blur());0<M.Hw.length?oV(a):(a.$("#primaryNavigation").addClass("redoDisabled"),a.$("#documentFileMenuRedoButton").blur())}f.E2=function(){rV(this)};f.I2=function(a){var b=this.$("#documentMenu");a?b.addClass("dark"):b.removeClass("dark")};
f.fR=function(){var a=this.model.pb();aP.JM()||(this.$("#documentTitle .content").text(dP(a)),this.zI&&this.zI(dP(a,{S3:!0})))};f.iQ=function(a){var b=this;2===a&&(this.As=Date.now());this.Mu=a;this.VK||(LV(this,a),window.setTimeout(function(){b.Mu!==a&&LV(b,b.Mu);b.VK=!1},600),this.VK=!0)};
function LV(a,b){var c=Dc(a.i),d=$("#documentSyncStatus");a.cN?(d.addClass("offline"),d.text(c.format("editorControlsOffline"))):(d.removeClass("offline"),a.HD?0===b&&null!=a.oa.om&&d.text(ce(c)):0===b&&null!=a.oa.om?d.text(ce(c)):1===b?d.text(c.format("editorControlsSaving")):2===b?d.text(c.format("editorControlsAllChangesSaved")):d.text(""))}f.MW=function(){this.oa.save();this.HD||null==this.oa.om||this.oa.gj()||(this.iQ(1),this.iQ(2))};f.Rl=function(a,b){NV({doctype:a,Xk:b,Eb:this.model,kd:M})};
f.JT=function(){var a=this.oa.hc(),b=ou(this.oa),c=dP(this.model.pb()),c=nc(this.i).format("documentCopyDesignTitle",c);c.length>O.Oo&&(c=c.substring(0,O.Oo));window.open(OV(a,"remix",b)+"?title\x3d"+encodeURIComponent(c),"")};function jaa(a){function b(){a1(this,this.$("#documentFileMenuButton")).Gg.show();this.Bg.ta.removeItem(Do)}Bo(a.Bg)&&hl.setTimeout(b.bind(a),1500)};function RU(){}RU=Backbone.View.extend({tagName:"div",id:"overlays",template:_.template('\x3cdiv class\x3d"mask"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotation align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotationGuide"\x3e\x3c/div\x3e')});
f=RU.prototype;f.initialize=function(a){this.Wk=a.Wk;this.i=a.i;this.listenTo(this.model,{"page:change:selected":this.render});this.WA=this.WA.bind(this);this.CE=this.CE.bind(this);this.$E=this.$E.bind(this);this.Wk.$el.on("mousedown",this.WA);this.Wk.$el.on("touchstart",this.CE);this.Wk.$el.on("touchend",this.$E);this.$el.html(this.template());this.render();this.$el.prependTo(this.Wk.$el.children(".inner"))};f.BM=function(a){(a=$(a.target).parents(".element").last().data("toolbar"))&&aE(a)};
f.events=function(){this.BM=_.debounce(this.BM,100);return{'keydown [contenteditable\x3d"true"]':this.BM}};f.remove=function(){Backbone.View.prototype.remove.call(this);this.Wk.$el.off("mousedown",this.WA);this.Wk.$el.off("touchstart",this.CE);this.Wk.$el.off("touchend",this.$E)};f.render=function(){this.model.ia().forEach(function(a){a.te&&a.$a()});return this};f.CE=function(){this.cW=!0};f.$E=function(){this.cW=!1};
f.WA=function(a,b){function c(a){n||a.shiftKey||hh();n=!0;var b=e(a)-q;a=g(a)-u;0>b&&x.css("left",v+b);0>a&&x.css("top",z+a);x.css("display","").css("width",Math.abs(b)).css("height",Math.abs(a));$(E).each(function(a,b){AV.call(b)});return!1}function d(a){H.off("mousemove|touchmove",c).off("mouseup|touchend",d);$("#marquee").remove();a.shiftKey&&t.forEach(wV);n&&(a=K.Wa(),0===a.length?hh():1==a.length?(hh(),Bg(a[0])):EK(zc(h.i),Bc(h.i)))}function e(a){a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;
return a-=p.left}function g(a){a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;return a-=p.top}var h=this;if(h.cW||a.which==O.Kh||a.ctrlKey)return!0;var k=$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, .bg, .elements"),l=$(a.target).is(".elements .background.image.element, .elements .background.image.element img"),m=$(a.target).closest(".elements .element").data("canvaElement"),m=m&&m.Fg();if(!(k||l||m||b))return!0;if($(".toolbar__item--submenuExpanded, .colorPalette.on.toolbar--overlay").length)return T.trigger("hideContextualControlsRequested"),
!0;var n=!1,p=$("#canvaDocument").offset(),q=e(a),u=g(a);b=document.getElementById("canvaDocument");var v=q+b.scrollLeft,z=u+b.scrollTop,t=K.Wa();$(a.target).is("input")||$("*:focus").blur();a.shiftKey||hh();var x=$('\x3cdiv id\x3d"marquee"\x3e\x3c/div\x3e');x.css("display","none").css("left",v).css("top",z).appendTo(this.$el);var H=new fp($(document));H.on("mousemove|touchmove",c).on("mouseup|touchend",d);var E=$("#content .element");T_(h.Wk);a.preventDefault()};function laa(a){soy.asserts.assertType(goog.isString(a.jm)||a.jm instanceof goog.soy.data.SanitizedContent,"actionCopy",a.jm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.km)||a.km instanceof goog.soy.data.SanitizedContent,"actionDelete",a.km,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.lm)||a.lm instanceof goog.soy.data.SanitizedContent,"actionMoveDown",a.lm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.mm)||
a.mm instanceof goog.soy.data.SanitizedContent,"actionMoveUp",a.mm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.xn)||1===a.xn||0===a.xn,"isFirst",a.xn,"boolean");soy.asserts.assertType(goog.isBoolean(a.yn)||1===a.yn||0===a.yn,"isLast",a.yn,"boolean");soy.asserts.assertType(goog.isBoolean(a.An)||1===a.An||0===a.An,"isPageNumMax",a.An,"boolean");soy.asserts.assertType(goog.isNumber(a.sB),"pageNumber",a.sB,"number");soy.asserts.assertType(goog.isBoolean(a.Ho)||1===
a.Ho||0===a.Ho,"toolbarDisabled",a.Ho,"boolean");return soydata.VERY_UNSAFE.ordainSanitizedHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"crops"\x3e\x3cdiv class\x3d"tlcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"trcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"brcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"blcrop"\x3e\x3c/div\x3e\x3c/div\x3e')+b1({v:"page__bleedAreaLine"})+'\x3cdiv class\x3d"page__clipRegion"\x3e\x3cdiv class\x3d"page__content"\x3e\x3cdiv class\x3d"page__elements elements"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"page__overlays"\x3e\x3cdiv class\x3d"page__furniture"\x3e\x3c/div\x3e'+
b1({v:"page__safeAreaLine"})+'\x3c/div\x3e\x3cdiv class\x3d"page__editBlocker"\x3e\x3c/div\x3e'+maa(a))}
function maa(a){soy.asserts.assertType(goog.isString(a.jm)||a.jm instanceof goog.soy.data.SanitizedContent,"actionCopy",a.jm,"string|goog.soy.data.SanitizedContent");var b=a.jm;soy.asserts.assertType(goog.isString(a.km)||a.km instanceof goog.soy.data.SanitizedContent,"actionDelete",a.km,"string|goog.soy.data.SanitizedContent");var c=a.km;soy.asserts.assertType(goog.isString(a.lm)||a.lm instanceof goog.soy.data.SanitizedContent,"actionMoveDown",a.lm,"string|goog.soy.data.SanitizedContent");var d=a.lm;
soy.asserts.assertType(goog.isString(a.mm)||a.mm instanceof goog.soy.data.SanitizedContent,"actionMoveUp",a.mm,"string|goog.soy.data.SanitizedContent");var e=a.mm;soy.asserts.assertType(goog.isBoolean(a.xn)||1===a.xn||0===a.xn,"isFirst",a.xn,"boolean");var g=!!a.xn;soy.asserts.assertType(goog.isBoolean(a.yn)||1===a.yn||0===a.yn,"isLast",a.yn,"boolean");var h=!!a.yn;soy.asserts.assertType(goog.isBoolean(a.An)||1===a.An||0===a.An,"isPageNumMax",a.An,"boolean");var k=!!a.An;soy.asserts.assertType(goog.isNumber(a.sB),
"pageNumber",a.sB,"number");var l=a.sB;soy.asserts.assertType(goog.isBoolean(a.Ho)||1===a.Ho||0===a.Ho,"toolbarDisabled",a.Ho,"boolean");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cmenu class\x3d"pageToolbar '+soy.$$escapeHtmlAttribute(a.Ho?"disabled":"")+'"\x3e\x3cli class\x3d"pageToolbarUp '+soy.$$escapeHtmlAttribute(g?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e'+soy.$$escapeHtml(e)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDown '+
soy.$$escapeHtmlAttribute(h?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+soy.$$escapeHtml(d)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarCopy '+soy.$$escapeHtmlAttribute(k?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e'+soy.$$escapeHtml(b)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDelete '+soy.$$escapeHtmlAttribute(g&&h?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(c)+
'"\x3e'+soy.$$escapeHtml(c)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageNumber"\x3e'+soy.$$escapeHtml(l)+"\x3c/li\x3e\x3c/menu\x3e")}
function b1(a){soy.asserts.assertType(goog.isString(a.v)||a.v instanceof goog.soy.data.SanitizedContent,"classes",a.v,"string|goog.soy.data.SanitizedContent");var b=a.v;soy.asserts.assertType(null==a.highlighted||goog.isBoolean(a.highlighted)||1===a.highlighted||0===a.highlighted,"highlighted",a.highlighted,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"page__printLine'+(a.highlighted?" page__printLine--highlight":"")+" "+soy.$$escapeHtmlAttribute(b)+'"\x3e\x3cdiv class\x3d"page__printLineInner"\x3e\x3c/div\x3e\x3c/div\x3e')}
;function O_(){}O_=Backbone.View.extend({tagName:"section",className:"page"});O_.z2=function(){$(".pageToolbar").addClass("disabled").hide();$(".pageToolbarCopy").removeClass("enabled").addClass("disabled");O_.K7=!0};f=O_.prototype;f.events=function(){return{"mousedown .page__elements":this.WN,"mouseout .pageToolbar":this.B4,"click .pageToolbarCopy.enabled":this.P1,"click .pageToolbarDelete.enabled":this.Q1,"click .pageToolbarDown.enabled":this.R1,"click .pageToolbarUp.enabled":this.S1,click:this.G1}};
f.initialize=function(a){this.iP=null;this.Gq="";this.Ss=a.Ss;this.hP=a.hP;this.listenTo(T,"documentView:zoom",this.WK);this.listenTo(this.model,{change:this.Z1,"change:background":this.YS,"change:selected":this.aZ,"change:preview":this.r8,"element:add":this.R2,"element:move":this.T2,"element:remove":this.U2,resize:this.b9,willchange:this.a2});this.listenTo(this.model.Eb,{"page:add":this.UK,"page:move":this.UK,"page:remove":this.UK});this.render()};
f.render=function(){var a=this.model.Eb,b=this.model.K();this.$el.html(laa({jm:this.Ss.jm(),km:this.Ss.km(),lm:this.Ss.lm(),mm:this.Ss.mm(),sB:b+1,xn:!!a&&0==b,yn:!!a&&b==a.Fb().length-1,An:!!a&&a.Fb().length>=O.ly,Ho:!!O_.K7}).toString());this.WK();this.aZ(0,Qp(a)===b);this.YS();return this};function HC(a){var b=parseFloat(a.$el.css("left"));a=a.$el.find(".page__content").position().left;return b+a}
function MC(a){var b=parseFloat(a.$el.css("top"));a=a.$el.find(".page__content").position().top;return b+a}f.hM=function(){return parseFloat(this.$el.css("left"))};function P_(a,b){a.$el.css("top",b)}function X_(a,b,c){a.$el.css("left",b);P_(a,c)}
f.WN=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-g;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-h;!k&&(Math.abs(b)>O.Fc||Math.abs(a)>O.Fc)&&(k=!0)}function c(){l.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!(k||0<e.Wa().length)){var a=Tp(e),d=oP(e);0!==d.length?Bg(d.pop()):0<a.length&&aL(a)}}function d(){var b=$(a.target).closest(".element.grid").data("canvaElement");return b&&b.Fg()}if(a.target===a.currentTarget||
0!==$(a.target).closest(".element.background.image").length||d()){var e=this.model;if(!(0<e.Wa().length)){var g=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,h=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,k=!1,l=new fp($(document));l.on("mousemove|touchmove",b).on("mouseup|touchend",c)}}};f.G1=function(a){if(!(0<$(a.target).parents(".pageToolbar").length)){a=this.model.Eb;var b=cp(a,this.model);Ip(a,b)}};
f.S1=function(){var a=this.model.Eb;if(a){var b=this.model.K();1>b||(Vp(a,this.model,b-1),M.register(new wO(5,{pageIndex:b-1,oldPageIndex:b})),T_(vb))}};f.R1=function(){var a=this.model.Eb;if(a){var b=this.model.K();b>=a.Fb().length-1||(Vp(a,this.model,b+1),M.register(new wO(5,{pageIndex:b+1,oldPageIndex:b})),T_(vb))}};
f.P1=function(){T.trigger("pageView:copyButton:click");var a=this.model.K(),b=this.model.clone();Vp(this.model.Eb,b,a+1);b=uO(this.model.serialize());b.pageIndex=a+1;M.register(new wO(1,b));T_(vb)};f.Q1=function(){T.trigger("pageView:deleteButton:click");var a=this.model.K(),b=uO(this.model.serialize());b.pageIndex=a;this.model.remove();M.register(new wO(2,b));T_(vb)};f.B4=function(a){0==$(a.relatedTarget||a.toElement).closest(".pageToolbar").length&&T.trigger("pageView:toolbar:mouseout")};
f.a2=function(){this.Xs&&this.Xs.remove();this.Xs=this.$el.clone();this.Xs.addClass("doNotAnimate").insertAfter(this.$el)};f.Z1=function(){var a=this;window.setTimeout(function(){a.$el.addClass("on").css("opacity","");a.Xs.remove()},800);this.Xs&&0<this.Xs.parents().length&&this.$el.css("opacity",1).removeClass("on").insertAfter(this.Xs)};f.YS=function(){this.model.Gf()?this.$el.addClass("dark"):this.$el.removeClass("dark")};f.aZ=function(a,b){this.$el.toggleClass("selected",b)};
f.R2=function(a,b,c,d){function e(){hh();g.removeClass("dropping");Bg(b);g.hasClass("text")&&LK(g,!0)}var g=b.C(),h=c1(this,b),h=h&&h.C();c&&(g.one("animationend",e),b.setPosition((a.l()-b.l())/2,(a.o()-b.o())/2),g.addClass("dropping"));d&&g.addClass("appearing");b instanceof tC?g.appendTo(this.$el.find(".page__furniture")):h&&h.closest(".page").length?g.insertBefore(h):g.appendTo(this.$el.find(".page__elements"));b.te=this.$el;b.ab()};
function c1(a,b){b=a.model.elements.indexOf(b);return a.model.ia().slice(b+1).filter(function(a){return!(a instanceof tC)&&!KC(a)})[0]}f.U2=function(a,b,c,d){var e=b.C();b.yh();d?(e.addClass("disappearing"),P.delay(O.Ca.kL).then(function(){e.remove()})):e.remove()};f.T2=function(a,b){KC(b)||(a=b.C(),(b=c1(this,b))?a.insertBefore(b.C()):a.appendTo(this.$el.find(".page__elements")))};
f.UK=function(){this.$(".pageNumber").text((this.model.K()+1).toString());this.$("li").removeClass("disabled").addClass("enabled");var a=this.model.Eb,b=this.model.K(),c=a&&0==b,a=a&&b==a.Fb().length-1;c&&this.$(".pageToolbarUp").removeClass("enabled").addClass("disabled");a&&this.$(".pageToolbarDown").removeClass("enabled").addClass("disabled");c&&a&&this.$(".pageToolbarDelete").removeClass("enabled").addClass("disabled");vb.model.Fb().length>=O.ly&&this.$(".pageToolbarCopy").removeClass("enabled").addClass("disabled")};
f.WK=function(){d1(this);var a=this.model.o()*W,b=this.$(".pageToolbar");this.$el.find(".page__content").css("width",this.model.l()*W).css("height",a);if(a>O.B0){b.addClass("vertical");var c=a/2+Qb+O.A0;c>a?b.css("margin-top",+Qb-(c-a)):b.css("margin-top","")}else b.removeClass("vertical").css("margin-top","");b.data("leftOffset")||(a=this.model.kb(),a=qv(a)+tv(a)-this.model.l(),b.data("leftOffset",a));a=b.data("leftOffset");0<a&&b.css("margin-left",a*W)};
f.pa=function(){var a=this.$(".pageToolbar"),a=a.is(":visible")?Math.round(a.outerWidth(!0)):0;return Bm(Xg(this),a,0)};function Y_(a){var b=a.$(".pageToolbar"),b=b.is(":visible")?Math.round(b.outerWidth(!0)):0;return Bm(Z_(a),b,0)}function Xg(a){return new V(HC(a),MC(a),parseInt(a.$el.find(".page__content").css("width"),10),parseInt(a.$el.find(".page__content").css("height"),10))}
function Z_(a){if(!a.model||!a.model.kb())return new V(0,0,0,0);var b=a.model.kb(),c=Rg(b.sb),d=tv(b)-c.l(),b=sv(b)-c.o(),d=parseInt(a.$el.find(".page__content").css("width"),10)+Math.round(d*W),b=parseInt(a.$el.find(".page__content").css("height"),10)+Math.round(b*W);if(isNaN(d)||!isFinite(d)||0>=d)d=c.l();if(isNaN(b)||!isFinite(b)||0>=b)b=c.o();return new V(HC(a),MC(a),d,b)}
O_.JJ=function(a,b,c){return b?(b=Rg(a.sb).o(),c=y(c,"Cannot draw print markings without a PaperSize"),c=O_.jT(b,c),a=sv(a)-b,b+Math.max(a,2*c.xr)):sv(a)};O_.prototype.b9=function(){this.WK();this.model.ia().forEach(function(a){a.ab()})};
O_.prototype.r8=function(){var a=this,b=this.Gq;(this.Gq=this.model.Gq)?this.$el.find(".page__content").css("background-image","url("+this.Gq+")").css("background-size","cover"):b?window.setTimeout(function(){a.$el.find(".page__content").css("background-image","none").css("background-size","")},300):this.$el.find(".page__content").css("background-image","none").css("background-size","")};
O_.prototype.wi=function(a){this.$el.toggleClass("page--printMarkingsEnabled",a);a&&y(this.iP,"Cannot enable print markings without print markings sizes");d1(this)};O_.prototype.Dw=function(){return this.$el.hasClass("page--printMarkingsEnabled")};O_.jT=function(a,b){a/=b.Vj;return{xr:a*O_.aJ,i9:a*O_.aJ}};
function d1(a){if(a.Dw()){var b=y(a.iP,"Cannot draw print markings without print markings sizes"),c=b.i9*W,b=b.xr*W;a.$el.find(".page__safeAreaLine").css("top",c+"px").css("right",c+"px").css("bottom",c+"px").css("left",c+"px");a.$el.find(".page__clipRegion").css("padding",b+"px");a.$el.find(".page__overlays").css("top",b+"px").css("right",b+"px").css("bottom",b+"px").css("left",b+"px")}else a.$el.find(".page__safeAreaLine").css("padding",""),a.$el.find(".page__clipRegion").css("padding",""),a.$el.find(".page__furniture").css("padding",
"")}function vN(a,b){a.$el.find(".page__elements").append(b)}function sV(a,b){a.$el.find(".page__elements").prepend(b)}function GV(a,b){a.$el.find(".page__content").append(b)}O_.prototype.ZH=function(a){this.iP=O_.jT(this.model.o(),a);d1(this)};O_.aJ=3175;function naa(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var b=a.title;soy.asserts.assertType(goog.isString(a.qg)||a.qg instanceof goog.soy.data.SanitizedContent,"subtitle",a.qg,"string|goog.soy.data.SanitizedContent");var c=a.qg;soy.asserts.assertType(goog.isString(a.Jx)||a.Jx instanceof goog.soy.data.SanitizedContent,"step1Label",a.Jx,"string|goog.soy.data.SanitizedContent");var d=a.Jx;
soy.asserts.assertType(a.xC instanceof soydata.SanitizedHtml||a.xC instanceof soydata.UnsanitizedText||goog.isString(a.xC),"step1Html",a.xC,"soydata.SanitizedHtml");var e=a.xC;soy.asserts.assertType(goog.isString(a.Kx)||a.Kx instanceof goog.soy.data.SanitizedContent,"step2Label",a.Kx,"string|goog.soy.data.SanitizedContent");var g=a.Kx;soy.asserts.assertType(a.Bt instanceof soydata.SanitizedHtml||a.Bt instanceof soydata.UnsanitizedText||goog.isString(a.Bt),"step2Html",a.Bt,"soydata.SanitizedHtml");
a=a.Bt;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"popupBlockedHeader"\x3e\x3ch1 class\x3d"popupBlockedTitle"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3ch2 class\x3d"popupBlockedSubTitle"\x3e'+soy.$$escapeHtml(c)+'\x3c/h2\x3e\x3c/header\x3e\x3col class\x3d"popupBlockedSteps"\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3e'+soy.$$escapeHtml(d)+'\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e'+soy.$$escapeHtml(e)+'\x3c/p\x3e\x3c/li\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3e'+
soy.$$escapeHtml(g)+'\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e'+soy.$$escapeHtml(a)+"\x3c/p\x3e\x3c/li\x3e\x3c/ol\x3e")};function wZ(){}wZ=kp.extend({className:"popupBlocked"});wZ.v0={Chrome:!0,IE:!0};wZ.h$=function(a){return a in wZ.v0};wZ.prototype.initialize=function(a){kp.prototype.initialize.call(this,{H:hl,hf:!1,yo:!1});this.um=a.um;this.i=a.i};wZ.prototype.events=function(){return{"click .popupBlockedFileMenuLink":this.ok}};
wZ.prototype.render=function(){kp.prototype.render.call(this);var a,b;switch(this.um){case "Chrome":a=this.i.Ga("popupBlockedDialogChromeStep1Html");b="popupBlockedChrome";break;case "IE":a=this.i.Ga("popupBlockedDialogIeStep1Html");b="popupBlockedIE";break;default:throw Error('Unsupported browser "'+this.um+'"');}this.$(".content").html(naa({title:this.i.title(),qg:this.i.qg(),Jx:this.i.Jx(),xC:a,Kx:this.i.Kx(),Bt:this.i.Bt()}).toString());this.$el.addClass(b);return this};
wZ.prototype.show=function(){kp.prototype.show.call(this);var a=this.$el.parent().prevAll(".modalContent:not(.modalContentPreviousSibling)");a.addClass("modalContentPreviousSibling");this.once("remove",function(){a.removeClass("modalContentPreviousSibling")});return this};function w0(){}
w0=Backbone.View.extend({id:"submitLayoutDialog",template:_.template('\x3cdiv class\x3d"dialog preparing"\x3e\x3cdiv class\x3d"flowProgress"\x3e\x3c/div\x3e\x3ch2 class\x3d"dialogTitle"\x3eSubmit your \x3c%\x3d typeDescription %\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c/div\x3e'),w4:_.template('\x3cfieldset class\x3d"appears layoutMetadata"\x3e\x3clabel\x3eTitle of your \x3c%\x3d typeDescription %\x3e\x3c/label\x3e\x3cinput class\x3d"layoutMetadataTitle textInput" name\x3d"layoutTitle" value\x3d"\x3c%\x3d title %\x3e"\x3e\x3clabel\x3eKeywords (comma separated)\x3c/label\x3e\x3ctextarea class\x3d"layoutMetadataKeywords textInput" name\x3d"layoutKeywords" rows\x3d"3" placeholder\x3d"Help your \x3c%\x3d typeDescription %\x3e to be found when searching"\x3e\x3c%\x3d keywords %\x3e\x3c/textarea\x3e\x3clabel\x3eLocale\x3c/label\x3e\x3cdiv class\x3d"submitLayoutClear"\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"layoutMetadataLocale"\x3e\x3c% locales.forEach(function(locale) { %\x3e\x3coption data-locale\x3d"\x3c%- locale.key %\x3e" \x3c%- locale.key \x3d\x3d\x3d documentLocale ? "selected" : "" %\x3e\x3e\x3c%- locale.description %\x3e\x3c/option\x3e\x3c% }); %\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e'),h1:_.template('\x3cfieldset class\x3d"appears elementMetadata"\x3e\x3cdiv class\x3d"thumb"\x3e\x3c%\x3d thumb %\x3e\x3c/div\x3e\x3cdiv class\x3d"labels"\x3e\x3clabel for\x3d"elementTitle\x3c%\x3d index %\x3e"\x3eTitle\x3c/label\x3e\x3clabel for\x3d"elementDescription\x3c%\x3d index %\x3e"\x3eDescription\x3c/label\x3e\x3clabel for\x3d"elementKeywords\x3c%\x3d index %\x3e"\x3eKeywords\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"inputs"\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataMedia" name\x3d"elementMedia\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d media %\x3e" /\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataVersion" name\x3d"elementVersion\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d version %\x3e" /\x3e\x3cinput class\x3d"elementMetadataTitle" name\x3d"elementTitle\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataDescription" name\x3d"elementDescription\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataKeywords" name\x3d"elementKeywords\x3c%\x3d index %\x3e" /\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"elementMetadataPrice" name\x3d"elementPrice\x3c%\x3d index %\x3e" id\x3d"elementPriceSelect"\x3e\x3coption value\x3d"FREE"\x3eFREE\x3c/option\x3e\x3coption value\x3d"PAID"\x3ePAID\x3c/option\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e')});
f=w0.prototype;f.events=function(){return{"click .button.ok":this.ok,"click .button.reviewElements":this.TP,"click .button.submitChildrenMetadata":this.c$,"click .button.submitMetadata":this.d$,"click .close":this.cancel}};f.remove=function(){var a=this;this.$(".dialog").addClass("disappearing");this.Od.hide();this.trigger("hide");window.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},300)};
f.initialize=function(a){function b(){c.Ih.cancel();c.off("hide",b)}var c=this;this.Od=new ez({style:fz,H:hl});this.listenTo(this.Od,"maskClick",this.cancel);this.document=a.document;this.Ih=a.workflow;this.Tx=a.typeDescription;this.wZ=a.showProgress;this.vd=a.keywords;this.on("hide",b);this.xW=new e1({Z9:Object.freeze([{v:["pricing"],label:this.Tx},{v:["pricingChildren"],label:"Media"},{v:["complete"],label:"Complete"}])});this.listenTo(this.Ih,"change:state",this.j7);var d=a.availableLocales||{};
this.locales=Object.keys(d).sort().map(function(a){return{key:a,description:d[a]}});this.ug=a.userLocale};f.render=function(){this.$el.html(this.template({typeDescription:this.Tx}));return this};function f1(a,b,c){b=$('\x3cform class\x3d"metadataForm"\x3e'+b+"\x3c/form\x3e");a.$(".content").empty().append(b);g1(a);oaa(a,c)}
function paa(a){var b=a.document.pb(),c=a.vd&&0<a.vd.length?a.vd:a.document.Pj(),d=a.document.eg();0===c.length&&(c=TT(b));d||(d=a.ug?a.ug:a.locales[0].key);b=a.w4({title:b.rl(),typeDescription:a.Tx,keywords:c.join(", "),locales:a.locales,documentLocale:d});window.setTimeout(function(){a.$(".dialog").removeClass("preparing")},300);f1(a,b,"submitMetadata")}
function qaa(a){function b(a,b){var c=a.Ka(),l=c.ic()[nD],m=new V(0,0,l.l(),l.o());fh(m,e);m="width:"+m.l()+"px;height:"+m.o()+"px;margin-top:"+m.w()+"px;margin-left:"+m.F()+"px;";m=$('\x3cimg class\x3d"thumbImage" style\x3d"'+m+'"\x3e');m.attr("src",l.na());return d.h1({media:a.u(),version:c.getVersion(),index:b,thumb:m.clone().wrap("\x3cdiv\x3e\x3c/div\x3e").parent().html()})}function c(){window.setTimeout(function(){d.$(".thumbImage").addClass("appeared")},1E3)}var d=a,e=new V(0,0,118,118);D0(a.Ih,
function(a){a&&0!==a.length?(d.$(".dialog").css("width","45em"),f1(d,a.map(b).join(""),"submitChildrenMetadata"),2<a.length&&(d.$(".metadataForm").css("height","24em").addClass("scrolling"),d.$(".content").prepend('\x3cp class\x3d"elementCount"\x3ePlease provide information for these '+a.length+" elements. Scroll down.\x3c/p\x3e")),c()):(a=d.Ih,a.RJ=[],a.og.transition("price"))})}function g1(a){window.setTimeout(function(){a.$(".appears").addClass("appeared")},300)}
function raa(a){a.$(".dialog").css("width","30em");a.$(".dialogTitle").text(a.Tx+" submitted!");a.$(".content").html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3e\x3cstrong\x3eYour '+a.Tx+" has been submitted!\x3c/strong\x3e\x3cbr\x3e\x3c/p\x3e\x3c/div\x3e");window.setTimeout(function(){var b=$('\x3cdiv class\x3d"appears button ok awesome"\x3eAwesome!\x3c/div\x3e');a.$(".content").append(b);g1(a)},300)}
function oaa(a,b){var c=$('\x3cdiv class\x3d"appears button forward '+b+'"\x3eNext \x26rarr;\x3c/div\x3e');window.setTimeout(function(){a.$(".content").append(c);g1(a)},300)}
f.j7=function(a,b){switch(b){case "pricing":paa(this);break;case "pricingChildren":qaa(this);break;case "reviewingSubmission":a=this.Ih;a.og.transition("submit");try{a.e$(a.RJ),a.og.transition("success")}catch(c){throw a.og.transition("error"),c;}break;case "submitted":this.$(".dialog").css("width","30em");this.$(".content").html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3e\x3cstrong\x3eYour '+this.Tx+" is being packaged up for our reviewers.\x3c/strong\x3e\x3cbr\x3e\x3c/p\x3e\x3c/div\x3e");break;
case "completed":raa(this);break;case "failed":this.$(".dialog").css("width","30em"),a=this.$(".content"),a.html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3eSomething went wrong submitting your design.\x3cbr\x3e\x3cbr\x3ePlease try again later.\x3c/p\x3e\x3c/div\x3e'),a.find(".reviewNotice").css("text-align","center")}this.xW.render(b)};f.show=function(){this.render();this.Od.show(this.el);this.wZ&&this.xW.show(this.$el.find(".flowProgress"));this.Ih.start()};f.cancel=function(){this.remove()};
f.ok=function(){this.remove()};f.d$=function(){var a=this;saa(this.$(".layoutMetadata"),function(b){C0(a.Ih,b)})};f.TP=function(){this.Ih.TP()};f.c$=function(){var a=[],b=this,c=this.$(".elementMetadata"),d=_.after(c.length,function(){var c=b.Ih;c.RJ=a;c.og.transition("price")});c.each(function(){var b=$(this);taa(b,function(b){a.push(b);d()})})};
function taa(a,b){var c=""+a.find(".elementMetadataMedia").val(),d=parseFloat(""+a.find(".elementMetadataVersion").val()),e=""+a.find(".elementMetadataTitle").val(),g=""+a.find(".elementMetadataDescription").val(),h=h1(""+a.find(".elementMetadataKeywords").val());a=a.find(".elementMetadataPrice").val();b({media:c,version:d,title:e,description:g,keywords:h,price:a})}
function saa(a,b){var c=a.find(".layoutMetadataTitle").val(),d=h1(""+a.find(".layoutMetadataKeywords").val());a=a.find(".layoutMetadataLocale :selected").data("locale");b({title:c,keywords:d,locale:a})}function h1(a){return a?a.split(/[,;]+/g).filter(Boolean).map(function(a){return a.trim()}):[]};function i1(a,b){b=b||{};soy.asserts.assertType(goog.isNumber(a.progress),"progress",a.progress,"number");var c=a.progress;soy.asserts.assertType(null==a.DB||a.DB instanceof goog.soy.data.SanitizedContent||goog.isString(a.DB),"progressSpeed",a.DB,"null|string|undefined");var d=a.DB;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");a=a.v;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"loadingBar'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e\x3cspan class\x3d"loadingBar__value" data-progress\x3d"'+soy.$$escapeHtmlAttribute(c)+'"'+(d?' data-progress-speed\x3d"'+soy.$$escapeHtmlAttribute(d)+'"':"")+' style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+"transform: translateX("+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(100*c))+'%)"\x3e\x3c/span\x3e\x3c/div\x3e')};function j1(a){this.$el=a;this.value=a.find(".loadingBar__value")}r(j1,gc);function k1(a){var b=new j1(a);il(function(){b.Ew()});return b}j1.prototype.remove=function(){l1(this);gc.prototype.remove.call(this)};j1.prototype.jZ=function(a){a=Math.max(Math.min(a,1),0);l1(this);this.value.css("transition","none");this.hr(a);this.Ew()};j1.prototype.hr=function(a){this.value.attr("data-progress",a).css("transform","translateX("+100*a+"%)")};
j1.prototype.Ew=function(){var a=this;il(function(){a.value.css("transition","");var b=parseFloat(a.value.attr("data-progress")),c=.33*(.99-Math.min(.99,parseFloat(a.value.attr("data-progress"))));a.hr(b+c);uaa(a)})};function vaa(a){a=a.value.attr("data-progress-speed")||m1;switch(a){case n1:return 5E3;case m1:return 3E3;case waa:return 1E3;default:throw Error("Expected LoadingBarView.ProgressSpeed, found "+a);}}
function uaa(a){var b=window.setTimeout(function(){return a.Ew()},1.1*vaa(a));a.value.attr("data-timeout-id",b)}function l1(a){a=parseInt(a.value.attr("data-timeout-id"),10);window.clearTimeout(a)}var n1="SLOW",m1="NORMAL",waa="FAST";function o1(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");var d=a.heading;soy.asserts.assertType(null==a.caption||a.caption instanceof goog.soy.data.SanitizedContent||goog.isString(a.caption),
"caption",a.caption,"null|string|undefined");var e=a.caption;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"settingsGroup '+soy.$$escapeHtmlAttribute(null==(b=a.v)?"":b)+'"\x3e\x3ch2 class\x3d"settingsGroup__heading"\x3e'+soy.$$escapeHtml(d)+"\x3c/h2\x3e"+(e?'\x3cdiv class\x3d"settingsGroup__caption"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":
"")+'\x3cdiv class\x3d"settingsGroup__content"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/section\x3e")}
function p1(a){soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var b=a.content;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==
a.caption||a.caption instanceof goog.soy.data.SanitizedContent||a.caption instanceof soydata.SanitizedHtml||a.caption instanceof soydata.UnsanitizedText||goog.isString(a.caption),"caption",a.caption,"?soydata.SanitizedHtml|string|undefined");var d=a.caption;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var e=a.v;soy.asserts.assertType(null==a.Ua||goog.isBoolean(a.Ua)||1===a.Ua||0===a.Ua,"column",a.Ua,"boolean|null|undefined");
var g=a.Ua;soy.asserts.assertType(null==a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var h=a.error;soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var k=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"settingContainer'+
(g?" settingContainer--column":"")+(e?" "+soy.$$escapeHtmlAttribute(e):"")+(h?" settingContainer--error":"")+'"'+(c?" "+soy.$$filterHtmlAttributes(c):"")+'\x3e\x3cdiv class\x3d"settingContainer__settingInfo"\x3e'+(k?'\x3ch3 class\x3d"settingContainer__settingLabel"\x3e'+soy.$$escapeHtml(k)+"\x3c/h3\x3e":"")+(d?'\x3cdiv class\x3d"settingContainer__settingCaption"\x3e'+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+'\x3cdiv class\x3d"settingContainer__errorContainer"\x3e'+(h?xaa(a):"")+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"settingContainer__settings"\x3e'+
soy.$$escapeHtml(b)+"\x3c/div\x3e\x3c/section\x3e")}function xaa(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingContainer__error"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")}
function q1(a){soy.asserts.assertType(a.input instanceof soydata.SanitizedHtml||a.input instanceof soydata.UnsanitizedText||goog.isString(a.input),"input",a.input,"soydata.SanitizedHtml");var b=a.input;soy.asserts.assertType(null==a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var c=a.error;soy.asserts.assertType(null==
a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.lA||a.lA instanceof soydata.SanitizedHtml||a.lA instanceof soydata.UnsanitizedText||goog.isString(a.lA),"help",a.lA,"?soydata.SanitizedHtml|string|undefined");var e=a.lA;soy.asserts.assertType(null==a.info||a.info instanceof goog.soy.data.SanitizedContent||a.info instanceof soydata.SanitizedHtml||a.info instanceof soydata.UnsanitizedText||goog.isString(a.info),
"info",a.info,"?soydata.SanitizedHtml|string|undefined");var g=a.info;soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var h=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingContainer__input '+soy.$$escapeHtmlAttribute(null==d?"":d)+'"\x3e'+(h||e?'\x3cdiv class\x3d"settingContainer__inputAbove"\x3e'+(h?'\x3clabel class\x3d"settingContainer__inputLabel"\x3e'+soy.$$escapeHtml(h)+
"\x3c/label\x3e":"")+(e?'\x3cspan class\x3d"settingContainer__inputHelp"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e":"")+"\x3c/div\x3e":"")+soy.$$escapeHtml(b)+'\x3cdiv class\x3d"settingContainer__inputBelow"\x3e\x3cdiv class\x3d"settingContainer__inputErrorContainer"\x3e'+(c?r1(a):"")+"\x3c/div\x3e"+(g?'\x3cspan class\x3d"settingContainer__inputInfo"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e":"")+"\x3c/div\x3e\x3c/div\x3e")}
function r1(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingContainer__inputError"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")}
function s1(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingContainer__hiddenInputs'+(d?" settingContainer__hiddenInputs--visible":"")+" "+soy.$$escapeHtmlAttribute(null==(b=a.v)?"":b)+'"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e")}
function t1(a){soy.asserts.assertType(a.buttons instanceof soydata.SanitizedHtml||a.buttons instanceof soydata.UnsanitizedText||goog.isString(a.buttons),"buttons",a.buttons,"soydata.SanitizedHtml");var b=a.buttons;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.Ua||goog.isBoolean(a.Ua)||1===a.Ua||0===a.Ua,"column",a.Ua,"boolean|null|undefined");var d=a.Ua;soy.asserts.assertType(null==
a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var e=a.error;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingsFormActions '+(d?" settingsFormActions--column":"")+" "+soy.$$escapeHtmlAttribute(null==c?"":c)+'"\x3e\x3cdiv class\x3d"settingsFormActions__errorContainer"\x3e'+(e?u1(a):"")+'\x3c/div\x3e\x3cdiv class\x3d"settingsFormActions__buttons"\x3e'+
soy.$$escapeHtml(b)+"\x3c/div\x3e\x3c/div\x3e")}function u1(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingsFormActions__error"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")};function v1(a){gc.apply(this,arguments)}r(v1,gc);function w1(a){w(a.hasClass("settingContainer__input"),"the given element {} is not an input container",a.get(0));return new v1(a)}v1.prototype.uk=function(a){this.$el.addClass("settingContainer__input--error");var b=this.$el.find(".settingContainer__inputError");0<b.length?(b.removeClass("settingContainer__inputError--hidden"),b.html(a.toString())):(b=this.$el.find(".settingContainer__inputErrorContainer"),a=r1({error:a}).toString(),b.html(a))};
v1.prototype.jg=function(){this.$el.removeClass("settingContainer__input--error");var a=this.$el.find(".settingContainer__inputErrorContainer").find(".settingContainer__inputError");0<a.length&&(a.addClass("settingContainer__inputError--hidden"),Cf(a[0]).then(function(){a.hasClass("settingContainer__inputError--hidden")&&a.remove()}))};function x1(a){gc.apply(this,arguments)}r(x1,gc);x1.prototype.uk=function(a){a=u1({error:a}).toString();return this.$el.find(".settingsFormActions__errorContainer").html(a)};
x1.prototype.jg=function(){this.$el.find(".settingsFormActions__errorContainer").find(".settingsFormActions__error").addClass("settingsFormActions__error--hidden")};function y1(a,b){a=a.$el.find(".settingsFormActions__buttons");a.empty();a.append(b)};function z1(){return new Map([["AD","Andorra"],["AE","United Arab Emirates"],["AF","Afghanistan"],["AG","Antigua and Barbuda"],["AI","Anguilla"],["AL","Albania"],["AM","Armenia"],["AO","Angola"],["AQ","Antarctica"],["AR","Argentina"],["AS","American Samoa"],["AT","Austria"],["AU","Australia"],["AW","Aruba"],["AX","Åland Islands"],["AZ","Azerbaijan"],["BA","Bosnia and Herzegovina"],["BB","Barbados"],["BD","Bangladesh"],["BE","Belgium"],["BF","Burkina Faso"],["BG","Bulgaria"],["BH","Bahrain"],["BI",
"Burundi"],["BJ","Benin"],["BL","Saint Barthélemy"],["BM","Bermuda"],["BN","Brunei Darussalam"],["BO","Bolivia"],["BQ","Bonaire, Sint Eustatius and Saba"],["BR","Brazil"],["BS","Bahamas"],["BT","Bhutan"],["BV","Bouvet Island"],["BW","Botswana"],["BY","Belarus"],["BZ","Belize"],["CA","Canada"],["CC","Cocos (Keeling) Islands"],["CD","Congo, the Democratic Republic of the"],["CF","Central African Republic"],["CG","Congo"],["CH","Switzerland"],["CI","Côte d'Ivoire"],["CK","Cook Islands"],["CL","Chile"],
["CM","Cameroon"],["CN","China"],["CO","Colombia"],["CR","Costa Rica"],["CU","Cuba"],["CV","Cape Verde"],["CW","Curaçao"],["CX","Christmas Island"],["CY","Cyprus"],["CZ","Czech Republic"],["DE","Germany"],["DJ","Djibouti"],["DK","Denmark"],["DM","Dominica"],["DO","Dominican Republic"],["DZ","Algeria"],["EC","Ecuador"],["EE","Estonia"],["EG","Egypt"],["EH","Western Sahara"],["ER","Eritrea"],["ES","Spain"],["ET","Ethiopia"],["FI","Finland"],["FJ","Fiji"],["FK","Falkland Islands (Malvinas)"],["FM","Micronesia, Federated States of"],
["FO","Faroe Islands"],["FR","France"],["GA","Gabon"],["GB","United Kingdom"],["GD","Grenada"],["GE","Georgia"],["GF","French Guiana"],["GG","Guernsey"],["GH","Ghana"],["GI","Gibraltar"],["GL","Greenland"],["GM","Gambia"],["GN","Guinea"],["GP","Guadeloupe"],["GQ","Equatorial Guinea"],["GR","Greece"],["GS","South Georgia and the South Sandwich Islands"],["GT","Guatemala"],["GU","Guam"],["GW","Guinea-Bissau"],["GY","Guyana"],["HK","Hong Kong"],["HM","Heard Island and McDonald Islands"],["HN","Honduras"],
["HR","Croatia"],["HT","Haiti"],["HU","Hungary"],["ID","Indonesia"],["IE","Ireland"],["IL","Israel"],["IM","Isle of Man"],["IN","India"],["IO","British Indian Ocean Territory"],["IQ","Iraq"],["IR","Iran"],["IS","Iceland"],["IT","Italy"],["JE","Jersey"],["JM","Jamaica"],["JO","Jordan"],["JP","Japan"],["KE","Kenya"],["KG","Kyrgyzstan"],["KH","Cambodia"],["KI","Kiribati"],["KM","Comoros"],["KN","Saint Kitts and Nevis"],["KP","North Korea"],["KR","South Korea"],["KW","Kuwait"],["KY","Cayman Islands"],
["KZ","Kazakhstan"],["LA","Laos"],["LB","Lebanon"],["LC","Saint Lucia"],["LI","Liechtenstein"],["LK","Sri Lanka"],["LR","Liberia"],["LS","Lesotho"],["LT","Lithuania"],["LU","Luxembourg"],["LV","Latvia"],["LY","Libya"],["MA","Morocco"],["MC","Monaco"],["MD","Moldova"],["ME","Montenegro"],["MF","Saint Martin"],["MG","Madagascar"],["MH","Marshall Islands"],["MK","Macedonia"],["ML","Mali"],["MM","Myanmar"],["MN","Mongolia"],["MO","Macao"],["MP","Northern Mariana Islands"],["MQ","Martinique"],["MR","Mauritania"],
["MS","Montserrat"],["MT","Malta"],["MU","Mauritius"],["MV","Maldives"],["MW","Malawi"],["MX","Mexico"],["MY","Malaysia"],["MZ","Mozambique"],["NA","Namibia"],["NC","New Caledonia"],["NE","Niger"],["NF","Norfolk Island"],["NG","Nigeria"],["NI","Nicaragua"],["NL","Netherlands"],["NO","Norway"],["NP","Nepal"],["NR","Nauru"],["NU","Niue"],["NZ","New Zealand"],["OM","Oman"],["PA","Panama"],["PE","Peru"],["PF","French Polynesia"],["PG","Papua New Guinea"],["PH","Philippines"],["PK","Pakistan"],["PL","Poland"],
["PM","Saint Pierre and Miquelon"],["PN","Pitcairn"],["PR","Puerto Rico"],["PS","Palestinian Territory"],["PT","Portugal"],["PW","Palau"],["PY","Paraguay"],["QA","Qatar"],["RE","Réunion"],["RO","Romania"],["RS","Serbia"],["RU","Russia"],["RW","Rwanda"],["SA","Saudi Arabia"],["SB","Solomon Islands"],["SC","Seychelles"],["SD","Sudan"],["SE","Sweden"],["SG","Singapore"],["SH","Saint Helena, Ascension and Tristan da Cunha"],["SI","Slovenia"],["SJ","Svalbard and Jan Mayen"],["SK","Slovakia"],["SL","Sierra Leone"],
["SM","San Marino"],["SN","Senegal"],["SO","Somalia"],["SR","Suriname"],["SS","South Sudan"],["ST","Sao Tome and Principe"],["SV","El Salvador"],["SX","Sint Maarten"],["SY","Syria"],["SZ","Swaziland"],["TC","Turks and Caicos Islands"],["TD","Chad"],["TF","French Southern Territories"],["TG","Togo"],["TH","Thailand"],["TJ","Tajikistan"],["TK","Tokelau"],["TL","Timor-Leste"],["TM","Turkmenistan"],["TN","Tunisia"],["TO","Tonga"],["TR","Turkey"],["TT","Trinidad and Tobago"],["TV","Tuvalu"],["TW","Taiwan"],
["TZ","Tanzania"],["UA","Ukraine"],["UG","Uganda"],["UM","United States Minor Outlying Islands"],["US","United States"],["UY","Uruguay"],["UZ","Uzbekistan"],["VA","Holy See (Vatican City State)"],["VC","Saint Vincent and the Grenadines"],["VE","Venezuela"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["VN","Viet Nam"],["VU","Vanuatu"],["WF","Wallis and Futuna"],["WS","Samoa"],["YE","Yemen"],["YT","Mayotte"],["ZA","South Africa"],["ZM","Zambia"],["ZW","Zimbabwe"]])};function A1(a){switch(a){case "US":return new Map(yaa);case "AU":return new Map(zaa);case "MX":return new Map(Aaa);case "CA":return new Map(Baa);case "BR":return new Map(Caa);case "IN":return new Map(Daa);default:return new Map}}
var yaa=new Map([["US-AK","Alaska"],["US-AL","Alabama"],["US-AR","Arkansas"],["US-AS","American Samoa"],["US-AZ","Arizona"],["US-CA","California"],["US-CO","Colorado"],["US-CT","Connecticut"],["US-DC","District of Columbia"],["US-DE","Delaware"],["US-FL","Florida"],["US-GA","Georgia"],["US-GU","Guam"],["US-HI","Hawaii"],["US-IA","Iowa"],["US-ID","Idaho"],["US-IL","Illinois"],["US-IN","Indiana"],["US-KS","Kansas"],["US-KY","Kentucky"],["US-LA","Louisiana"],["US-MA","Massachusetts"],["US-MD","Maryland"],
["US-ME","Maine"],["US-MI","Michigan"],["US-MN","Minnesota"],["US-MO","Missouri"],["US-MP","Northern Mariana Islands"],["US-MS","Mississippi"],["US-MT","Montana"],["US-NC","North Carolina"],["US-ND","North Dakota"],["US-NE","Nebraska"],["US-NH","New Hampshire"],["US-NJ","New Jersey"],["US-NM","New Mexico"],["US-NV","Nevada"],["US-NY","New York"],["US-OH","Ohio"],["US-OK","Oklahoma"],["US-OR","Oregon"],["US-PA","Pennsylvania"],["US-PR","Puerto Rico"],["US-RI","Rhode Island"],["US-SC","South Carolina"],
["US-SD","South Dakota"],["US-TN","Tennessee"],["US-TX","Texas"],["US-UM","United States Minor Outlying Islands"],["US-UT","Utah"],["US-VA","Virginia"],["US-VI","Virgin Islands, U.S."],["US-VT","Vermont"],["US-WA","Washington"],["US-WI","Wisconsin"],["US-WV","West Virginia"],["US-WY","Wyoming"]]),zaa=new Map([["AU-NSW","New South Wales"],["AU-QLD","Queensland"],["AU-SA","South Australia"],["AU-TAS","Tasmania"],["AU-VIC","Victoria"],["AU-WA","Western Australia"],["AU-ACT","Australian Capital Territory"],
["AU-NT","Northern Territory"]]),Aaa=new Map([["MX-CMX","Ciudad de México"],["MX-AGU","Aguascalientes"],["MX-BCN","Baja California"],["MX-BCS","Baja California Sur"],["MX-CAM","Campeche"],["MX-COA","Coahuila"],["MX-COL","Colima"],["MX-CHP","Chiapas"],["MX-CHH","Chihuahua"],["MX-DUR","Durango"],["MX-GUA","Guanajuato"],["MX-GRO","Guerrero"],["MX-HID","Hidalgo"],["MX-JAL","Jalisco"],["MX-MEX","Estado de México"],["MX-MIC","Michoacán"],["MX-MOR","Morelos"],["MX-NAY","Nayarit"],["MX-NLE","Nuevo León"],
["MX-OAX","Oaxaca"],["MX-PUE","Puebla"],["MX-QUE","Querétaro"],["MX-ROO","Quintana Roo"],["MX-SLP","San Luis Potosí"],["MX-SIN","Sinaloa"],["MX-SON","Sonora"],["MX-TAB","Tabasco"],["MX-TAM","Tamaulipas"],["MX-TLA","Tlaxcala"],["MX-VER","Veracruz"],["MX-YUC","Yucatán"],["MX-ZAC","Zacatecas"]]),Baa=new Map([["CA-AB","Alberta"],["CA-BC","British Columbia"],["CA-MB","Manitoba"],["CA-NB","New Brunswick"],["CA-NL","Newfoundland and Labrador"],["CA-NT","Northwest Territories"],["CA-NS","Nova Scotia"],["CA-NU",
"Nunavut"],["CA-ON","Ontario"],["CA-PE","Prince Edward Island"],["CA-QC","Quebec"],["CA-SK","Saskatchewan"],["CA-YT","Yukon"]]),Caa=new Map([["BR-AC","Acre"],["BR-AL","Alagoas"],["BR-AP","Amapá"],["BR-AM","Amazonas"],["BR-BA","Bahia"],["BR-CE","Ceará"],["BR-DF","Distrito Federal"],["BR-ES","Espírito Santo"],["BR-GO","Goiás"],["BR-MA","Maranhão"],["BR-MT","Mato Grosso"],["BR-MS","Mato Grosso do Sul"],["BR-MG","Minas Gerais"],["BR-PR","Paraná"],["BR-PB","Paraíba"],["BR-PA","Pará"],["BR-PE","Pernambuco"],
["BR-PI","Piauí"],["BR-RN","Rio Grande do Norte"],["BR-RS","Rio Grande do Sul"],["BR-RJ","Rio de Janeiro"],["BR-RO","Rondônia"],["BR-RR","Roraima"],["BR-SC","Santa Catarina"],["BR-SE","Sergipe"],["BR-SP","São Paulo"],["BR-TO","Tocantins"]]),Daa=new Map([["IN-AP","Andhra Pradesh"],["IN-AR","Arunachal Pradesh"],["IN-AS","Assam"],["IN-BR","Bihar"],["IN-CT","Chhattisgarh"],["IN-GA","Goa"],["IN-GJ","Gujarat"],["IN-HR","Haryana"],["IN-HP","Himachal Pradesh"],["IN-JK","Jammu and Kashmir"],["IN-JH","Jharkhand"],
["IN-KA","Karnataka"],["IN-KL","Kerala"],["IN-MP","Madhya Pradesh"],["IN-MH","Maharashtra"],["IN-MN","Manipur"],["IN-ML","Meghalaya"],["IN-MZ","Mizoram"],["IN-NL","Nagaland"],["IN-OR","Odisha"],["IN-PB","Punjab"],["IN-RJ","Rajasthan"],["IN-SK","Sikkim"],["IN-TN","Tamil Nadu"],["IN-TG","Telangana"],["IN-TR","Tripura"],["IN-UP","Uttar Pradesh"],["IN-UT","Uttarakhand"],["IN-WB","West Bengal"],["IN-AN","Andaman and Nicobar Islands"],["IN-CH","Chandigarh"],["IN-DN","Dadra and Nagar Haveli"],["IN-DD","Daman and Diu"],
["IN-DL","Delhi"],["IN-LD","Lakshadweep"],["IN-PY","Puducherr"]]);function B1(a,b){a=[].concat(ma(a.entries())).sort(function(a,b){return a[1].localeCompare(b[1])}).map(function(a){return{selected:a[0]===b.gQ,text:a[1],value:a[0]}});return null!=b.Lg?[].concat([{selected:!b.gQ,text:b.Lg,value:b.RO}],ma(a)):a}function C1(a){var b=z1();a.Uh&&(b=Array.from(b.entries()).filter(function(b){b=la(b).next().value;return a.Uh.has(b)}),b=new Map(b));return B1(b,{Lg:a.Lg,RO:"ZZ",gQ:a.u9})}
function D1(a){var b=A1(a.rb);w(!a.QH||b.has(a.QH),'"{}" is not a valid subdivision code of the country "{}".',a.QH,a.rb);return B1(b,{Lg:a.Lg,RO:a.RO,gQ:a.QH})};var E1=new Ff("jv",!1),F1=["BR","CA","US"];function G1(a){this.Aj=a.Aj;this.D=a.D;this.Cd=a.Cd||void 0;this.Xe=a.Xe;this.mf=a.mf;this.view=a.view;this.listenTo(this.view,"input",this.Mn);this.listenTo(this.view,"requestSubmit",function(){this.trigger("requestSubmit")});this.G=a.G?a.G:Hf();this.Ya=a.Ya}function YU(a){var b=new H1({Ay:!1!==a.Ay,Ya:a.Ya,G:a.G,j:a.j});return{Bb:new G1({Aj:a.Aj,D:a.D,Cd:a.Cd,Xe:a.Xe,mf:a.mf,G:a.G,Ya:a.Ya,view:b}),view:b}}f=G1.prototype;f.listenTo=Backbone.Events.listenTo;
f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.refresh=function(){this.view.render();this.view.ax(this.Xe);this.Cd&&this.view.sk(this.Cd);return this};f.remove=function(){this.stopListening();this.view.remove()};f.sk=function(a){this.Cd=a;this.view.sk(a);return this};f.ax=function(a){this.Xe=a;this.view.ax(a);return this};
f.pM=P.method(function(a){function b(a){return a.Vh}return!this.Cd||this.view.Ou||a?(a=this.view.yF(),I1(a),this.K$(a).then(b).tap(this.sk.bind(this))):this.Cd});f.kV=P.method(function(a){if(this.Cd&&!this.view.Ou&&!a&&!this.view.Pu)return this.Cd;a=this.view.yF();if(this.view.Pu&&!this.view.Ou)return J1(this,a),this.J$(a);I1(a);J1(this,a);return this.oR(a).tap(this.sk.bind(this))});f.Mn=function(){this.Cd&&!this.view.yF()&&this.sk(this.Cd);this.trigger("input",this.view.Ou)};
f.K$=P.method(function(a){var b=this;return this.mf.createToken({Hm:a.Hm,AL:a.Vu,BL:a.Wu,th:a.th}).then(function(a){var d=b.Aj,e=b.D;return qj(d.N,"/billing/brands/"+encodeURIComponent(e)+"/account",{brand:e,stripeToken:a}).catch(rj).get(0).get("account").then(vh).catch(d.xs,d.Uj)})});
f.oR=P.method(function(a){var b=this;return this.mf.createToken({Hm:a.Hm,AL:a.Vu,BL:a.Wu,th:a.th,Maa:a.fc,Naa:a.ff,Oaa:a.uf}).then(function(c){var d=b.Aj;return qj(d.N,"/billing/creditcards",Lh(new Kh({D:b.D,WQ:c,Xg:a.fc?new Gh({Dh:a.ff,rb:a.fc,ww:a.uf}):void 0,OP:!0}))).catch(rj).get(0).then(d.rV).get("creditCard").then(Ch).catch(d.xs,d.Uj)})});f.J$=P.method(function(a){return this.Aj.oR(new Mh({Yi:a.id,Xg:new Gh({Dh:a.ff,rb:a.fc,ww:a.uf})}))});
function I1(a){if(!a)throw new OT;if(!(a.Hm&&3<=a.Hm.length&&4>=a.Hm.length))throw new ET;if(!function(){var b=a.Vu&&parseInt(a.Vu,10);return b&&1<=b&&12>=b}())throw new FT;if(!a.Wu||!parseInt(a.Wu,10))throw new GT;if(!function(){var b=a.th&&a.th.replace(/[\s-]+/g,"");return b&&13<=b.length&&19>=b.length}())throw new HT;}
function J1(a,b){if(a.G.get(E1)&&(!b.fc||"ZZ"==b.fc))throw new LT;var c;if(c=a.G.get(E1))c=ae(a.Ya),c=!(-1<F1.indexOf(b.fc)?b.ff&&b.ff!=c:1);if(c)throw new MT;if(a.G.get(E1)&&-1<F1.indexOf(b.fc)&&!b.uf)throw new NT;};function Eaa(a){soy.asserts.assertType(goog.isString(a.Mk)||a.Mk instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.Mk,"string|goog.soy.data.SanitizedContent");var b=a.Mk;soy.asserts.assertType(goog.isString(a.Uk)||a.Uk instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.Uk,"string|goog.soy.data.SanitizedContent");var c=a.Uk;soy.asserts.assertType(goog.isString(a.Dl)||a.Dl instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",a.Dl,"string|goog.soy.data.SanitizedContent");
var d=a.Dl;soy.asserts.assertType(goog.isString(a.im)||a.im instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.im,"string|goog.soy.data.SanitizedContent");a=a.im;return soydata.VERY_UNSAFE.ordainSanitizedHtml(K1({id:"ccNumber",name:"ccNumber",type:"text",placeholder:b,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{4}([ -]+[0-9]{1,4}){3,5} ?" maxlength\x3d"23" autocomplete\x3d"cc-number" required')})+"\x3cspan class\x3d'creditCardExpiry'\x3e"+
K1({id:"expMonth",name:"expMonth",type:"text",placeholder:d,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[01]?[0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-month" required')})+K1({id:"expYear",name:"expYear",type:"text",placeholder:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-3][0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-year" required')})+"\x3c/span\x3e"+K1({id:"cvc",name:"cvc",type:"text",placeholder:c,
attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{3,4}" maxlength\x3d"4" autocomplete\x3d"cc-csc" required')}))}
function Faa(a){soy.asserts.assertType(goog.isString(a.Mo)||a.Mo instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Mo,"string|goog.soy.data.SanitizedContent");var b=a.Mo,c=goog.asserts.assertArray(a.bE,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");a=goog.asserts.assertArray(a.Ct,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"creditCardAddressLine1"\x3e'+m_({id:"country",options:c,disabled:1>=c.length})+'\x3c/div\x3e\x3cdiv class\x3d"creditCardAddressLine2 hidden"\x3e'+(a?m_({id:"region",options:a}):"")+K1({id:"zipcode",name:"zipcode",type:"text",placeholder:b})+"\x3c/div\x3e")};var Gaa=new Ff("jv",!1);function H1(a){Backbone.View.call(this,{className:"creditCardEditor"});this.Pu=this.Ou=!1;this.Ya=a.Ya;this.Ay=a.Ay;this.G=a.G?a.G:Hf();this.j=a.j}r(H1,Backbone.View);f=H1.prototype;f.events=function(){return{"input #ccNumber":this.U4,"keydown #expMonth":this.z6,"input #expMonth":this.y6,input:this.Mn,"keydown input":this.oO,"focus input:not([readonly])":this.uq,"blur input":this.$A,"change #country":this.K5,"change #region":this.S6,"change #zipcode":this.v7}};
f.yF=function(){var a={id:this.$("#creditCardId").val()?this.$("#creditCardId").val().trim():"",Hm:this.$("#cvc").val().trim(),Vu:this.$("#expMonth").val().trim(),Wu:this.$("#expYear").val().trim(),th:this.$("#ccNumber").val().trim(),fc:this.$("#country").val()?this.$("#country").val().trim():void 0,ff:this.$("#region").val()?this.$("#region").val().trim():void 0,uf:this.$("#zipcode").val()?this.$("#zipcode").val().trim():void 0};return a.Hm.length||a.Vu.length||a.Wu.length||a.th.length||a.fc.length||
a.ff.length||a.uf.length?a:null};f.sk=function(a){this.$el.addClass("prefilled");this.$("#creditCardId").val(a.id);this.$("#ccNumber").val("").attr("placeholder","••••••••••••"+a.Pv);this.$("#expMonth").val("").attr("placeholder","••");this.$("#expYear").val("").attr("placeholder","••");this.$("#cvc").val("").attr("placeholder","•••");a.Xg&&(this.$("#country").val(a.Xg.rb).change(),this.$("#region").val(a.Xg.Dh),this.$("#zipcode").val(a.Xg.ww));this.Pu=this.Ou=!1;this.$("#ccNumber").removeAttr("autofocus")};
f.ax=function(a){this.$("input").prop("readonly",!a);this.$("select").attr("disabled",!a)};
f.render=function(){var a;a={Dj:this.Ya.Dj(),nu:this.Ya.nu(),Mk:this.Ya.Mk(),Dl:this.Ya.Dl(),im:this.Ya.im(),Uk:this.Ya.Uk(),Mo:this.Ya.Mo(),bE:C1({Lg:this.Ya.format("creditCardCountryPlaceholder")}),Ct:D1({Lg:ae(this.Ya),rb:"ZZ"}),pC:this.G.get(Gaa)};soy.asserts.assertType(goog.isString(a.Dj)||a.Dj instanceof goog.soy.data.SanitizedContent,"creditCardLabel",a.Dj,"string|goog.soy.data.SanitizedContent");var b=a.Dj;soy.asserts.assertType(goog.isString(a.nu)||a.nu instanceof goog.soy.data.SanitizedContent,
"billingAddressLabel",a.nu,"string|goog.soy.data.SanitizedContent");var c=a.nu;soy.asserts.assertType(goog.isString(a.Mk)||a.Mk instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.Mk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Uk)||a.Uk instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.Uk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Dl)||a.Dl instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",
a.Dl,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.im)||a.im instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.im,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Mo)||a.Mo instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Mo,"string|goog.soy.data.SanitizedContent");goog.asserts.assertArray(a.bE,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
goog.asserts.assertArray(a.Ct,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");soy.asserts.assertType(goog.isBoolean(a.pC)||1===a.pC||0===a.pC,"showBillingAddressFields",a.pC,"boolean");var d=!!a.pC;soy.asserts.assertType(null==a.oE||a.oE instanceof goog.soy.data.SanitizedContent||goog.isString(a.oE),"creditCardId",a.oE,"null|string|undefined");var e=a.oE;a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ch3 class\x3d"creditCardLabel"\x3e'+
soy.$$escapeHtml(b)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardEditView creditCardInput"\x3e\x3cinput type\x3d"hidden" id\x3d"creditCardId" value\x3d"'+soy.$$escapeHtmlAttribute(e)+'"/\x3e'+Eaa(a)+"\x3c/div\x3e"+(d?'\x3ch3 class\x3d"billingAddressLabel"\x3e'+soy.$$escapeHtml(c)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardAddress"\x3e'+Faa(a)+"\x3c/div\x3e":""));this.$el.html(a.toString());Haa(this);return this};
function Haa(a){var b=0===a.$("input").filter(function(){return this.readOnly}).length,c=a.$("#ccNumber");a.Ay&&b?c.prop("autofocus",!0):c.removeAttr("autofocus")}f.Mn=function(a){var b;b=$(a.target);var c=b.data("oldValue"),d=b.val();c!==d?(b.data("oldValue",d),b=!0):b=!1;b&&"country"!==a.target.id&&"region"!==a.target.id&&"zipcode"!==a.target.id&&(this.$el.removeClass("prefilled"),this.Ou=!0,this.trigger("input"))};f.oO=function(a){13===a.keyCode&&(this.trigger("requestSubmit"),a.preventDefault())};
f.uq=function(a){this.$el.addClass("focused");"zipcode"!=a.target.id&&(this.$("#ccNumber").attr("placeholder",this.Ya.Mk()),this.$("#expMonth").attr("placeholder",this.Ya.Dl()),this.$("#expYear").attr("placeholder",this.Ya.im()),this.$("#cvc").attr("placeholder",this.Ya.Uk()))};f.$A=function(){this.$el.removeClass("focused")};
f.U4=function(a){if("IE"!=UAParser().browser.name){a=a.target;var b=a.selectionEnd,c=a.value.length;a.value=a.value.replace(/[^\d]/g,"").replace(/(.{4})/g,"$1 ").trim();var d=c!==a.value.length,c=" "===a.value.charAt(c-1);a.selectionEnd=b+(" "===a.value.charAt(b-1)&&c&&d?1:0)}};
f.K5=function(a){a=D1({Lg:ae(this.Ya),rb:a.target.value});1===a.length?(this.$el.find(".creditCardAddressLine2").hide(),this.$el.find("#country").removeClass("countrySharpBottomCorners"),this.$el.find("#country").addClass("countryRoundBottomCorners"),this.$el.find(".creditCardAddressLine2 select").removeAttr("value")):(this.$el.find(".creditCardAddressLine2").show(),this.$el.find("#country").removeClass("countryRoundBottomCorners"),this.$el.find("#country").addClass("countrySharpBottomCorners"),a=
$(m_({options:a,id:"region"}).toString()),this.$el.find(".creditCardAddressLine2 select").replaceWith(a.children()[0]));this.$el.find(".creditCardAddressLine2 input").removeAttr("value");this.Pu=!0;this.j.va(X(new Zl("credit_card_country_changed"),"location","billing_admin_card_dialog"))};f.S6=function(){this.Pu=!0};f.v7=function(){this.Pu=!0};
f.z6=function(a){var b=this.$("#expMonth"),c=b.val(),d=this.$("#expYear"),e=String.fromCharCode(a.which);""===c&&e.match(/[2-9]/)?(a.preventDefault(),b.val("0"+e),d.focus()):-1<[191,32,9].indexOf(a.which)&&(a.preventDefault(),1===c.length&&b.val("0"+c),d.focus())};f.y6=function(){2===this.$("#expMonth").val().length&&this.$("#expYear").focus()};function m_(a){soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var b=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var d=a.disabled;soy.asserts.assertType(null==
a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var e=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");var g=a.name;a=goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");d='\x3cspan class\x3d"select'+(b?" selectBlock":"")+(c?
" "+soy.$$escapeHtmlAttribute(c):"")+'"\x3e\x3cselect '+(d?" disabled":"")+(e?' id\x3d"'+soy.$$escapeHtmlAttribute(e)+'"':"")+(g?' name\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+"\x3e";b=a.length;for(c=0;c<b;c++){var h=a[c];soy.asserts.assertType(null==h.disabled||goog.isBoolean(h.disabled)||1===h.disabled||0===h.disabled,"disabled",h.disabled,"boolean|null|undefined");e=h.disabled;soy.asserts.assertType(null==h.selected||goog.isBoolean(h.selected)||1===h.selected||0===h.selected,"selected",h.selected,
"boolean|null|undefined");g=h.selected;soy.asserts.assertType(goog.isString(h.text)||h.text instanceof goog.soy.data.SanitizedContent,"text",h.text,"string|goog.soy.data.SanitizedContent");var k=h.text;soy.asserts.assertType(null==h.value||h.value instanceof goog.soy.data.SanitizedContent||goog.isString(h.value),"value",h.value,"null|string|undefined");h=h.value;e=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3coption "+(e?" disabled":"")+(g?" selected":"")+(h||""==h?' value\x3d"'+soy.$$escapeHtmlAttribute(h)+
'"':"")+"\x3e"+soy.$$escapeHtml(k)+"\x3c/option\x3e");d+=e}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/select\x3e\x3c/span\x3e")};function L1(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$escapeHtml(a.title))}
function Iaa(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.Qo)||a.Qo instanceof goog.soy.data.SanitizedContent,"actionCloseHint",a.Qo,"string|goog.soy.data.SanitizedContent");var c=a.Qo;soy.asserts.assertType(goog.isString(a.Ug)||a.Ug instanceof goog.soy.data.SanitizedContent,"actionClose",a.Ug,"string|goog.soy.data.SanitizedContent");a=a.Ug;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"dialog fluidDialog preparing"\x3e\x3ch2 class\x3d"center"\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog__footer" style\x3d"'+
(b.Yb?"/*"+b.Yb+"*/":"")+'display: none;"\x3e\x3cdiv class\x3d"dialog__footer__content"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/a\x3e\x3c/div\x3e")};function M1(a){var b=this;Backbone.View.call(this,{id:a.id,className:a.className,events:{"click .close":function(){b.trigger("cancel")}}});this.Od=a.Od;this.H=a.H;this.tK=this.yg=null;this.sY=0;this.Od.on("maskClick",function(){b.trigger("cancel")})}r(M1,Backbone.View);f=M1.prototype;f.B5=function(){this.trigger("ok")};f.eO=function(){this.trigger("retry")};
function Jaa(a,b){var c=b.sl?b.sl():b;if(c===a.yg)return P.resolve(!1);a.yg&&a.stopListening(a.yg);a.yg=c;a.tK=b;a.listenTo(a.yg,"contentResize",a.xu);a.listenTo(a.yg,"done",a.B5);a.listenTo(a.yg,"retry",a.eO);return a.tK.refresh().return(!0)}f.render=function(a){this.$el.html(Iaa(a).toString());return this};
function N1(a,b){return new P(function(c){var d=a.$(".dialog");d.hasClass("preparing")&&(a.Od.show(a.el),a.H.requestAnimationFrame(function(){d.removeClass("preparing")}));a.$el.queue("pageQueue",function(e){Jaa(a,b).then(function(b){Kaa(a);var h=d.find(".content"),k=null;h.is(":empty")?h.append(a.yg.$el):b&&(k=$('\x3cdiv class\x3d"content new"\x3e').append(a.yg.$el));a.xu(k).then(c);a.H.setTimeout(function(){a.sY--;e()},1E3)})});1==++a.sY&&a.$el.dequeue("pageQueue")})}
function Kaa(a){var b=a.yg.hp(a.tK.ln());a.$(".dialog \x3e h2").html(b)}function O1(a,b){a.$(".dialog__footer__content").html(b)}f.nA=function(){this.$(".dialog__footer").addClass("dialog__footer--hide").removeClass("dialog__footer--appear");this.xu()};f.vx=function(){this.$(".dialog__footer").show().removeClass("dialog__footer--hide").addClass("dialog__footer--appear");this.xu()};
f.xu=function(a){var b=this.$(".dialog__footer"),c=!1;b.hasClass("dialog__footer--appear")?b.hasClass("dialog__footer--pinned")&&(c=!0,b.removeClass("dialog__footer--pinned")):b.addClass("dialog__footer--pinned");a=Laa(this,a).then(function(){b.hasClass("dialog__footer--appear")&&b.addClass("dialog__footer--pinned")});b.hasClass("dialog__footer--appear")?c&&b.addClass("dialog__footer--pinned"):b.removeClass("dialog__footer--pinned");return a};
function Laa(a,b){return new P(function(c){var d=a.$(".dialog");if(!(0<d.find(".content.replacing").length)||b){var e=d.outerHeight();d.css({transition:"none",height:"auto"});var g;g=b?Maa(a,b):d.outerHeight();var h=Cf(d[0]);d.css({height:e});Bf(d);d.css({transition:"",height:g});c(h)}})}
function Maa(a,b){var c=a.$(".dialog"),d=c.find(".content");a=d.outerHeight();var e=$('\x3cdiv class\x3d"content new"\x3e');b.insertBefore(d);d.addClass("onTop beingReplaced");var c=c.outerHeight(),g=b.outerHeight(!0);b.addClass("onTop");e.insertAfter(d).css("height",a);Bf(e);Cf(e[0]).then(function(){d.remove();e.remove();b.removeClass("onTop")});e.css("height",g);il(function(){b.removeClass("new");e.removeClass("new")});return c}
f.remove=function(){var a=this;return new P(function(b){a.Od.hide();a.$el.children(".dialog").addClass("disappearing");a.H.setTimeout(function(){Backbone.View.prototype.remove.call(a);b()},kp.hS)})};function P1(a){Backbone.View.apply(this,arguments)}r(P1,Backbone.View);P1.prototype.hp=function(){return""};Object.defineProperties(P1,{extend:{configurable:!0,enumerable:!0,get:function(){return Backbone.View.extend.bind(P1)}}});function Q1(a){this.j=a.j;this.Tm=a.Tm}Q1.prototype.PC=function(a){this.track("close",{action:a})};Q1.prototype.track=function(a,b){this.j.track("publish_flow_"+a,_.extend(this.cM(),b))};Q1.prototype.cM=function(){return{fileFormat:this.Tm}};function R1(a){soy.asserts.assertType(goog.isBoolean(a.ie)||1===a.ie||0===a.ie,"showOneTimeUse",a.ie,"boolean");var b=!!a.ie;soy.asserts.assertType(null==a.jd||a.jd instanceof goog.soy.data.SanitizedContent||goog.isString(a.jd),"oneTimeUse",a.jd,"null|string|undefined");var c=a.jd;soy.asserts.assertType(null==a.Lc||a.Lc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Lc),"oneTimeUseDescription",a.Lc,"null|string|undefined");var d=a.Lc;soy.asserts.assertType(goog.isBoolean(a.je)||1===a.je||
0===a.je,"showRoyaltyFree",a.je,"boolean");var e=!!a.je;soy.asserts.assertType(null==a.Dc||a.Dc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Dc),"royaltyFree",a.Dc,"null|string|undefined");var g=a.Dc;soy.asserts.assertType(null==a.Nc||a.Nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Nc),"royaltyFreeDescription",a.Nc,"null|string|undefined");var h=a.Nc;soy.asserts.assertType(goog.isBoolean(a.Pg)||1===a.Pg||0===a.Pg,"showExtended",a.Pg,"boolean");var k=!!a.Pg;soy.asserts.assertType(null==
a.Gd||a.Gd instanceof goog.soy.data.SanitizedContent||goog.isString(a.Gd),"extended",a.Gd,"null|string|undefined");var l=a.Gd;soy.asserts.assertType(null==a.Wd||a.Wd instanceof goog.soy.data.SanitizedContent||goog.isString(a.Wd),"extendedDescription",a.Wd,"null|string|undefined");var m=a.Wd;soy.asserts.assertType(goog.isString(a.$d)||a.$d instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.$d,"string|goog.soy.data.SanitizedContent");a=a.$d;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"licensesDescription"\x3e\x3cdiv class\x3d"licensesDescription__options"\x3e'+
(b||e||k?(b?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--oneTime"\x3e\x3ch3\x3e'+soy.$$escapeHtml(c)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+"\x3c/p\x3e\x3c/div\x3e":"")+(e?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--royaltyFree"\x3e\x3ch3\x3e'+soy.$$escapeHtml(g)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(h)+"\x3c/p\x3e\x3c/div\x3e":"")+(k?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--extended"\x3e\x3ch3\x3e'+
soy.$$escapeHtml(l)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(m)+"\x3c/p\x3e\x3c/div\x3e":""):'\x3cdiv class\x3d"licensesDescription__noOption"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e")+"\x3c/div\x3e\x3c/div\x3e")};function S1(a){this.$el=a}r(S1,gc);S1.prototype.show=function(){if(this.qh())return P.resolve();var a=Cf(this.$el[0]);this.$el.addClass("paymentRestrictedOverlay--visible");return a};S1.prototype.hide=function(){if(this.qh()){var a=Cf(this.$el[0]);this.$el.removeClass("paymentRestrictedOverlay--visible");return a}return P.resolve()};S1.prototype.qh=function(){return this.$el.hasClass("paymentRestrictedOverlay--visible")};function ZU(a){var b=this;P1.call(this,{className:"payment",events:{"change input[name\x3dpurchaseCreditPack]":function(a){a="yes"==$(a.target).val();var d=b.$(".creditPackOptions option:selected").val();b.trigger("creditPackChange",a,d)},"change .price select":function(a){a=$(a.target);var d=a.closest(".license").index();b.trigger("priceChange",d,a.val())},"click .licensesMore":function(){return b.dO()},"click .creditPackOptions select":function(a){return T1(b,a)},"change .creditPackOptions select":function(a){return T1(b,
a)},"submit .publishPagePaymentForm":function(a){a.preventDefault();b.trigger("submitPayment")},"click .draft":function(){b.trigger("clickDraft")},"click .paymentRestrictedOverlay__cancelButton":function(){b.trigger("done")},"click .paymentRestrictedOverlay__downloadDraftButton":function(){b.trigger("clickOverlayDraftButton")}}});this.td=a.td;this.Zi=a.Zi;this.XQ=this.Vn=null}r(ZU,P1);f=ZU.prototype;f.pM=function(){return this.td.kV()};
f.render=function(a){var b=this.el,c;c=c||{};soy.asserts.assertType(goog.isString(a.Bm)||a.Bm instanceof goog.soy.data.SanitizedContent,"creditAvailable",a.Bm,"string|goog.soy.data.SanitizedContent");var d=a.Bm;soy.asserts.assertType(a.OC instanceof soydata.SanitizedHtml||a.OC instanceof soydata.UnsanitizedText||goog.isString(a.OC),"totalCost",a.OC,"soydata.SanitizedHtml");var e=a.OC;soy.asserts.assertType(a.Cq instanceof soydata.SanitizedHtml||a.Cq instanceof soydata.UnsanitizedText||goog.isString(a.Cq),
"payOption",a.Cq,"soydata.SanitizedHtml");var g=a.Cq;soy.asserts.assertType(goog.isString(a.Id)||a.Id instanceof goog.soy.data.SanitizedContent,"free",a.Id,"string|goog.soy.data.SanitizedContent");var h=a.Id;soy.asserts.assertType(goog.isString(a.dt)||a.dt instanceof goog.soy.data.SanitizedContent,"purchased",a.dt,"string|goog.soy.data.SanitizedContent");var k=a.dt;soy.asserts.assertType(goog.isString(a.Qv)||a.Qv instanceof goog.soy.data.SanitizedContent,"layoutTitle",a.Qv,"string|goog.soy.data.SanitizedContent");
var l=a.Qv;soy.asserts.assertType(goog.isString(a.gI)||a.gI instanceof goog.soy.data.SanitizedContent,"specialOffer",a.gI,"string|goog.soy.data.SanitizedContent");var m=a.gI;soy.asserts.assertType(a.xA instanceof soydata.SanitizedHtml||a.xA instanceof soydata.UnsanitizedText||goog.isString(a.xA),"introHtml",a.xA,"soydata.SanitizedHtml");var n=a.xA;soy.asserts.assertType(goog.isString(a.Of)||a.Of instanceof goog.soy.data.SanitizedContent,"purchaseButton",a.Of,"string|goog.soy.data.SanitizedContent");
var p=a.Of;soy.asserts.assertType(goog.isString(a.ko)||a.ko instanceof goog.soy.data.SanitizedContent,"restrictedOverlayHeading",a.ko,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Mg)||a.Mg instanceof goog.soy.data.SanitizedContent,"restrictedOverlayMessage",a.Mg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.jo)||a.jo instanceof goog.soy.data.SanitizedContent,"restrictedOverlayDraftButton",a.jo,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.io)||a.io instanceof goog.soy.data.SanitizedContent,"restrictedOverlayCancelButton",a.io,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.jf)||1===a.jf||0===a.jf,"showDraft",a.jf,"boolean");var q=goog.asserts.assertArray(a.ni,"expected parameter 'purchaseLicenses' of type list\x3c[contributedBy: string, expirationLabel: null|string, hasPaidLicense: bool, isFree: bool, isLayout: bool, paidLicenseTypeLabel: string, purchaseOptions: list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e, thumbnailClass: string, thumbnailUrl: string, title: string]\x3e."),
u=goog.asserts.assertArray(a.Xy,"expected parameter 'creditPacks' of type list\x3c[disabled: null, selected: null, text: string, value: string]\x3e.");soy.asserts.assertType(goog.isString(a.ko)||a.ko instanceof goog.soy.data.SanitizedContent,"restrictedOverlayHeading",a.ko,"string|goog.soy.data.SanitizedContent");var v=a.ko;soy.asserts.assertType(goog.isString(a.Mg)||a.Mg instanceof goog.soy.data.SanitizedContent,"restrictedOverlayMessage",a.Mg,"string|goog.soy.data.SanitizedContent");var z=a.Mg;
soy.asserts.assertType(goog.isString(a.jo)||a.jo instanceof goog.soy.data.SanitizedContent,"restrictedOverlayDraftButton",a.jo,"string|goog.soy.data.SanitizedContent");var t=a.jo;soy.asserts.assertType(goog.isString(a.io)||a.io instanceof goog.soy.data.SanitizedContent,"restrictedOverlayCancelButton",a.io,"string|goog.soy.data.SanitizedContent");var x=a.io;soy.asserts.assertType(goog.isBoolean(a.jf)||1===a.jf||0===a.jf,"showDraft",a.jf,"boolean");a=!!a.jf;n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentRestrictedOverlay"\x3e\x3csection class\x3d"paymentRestrictedOverlay__inner"\x3e\x3cspan class\x3d"paymentRestrictedOverlay__icon"\x3e'+
IX()+"\x3c/span\x3e\x3ch2\x3e"+soy.$$escapeHtml(v)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(z)+'\x3c/p\x3e\x3cdiv class\x3d"paymentRestrictedOverlay__buttons"\x3e'+(a?n_({v:"paymentRestrictedOverlay__downloadDraftButton",text:t}):"")+n_({v:soydata.$$markUnsanitizedTextForInternalBlocks((a?"buttonSecondary ":"")+"paymentRestrictedOverlay__cancelButton"),text:x})+"\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e")+'\x3csection class\x3d"info"\x3e\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(n)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"itemList"\x3e\x3ctable id\x3d"itemList"\x3e';
v=q.length;for(z=0;z<v;z++)t=q[z],n+='\x3ctr class\x3d"license"\x3e\x3ctd class\x3d"thumbnail"\x3e\x3cdiv class\x3d"inner '+soy.$$escapeHtmlAttribute(t.p$)+'" style\x3d"'+(c.Yb?"/*"+c.Yb+"*//*"+c.Yb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(t.sg))+'\');"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"info"\x3e'+(t.hG?'\x3cdiv class\x3d"title"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e\x3c/div\x3e":'\x3cdiv class\x3d"title"\x3e'+soy.$$escapeHtml(t.title)+'\x3c/div\x3e\x3cdiv class\x3d"by"\x3e'+
soy.$$escapeHtml(t.Gr)+"\x3c/div\x3e")+'\x3c/td\x3e\x3ctd class\x3d"price"\x3e'+(t.Gv?soy.$$escapeHtml(h):t.pn?'\x3cdiv class\x3d"state"\x3e'+soy.$$escapeHtml(k)+'\x3c/div\x3e\x3cdiv class\x3d"type"\x3e'+soy.$$escapeHtml(t.iH)+(t.wz?" - "+soy.$$escapeHtml(t.wz):"")+"\x3c/div\x3e":1==t.ct.length?soy.$$escapeHtml(t.ct[0].text):1<t.ct.length?'\x3cdiv class\x3d"select"\x3e'+m_({options:t.ct})+"\x3c/div\x3e":"")+"\x3c/tr\x3e";n+='\x3c/table\x3e\x3c/section\x3e\x3csection class\x3d"total"\x3e\x3cp class\x3d"creditRemaining"\x3e'+
soy.$$escapeHtml(d)+'\x3c/p\x3e\x3cp class\x3d"amount"\x3e\x3cspan class\x3d"totalCost"\x3e'+soy.$$escapeHtml(e)+'\x3c/span\x3e\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"creditPacks"\x3e\x3cform\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"yes"\x3e '+soy.$$escapeHtml(m)+':\x3c/label\x3e\x3cdiv class\x3d"creditPackOptions"\x3e'+m_({options:u})+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"no" checked\x3d"checked"\x3e \x3cspan class\x3d"payOption"\x3e'+
soy.$$escapeHtml(g)+'\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e\x3c/form\x3e\x3c/section\x3e\x3csection class\x3d"simpleTotal"\x3e\x3cdiv class\x3d"simpleTotalPayOption"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3c/section\x3e\x3cform class\x3d"publishPagePaymentForm"\x3e\x3cdiv class\x3d"creditCardContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"savedTeamCard"\x3e\x3c/div\x3e\x3cdiv class\x3d"actions"\x3e'+n_({v:"paymentPageSubmitButton buttonSubmittable",type:"submit",text:p})+"\x3c/div\x3e\x3c/div\x3e";
c=soydata.VERY_UNSAFE.ordainSanitizedHtml(n);b.innerHTML=c;this.td.refresh();this.$(".creditCardContainer").html(this.Zi.$el);this.Vn=this.$(".publishPagePaymentForm");this.XQ=this.Vn.find("button[type\x3dsubmit]");return this};f.remove=function(){this.td.remove()};function T1(a,b){a.trigger("creditPackSelect",$(b.target).val())}f.dO=function(){this.trigger("licensesMore")};function U1(a){a.$(".creditPacks").hide();a.trigger("contentResize")}
function Naa(a){a.$(".creditPacks").show();a.trigger("contentResize")}function V1(a){a.$(".simpleTotal").hide();a.trigger("contentResize")}function Oaa(a){a.$(".simpleTotal").show();a.trigger("contentResize")}function W1(a){a.$(".creditCardContainer").hide();a.$(".publishPagePaymentForm").attr("novalidate","");a.trigger("contentResize")}function Paa(a){a.$(".creditCardContainer").show();a.$(".publishPagePaymentForm").removeAttr("novalidate");a.trigger("contentResize")}
function Qaa(a){a=a.$(".paymentRestrictedOverlay");return(new S1(a)).show()}f.DQ=function(a){var b=this.$(".licensesMore");a.yi(b)};function Raa(a,b){a.$(".totalCost").html(b)}function Saa(a,b){a.$(".payOption").text(b);a.$(".simpleTotalPayOption").text(b)}function Taa(a,b){a.$(".creditPackOptions option").each(function(a,d){a=$(d);d=a.val();a.toggle(0<=b.indexOf(d))})}function Uaa(a,b){a.$(".creditPackOptions select").val(b)}
function X1(a){a.$("input[name\x3dpurchaseCreditPack][value\x3dyes]").prop("checked",!0)}function Y1(a,b){$('\x3cp class\x3d"errorMessage"\x3e').html(b).insertBefore(a.Vn);a.trigger("contentResize")}function Z1(a,b){a.$(".savedTeamCard").text(b).show();a.trigger("contentResize")}function $1(a){a.$(".savedTeamCard").hide();a.trigger("contentResize")}function Vaa(a){a.Vn.prev(".errorMessage").remove();a.trigger("contentResize")}f.hp=function(a){return L1(a).toString()};
function a2(a){var b=a.E_;soy.asserts.assertType(goog.isBoolean(b.ie)||1===b.ie||0===b.ie,"showOneTimeUse",b.ie,"boolean");soy.asserts.assertType(goog.isString(b.jd)||b.jd instanceof goog.soy.data.SanitizedContent,"oneTimeUse",b.jd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Lc)||b.Lc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",b.Lc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(b.je)||1===b.je||0===b.je,"showRoyaltyFree",
b.je,"boolean");soy.asserts.assertType(goog.isString(b.Dc)||b.Dc instanceof goog.soy.data.SanitizedContent,"royaltyFree",b.Dc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Nc)||b.Nc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",b.Nc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(b.Pg)||1===b.Pg||0===b.Pg,"showExtended",b.Pg,"boolean");soy.asserts.assertType(goog.isString(b.Gd)||b.Gd instanceof goog.soy.data.SanitizedContent,
"extended",b.Gd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Wd)||b.Wd instanceof goog.soy.data.SanitizedContent,"extendedDescription",b.Wd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.$d)||b.$d instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",b.$d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b.Mj instanceof soydata.SanitizedHtml||b.Mj instanceof soydata.UnsanitizedText||goog.isString(b.Mj),
"fullInformationHtml",b.Mj,"soydata.SanitizedHtml");var c=b.Mj,b=soydata.VERY_UNSAFE.ordainSanitizedHtml(R1(b)+'\x3cp class\x3d"licensesDetails__fullInformation outro"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"),b=$(b.toString());qz.call(this,{className:"licensesPopOver",content:b,We:a.E_.confirm,position:xp})}r(a2,qz);var Waa=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca href\x3d"https://about.canva.com/license-agreements/" target\x3d"_blank"\x3eabout.canva.com/license-agreements\x3c/a\x3e');function $U(a){this.view=a.view;this.j=a.j;this.ma=a.ma;this.ua=a.ua;this.eT=null;this.aa=a.aa;this.Z=a.Z;this.tb=a.tb;this.Xb=a.Xb;this.Xy=[];this.Aa=Tc(a.i);this.Ya=cd(a.i);this.Pa=Vc(a.i);this.jf=a.jf;this.Of=a.Of;this.Mg=a.Mg;this.Rb=a.Rb;this.ob=a.ob||null;this.bf=a.bf;this.$B=null;this.fa=a.fa||null;this.bq=!1}f=$U.prototype;
f.init=function(){var a=this;this.view.on("creditPackChange",function(b,c){a.$B=b?c:null});this.view.on("creditPackSelect",function(b){a.$B=b;X1(a.view)});this.view.on("priceChange",function(b,c){a.Rb.ni[b].bC=c;b2(a)});this.view.on("licensesMore",function(){var b={confirm:We(a.Aa),ie:a.Rb.zn("ONE_USE"),jd:a.Pa.jd(),Lc:a.Pa.Lc(),je:a.Rb.zn("ROYALTY_FREE"),Dc:a.Pa.Dc(),Nc:a.Pa.Nc(),Pg:a.Rb.zn("EXTENDED"),Gd:a.Pa.Gd(),Wd:a.Pa.Wd(),$d:a.Pa.$d(),Mj:Xe(a.Pa,Waa)};a.view.DQ(new a2({E_:b}))});this.view.on("submitPayment",
function(){return Xaa(a)});this.view.on("clickDraft",function(){a.trigger("clickDraft")});this.view.on("clickOverlayDraftButton",function(){a.j.va(X(X(X(new Zl("publish_restricted_download_draft"),"section","editor"),"subsection","publish_dialog"),"location","payment_page"));a.trigger("clickDraft")});null!=this.Xb&&cN(this.Xb,"contextTipRoyaltyFreePaymentOption",function(){var b;a.Rb.zn("ROYALTY_FREE")?(b=a.view.$el.find(".license .select").first(),1!==b.length?b=null:(b=b.get(0).getBoundingClientRect(),
b={x:Number(b.right)+10,y:Number(b.top)})):b=null;return b});return this};f.sl=function(){return this.view};f.remove=function(){this.view.remove()};f.refresh=function(){var a=this,b=Jw(this.Z,this.ma),c=P.resolve([{da:10,Ir:11,name:"PACK_10"},{da:20,Ir:22,name:"PACK_20"},{da:50,Ir:55,name:"PACK_50"},{da:100,Ir:110,name:"PACK_100"}]);return P.all([c,b]).then(function(b){var c=la(b);b=c.next().value;c=c.next().value;a.eT=c.dV()[a.ua]||null;a.Xy=b;a.view.render(a.mn());b2(a)})};
f.mn=function(){var a=this,b=null!=this.fa&&this.fa.Yv||0,c=jU(this.Rb),d=Math.max(c-b,0),e=this.jf?Ue(this.Aa)+this.Aa.Ga("paymentPageLicensingIntroDraft"):Ue(this.Aa);return{Bm:this.Aa.Bm(b),OC:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Aa.total(c)),Cq:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Aa.Cq(d)),Id:this.Aa.Id(),dt:this.Aa.dt(),Qv:this.Aa.Qv(),gI:this.Aa.format("paymentPageSpecialOfferLabel"),xA:soydata.VERY_UNSAFE.ordainSanitizedHtml(e),Of:this.Of||this.Aa.Of(),ni:this.Rb.DF().map(function(b){return Yaa(a,
b)}),Xy:this.Xy.map(function(b){return{text:a.Aa.format("paymentPageCreditPackOffer",b.da,b.Ir,parseInt(100*(b.Ir/b.da-1),10)),value:b.name}}),ko:this.Aa.ko(),Mg:this.Mg||this.Aa.Mg(),jo:this.Aa.jo(),io:this.Aa.io(),jf:this.jf}};function Yaa(a,b){return{pn:b.pn(),hG:b.hG(),Gv:b.Gv(),sg:b.jn(),p$:b.iN()?"cover":"contain",title:b.pb(),Gr:a.Aa.Gr(b.$g),iH:c2(a,$T(b)),wz:Zaa(a,bU(b)),ct:ZT(b).map(function(b){var d=a.Aa.wl(b.da),e=c2(a,b.ak);return{selected:b.Hf,text:e+" - "+d,value:b.ak}})}}
function Zaa(a,b){if(Infinity===b)return null;var c=moment.duration(b);b=Math.floor(c.asHours());c=c.minutes();return b?a.Aa.format("paymentPageLicenseRemainingHours",b):Ve(a.Aa,c)}function c2(a,b){switch(b){case "ONE_USE":return a.Pa.jd();case "ROYALTY_FREE":return a.Pa.Dc();case "EXTENDED":return a.Pa.Gd();default:return null}}
function d2(a){var b=null!=a.fa&&a.fa.tP;return b&&0<b.length&&!b.some(function(b){return b===a.eT})?(a.j.va(X(X(X(new Zl("publish_download_restricted"),"section","editor"),"subsection","publish_dialog"),"location","payment_page")),Qaa(a.view).then(function(){return!0})):P.resolve(!1)}
function b2(a){var b=null!=a.fa&&a.fa.Yv||0,c=jU(a.Rb),b=Math.max(c-b,0),d=$aa(a,b);Raa(a.view,a.Aa.total(c));Saa(a.view,a.Aa.Cq(b));Taa(a.view,d.map(function(a){return a.name}));e2(a)?(Naa(a.view),V1(a.view),Paa(a.view),0<d.length?(d.some(function(b){return b.name===a.$B})||Uaa(a.view,d[0].name),null!=a.$B?X1(a.view):a.view.$("input[name\x3dpurchaseCreditPack][value\x3dno]").prop("checked",!0)):(U1(a.view),Oaa(a.view)),f2(a)?(a.view.td.ax(!0),a.bf?$1(a.view):Z1(a.view,a.Aa.XP())):(c=a.fa.Vh,null!=
c&&a.view.td.sk(c),a.bf?(a.view.td.ax(!1),$1(a.view)):(W1(a.view),c=a.Aa.format("paymentPageSavedTeamCard",c.Pv),Z1(a.view,c)))):(U1(a.view),V1(a.view),W1(a.view),$1(a.view))}function $aa(a,b){return a.Xy.filter(function(a){return a.Ir>=b})}function g2(a){return a.bq||0<jU(a.Rb)?P.reject():h2(a,!0)}
function Xaa(a){a.bq||(Vaa(a.view),a.view.XQ.addClass("submitting"),a.GN().then(function(){return h2(a,!1)}).catch(KT,function(){return a.fA()}).catch(oj,function(b){return a.Uj(b)}).catch(function(){return a.fA()}).finally(function(){a.view.XQ.removeClass("submitting")}))}function h2(a,b){a.bq=!0;return aba(a).then(function(){return b?i2(a):a.lF()}).then(function(b){a.trigger("paymentComplete",b);return b}).finally(function(){a.bq=!1})}
f.GN=function(){this.j.va(X(X(X(new Zl("credit_card_submitted"),"section","editor"),"subsection","publish_dialog"),"location","payment_page"));return e2(this)&&f2(this)?this.view.pM():P.resolve()};function aba(a){return lU(a.Rb,a.ua,a.ob,a.$B).reduce(function(b,c){return b.then(function(){return a.aa.hE(c)}).then(function(b){return a.nH(b.Ie)})},P.resolve())}f.nH=function(a){return xj(this.aa,new gi({Ie:a,action:"PAY_SYNCHRONOUS",eo:!1}))};
f.lF=function(){var a=this,b=new KE({types:["ONE_USE"],status:["ACTIVATED"],D:this.ua,document:this.ob,media:iU(this.Rb).map(function(a){return a.Ip()}),limit:100});return this.tb.lF(b).then(function(b){return i2(a,b.zc.map(function(a){return a.xz}),b.Sl)}).catch(function(){return i2(a)})};
function i2(a,b,c){b=void 0===b?[]:b;c=void 0===c?0:c;var d=[].concat(ma(new Set(iU(a.Rb).map(function(a){return a.bC}))));return{At:Math.min.apply(Math,[].concat(ma([].concat([kU(a.Rb)],ma(b.map(function(a){return(a||Infinity)-c})))))),cf:d}}function f2(a){if(!a.fa)return!0;a=a.fa.Vh;if(!a)return!0;var b=new Date,c=b.getUTCMonth()+1,b=b.getUTCFullYear();return a.Uu<b||a.Uu==b&&a.dF<c}function e2(a){return!a.fa||jU(a.Rb)>(a.fa.Yv||0)}f.fA=function(){Y1(this.view,Te(this.Aa).toString())};
f.Uj=function(a){Y1(this.view,PT(this.Ya,a))};f.ln=function(){return{title:this.Aa.format("paymentPagePurchaseTitle")}};f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function j2(a){this.view=a.view;this.Ea=a.Ea;this.hF="EXPORTING";this.H=a.H;this.vC=0;this.RQ=-1}f=j2.prototype;f.sl=function(){return this.view};f.remove=function(){this.view.remove();this.H.clearTimeout(this.RQ)};f.refresh=function(){this.view.render();this.H.clearTimeout(this.RQ);this.vC=0;var a=this.view,b=a.$(".progressValue");b.css("transition","none");a.hr(0);b.width();b.css("transition","");this.Ew();return P.resolve()};
f.ln=function(){switch(this.hF){case "EXPORTING":return{title:this.Ea.format("publishViewTitlePreparingDesign")};case "SAVING":return{title:this.Ea.format("publishViewSavingTitle")};default:throw Error("unexpected exporting state: "+this.hF);}};f.Ew=function(){var a=this;this.vC+=33*(99-this.vC)/99;this.view.jZ(this.vC);this.RQ=this.H.setTimeout(function(){return a.Ew()},1.1*3E3)};function k2(){P1.call(this,{className:"exporting"})}r(k2,P1);
k2.prototype.render=function(){this.el.innerHTML=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue"\x3e\x3cspan class\x3d"text"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e');return this};k2.prototype.jZ=function(a){var b=this;this.$(".progressValue").delay().queue(function(c){b.hr(a);c()})};k2.prototype.hr=function(a){this.$(".progressValue").width(a+"%").children(".text").text(a+"%")};k2.prototype.hp=function(a){return L1(a).toString()};function l2(a){this.quotes=[a.format("quoteAlbertEinstein"),a.format("quoteRobertGreene"),a.format("quoteHenriMatisse"),a.format("quoteSteveJobs"),a.format("quoteAndyWarhol"),a.format("quoteEleanorRoosevelt"),a.format("quoteAbrahamLincoln"),a.format("quoteThomasWatsonJr"),a.format("quotePaulRand"),a.format("quoteNelsonMandela"),a.format("quotePabloPicasso"),a.format("quoteMiltonGlaser"),a.format("quoteMaryLouCook"),a.format("quoteDrEdwinLand"),a.format("quoteAlexanderIsley"),a.format("quoteJoeMansueto"),
a.format("quoteCharlesEames"),a.format("quoteMihnDTran"),a.format("quoteAntoineDeSaintExupery")]}l2.prototype.next=function(){var a=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.quotes[Math.floor(Math.random()*this.quotes.length)]);soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"quote",a,"soydata.SanitizedHtml");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"designQuote"\x3e'+soy.$$escapeHtml(a)+"\x3c/p\x3e").toString()};function n_(a){var b;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var d=a.block;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var e=a.type;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var g=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var h=a.disabled;soy.asserts.assertType(null==a.href||a.href instanceof goog.soy.data.SanitizedContent||goog.isString(a.href),"href",
a.href,"null|string|undefined");var k=a.href;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var l=a.id;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var m=a.small;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");
var n=a.tagName;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");a=a.text;var p=null==(b=n)?"button":b,c=""+("\x3c"+soy.$$filterHtmlElementName(p)+" "+(c?" "+soy.$$filterHtmlAttributes(c):"")+' type\x3d"'+soy.$$escapeHtmlAttribute(null==(b=e)?"button":b)+'" class\x3d"button'+(d?" buttonBlock":"")+(g?" "+soy.$$escapeHtmlAttribute(g):"")+(h&&"a"==n?" disabled":"")+(m?" buttonSmall":"")+'"'+(k?' href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(k))+'"':"")+(l?' id\x3d"'+soy.$$escapeHtmlAttribute(l)+'"':"")+(h&&"a"!=n?" disabled":"")+"\x3e"+soy.$$escapeHtml(a)+"\x3c/"+soy.$$filterHtmlElementName(p)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};function K1(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");soy.asserts.assertType(null==
a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var b=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||goog.isString(a.type),"type",a.type,"null|string|undefined");soy.asserts.assertType(null==
a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");var c=a.value,b=null==b?"input":b;a=""+("textarea"==b?"\x3ctextarea "+m2(a)+"\x3e"+(c?soy.$$escapeHtmlRcdata(c):"")+"\x3c/textarea\x3e":"\x3c"+soy.$$filterHtmlElementName(b)+" "+m2(a)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(a)}
function m2(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var c=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||
goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var e=a.disabled;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var g=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,
"null|string|undefined");var h=a.name;soy.asserts.assertType(null==a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");var k=a.placeholder;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var l=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var m=a.type;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var n=a.small;soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute((b?" "+soy.$$filterHtmlAttributes(b):"")+' class\x3d"textInput'+
(c?" textInputBlock":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+(n?" textInputSmall":"")+'"'+(e?" disabled":"")+(g?' id\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+(h?' name\x3d"'+soy.$$escapeHtmlAttribute(h)+'"':"")+(k?' placeholder\x3d"'+soy.$$escapeHtmlAttribute(k)+'"':"")+("textarea"!=l?' type\x3d"'+soy.$$escapeHtmlAttribute(null==m?"text":m)+'"'+(a?' value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':""):""))};_.template('\n  \x3cspan class\x3d"findUserInput"\x3e\x3cinput type\x3d"text" class\x3d"textInput" placeholder\x3d"\x3c%- inputPlaceholder %\x3e" /\x3e\x3c/span\x3e\n');_.template('\n  \x3cimg class\x3d"avatar" src\x3d"\x3c%- avatarURL %\x3e" /\x3e\n  \x3cdiv class\x3d"findUser__right"\x3e\n    \x3cspan class\x3d"lead"\x3e\x3c%- lead %\x3e\x3c/span\x3e\n    \x3cspan class\x3d"desc"\x3e\x3c%- desc %\x3e\x3c/span\x3e\n  \x3c/div\x3e\n');_.template('\n  \x3cspan class\x3d"desc"\x3e\x3c%\x3d message %\x3e\x3c/span\x3e\n');function n2(a){var b=this;hc.call(this,a);this.$el.on("click",".tagListInput__tagRemoveButton",function(a){a=new o2($(a.target).closest(".tagListInput__tag"));b.trigger(p2,a)});this.$el.on("keydown",".tagListInput__input",function(a){return b.Hl(a)});this.$el.on("keyup",".tagListInput__input",function(){return b.trigger(q2)});this.$el.on("click",function(){return b.trigger(r2)});this.$el.on("blur",".tagListInput__input",function(){return b.trigger(s2)});this.Hn=null}r(n2,hc);f=n2.prototype;
f.Hl=function(a){bba.has(a.which)?(this.trigger(t2),a.preventDefault()):cba.has(a.which)?null==this.Hn&&(this.trigger(t2),a.preventDefault()):8===a.which&&this.trigger(u2)};function v2(a,b){a.$el.find(".tagListInput__input").attr("placeholder",b)}f.rl=function(){return String(this.$el.find(".tagListInput__input").val())};
f.tD=function(a){w2(this);var b=this.$el.find(".tagListInput__input"),c=$,d;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");d=a.text;soy.asserts.assertType(goog.isBoolean(a.valid)||1===a.valid||0===a.valid,"valid",a.valid,"boolean");var e=!!a.valid;soy.asserts.assertType(null==a.gi||goog.isNumber(a.gi),"modelId",a.gi,"null|number|undefined");a=a.gi;d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tagListInput__tag'+
(e?"":" tagListInput__tag--invalid")+'"'+(null!=a?' data-model-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+'\x3e\x3cdiv class\x3d"tagListInput__tagText"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"tagListInput__tagRemoveButton"\x3e\x3cdiv class\x3d"tagListInput__tagRemoveIcon"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');c=c(d.toString());(new o2(c)).$el.insertBefore(b)};f.Qp=function(){return this.$el.find(".tagListInput__tag").toArray().map(function(a){return new o2($(a))})};
f.focus=function(){this.$el.find(".tagListInput__input").focus()};function w2(a){a.Hn&&(a.Hn.view.remove(),a.Hn=null)}function dba(a,b){w2(a);a.Hn=LQ({elements:b,Hu:0});a.$el.append(a.Hn.view.$el);a.Hn.on({select:function(c){a.trigger(x2,b[c].element.data("model-id"))},cancel:function(){w2(a)}})}function o2(a){gc.apply(this,arguments)}r(o2,gc);o2.prototype.isValid=function(){return!this.$el.hasClass("tagListInput__tag--invalid")};o2.prototype.rc=function(){return String(this.$el.find(".tagListInput__tagText").text())};
o2.prototype.ov=function(){var a=parseInt(this.$el.data("model-id"),10);return isNaN(a)?void 0:a};var p2="REMOVE_TAG",t2="SUBMIT",u2="BACKSPACE",r2="FOCUS",s2="BLUR",q2="KEY_UP",x2="SELECT_MENULIST_ELEMENT",cba=new Set([13]),bba=new Set([32,188,59,186]);function y2(a,b){var c=this;this.view=b;this.FI=a.FI;this.ER=a.ER;this.yO=null;this.KN=a.KN;this.nq=null;this.RW=!1;this.LN=a.LN;this.JN=a.JN;this.oL=a.oL;this.$N=a.$N;this.FE=a.FE;this.oW="";this.view.on(t2,function(){return z2(c)});this.view.on(u2,function(){if(0===c.view.rl().length){var a=c.view.Qp();0<a.length&&A2(c,a[a.length-1])}});this.view.on(p2,function(a){return A2(c,a)});this.view.on(r2,function(){c.view.focus();a.uq&&a.uq()});this.view.on(s2,function(){var a=c.view;null!=a.Hn&&a.Hn.view.$("li").hasClass("hovering")||
w2(c.view)});this.view.on(q2,function(){var a=c.view.rl();c.oW!==a&&(c.oW=a,c.yO&&c.yO(),B2(c))});this.view.on(x2,function(a){return eba(c,a)})}function z2(a){var b=a.view.rl();return 0===b.length?P.resolve():a.FI.validate(b,null).then(function(c){c=c.valid;var d=void 0;if(c){var e=C2(a,b);1===e.length&&(b=a.FE(e[0].data),d=e[0].gi)}a.tD({text:b,valid:c,gi:d})})}y2.prototype.tD=function(a){this.view.tD(a);v2(this.view,this.$N);this.view.$el.find(".tagListInput__input").val("")};
function A2(a,b){b.remove();a.view.focus();0===a.view.Qp().length&&v2(a.view,a.oL)}function fba(a,b){a.yO=b}function gba(a){return a.view.Qp().filter(function(a){return a.isValid()}).map(function(b){var c=b.ov();return null!=c&&0<=c&&c<a.nq.length?a.nq[c]:b.rc()})}function hba(a){return a.view.Qp().filter(function(a){return!a.isValid()}).map(function(a){return a.rc()})}function iba(a){a.KN.then(function(b){a.nq=b;a.RW=!1;B2(a)})}
function C2(a,b){return a.nq.map(function(a,b){return{data:a,gi:b}}).filter(function(c){return a.LN(b,c.data)}).slice(0,4)}function B2(a){if(a.nq||a.RW){var b=a.view.rl();0!==b.length&&a.nq?(b=C2(a,b).map(function(b){return a.JN(b.data,b.gi)}),b.length?dba(a.view,b):w2(a.view)):w2(a.view)}else iba(a)}function eba(a,b){Fa(b<a.nq.length,"Invalid tag list model ID");var c=a.nq[b],d=a.ER(c);a.FI.validate(d,null).then(function(d){d=d.valid;var g=a.FE(c);a.tD({text:g,valid:d,gi:b})})}
var jba=new Ff("mg",!0);function D2(a){this.view=a.view;this.Ea=Rc(a.i);this.Pa=Vc(a.i);this.YQ=a.YQ}f=D2.prototype;f.init=function(){var a=this;this.view.on("remove",function(){a.trigger("complete")});this.view.on("clickConfirm",function(){a.view.$(".paymentOnboarding__button").addClass("disabled");a.view.remove()});return this};f.zn=function(a){return 0<=this.YQ.indexOf(a)};
f.show=function(){var a=this.mn(),b=this.view,c=$,d;soy.asserts.assertType(goog.isString(a.before)||a.before instanceof goog.soy.data.SanitizedContent,"before",a.before,"string|goog.soy.data.SanitizedContent");d=a.before;soy.asserts.assertType(goog.isString(a.after)||a.after instanceof goog.soy.data.SanitizedContent,"after",a.after,"string|goog.soy.data.SanitizedContent");var e=a.after;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,
"string|goog.soy.data.SanitizedContent");var g=a.title;soy.asserts.assertType(goog.isString(a.UF)||a.UF instanceof goog.soy.data.SanitizedContent,"headline",a.UF,"string|goog.soy.data.SanitizedContent");var h=a.UF;soy.asserts.assertType(goog.isBoolean(a.ie)||1===a.ie||0===a.ie,"showOneTimeUse",a.ie,"boolean");var k=!!a.ie;soy.asserts.assertType(goog.isString(a.jd)||a.jd instanceof goog.soy.data.SanitizedContent,"oneTimeUse",a.jd,"string|goog.soy.data.SanitizedContent");var l=a.jd;soy.asserts.assertType(goog.isString(a.Lc)||
a.Lc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Lc,"string|goog.soy.data.SanitizedContent");var m=a.Lc;soy.asserts.assertType(goog.isBoolean(a.je)||1===a.je||0===a.je,"showRoyaltyFree",a.je,"boolean");var n=!!a.je;soy.asserts.assertType(goog.isString(a.Dc)||a.Dc instanceof goog.soy.data.SanitizedContent,"royaltyFree",a.Dc,"string|goog.soy.data.SanitizedContent");var p=a.Dc;soy.asserts.assertType(goog.isString(a.Nc)||a.Nc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",
a.Nc,"string|goog.soy.data.SanitizedContent");var q=a.Nc;soy.asserts.assertType(goog.isString(a.$d)||a.$d instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.$d,"string|goog.soy.data.SanitizedContent");var u=a.$d;soy.asserts.assertType(goog.isString(a.bd)||a.bd instanceof goog.soy.data.SanitizedContent,"buttonText",a.bd,"string|goog.soy.data.SanitizedContent");a=a.bd;d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentOnboarding__header"\x3e\x3cdiv class\x3d"paymentOnboarding__headerState" data-title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"paymentOnboarding__headerState" data-title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3ch2 class\x3d"center"\x3e'+soy.$$escapeHtml(g)+'\x3c/h2\x3e\x3cp class\x3d"paymentOnboarding__headline"\x3e'+soy.$$escapeHtml(h)+"\x3c/p\x3e"+R1({ie:k,jd:l,Lc:m,je:n,Dc:p,Nc:q,Pg:!1,Gd:null,Wd:null,$d:u})+'\x3cdiv class\x3d"paymentOnboarding__footer"\x3e'+n_({v:"paymentOnboarding__button",text:a})+"\x3c/div\x3e");b.content=
c(d.toString());this.view.show()};f.remove=function(){this.view.remove()};f.mn=function(){return{before:this.Ea.format("publishViewOnboardingBefore"),after:this.Ea.format("publishViewOnboardingAfter"),title:this.Ea.format("publishViewOnboardingTitle"),UF:this.Ea.format("publishViewOnboardingHeadline"),ie:this.zn("ONE_USE"),jd:this.Pa.jd(),Lc:this.Pa.Lc(),je:this.zn("ROYALTY_FREE"),Dc:this.Pa.Dc(),Nc:this.Pa.Nc(),$d:this.Pa.$d(),bd:this.Ea.format("publishViewOnboardingConfirm")}};f.on=Backbone.Events.on;
f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function E2(a){kp.call(this,{className:"paymentOnboarding",H:a.H,hf:!1,Cr:!0,Qe:!0})}r(E2,kp);E2.prototype.events=function(){var a=this;return _.extend(kp.prototype.events.call(this),{"click .paymentOnboarding__button":function(){a.trigger("clickConfirm")}})};E2.prototype.Jp=function(){return rX};
E2.prototype.render=function(){kp.prototype.render.call(this);this.$(".dialog .content").html(this.content);this.delegateEvents();return this};function F2(a){this.view=a.view;this.xp=null;this.Ea=a.Ea;this.Fw=null}f=F2.prototype;f.init=function(){var a=this;this.view.on("done",function(){a.trigger("done")});this.view.on("retry",function(){a.view.$(".button").prop("disabled",!0);a.trigger("retry")});return this};f.sl=function(){return this.view};f.remove=function(){this.view.remove()};f.refresh=function(){y(this.Fw);this.view.render(this.mn());this.view.delegateEvents();null!=this.xp&&this.view.iZ(this.xp);return P.resolve()};
f.mn=function(){return{message:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Fw.message),Yt:this.Ea.Yt(),Zt:this.Ea.Zt(),Hi:this.Fw.Hi||!1,Pt:this.Fw.Pt||!1}};f.ln=function(){return{title:this.Fw.title}};f.iZ=function(a){this.xp=a};
function kba(a,b){switch(b){case "EMPTY_DOC":return{message:a.Ea.format("publishViewErrorEmptyDesign"),title:a.Ea.format("publishViewErrorEmptyDesignTitle"),Hi:!0};case "SAVING":return{message:a.Ea.format("publishViewErrorSavingDesign"),title:a.Ea.format("publishViewErrorSavingDesignTitle"),Pt:!0};case "VERSION_CONFLICT":return{message:a.Ea.format("publishViewErrorVersionConflict"),title:a.Ea.format("publishViewErrorVersionConflictTitle"),Hi:!0};case "UPLOADING":return{message:a.Ea.format("publishViewErrorUploading"),
title:a.Ea.format("publishViewErrorUploadingTitle"),Hi:!0};case "EXPORTING":case "BACKGROUND_PAYMENT":return{message:a.Ea.format("publishViewErrorPageHtml","http://status.canva.com"),title:a.Ea.format("publishViewTitleErrorPage"),Hi:!0};case "BACKGROUND":return{message:a.Ea.format("publishViewErrorBackgroundTaskHtml","http://status.canva.com"),title:a.Ea.format("publishViewErrorBackgroundTaskTitle"),Hi:!0};case "LICENSE_NO_OPTIONS":return{message:a.Ea.format("publishViewErrorLicenseNoOptionsHtml",
"http://status.canva.com"),title:a.Ea.format("publishViewErrorLicenseNoOptionsTitle"),Hi:!0};case "URL_MINTING":return{message:a.Ea.format("publishViewErrorUrlMinting","http://status.canva.com"),title:a.Ea.format("publishViewErrorUrlMintingTitle"),Hi:!0};default:throw Error("unexpected publish error type: "+b);}}f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;
function G2(){var a=this;P1.call(this,{className:"error",events:{"click .done":function(){a.trigger("done")},"click .retry":function(){return a.eO()}}})}r(G2,P1);G2.prototype.eO=function(){this.trigger("retry")};G2.prototype.iZ=function(a){$('\x3cp class\x3d"errorMessage"\x3e'+a+"\x3c/p\x3e").insertBefore(this.$(".buttonContainer"))};
G2.prototype.render=function(a){var b=this.el,c;soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");c=a.message;soy.asserts.assertType(goog.isBoolean(a.Hi)||1===a.Hi||0===a.Hi,"useOK",a.Hi,"boolean");var d=!!a.Hi;soy.asserts.assertType(goog.isBoolean(a.Pt)||1===a.Pt||0===a.Pt,"useRetry",a.Pt,"boolean");var e=!!a.Pt;soy.asserts.assertType(goog.isString(a.Yt)||a.Yt instanceof
goog.soy.data.SanitizedContent,"actionOK",a.Yt,"string|goog.soy.data.SanitizedContent");var g=a.Yt;soy.asserts.assertType(goog.isString(a.Zt)||a.Zt instanceof goog.soy.data.SanitizedContent,"actionRetry",a.Zt,"string|goog.soy.data.SanitizedContent");a=a.Zt;c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(c)+'\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e'+(d?'\x3cbutton class\x3d"button done"\x3e'+soy.$$escapeHtml(g)+"\x3c/button\x3e":"")+(e?'\x3cbutton class\x3d"button retry"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e":"")+"\x3c/p\x3e");b.innerHTML=c;return this};G2.prototype.hp=function(a){return L1(a).toString()};function lba(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");var b=a.message;soy.asserts.assertType(goog.isString(a.Ug)||a.Ug instanceof goog.soy.data.SanitizedContent,"actionClose",a.Ug,"string|goog.soy.data.SanitizedContent");a=a.Ug;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(b)+'\x3c/p\x3e\x3cp class\x3d"useExportButton"\x3e\x3ca class\x3d"button" tabindex\x3d"0"\x3e'+
soy.$$escapeHtml(a)+"\x3c/a\x3e\x3c/p\x3e")};function H2(a){this.j=a}H2.prototype.Oj=function(){return this.j.Oj()};H2.prototype.va=function(a){return this.j.va(a)};function I2(a,b){a.j.track("post_publish_dialog_shown",{type:b})}function J2(a,b,c,d){b={type:b};location&&(b.section=c);d&&Object.assign(b,d);a.j.track("post_publish_dialog_clicked",b)}function K2(a,b,c,d){a.j.track("mobile_dialogue_submit",{type:b,location:"publish_flow_complete",value:c,status:d?"success":"fail"})};function L2(a){soy.asserts.assertType(a.lb instanceof soydata.SanitizedHtml||a.lb instanceof soydata.UnsanitizedText||goog.isString(a.lb),"headingHtml",a.lb,"soydata.SanitizedHtml");var b=a.lb;soy.asserts.assertType(goog.isString(a.gk)||a.gk instanceof goog.soy.data.SanitizedContent,"overviewSubheading",a.gk,"string|goog.soy.data.SanitizedContent");var c=a.gk;soy.asserts.assertType(goog.isString(a.Kc)||a.Kc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Kc,"string|goog.soy.data.SanitizedContent");
var d=a.Kc;soy.asserts.assertType(goog.isString(a.Gc)||a.Gc instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Gc,"string|goog.soy.data.SanitizedContent");a=a.Gc;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__content"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__options"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__optionsIphone"\x3e'+
soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__optionsAndroid"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e\x3c/div\x3e")}
function mba(a){soy.asserts.assertType(a.lb instanceof soydata.SanitizedHtml||a.lb instanceof soydata.UnsanitizedText||goog.isString(a.lb),"headingHtml",a.lb,"soydata.SanitizedHtml");var b=a.lb;soy.asserts.assertType(goog.isString(a.Fv)||a.Fv instanceof goog.soy.data.SanitizedContent,"iphoneSubheading",a.Fv,"string|goog.soy.data.SanitizedContent");var c=a.Fv;soy.asserts.assertType(goog.isString(a.Xw)||a.Xw instanceof goog.soy.data.SanitizedContent,"sendButtonLabel",a.Xw,"string|goog.soy.data.SanitizedContent");
var d=a.Xw;soy.asserts.assertType(goog.isString(a.nj)||a.nj instanceof goog.soy.data.SanitizedContent,"phoneInputPlaceholder",a.nj,"string|goog.soy.data.SanitizedContent");a=a.nj;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__back"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__grid"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__coverIphone"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__aside"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__subheading"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__input"\x3e\x3cinput class\x3d"experimentsPhoneDialog__inputField experimentsPhoneDialog__inputField--iphone" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputButton experimentsPhoneDialog__inputButton--iphone"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputError experimentsPhoneDialog__inputError--iphone"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function nba(a){soy.asserts.assertType(a.lb instanceof soydata.SanitizedHtml||a.lb instanceof soydata.UnsanitizedText||goog.isString(a.lb),"headingHtml",a.lb,"soydata.SanitizedHtml");var b=a.lb;soy.asserts.assertType(goog.isString(a.gu)||a.gu instanceof goog.soy.data.SanitizedContent,"androidSubheading",a.gu,"string|goog.soy.data.SanitizedContent");var c=a.gu;soy.asserts.assertType(goog.isString(a.Iw)||a.Iw instanceof goog.soy.data.SanitizedContent,"registerButtonLabel",a.Iw,"string|goog.soy.data.SanitizedContent");
var d=a.Iw;soy.asserts.assertType(goog.isString(a.nj)||a.nj instanceof goog.soy.data.SanitizedContent,"phoneInputPlaceholder",a.nj,"string|goog.soy.data.SanitizedContent");a=a.nj;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__back"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__grid"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__coverAndroid"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__aside"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__subheading"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__input"\x3e\x3cinput class\x3d"experimentsPhoneDialog__inputField experimentsPhoneDialog__inputField--android" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputButton experimentsPhoneDialog__inputButton--android"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputError experimentsPhoneDialog__inputError--android"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
;function M2(a){var b=this;hc.call(this,a);a.on("click",".experimentsPhoneDialog__back",function(){return b.trigger(N2)});a.on("click",".experimentsPhoneDialog__optionsIphone",function(){return b.trigger(O2)});a.on("click",".experimentsPhoneDialog__optionsAndroid",function(){return b.trigger(P2)});a.on("click",".experimentsPhoneDialog__inputButton--android",function(){return b.trigger(Q2)});a.on("click",".experimentsPhoneDialog__inputButton--iphone",function(){return b.trigger(R2)})}r(M2,hc);f=M2.prototype;
f.po=function(a){return this.$el.find(".experimentsPhoneDialog__container").html(a)};function S2(a){a=a.$el.find(".experimentsPhoneDialog__inputField");if(0===a.size())throw Error("Input field could not be found");return a}function T2(a){a=a.$el.find(".experimentsPhoneDialog__inputButton");if(0===a.size())throw Error("Input button could not be found");return a}f.tt=function(a){this.$el.find(".experimentsPhoneDialog__inputError").text(a)};f.zF=function(){return S2(this).val().toString()};
f.rQ=function(){this.Mq();S2(this).addClass("experimentsPhoneDialog__inputField--loading");T2(this).addClass("experimentsPhoneDialog__inputButton--loading")};f.ex=function(a){this.Mq();S2(this).addClass("experimentsPhoneDialog__inputField--error");T2(this).addClass("experimentsPhoneDialog__inputButton--error");this.tt(a)};f.XH=function(){this.Mq();S2(this).addClass("experimentsPhoneDialog__inputField--success");T2(this).addClass("experimentsPhoneDialog__inputButton--success");this.tt("Success!")};
f.Mq=function(){this.tt("");S2(this).removeClass("experimentsPhoneDialog__inputField--error").removeClass("experimentsPhoneDialog__inputField--loading").removeClass("experimentsPhoneDialog__inputField--success");T2(this).removeClass("experimentsPhoneDialog__inputButton--error").removeClass("experimentsPhoneDialog__inputButton--loading").removeClass("experimentsPhoneDialog__inputButton--success")};var N2="BACK",Q2="SEND_ANDROID",R2="SEND_IPHONE",P2="GOTO_ANDROID",O2="GOTO_IPHONE";function U2(a,b){var c=this;this.view=b;this.j=a.j;this.xc=a.xc;this.i=a.i;this.view.on(N2,function(){var a={lb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.lb()),gk:c.i.gk(),Kc:c.i.Kc(),Gc:c.i.Gc()};c.view.po(L2(a).toString())});this.view.on(R2,function(){return oba(c)});this.view.on(Q2,function(){var a;a=c.view.zF();/^(?=.*[0-9])[- +()0-9]+$/g.test(a)?(c.j.va(V2(a,!0)),c.view.XH(),a=void 0):(c.j.va(V2(a,!1)),a=c.view.ex(c.i.eG()));return a});this.view.on(O2,function(){var a={lb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.lb()),
Fv:c.i.Fv(),Xw:c.i.Xw(),nj:c.i.nj()};c.view.po(mba(a).toString());J2(c.j,"app_download","os_select",{os:"ios"})});this.view.on(P2,function(){var a={lb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.lb()),gu:c.i.gu(),Iw:c.i.Iw(),nj:c.i.nj()};c.view.po(nba(a).toString());J2(c.j,"app_download","os_select",{os:"android"})})}U2.prototype.Le=function(){this.j.va(X(new Zl("mobile_dialogue_loaded"),"location","publish_flow_complete"))};U2.prototype.destroy=function(){this.view.remove()};
function oba(a){var b=a.view.zF();if(!/^(?=.*[0-9])[- +()0-9]+$/g.test(b))return a.view.ex(a.i.eG());a.view.rQ();a.xc.send(b,{feature:"TextMeTheApp",channel:"webapp",campaign:"publish_dialog",stage:"control"}).then(function(){a.view.XH();a.j.va(W2(b,!0))}).catch(function(){a.view.ex(a.i.OQ());a.j.va(W2(b,!1))})}function V2(a,b){b=b?"success":"fail";return X(X(X(X(new Zl("mobile_dialogue_submit"),"type","android"),"location","publish_flow_complete"),"value",a),"status",b)}
function W2(a,b){b=b?"success":"fail";return X(X(X(X(new Zl("mobile_dialogue_submit"),"type","ios"),"location","publish_flow_complete"),"value",a),"status",b)};function X2(a){soy.asserts.assertType(goog.isString(a.Kc)||a.Kc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Kc,"string|goog.soy.data.SanitizedContent");var b=a.Kc;soy.asserts.assertType(goog.isString(a.Gc)||a.Gc instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Gc,"string|goog.soy.data.SanitizedContent");var c=a.Gc;soy.asserts.assertType(goog.isString(a.qd)||a.qd instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.qd,"string|goog.soy.data.SanitizedContent");var d=
a.qd;soy.asserts.assertType(goog.isString(a.Ng)||a.Ng instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Ng,"string|goog.soy.data.SanitizedContent");var e=a.Ng;soy.asserts.assertType(goog.isString(a.ki)||a.ki instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.ki,"string|goog.soy.data.SanitizedContent");a=a.ki;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsMobileAppsDialog__step"\x3e'+soy.$$escapeHtml(e)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__choiceForm" action\x3d""\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__radioInputContainer"\x3e\x3cinput type\x3d"radio" id\x3d"experimentsMobileAppsDialog__choice--iphone" class\x3d"experimentsMobileAppsDialog__choice" name\x3d"mobileType" value\x3d"iphone" checked\x3e\x3clabel class\x3d"experimentsMobileAppsDialog__choiceLabel" for\x3d"experimentsMobileAppsDialog__choice--iphone"\x3e'+
soy.$$escapeHtml(b)+'\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__radioInputContainer"\x3e\x3cinput type\x3d"radio" id\x3d"experimentsMobileAppsDialog__choice--android" class\x3d"experimentsMobileAppsDialog__choice" name\x3d"mobileType" value\x3d"android"\x3e\x3clabel class\x3d"experimentsMobileAppsDialog__choiceLabel" for\x3d"experimentsMobileAppsDialog__choice--android"\x3e'+soy.$$escapeHtml(c)+'\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__step experimentsMobileAppsDialog__step--phoneInputCTA"\x3e'+
soy.$$escapeHtml(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__phoneNumberInputContainer"\x3e\x3cinput type\x3d"text" class\x3d"experimentsMobileAppsDialog__phoneNumberInputField"/\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__phoneNumberInputSubmit"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__result"\x3e\x3c/div\x3e')};function Y2(a){var b=this;hc.call(this,a);this.No=a.find(".experimentsMobileAppsDialog__phoneNumberInputField");this.fD=a.find(".experimentsMobileAppsDialog__phoneNumberInputSubmit");a.find(".experimentsMobileAppsDialog__step--phoneInputCTA");this.No.intlTelInput({utilsScript:"https://static.canva.com/static/lib/intlTelInput/utils-12.1.0.min.js"});a.on("click",".experimentsMobileAppsDialog__phoneNumberInputSubmit",function(){return b.trigger(Z2)});a.on("input",".experimentsMobileAppsDialog__phoneNumberInputField",function(){return b.trigger($2)})}
r(Y2,hc);f=Y2.prototype;f.tt=function(a){this.$el.find(".experimentsMobileAppsDialog__result").text(a)};f.zF=function(){return String(this.No.intlTelInput("getNumber"))};f.hZ=function(a){this.No.intlTelInput("setCountry",a)};f.rQ=function(){this.Mq();this.No.addClass("experimentsMobileAppsDialog__phoneNumberInputField--loading");this.fD.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--loading")};
f.ex=function(a){this.Mq();this.No.addClass("experimentsMobileAppsDialog__phoneNumberInputField--error");this.fD.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--error");this.tt(a)};f.XH=function(a){this.Mq();this.No.addClass("experimentsMobileAppsDialog__phoneNumberInputField--success");this.fD.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--success");this.tt(a)};
f.Mq=function(){this.tt("");this.No.removeClass("experimentsMobileAppsDialog__phoneNumberInputField--error").removeClass("experimentsMobileAppsDialog__phoneNumberInputField--loading").removeClass("experimentsMobileAppsDialog__phoneNumberInputField--success");this.fD.removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--error").removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--loading").removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--success")};
var Z2="SUBMIT",$2="PHONE_NUMBER_CHANGED";function a3(a,b){var c=this;this.view=b;this.j=a.j;this.xc=a.xc;this.Jm=a.Jm;this.i=a.i;this.view.on(Z2,function(){return c.Il()});this.view.on($2,function(){return c.view.Mq()})}a3.prototype.Le=function(){I2(this.j,"app_download");var a=this.j.Oj();a&&this.view.hZ(a)};a3.prototype.destroy=function(){this.view.remove()};
a3.prototype.Il=function(){if(this.view.No.intlTelInput("isValidNumber")){J2(this.j,"app_download","phone_number_submit");var a=this.view.$el.find(".experimentsMobileAppsDialog__choice:checked").val().toString();switch(a){case "iphone":b3(this,"iphone");break;case "android":b3(this,"android");break;default:throw Error("UNKNOWN_DEVICE_TYPE: "+a);}}else this.view.ex(this.i.eG())};
function b3(a,b){var c=a.view.zF();a.view.rQ();a.xc.send(c,{feature:"TextMeTheApp",channel:"webapp",campaign:"publish_dialog",stage:a.Jm}).then(function(){a.view.XH(a.i.success());K2(a.j,b,c,!0)}).catch(function(){a.view.ex(a.i.OQ());K2(a.j,b,c,!1)})};function c3(a){var b=this;hc.call(this,a);this.$el.on("click",".experimentsPrintPublishDialog__printButton",function(){return b.trigger(d3)})}r(c3,hc);var d3="PRINT_CLICK";function e3(a,b){var c=this;this.view=b;this.uO=a.uO;this.j=a.j;this.view.on(d3,function(){J2(c.j,"print_upsell");c.uO()})}
function pba(a){var b=a.Pl.format("publishDialogPrintDialogPrintButtonLabel"),c=a.Pl.format("publishDialogPrintDialogSubtitle"),d=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.Pl.format("publishDialogPrintDialogTitleHtml")),e=$;soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"titleHtml",d,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"subtitle",c,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"printButtonLabel",b,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPrintPublishDialog"\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__container"\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__printIcon"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__title"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__subTitle"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__printButtonContainer"\x3e\x3cbutton class\x3d"experimentsPrintPublishDialog__printButton"\x3e'+soy.$$escapeHtml(b)+"\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());e=new c3(e);return{Bb:new e3(a,e),view:e}}e3.prototype.Le=function(){I2(this.j,"print_upsell")};e3.prototype.destroy=function(){this.view.remove()};function f3(a,b){hc.call(this,a);this.cR=b}r(f3,hc);function g3(a,b,c){var d=this;this.view=b;this.IC=c;this.j=a.j;this.Et=a.Et;h3(this.IC,function(b){return i3(d.Et,b).then(function(){b.forEach(function(a){return d.j.va(rm(a,"export_dialog"))});J2(d.j,"team_member_invite","team_invite_submit");a.nO()})})}
function qba(a){var b=a.Pl.format("publishDialogTeamInviteDialogTitle"),c=a.Pl.format("publishDialogTeamInviteDialogSubheading"),d={qd:a.qf.qd(),Hj:a.qf.Hj(),SV:j3(a.ij),ir:a.qf.ir(),So:a.qf.So()},e=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"title",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"subheading",c,"string|goog.soy.data.SanitizedContent");d=goog.asserts.assertObject(d,
"expected parameter 'teamInviteFormModel' of type [addAnotherButtonClasses: null|string, addAnotherButtonLabel: string, classes: null|string, emailInputPlaceholder: string, inputModel: list\x3c[modelId: float|int]\x3e, listItemClasses: null|string, submitButtonClasses: null|string, submitButtonLabel: string, upgradeMessage: string].");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"teamInviteDialog"\x3e\x3cdiv class\x3d"teamInviteDialog__header"\x3e\x3cdiv class\x3d"teamInviteDialog__title"\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__subheading"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__wrapper"\x3e\x3cdiv class\x3d"teamInviteDialog__pane teamInviteDialog__imageWrapper"\x3e\x3cimg class\x3d"teamInviteDialog__image" src\x3d"https://static.canva.com/static/images/experiments/publish_dialog_invite/team.png"\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__pane teamInviteDialog__inviteForm"\x3e'+k3(soy.$$assignDefaults({BC:"teamInviteDialog__submitButton"},
d))+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());b=new l3(e.find(".teamInviteForm"));e=new f3(e,b);b=a.pK(e.cR);a=new g3(a,e,b);return{view:e,Bb:a}}g3.prototype.Le=function(){this.IC.Le();I2(this.j,"team_member_invite")};g3.prototype.destroy=function(){this.view.remove()};function I0(a){this.UN=a.UN;this.aa=a.aa;this.lr=a.lr;this.uE=a.uE;this.Z=a.Z;this.cc=a.cc;this.$o=a.$o;this.pg=a.pg;this.D=a.D}function i3(a,b){return 0===b.length?P.resolve():a.sR().then(function(){return rba(a,b)})}function rba(a,b){b=b.map(function(b){return Object.freeze(Df(Hx,{email:b,role:a.uE}))});b=Jx(Kx((new Ix).wj(a.D.u()),"brand_page_Invite_Accept_Invitation"),b);return a.Z.dZ(b)}
I0.prototype.sR=function(){var a=this;if(!this.D.ei())return P.resolve();var b=Dx(Cx((new Bx).Lo(this.D.u()),sba(this)));return Nw(this.Z,b).then(function(b){var d;try{d=b.Dp().Cp().Eg}catch(e){d=null}b=Pw({brandColor:d,brandname:b.dM(),contributor:b.XV(),displayName:b.Lb(),id:b.u(),layoutContributor:b.bW(),personal:b.ei(),thirdParty:b.eW()});a.D=b;fy(a.cc);gy(a.cc)})};function sba(a){var b=a.D.Lb();a.D.ei()&&(b=a.$o.format("brandTeamMembersDefaultTeamDisplayName",b||a.lr));return b||""};function H0(a,b){var c=this;this.view=b;this.YE=a.YE;this.ej=a.ej;this.qf=a.qf;this.dI=void 0===a.dI||a.dI;this.ij=a.ij;this.Il=a.Il;this.view.on(m3,function(a){return c.jO(a)});this.view.on(n3,function(a){var b=o3(c.view),g;for(g=0;g<b.length;g++){var h=b[g];if(a.ov()===h.ov())break}g+1<b.length&&b[g+1].focus()});this.view.on(p3,function(a){return c.iO(a)});this.view.on(q3,function(){return tba(c)});this.view.on(r3,function(){o3(c.view).length<c.ij.vG&&(uba(c.view,{ur:!0,ul:c.qf.Hj(),gi:s3++}),t3(c))})}
f=H0.prototype;f.destroy=function(){this.view.remove()};f.Le=function(){t3(this)};function h3(a,b){a.Il=b}function t3(a){var b=o3(a.view).length,c=b+a.ij.vK>=a.ij.yl;b>=a.ij.vG||c?(u3(a.view,!1),c&&a.dI&&v3(a.view,!0)):(v3(a.view,!1),u3(a.view,!0))}f.jO=function(a){w3(a).jg()};f.iO=function(a){var b=o3(this.view);b[b.length-1].ov()===a.ov()&&x3(this.view,!0)};f.It=function(a){this.view.It(a);y3(this.view,a);o3(this.view).forEach(function(b){return b.It(a)})};
function tba(a){a.It(!0);var b=o3(a.view).filter(function(a){return 0<a.rc().length});z3(vba(a,b)).then(function(c){c?(c=b.map(function(a){return a.rc()}),y(a.Il)(c).catch(function(b){return a.view.kf(b)}).finally(function(){return a.It(!1)})):a.It(!1)})}function vba(a,b){return b.map(function(b){return{Gp:function(){return w3(b)},Hp:function(){return b.rc()},nr:[a.YE]}})}
f.reset=function(){var a=this;u3(this.view,!0);y3(this.view,!1);x3(this.view,!1);v3(this.view,!1);o3(this.view).forEach(function(b,c){c<A3(a.ij)?b.xk(""):b.remove()})};function j3(a){a=A3(a);return wba(a)}function A3(a){Fa(a.CK<=a.vG);return Math.min(a.CK,Math.max(a.yl-a.vK,0))}function wba(a){return Array(Math.max(a,0)).fill(null).map(function(){return{gi:s3++}})}var s3=1;function l3(a){var b=this;hc.call(this,a);this.$el.on("click",".teamInviteForm__submitButton",function(){b.trigger(q3)});this.$el.on("input",".teamInviteForm__textInput",function(a){return b.jO(a)});this.$el.on("keyup",".teamInviteForm__textInput",function(a){13===a.keyCode&&(a=$(a.target).closest(".teamInviteForm__emailListItem"),b.trigger(n3,new B3(a)))});this.$el.on("focus",".teamInviteForm__textInput",function(a){return b.iO(a)});this.$el.on("click",".teamInviteForm__addAnother",function(){return b.trigger(r3)})}
r(l3,hc);function uba(a,b){var c=xba(b);a.$el.find(".teamInviteForm__emailList").append(c.$el);b.ur&&il(function(){c.$el.addClass("teamInviteForm__emailListItem--visible");c.focus()})}function o3(a){return a.$el.find(".teamInviteForm__emailListItem").toArray().map(function(a){return new B3($(a))})}f=l3.prototype;f.kf=function(a){this.$el.find(".teamInviteForm__error").addClass("teamInviteForm__error--visible").text(a)};f.jg=function(){this.$el.find(".teamInviteForm__error").removeClass("teamInviteForm__error--visible")};
f.It=function(a){this.$el.find(".teamInviteForm__submitButton").toggleClass("teamInviteForm__submitButton--submitting",a)};function y3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--disabled",b)}function v3(a,b){a.$el.find(".teamInviteForm__upgradeMessage").toggleClass("teamInviteForm__upgradeMessage--visible",b)}function u3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--hidden",!b)}
function x3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--highlighted",b)}f.jO=function(a){a=$(a.target).closest(".teamInviteForm__emailListItem");this.trigger(m3,new B3(a))};f.iO=function(a){a=$(a.target).closest(".teamInviteForm__emailListItem");this.trigger(p3,new B3(a))};var m3="FIELD_INPUT",n3="FIELD_ENTER",p3="FIELD_FOCUS",q3="SUBMIT_CLICK",r3="ADD_ANOTHER";function B3(a){gc.apply(this,arguments)}r(B3,gc);
function xba(a){a=$(C3(a).toString());return new B3(a)}f=B3.prototype;f.rc=function(){return String(this.$el.find(".teamInviteForm__textInput").val())};f.xk=function(a){this.$el.find(".teamInviteForm__textInput").val(a)};function w3(a){return w1($(a.$el.find(".teamInviteForm__inputContainer")))}f.ov=function(){return Number(this.$el.data("model-id"))};f.It=function(a){this.$el.find(".teamInviteForm__textInput").toggleClass("teamInviteForm__textInput--submitting",a)};f.focus=function(){this.$el.find(".teamInviteForm__textInput").focus()};function k3(a){soy.asserts.assertType(goog.isString(a.Hj)||a.Hj instanceof goog.soy.data.SanitizedContent,"emailInputPlaceholder",a.Hj,"string|goog.soy.data.SanitizedContent");var b=a.Hj;soy.asserts.assertType(goog.isString(a.qd)||a.qd instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.qd,"string|goog.soy.data.SanitizedContent");var c=a.qd;soy.asserts.assertType(goog.isString(a.So)||a.So instanceof goog.soy.data.SanitizedContent,"addAnotherButtonLabel",a.So,"string|goog.soy.data.SanitizedContent");
var d=a.So,e=goog.asserts.assertArray(a.SV,"expected parameter 'inputModel' of type list\x3c[modelId: float|int]\x3e.");soy.asserts.assertType(goog.isString(a.ir)||a.ir instanceof goog.soy.data.SanitizedContent,"upgradeMessage",a.ir,"string|goog.soy.data.SanitizedContent");var g=a.ir;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var h=a.v;soy.asserts.assertType(null==a.qG||a.qG instanceof goog.soy.data.SanitizedContent||
goog.isString(a.qG),"listItemClasses",a.qG,"null|string|undefined");var k=a.qG;soy.asserts.assertType(null==a.BC||a.BC instanceof goog.soy.data.SanitizedContent||goog.isString(a.BC),"submitButtonClasses",a.BC,"null|string|undefined");var l=a.BC;soy.asserts.assertType(null==a.rD||a.rD instanceof goog.soy.data.SanitizedContent||goog.isString(a.rD),"addAnotherButtonClasses",a.rD,"null|string|undefined");a=a.rD;for(var h='\x3cdiv class\x3d"teamInviteForm'+(h?" "+soy.$$escapeHtmlAttribute(h):"")+'"\x3e\x3cul class\x3d"teamInviteForm__emailList"\x3e',
m=e.length,n=0;n<m;n++)h+=C3(soy.$$assignDefaults({v:k,ul:b},e[n]));h+='\x3c/ul\x3e\x3cdiv class\x3d"teamInviteForm__infoContainer"\x3e\x3cbutton class\x3d"teamInviteForm__addAnother'+(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e+ '+soy.$$escapeHtml(d)+'\x3c/button\x3e\x3cdiv class\x3d"teamInviteForm__upgradeMessage"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteForm__error"\x3e\x3c/div\x3e\x3cbutton type\x3d"submit" class\x3d"teamInviteForm__submitButton '+(l?soy.$$escapeHtmlAttribute(l)+
" ":"")+'"\x3e'+soy.$$escapeHtml(c)+"\x3c/button\x3e\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(h)}
function C3(a){soy.asserts.assertType(goog.isString(a.ul)||a.ul instanceof goog.soy.data.SanitizedContent,"inputPlaceholder",a.ul,"string|goog.soy.data.SanitizedContent");var b=a.ul;soy.asserts.assertType(goog.isNumber(a.gi),"modelId",a.gi,"number");var c=a.gi;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.ur||goog.isBoolean(a.ur)||1===a.ur||0===a.ur,"animated",a.ur,
"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"teamInviteForm__emailListItem'+(a.ur?" teamInviteForm__emailListItem--animated":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+'" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+q1({v:"teamInviteForm__inputContainer",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+K1({placeholder:b,v:"teamInviteForm__textInput"}))})+"\x3c/li\x3e")};function D3(a,b){this.view=b;this.VD=a.VD;this.QJ=a.QJ}f=D3.prototype;f.sl=function(){return this.view};f.remove=function(){this.QJ.destroy();this.view.remove()};f.ln=function(){return{title:""}};f.refresh=function(){this.view.render();return P.resolve()};f.qQ=function(){};f.tQ=function(){};function E3(a){P1.call(this,{className:"",events:{}});this.SD=a.SD}r(E3,P1);E3.prototype.render=function(){$(this.el).append(this.SD.$el);return this};E3.prototype.remove=function(){this.SD.remove();P1.prototype.remove.call(this)};function F3(a){this.G=a.G;this.sd=a.sd;this.i=a.i;this.j=a.j;this.xc=a.xc}F3.prototype.ZM=function(){return this.xc&&"X"!==this.G.get(G3)?this.sd.getItem(H3).then(function(a){return!a}):P.resolve(!1)};
F3.prototype.render=function(){var a=this.G.get(G3),b;if("A"===a){b=new H2(this.j);var c=y(this.xc),a=this.i;a.XK||(a.XK=new zf(a.config));b={j:b,xc:c,i:a.XK};a={lb:soydata.VERY_UNSAFE.ordainSanitizedHtml(b.i.lb()),gk:b.i.gk(),Kc:b.i.Kc(),Gc:b.i.Gc()};c=$;soy.asserts.assertType(a.lb instanceof soydata.SanitizedHtml||a.lb instanceof soydata.UnsanitizedText||goog.isString(a.lb),"headingHtml",a.lb,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a.gk)||a.gk instanceof goog.soy.data.SanitizedContent,
"overviewSubheading",a.gk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Kc)||a.Kc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Kc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Gc)||a.Gc instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Gc,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__closeButton"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__container"\x3e'+
L2(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__iphonePage"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__androidPage"\x3e\x3c/div\x3e\x3c/div\x3e');c=c(a.toString());c=new M2(c);b={Bb:new U2(b,c),view:c}}else{b=new H2(this.j);var c=y(this.xc),d=this.i;d.ZK||(d.ZK=new Af(d.config));d=d.ZK;a:switch(a){case "B":a="visual";break a;case "C":a="textual";break a;default:throw Error("UNKNOWN_VARIANT: "+a);}b={j:b,xc:c,i:d,Jm:a};c=b.i;a=b.Jm;a={heading:c.heading(),Ai:c.Ai(),Jm:a,Kc:c.Kc(),
Gc:c.Gc(),qd:c.qd(),Ng:c.Ng(),ki:c.format("downloadMobileAppDialogPhoneInputCTA"),hT:[c.format("downloadMobileAppDialogBullet1"),c.format("downloadMobileAppDialogBullet2"),c.format("downloadMobileAppDialogBullet3")]};c=$;soy.asserts.assertType(goog.isString(a.Jm)||a.Jm instanceof goog.soy.data.SanitizedContent,"dialogLayout",a.Jm,"string|goog.soy.data.SanitizedContent");d=a.Jm;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,
"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ai)||a.Ai instanceof goog.soy.data.SanitizedContent,"subheading",a.Ai,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ng)||a.Ng instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Ng,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ki)||a.ki instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.ki,"string|goog.soy.data.SanitizedContent");
goog.asserts.assertArray(a.hT,"expected parameter 'bulletPoints' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(a.Kc)||a.Kc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Kc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Gc)||a.Gc instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Gc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.qd)||a.qd instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",
a.qd,"string|goog.soy.data.SanitizedContent");var e='\x3cdiv class\x3d"experimentsMobileAppsDialog"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__container experimentsMobileAppsDialog__container--'+soy.$$escapeHtmlAttribute(d)+'"\x3e';switch(goog.isObject(d)?d.toString():d){case "visual":d=e;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");e=a.heading;soy.asserts.assertType(goog.isString(a.Ai)||
a.Ai instanceof goog.soy.data.SanitizedContent,"subheading",a.Ai,"string|goog.soy.data.SanitizedContent");var g=a.Ai;soy.asserts.assertType(goog.isString(a.Kc)||a.Kc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Kc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Gc)||a.Gc instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Gc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ng)||a.Ng instanceof goog.soy.data.SanitizedContent,
"selectDeviceText",a.Ng,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ki)||a.ki instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.ki,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.qd)||a.qd instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.qd,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsMobileAppsDialog__contentWrapper experimentsMobileAppsDialog__contentWrapper--visual"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column experimentsMobileAppsDialog__column--withImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/experiments/mobile_app_download/iphone.png" class\x3d"experimentsMobileAppsDialog__heroImage" /\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__heading experimentsMobileAppsDialog__heading--visual"\x3e'+
soy.$$escapeHtml(e)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__subheading experimentsMobileAppsDialog__subheading--viusual"\x3e'+soy.$$escapeHtml(g)+"\x3c/div\x3e"+X2(a)+"\x3c/div\x3e\x3c/div\x3e");e=d+a;break;case "textual":d=e;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");g=a.heading;soy.asserts.assertType(goog.isString(a.Ai)||a.Ai instanceof goog.soy.data.SanitizedContent,
"subheading",a.Ai,"string|goog.soy.data.SanitizedContent");var h=a.Ai;soy.asserts.assertType(goog.isString(a.Kc)||a.Kc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Kc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Gc)||a.Gc instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Gc,"string|goog.soy.data.SanitizedContent");e=goog.asserts.assertArray(a.hT,"expected parameter 'bulletPoints' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(a.Ng)||
a.Ng instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Ng,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ki)||a.ki instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.ki,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.qd)||a.qd instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.qd,"string|goog.soy.data.SanitizedContent");a='\x3cdiv class\x3d"experimentsMobileAppsDialog__heading experimentsMobileAppsDialog__heading--textual"\x3e'+
soy.$$escapeHtml(g)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__subheading experimentsMobileAppsDialog__subheading--textual"\x3e'+soy.$$escapeHtml(h)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__contentWrapper experimentsMobileAppsDialog__contentWrapper--textual"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column experimentsMobileAppsDialog__column"\x3e'+X2(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column"\x3e\x3cul class\x3d"experimentsMobileAppsDialog__bulletPoints"\x3e';
g=e.length;for(h=0;h<g;h++)a+='\x3cli class\x3d"experimentsMobileAppsDialog__bulletPoint"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/experiments/success.svg" class\x3d"experimentsMobileAppsDialog__bulletPointImage" /\x3e\x3cspan\x3e'+soy.$$escapeHtml(e[h])+"\x3c/span\x3e\x3c/li\x3e";a=soydata.VERY_UNSAFE.ordainSanitizedHtml(a+"\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e");e=d+a}a=soydata.VERY_UNSAFE.ordainSanitizedHtml(e+"\x3c/div\x3e\x3c/div\x3e");c=c(a.toString());c=new Y2(c);b={Bb:new a3(b,c),view:c}}return b};
F3.prototype.wO=function(){this.sd.setItem(H3,!0)};F3.prototype.fM=function(){var a=this.G.get(G3);return"A"===a?"dialog--phone dialog--phoneA":"dialog--phone2 dialog--phoneVariant"+a};var G3=new Ff("jm","C");var H3="seenMobileExpDialog";function yba(a){this.cU=a}function zba(a){var b=[],c=a.sd;c&&(b=[new F3({j:a.j,G:a.G,i:a.i,xc:a.xc,sd:c}),new I3({i:a.i,j:a.j,document:a.document,G:a.G,Na:a.Na,sd:c}),new J3({aa:a.aa,G:a.G,i:a.i,md:a.md,Z:a.Z,La:a.La,cc:a.cc,j:a.j,W:a.W,sd:c})]);return new yba(b)}function Aba(a,b){return Bba(a).then(function(a){a&&a.wO();var d;if(a){var e=a.render(b);d=e.Bb;a={SD:e.view,QJ:d,VD:a.fM()};e=new E3(a);a=new D3(a,e);d.Le();d=a}else d=null;return d})}
function Bba(a){return P.all(a.cU.map(function(a){return a.ZM()})).then(function(b){b=b.map(function(b,d){return{Z2:b,yb:a.cU[d]}}).filter(function(a){return a.Z2}).map(function(a){return a.yb});return 0===b.length?null:b[0]})};function I3(a){this.G=a.G;this.document=a.document;this.j=a.j;this.sd=a.sd;this.Na=a.Na;this.i=a.i}I3.prototype.ZM=function(){var a=this;return this.G.get(Cba)&&0<$(".editorActionPrint").length?this.sd.getItem("spped").then(function(a){return a&&P.reject(new K3)}).then(function(){return Dba(a,a.document)}).then(function(a){return!a&&P.reject(new K3)}).then(function(){return!0}).catch(K3,function(){return!1}):P.resolve(!1)};
function Dba(a,b){var c=y(b.kb().u());return Eba(a).then(function(a){return a?null!=L3(a.id,c):!1})}function Eba(a){return M3(a.Na).then(function(a){return 0<a.JB.length?a.JB[0]:null}).catch(function(){return null})}I3.prototype.render=function(a){return pba({Pl:Id(this.i),uO:function(){Z0().qh()||$(".editorActionPrint").click();a.fU()},j:new H2(this.j)})};I3.prototype.wO=function(){this.sd.setItem("spped",!0)};I3.prototype.fM=function(){return"dialog--printPublish"};var Cba=new Ff("jl",!0);
function K3(){}r(K3,Error);function J3(a){this.sd=a.sd;this.G=a.G;this.i=a.i;this.md=a.md;this.La=a.La;this.aa=a.aa;this.cc=a.cc;this.Z=a.Z;this.j=a.j;this.W=a.W}J3.prototype.ZM=function(){return!this.G.get(Fba)||N3(this)>=this.W.G.get(Wf)?P.resolve(!1):this.sd.getItem("seenInviteExpDialog").then(function(a){return!a})};
J3.prototype.render=function(a){var b=ad(this.i),c=new L0,d=new K0({Xd:b}),e=Gd(this.i),b=Id(this.i),g=new I0({UN:J0(this.md),pg:ay(this.La).getSubscription(),aa:this.aa,D:ay(this.La).ja(),lr:by(this.La).Lb(),uE:sm,Z:this.Z,cc:this.cc,$o:Zc(this.i)}),h={CK:3,vG:3,yl:this.W.G.get(Wf),vK:N3(this)};return qba({qf:e,Pl:b,j:new H2(this.j),ij:h,Et:g,nO:function(){return a.fU()},pK:function(a){return new H0({YE:d,ej:c,qf:e,ij:h},a)}})};function N3(a){a=ay(a.La);return cy(a)+dy(a)}
J3.prototype.wO=function(){this.sd.setItem("seenInviteExpDialog",!0)};J3.prototype.fM=function(){return"dialog--teamInvite"};var Fba=new Ff("jk",!0);function Gba(){window.hasOwnProperty("grecaptchaPromise")||(window.grecaptchaPromise=new P(function(a,b){window.grecaptchaOnload=a;a=document.createElement("script");a.onerror=b;a.src="https://www.google.com/recaptcha/api.js?onload\x3dgrecaptchaOnload\x26render\x3dexplicit";document.head.appendChild(a)}));return window.grecaptchaPromise};function O3(a,b){hc.call(this,a);this.ZC=null;this.KQ=b}r(O3,hc);O3.prototype.Le=function(){var a=this;this.ZC=window.grecaptcha.render(this.$el[0],{callback:function(){return a.trigger(P3)},"expired-callback":function(){return a.trigger(Q3)},sitekey:this.KQ})};O3.prototype.reset=function(){Fa(null!=this.ZC,"reCAPTCHA widgetId has not been set, has #onAttach been called?");window.grecaptcha.reset(this.ZC)};
function Hba(a){Fa(null!=a.ZC,"reCAPTCHA widgetId has not been set, has #onAttach been called?");a=window.grecaptcha.getResponse(a.ZC);Fa(a.length,"No response token from reCAPTCHA widget, has it been completed (or has it expired)?");return a}var P3="COMPLETE",Q3="EXPIRED";
function faa(a){return Gba().then(function(){y(window.grecaptcha,"reCAPTCHA API is not available, make sure it has been loaded by calling RecaptchaLoader.load()");var b=$('\x3cdiv class\x3d"grecaptchaWidget"\x3e\x3c/div\x3e');return new O3(b,a)})};function R3(a,b){var c=this;hc.call(this,a);this.className=b.className;this.options=b.options;a.on("click",function(){return c.Jf()})}r(R3,hc);function S3(a){w(a.options.some(function(a){return a.selected}),"options must have a selected element");var b=a.options.filter(function(a){return a.selected})[0],b=$(Iba({text:b.nC||b.text,disabled:a.disabled}).toString());return new R3(b,a)}
R3.prototype.Jf=function(){var a=this,b=new T3({className:this.className,options:this.options});b.on(U3,function(b){return a.xO(b)});b.yi(this.$el)};R3.prototype.xO=function(a){this.options.filter(function(a){return a.selected})[0].selected=!1;var b=this.options.filter(function(b){return b.value===a})[0];b.selected=!0;this.$el.text(b.nC||b.text);this.trigger(V3,a)};var V3="SELECT";function Iba(a){soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");var b=a.text;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton type\x3d"button" class\x3d"selectView" '+(a.disabled?'disabled\x3d"disabled"':"")+"\x3e"+soy.$$escapeHtml(b)+"\x3c/button\x3e")}
;function T3(a){qz.call(this,a)}r(T3,qz);f=T3.prototype;f.initialize=function(a){this.options=a.options;qz.prototype.initialize.call(this,{content:this.GP(),ux:!1,pw:!0,yo:!1})};f.events=function(){return{"click .selectView__option":this.xO}};f.Jp=function(){return rX};
f.GP=function(){var a=$,b;b='\x3cdiv class\x3d"selectView__menu"\x3e';for(var c=goog.asserts.assertArray(this.options,"expected parameter 'options' of type list\x3c[disabled: bool|null, selected: bool, text: string, value: string]\x3e."),d=c.length,e=0;e<d;e++){var g=c[e];b+='\x3cdiv class\x3d"selectView__option'+(g.selected?" selected":"")+(g.disabled?" selectView__option--disabled":"")+'" data-value\x3d"'+soy.$$escapeHtmlAttribute(g.value)+'"\x3e'+soy.$$escapeHtml(g.text)+"\x3c/div\x3e"}b=soydata.VERY_UNSAFE.ordainSanitizedHtml(b+
"\x3c/div\x3e");return a(b.toString())};f.xO=function(a){a=$(a.target);a.hasClass("selectView__option--disabled")||(this.trigger(U3,a.data("value")),this.remove())};var U3="SELECT";function W3(a){var b=this;this.ob=a.ob;this.Zb=a.Zb;this.sz=a.sz;this.ru=a.ru;this.tf=a.tf;this.D=a.D;this.j=a.j;this.so=a.so;this.i=a.i;this.Sa=a.Sa;this.Z=a.Z;this.dc=a.dc;this.ud=a.ud;this.cc=a.cc;this.HQ=a.HQ;this.yl=a.yl;this.Io=a.Io;this.Sr=a.Sr;this.lC=a.lC;this.pJ=a.pJ;this.sr=a.sr;this.Oe=a.Oe;this.NP=a.NP;this.pj=a.pj;this.EO=null;this.uK={};this.yW=a.sr?fr:br;this.TB={};this.Yo=new Map;this.SC=a.SC;this.view=a.view;this.Gw=a.Gw;this.QA=a.QA;this.co=null;this.BN=a.BN;this.G=a.G;this.vu=
a.vu;this.ta=a.ta;this.yZ=!1;this.up=null;this.mx=a.mx;this.On=a.On;this.tp=a.tp;this.W=new If(this.G);this.mx.on(X3,function(){var a=b.view;a.Od.show(a.$el);a.delegateEvents()});this.mx.on(Y3,function(){return b.view.ok()});this.listenTo(this.view,{roleChange:this.X6,linkRoleChange:this.pO,linkCopy:this.w6,tabChanged:this.m7,embedCopy:this.x$,submit:this.Il,social:this.c7,makePublic:this.x6,nativeShare:this.J6,nativeSharePlatform:this.oX,oauthResp:this.M6,viewWebsite:this.u7});fba(this.tp,function(){var a=
b.view;a.QW||a.$(".shareDialog__inviteButton").text(a.X.format("shareDesignDialogSendInvites"))})}
function eaa(a){var b=QV(a.ob,a.Io,"sharebutton","link"),c;a.F_?(c=a.ob,c=OV(c,"share")+"?role\x3dVIEWER\x26token\x3d"+encodeURIComponent(a.F_)+"\x26"+RV(c,"sharebutton","link")):c=null;var d;a.Sr?(d=a.ob,d=OV(d,"share")+"?role\x3dEDITOR\x26token\x3d"+encodeURIComponent(a.Sr)+"\x26"+RV(d,"sharebutton","link")):d=null;var e=PV(a.ob,a.Io)+"?website",g=Pc(a.i),g=[g.format("shareDesignDialogTweet1"),g.format("shareDesignDialogTweet2"),g.format("shareDesignDialogTweet3"),g.format("shareDesignDialogTweet4")],
h=by(a.La),k=ay(a.La),l=cy(k)+dy(k),l=a.Y3&&null===k.getSubscription()&&l<a.yl,m=new l2(Xc(a.i)),m=Jba({ob:a.ob,Zb:a.Zb,ma:h.u(),D:k.ja(),j:a.j,aa:a.aa,Z:a.Z,fb:a.fb,dc:a.dc,tb:a.tb,i:a.i,H:a.H,Dd:a.Dd,et:m,TN:new Z3,G:a.G});return new W3({ob:a.ob,Zb:a.Zb,sz:a.sz,tf:h,D:k.ja(),j:a.j,Sa:a.Sa,Z:a.Z,dc:a.dc,ud:a.ud,cc:a.cc,ru:a.ru,so:a.so,HQ:l,yl:a.yl,Io:a.Io,Sr:a.Sr,lC:b,pJ:c,sr:d,NP:e,Oe:a.Oe,pj:a.pj,SC:g,i:a.i,H:a.H,vu:a.vu,ta:a.ta,mx:m,view:a.view,Gw:a.Gw,QA:a.QA,BN:Kba,G:a.G,On:a.On,tp:a.tp})}
f=W3.prototype;
f.show=function(){this.view.show();var a=this.view,b=this.pJ,c=!this.sr;a.$(".shareDialog__hiddenViewLink").val(b);a.$(".shareDialog__linkRole select").prop("disabled",c);$3(this.view,this.sr||this.lC);this.G.get(Lba)&&!this.tf.ZV()?(a4(this.view,!1),a=this.view,b=a.X.Ga("shareDesignDialogUnverifiedEmailWarning","/account"),a.kf(Mba,NZ,b)):this.sz&&(a4(this.view,!1),a=this.view,a4(a,!1),b=a.X.format("shareDesignDialogEmptyDesignWarning"),a.kf(Nba,NZ,b));if(this.Oe){var c=this.pj.it?this.pj.JI?Pc(this.i).format("shareDesignDialogRenderWebsiteWarning"):
Pc(this.i).format("shareDesignDialogRenderWebsiteBeta"):Pc(this.i).format("shareDesignDialogRenderWebsiteWarningUnrenderable"),a=this.view,d=this.NP,b=this.pj.it,e=a.X.format("shareDesignDialogRenderWebsiteInstruction"),g=a.qq.Jn();soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"newLabel",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"instruction",e,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"url",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"warning",c,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"newFeatureLabel shareDialog__websiteAnnouncementNewLabel"\x3e'+soy.$$escapeHtml(g)+'\x3c/span\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncementInstruction"\x3e'+soy.$$escapeHtml(e)+
'\x3c/div\x3e\x3ca class\x3d"shareDialog__websiteAnnouncementLink" target\x3d"_blank" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"\x3e'+soy.$$escapeHtml(d)+'\x3c/a\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncementWarning"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e").toString();KZ({type:b?MZ:NZ,wb:!1,small:!0,message:soydata.VERY_UNSAFE.ordainSanitizedHtml(c)}).$el.appendTo(a.$(".shareDialog__websiteAnnouncement"))}Oba(this);Pba(this)};
function Pba(a){uq(a.Sa,a.ob).then(function(b){var c=Qba(b);a.EO=c.nd.Oa();a.ru&&Rba(a,b);if(c.nd.ja()===a.D.u())return Sba(a).then(function(c){if(1!=c)return Tba(a,b).then(function(c){return Uba(a,c,b.Nj().rules)})})}).catch(function(b){var c=a.view,d=c.X.format("shareDesignDialogLoadError");c.kf(Vba,OZ,d);throw b;})}function Oba(a){ry(a.dc,new bz({Yw:a.tf.u()})).then(function(b){a.up=b.up})}
function Wba(a,b){function c(a){return{displayName:a.Lb()||a.oh(),username:a.oh()}}return b===a.tf.u()?P.resolve(c(a.tf.NC())):a.Z.Oa(b).then(function(a){return c(a)})}function Rba(a,b){var c=b.Ae.rules.some(function(a){if("DEFAULT"===a.type)return a.xd!==Yq});b=a.EO;y(b,"ownerId not found");Wba(a,b).then(function(b){b=a.ru(b.displayName,b.username);b4(a.view,c,b)})}
function Qba(a){var b=null;a.Ae.rules.some(function(a){if(a.xd===$q)return b=a,!0});y(b,"document acl must specify an owner");return b}function Sba(a){var b=Sx((new Px).wj(a.D.u()));return a.Z.Hz(b).then(function(a){return a.getCount()})}
function Tba(a,b){b=b.Ae.rules.reduce(function(b,d){"USER"!==d.type||d.nd.D!==a.D.u()||null!=d.origin&&"MANUAL"!==d.origin.type||b.push(d.nd.user);return b},[]);return 0<b.length?(b=Rx(Qx(Tx((new Px).wj(a.D.u()),b.slice(0,100)).Tg(100))),a.Z.Hz(b).then(function(a){return a.EF()})):P.resolve([])}
function Uba(a,b,c){var d,e={},g=[],h={};b.forEach(function(a){return e[a.Oa().u()]=a});c.forEach(function(b){b.origin&&"FOLDER"===b.origin.type?b.xd!==Yq&&(h[b.origin.id]=!0):"BRAND"===b.type&&b.nd.D===a.D.u()?(d={D:a.D,ED:b},a.uK[a.D.u()]=b.xd):"USER"===b.type&&e.hasOwnProperty(b.nd.user)&&(g.push({TA:e[b.nd.user],ED:b,disabled:!(b.nd.user!==a.tf.u()&&b.xd!==$q)}),a.uK[b.nd.user]=b.xd)});d||(d={D:a.D,ED:new $s({type:"BRAND",nd:new jr({D:a.D.u(),user:null}),xd:Yq})});Xba(a.view,d,g,Object.keys(h).length)}
f.X6=function(a,b){this.TB[a]=b};f.pO=function(a){a===br?$3(this.view,this.lC):a===fr&&this.sr&&$3(this.view,this.sr);this.yW=a};f.w6=function(){var a=X(X(X(new Zl("design_shared"),"location","sharebutton"),"medium","link"),"access_level",c4(this.yW));Ql(this.j,a)};function c4(a){return a===$q||a===fr?"edit":a===dr||a===br?"view":"none"}
f.c7=function(a){a===d4?(a=this.SC[Math.floor(Math.random()*this.SC.length)],a="https://twitter.com/intent/tweet?url\x3d"+encodeURIComponent(QV(this.ob,this.Io,"sharebutton","twitter"))+"\x26text\x3d"+encodeURIComponent(a),this.view.openWindow(a,420,550),this.view.ok(),Ql(this.j,e4("TWITTER"))):a===f4&&(a="https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(QV(this.ob,this.Io,"sharebutton","facebook")),this.view.openWindow(a,420,550),this.view.ok(),Ql(this.j,e4("FACEBOOK")));g4(this)};
f.x6=function(){var a=this;this.Sa.bt(this.ob).then(function(){b4(a.view,!0,null);a.so.trigger($0)}).catch(function(){var b=a.view;b.$(".shareDialog__embedError").text(b.X.format("shareDesignDialogEmbedError"))})};f.J6=function(a){var b=[];this.Yo.forEach(function(a,d){return a.enabled&&b.push(d)});this.j.va(Yba(!!a,b));this.mx.show(a,b);this.view.hide()};
function W0(a){if(!a.yZ){a.yZ=!0;var b=["TWITTER"].map(function(b){return a.ta&&Co(a.ta,"CANVA_SD_NS_"+b)?a.oX(b,!0).finally(function(){return P.resolve()}):P.resolve()});P.all([].concat([a.BN()],ma(b))).then(function(){a.view.$(".shareDialog__nativeSocialButton").prop("disabled",!1);a.view.l_=window.twttr.txt});Zba(a.mx)}}
f.oX=function(a,b){var c=this;return this.Yo.has(a)?(this.Yo.get(a).enabled=!this.Yo.get(a).enabled,h4(this,a),P.resolve()):Ww(this.Z,new cx({user:this.tf.u(),platform:a})).then(function(d){d.summary.valid&&-1<d.summary.uv.indexOf("PUBLISH")?(c.Yo.set(a,{enabled:!0,username:d.summary.username}),h4(c,a)):b||(d=-1<d.summary.Ju.indexOf("PUBLISH"),i4(c,a,d))}).catch(function(){return i4(c,a,!1)})};
function i4(a,b,c){var d=$ba(a.view,b);aca(a.vu,function(){var d=yw("platform",b),g=["GET_BASIC_PROFILE","PUBLISH"].map(Aw.bind(null,"permission")),d="/oauth/authorize/"+encodeURIComponent(d)+("?permissions\x3d"+encodeURIComponent(g.join(",")))+(c?"\x26reRequest\x3dtrue":"");a.view.openWindow(d,600,550);a.j.va(bca(b))});cca(a.vu,d)}
f.M6=function(a){a.AR?(this.Yo.delete(a.platform),this.j.va(dca(a.platform))):(this.Yo.set(a.platform,{enabled:!0,username:a.username}),this.j.va(eca(a.platform)));h4(this,a.platform)};f.u7=function(){this.j.track("design_website_viewed")};
function fca(a){null!==a.co?(a.co.reset(),P.resolve()):a.Gw?a.QA(a.Gw).then(function(b){j4(a.view).toggleClass("shareDialog__captchaContainer--hidden",!1);gca(a.view);a.co=b;a.co.on(P3,function(){a4(a.view,!0);a.view.jg(k4)});a.co.on(Q3,function(){a4(a.view,!1)});a.co.$el.appendTo(j4(a.view));a.co.Le()}).catch(function(b){a4(a.view,!1);l4(a.view);throw b;}):(l4(a.view),P.reject(Error("reCAPTCHA requested but no siteKey provided")))}
function h4(a,b){var c=a.Yo.get(b),d=!(!c||!c.enabled),c=c?c.username:null;if("TWITTER"===b){c&&(c="@"+c);var e=a.view;(e.qZ=d)?e.Mn():e.$(".shareDialog__characterCount").empty()}d?a.ta&&Ko(a.ta,"CANVA_SD_NS_"+b):a.ta&&a.ta.removeItem("CANVA_SD_NS_"+b);a=a.view;a.$(".shareDialog__"+b.toLowerCase()).toggleClass("shareDialog__nativeSocialButton--selected",d);e=0===a.$(".shareDialog__nativeSocialButton--selected").length;a.$(".shareDialog__shareButton").prop("disabled",e);b=a.$(".shareDialog__"+b.toLowerCase()+
" .shareDialog__tooltip");d?(y(c,"enabled platform must provide a tooltip"),b.text(c),a.Mn()):b.text(b.data("tooltip"))}f.Il=function(a){var b=this;z2(this.tp).then(function(){var c=hba(b.tp);0<c.length?(m4(b.view),n4(b.view,c)):hca(b,gba(b.tp),a)})};
function hca(a,b,c){var d=[],e=[],g=[];b.forEach(function(b){if(b instanceof Nx){var k=b.Oa().u();k!==a.EO&&k!==a.tf.u()&&d.push(hr(k,a.D.u(),gr(c)));b.fj()&&e.push(b.fj())}else g.push.apply(g,[].concat(ma(b.split(",").map(function(a){return a.trim()}).filter(function(a){return""!==a}))))});ica(a,g)&&jca(a,g)?(Object.keys(a.TB).forEach(function(b){b===a.D.u()?d.push(hr(null,b,gr(a.TB[b]))):d.push(hr(b,a.D.u(),gr(a.TB[b])));b=X(X(X(X(new Zl("access_level_change"),"location","sharebutton"),"medium",
"share_dialog"),"from_access_level",c4(a.uK[b])),"to_access_level",c4(a.TB[b]));Ql(a.j,b)}),P.all([kca(a,d),lca(a,e,g,c)]).then(function(b){b=la(b);b.next();if(b.next().value.some(function(a){return!!a.xP}))a4(a.view,!1),m4(a.view),fca(a);else if(0<g.length&&a.HQ){b=mca(a.view,g,a.yl);var c=X(X(new Zl("team_invites_shown"),"location","sharebutton"),"medium","share_dialog");a.j.va(c);nca({D:a.D,j:a.j,Z:a.Z,cc:a.cc,lr:a.tf.Lb(),HG:g.length,X:Pc(a.i),On:function(){return a.On()}},b)}else a.view.ok()}).catch(function(b){m4(a.view);
a4(a.view,!1);throw b;})):m4(a.view)}function ica(a,b){a.view.jg(o4);b=b.filter(function(a){return!uI(a)});return b.length?(m4(a.view),n4(a.view,b),!1):!0}function jca(a,b){a.view.jg(p4);return null!=a.up&&b.length>a.up?(b=a.view,a=a.up,a=0===a?b.X.Ga("shareDesignDialogEmailQuotaReached",b.qI):b.X.Ga("shareDesignDialogEmailQuotaLimited",a,b.qI),b.kf(p4,OZ,a),!1):!0}function kca(a,b){return 0===b.length?P.resolve():wq(a.Sa,new Xt({document:a.ob,gP:b})).catch(function(b){q4(a.view);throw b;})}
f.m7=function(a){Nl(this.j,a,"share_dialog");"socialTab"===a&&(Ql(this.j,new Zl("social_share_flow_start")),W0(this))};f.x$=function(){Ml(this.j,"embed_copy",null,null,"share_dialog")};
function lca(a,b,c,d){var e=[],g=a.co&&Hba(a.co);0<b.length&&e.push(oy(a.dc,new $y({BH:g,ob:a.ob,ua:a.D.u(),mode:d===br?"viewer":"editor",Tr:b,XC:"sharebutton"})));0<c.length&&e.push(oy(a.dc,new $y({BH:g,ob:a.ob,mode:d===br?"default":"editor",Ye:d===br?a.Io:a.Sr,Tr:c,XC:"shareButton"})));var h=c4(d);b.forEach(function(){return r4(a,h,!0)});c.forEach(function(){return r4(a,h,!1)});return P.all(e).then(function(b){b.length&&g4(a);return b}).catch(function(b){g?l4(a.view):q4(a.view);throw b;})}
function r4(a,b,c){b=X(X(X(X(new Zl("design_shared"),"location","sharebutton"),"medium","share_dialog"),"access_level",b),"on_team",c);Ql(a.j,b)}function g4(a){Bq(a.Sa,new au({$f:a.ob,version:-1,$s:"MEDIUM"}))}f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;var Lba=new Ff("fm",!1);function oca(a){soy.asserts.assertType(goog.isString(a.oH)||a.oH instanceof goog.soy.data.SanitizedContent,"peopleTabLabel",a.oH,"string|goog.soy.data.SanitizedContent");var b=a.oH;soy.asserts.assertType(goog.isString(a.eI)||a.eI instanceof goog.soy.data.SanitizedContent,"socialTabLabel",a.eI,"string|goog.soy.data.SanitizedContent");var c=a.eI;soy.asserts.assertType(goog.isString(a.oG)||a.oG instanceof goog.soy.data.SanitizedContent,"linkTabLabel",a.oG,"string|goog.soy.data.SanitizedContent");var d=
a.oG;soy.asserts.assertType(goog.isString(a.ZE)||a.ZE instanceof goog.soy.data.SanitizedContent,"embedTabLabel",a.ZE,"string|goog.soy.data.SanitizedContent");var e=a.ZE;soy.asserts.assertType(a.Ij instanceof soydata.SanitizedHtml||a.Ij instanceof soydata.UnsanitizedText||goog.isString(a.Ij),"embedDescription",a.Ij,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a.Nm)||a.Nm instanceof goog.soy.data.SanitizedContent,"embedLabelHTML",a.Nm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Om)||
a.Om instanceof goog.soy.data.SanitizedContent,"embedLabeloEmbed",a.Om,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Mm)||1===a.Mm||0===a.Mm,"embedEnabled",a.Mm,"boolean");var g=!!a.Mm;soy.asserts.assertType(null==a.gh||a.gh instanceof goog.soy.data.SanitizedContent||goog.isString(a.gh),"embedCode",a.gh,"null|string|undefined");soy.asserts.assertType(goog.isString(a.Qm)||a.Qm instanceof goog.soy.data.SanitizedContent,"embedPublic",a.Qm,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.Pm)||a.Pm instanceof goog.soy.data.SanitizedContent,"embedMakePublic",a.Pm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.wn)||a.wn instanceof goog.soy.data.SanitizedContent,"inviteLabel",a.wn,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.vn)||a.vn instanceof goog.soy.data.SanitizedContent,"inviteButton",a.vn,"string|goog.soy.data.SanitizedContent");goog.asserts.assertObject(a.Bx,"expected parameter 'socialButtons' of type map\x3cstring,string\x3e.");
soy.asserts.assertType(goog.isBoolean(a.bm)||1===a.bm||0===a.bm,"socialTabEnabled",a.bm,"boolean");var h=!!a.bm;soy.asserts.assertType(goog.isString(a.uo)||a.uo instanceof goog.soy.data.SanitizedContent,"shareLabel",a.uo,"string|goog.soy.data.SanitizedContent");goog.asserts.assertObject(a.gw,"expected parameter 'nativeSocialButtons' of type map\x3cstring,string\x3e.");soy.asserts.assertType(goog.isString(a.In)||a.In instanceof goog.soy.data.SanitizedContent,"messagePlaceholder",a.In,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.ro)||a.ro instanceof goog.soy.data.SanitizedContent,"shareButton",a.ro,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Cn)||a.Cn instanceof goog.soy.data.SanitizedContent,"linkLabel",a.Cn,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ah)||a.ah instanceof goog.soy.data.SanitizedContent,"copyButton",a.ah,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Oe)||1===a.Oe||
0===a.Oe,"renderAccessModeEnabled",a.Oe,"boolean");var k=!!a.Oe;soy.asserts.assertType(goog.isString(a.Jn)||a.Jn instanceof goog.soy.data.SanitizedContent,"newLabel",a.Jn,"string|goog.soy.data.SanitizedContent");var l=a.Jn;soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var m=a.nc,n=goog.asserts.assertObject(a.l$,"expected parameter 'tabs' of type [EMBED: string, LINK: string, PEOPLE: string, SOCIAL: string].");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabWrapper"\x3e\x3cdiv class\x3d"shareDialog__tab'+(m&&m!=n.gJ?"":" shareDialog__tab--on")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.gJ)+'"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+(h?'\x3cdiv class\x3d"shareDialog__tab'+(m==n.iJ?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.iJ)+'"\x3e'+soy.$$escapeHtml(c)+'\x3cspan class\x3d"newFeatureLabel"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e\x3c/div\x3e":
"")+'\x3cdiv class\x3d"shareDialog__tab'+(m==n.LINK?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.LINK)+'"\x3e'+soy.$$escapeHtml(d)+(k?'\x3cspan class\x3d"newFeatureLabel"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e":"")+"\x3c/div\x3e"+(g?'\x3cdiv class\x3d"shareDialog__tab'+(m==n.EMBED?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.EMBED)+'"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__tabContainer"\x3e'+
pca(soy.$$assignDefaults({Re:n.gJ},a))+(h?qca(soy.$$assignDefaults({Re:n.iJ},a)):"")+rca(soy.$$assignDefaults({Re:n.LINK},a))+(g?sca(soy.$$assignDefaults({Re:n.EMBED},a)):"")+"\x3c/div\x3e")}
function pca(a){soy.asserts.assertType(goog.isString(a.wn)||a.wn instanceof goog.soy.data.SanitizedContent,"inviteLabel",a.wn,"string|goog.soy.data.SanitizedContent");var b=a.wn;soy.asserts.assertType(goog.isString(a.vn)||a.vn instanceof goog.soy.data.SanitizedContent,"inviteButton",a.vn,"string|goog.soy.data.SanitizedContent");var c=a.vn;soy.asserts.assertType(goog.isBoolean(a.bm)||1===a.bm||0===a.bm,"socialTabEnabled",a.bm,"boolean");var d=!!a.bm,e=goog.asserts.assertObject(a.Bx,"expected parameter 'socialButtons' of type map\x3cstring,string\x3e.");
soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var g=a.nc;soy.asserts.assertType(goog.isString(a.Re)||a.Re instanceof goog.soy.data.SanitizedContent,"tabId",a.Re,"string|goog.soy.data.SanitizedContent");a=a.Re;b='\x3cdiv class\x3d"shareDialog__tabContent'+(g&&g!=a?"":" shareDialog__tabContent--on")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"shareDialog__acl"\x3e\x3c/div\x3e\x3cdiv\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__members"\x3e\x3cdiv class\x3d"shareDialog__inviteRole"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__folders"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__error"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__captchaContainer shareDialog__captchaContainer--hidden"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+n_({v:"shareDialog__inviteButton buttonSubmittable",text:c});if(!d){b+='\x3cspan class\x3d"shareDialog__socialButtons"\x3e';
d=soy.$$getMapKeys(e);c=d.length;for(g=0;g<c;g++)a=d[g],b+=n_({v:a,text:e[a]});b+="\x3c/span\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/div\x3e\x3c/div\x3e")}
function s4(a){var b;a=a||{};soy.asserts.assertType(null==a.email||a.email instanceof goog.soy.data.SanitizedContent||goog.isString(a.email),"email",a.email,"null|string|undefined");var c=a.email;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__aclMember"\x3e\x3cdiv class\x3d"shareDialog__aclMemberAvatar"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__aclMemberNameEmail"\x3e\x3cspan class\x3d"shareDialog__aclMemberName"\x3e'+
soy.$$escapeHtml(null==(b=a.name)?"":b)+'\x3c/span\x3e\x3cspan class\x3d"shareDialog__aclMemberEmail"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__aclMemberRole"\x3e\x3c/div\x3e\x3c/div\x3e')}
function rca(a){soy.asserts.assertType(goog.isString(a.Cn)||a.Cn instanceof goog.soy.data.SanitizedContent,"linkLabel",a.Cn,"string|goog.soy.data.SanitizedContent");var b=a.Cn;soy.asserts.assertType(goog.isString(a.ah)||a.ah instanceof goog.soy.data.SanitizedContent,"copyButton",a.ah,"string|goog.soy.data.SanitizedContent");var c=a.ah;soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var d=a.nc;soy.asserts.assertType(goog.isString(a.Re)||
a.Re instanceof goog.soy.data.SanitizedContent,"tabId",a.Re,"string|goog.soy.data.SanitizedContent");a=a.Re;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabContent'+(d==a?" shareDialog__tabContent--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__linkInputContainer"\x3e'+K1({v:"shareDialog__link",id:"shareDialog__shareLink",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks("readonly")})+
K1({v:"shareDialog__hiddenViewLink",type:"hidden",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('readonly tabindex\x3d"-1"')})+'\x3cdiv class\x3d"shareDialog__linkRole"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+n_({v:"shareDialog__copyButton shareDialog__linkCopy",text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareLink" data-event\x3d"linkCopy"')})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncement"\x3e\x3c/div\x3e\x3c/div\x3e')}
function sca(a){soy.asserts.assertType(a.Ij instanceof soydata.SanitizedHtml||a.Ij instanceof soydata.UnsanitizedText||goog.isString(a.Ij),"embedDescription",a.Ij,"soydata.SanitizedHtml");var b=a.Ij;soy.asserts.assertType(goog.isString(a.ah)||a.ah instanceof goog.soy.data.SanitizedContent,"copyButton",a.ah,"string|goog.soy.data.SanitizedContent");var c=a.ah;soy.asserts.assertType(null==a.gh||a.gh instanceof goog.soy.data.SanitizedContent||goog.isString(a.gh),"embedCode",a.gh,"null|string|undefined");
var d=a.gh;soy.asserts.assertType(goog.isString(a.Fl)||a.Fl instanceof goog.soy.data.SanitizedContent,"oEmbedCode",a.Fl,"string|goog.soy.data.SanitizedContent");var e=a.Fl;soy.asserts.assertType(goog.isString(a.Qm)||a.Qm instanceof goog.soy.data.SanitizedContent,"embedPublic",a.Qm,"string|goog.soy.data.SanitizedContent");var g=a.Qm;soy.asserts.assertType(goog.isString(a.Pm)||a.Pm instanceof goog.soy.data.SanitizedContent,"embedMakePublic",a.Pm,"string|goog.soy.data.SanitizedContent");var h=a.Pm;soy.asserts.assertType(goog.isString(a.Nm)||
a.Nm instanceof goog.soy.data.SanitizedContent,"embedLabelHTML",a.Nm,"string|goog.soy.data.SanitizedContent");var k=a.Nm;soy.asserts.assertType(goog.isString(a.Om)||a.Om instanceof goog.soy.data.SanitizedContent,"embedLabeloEmbed",a.Om,"string|goog.soy.data.SanitizedContent");var l=a.Om;soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var m=a.nc;soy.asserts.assertType(goog.isString(a.Re)||a.Re instanceof
goog.soy.data.SanitizedContent,"tabId",a.Re,"string|goog.soy.data.SanitizedContent");a=a.Re;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabContent'+(m==a?" shareDialog__tabContent--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"shareDialog__embeddable"\x3e'+soy.$$escapeHtml(b)+'\x3cdiv class\x3d"shareDialog__embedOverlayContainer"\x3e\x3cp\x3e'+soy.$$escapeHtml(k)+'\x3c/p\x3e\x3cdiv class\x3d"shareDialog__comboRow"\x3e\x3cinput type\x3d"text" id\x3d"shareDialog__shareEmbed" class\x3d"shareDialog__shareEmbed" value\x3d"'+
soy.$$escapeHtmlAttribute(null==d?"":d)+'"\x3e'+n_({v:"shareDialog__copyButton shareDialog__copyButton--embed",text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareEmbed"')})+"\x3c/div\x3e\x3cp\x3e"+soy.$$escapeHtml(l)+'\x3c/p\x3e\x3cdiv class\x3d"shareDialog__comboRow"\x3e\x3cinput type\x3d"text" id\x3d"shareDialog__shareOEmbed" class\x3d"shareDialog__shareOEmbed" value\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e'+n_({v:"shareDialog__copyButton shareDialog__copyButton--embed",
text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareOEmbed"')})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__embedOverlay"\x3e\x3cp\x3e'+soy.$$escapeHtml(g)+"\x3c/p\x3e"+n_({v:"shareDialog__publicButton",text:h})+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__embedError"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function qca(a){soy.asserts.assertType(goog.isString(a.uo)||a.uo instanceof goog.soy.data.SanitizedContent,"shareLabel",a.uo,"string|goog.soy.data.SanitizedContent");var b=a.uo,c=goog.asserts.assertObject(a.gw,"expected parameter 'nativeSocialButtons' of type map\x3cstring,string\x3e.");soy.asserts.assertType(goog.isString(a.In)||a.In instanceof goog.soy.data.SanitizedContent,"messagePlaceholder",a.In,"string|goog.soy.data.SanitizedContent");var d=a.In;soy.asserts.assertType(goog.isString(a.ro)||
a.ro instanceof goog.soy.data.SanitizedContent,"shareButton",a.ro,"string|goog.soy.data.SanitizedContent");var e=a.ro;soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var g=a.nc;soy.asserts.assertType(goog.isString(a.Re)||a.Re instanceof goog.soy.data.SanitizedContent,"tabId",a.Re,"string|goog.soy.data.SanitizedContent");a=a.Re;b='\x3cdiv class\x3d"shareDialog__tabContent'+(g==a?" shareDialog__tabContent--on":
"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv\x3e\x3cdiv class\x3d"shareDialog__social"\x3e\x3cspan class\x3d"shareDialog__shareLabel"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e";g=soy.$$getMapKeys(c);a=g.length;for(var h=0;h<a;h++)var k=g[h],b=b+('\x3cbutton class\x3d"shareDialog__nativeSocialButton '+soy.$$escapeHtmlAttribute(k)+'" disabled\x3e\x3cspan class\x3d"shareDialog__tooltip" data-tooltip\x3d"'+soy.$$escapeHtmlAttribute(c[k])+'"\x3e'+soy.$$escapeHtml(c[k])+"\x3c/span\x3e\x3c/button\x3e");
b+='\x3c/div\x3e\x3ctextarea class\x3d"shareDialog__shareMessage" placeholder\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/textarea\x3e\x3cdiv class\x3d"shareDialog__socialFooter"\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+n_({v:"shareDialog__shareButton",text:e,disabled:!0})+'\x3c/div\x3e\x3cspan class\x3d"shareDialog__characterCount"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function t4(a){kp.call(this,{className:"shareDialog",H:a.H,title:a.X.title()});this.qI="https://support.canva.com/troubleshooting/sharing-your-design/";this.rz=a.rz;this.Mm=a.Mm;this.gh=a.gh;this.Fl=a.Fl;this.NQ=a.NQ;this.Oe=a.Oe;this.X=a.X;this.wu=a.wu;this.qq=a.qq;this.QW=!1;this.VV=er;this.qZ=!1;this.Bx={};this.Bx[d4]=this.X.format("shareDesignDialogTwitterLabel");this.Bx[f4]=this.X.format("shareDesignDialogFacebookLabel");this.gw={};this.gw.shareDialog__twitter=this.X.format("shareDesignDialogTwitterTooltip");
this.gw.shareDialog__facebook=this.X.format("shareDesignDialogFacebookTooltipWarning");this.l_=null;this.g9=[{value:er,text:Oe(this.X),nC:Pe(this.X),selected:!0},{value:ar,text:Qe(this.X),nC:Re(this.X),selected:!1}];this.o4=[{value:er,text:Oe(this.X),nC:Pe(this.X),selected:!0},{value:ar,text:Qe(this.X),nC:Re(this.X),selected:!1}];this.nc=a.nc;this.tX=this.J3.bind(this);this.uy=a.uy;this.HC=a.HC}r(t4,kp);
function daa(a){return new t4({H:a.H,rz:a.rz,wu:a.wu,Mm:a.W.G.get(dg),gh:a.gh,Fl:a.Fl,NQ:a.W.G.get(jg),Oe:a.W.Oe(),X:Pc(a.i),qq:sd(a.i),nc:a.nc,uy:a.uy,HC:a.HC})}f=t4.prototype;
f.events=function(){var a=this;return _.extend(kp.prototype.events.call(this),{"click .shareDialog__tab":this.n7,"click .shareDialog__inviteButton":this.m6,"click .shareDialog__link":function(a){return $(a.target).select()},"click .shareDialog__publicButton":function(){return a.trigger("makePublic")},"click .shareDialog__copyButton--embed":function(){return a.trigger("embedCopy")},"copy #shareDialog__shareEmbed":function(){return a.trigger("embedCopy")},"cut #shareDialog__shareEmbed":function(){return a.trigger("embedCopy")},
"click #shareDialog__shareEmbed":function(a){return $(a.target).select()},"click .shareDialog__shareButton":function(){return a.trigger("nativeShare",a.$(".shareDialog__shareMessage").val())},"click .buttonTwitter":function(){return a.trigger("social",d4)},"click .shareDialog__twitter":function(){return a.trigger("nativeSharePlatform","TWITTER")},"input .shareDialog__shareMessage":this.Mn,"click .shareDialog__websiteAnnouncementLink":function(){return a.trigger("viewWebsite")}})};
f.n7=function(a){var b=this.$(".dialog");b.css("top",b.offset().top+"px");b.addClass("shareDialog--fixed");this.$(".shareDialog__tab").removeClass("shareDialog__tab--on");a=$(a.target);a.addClass("shareDialog__tab--on");this.$(".shareDialog__tabContent").removeClass("shareDialog__tabContent--on").find(".selectView, input:not(:hidden), button").prop("tabIndex",-1);a=a.data("id");this.$('.shareDialog__tabContent[data-id\x3d"'+a+'"]').addClass("shareDialog__tabContent--on").find(".selectView, input:not(:hidden), button").prop("tabIndex",
0);this.trigger("tabChanged",a)};function $3(a,b){a.$(".shareDialog__link").val(b)}function u4(a,b,c){a.$(".shareDialog__inviteButton").text(a.X.format("shareDesignDialogSaveChanges"));a.QW=!0;a.trigger("roleChange",b,c)}f.pO=function(a){this.trigger("linkRoleChange",a);this.$(".shareDialog__tabContent--on").find(".textInput").focus().select();this.$(".shareDialog__linkCopy").text(this.X.ah())};f.m6=function(a){$(a.target).toggleClass("submitting",!0);this.trigger("submit",this.VV)};
f.openWindow=function(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d445,top\x3d240")};
function tca(a){var b=document.queryCommandSupported("copy");if(b)try{document.execCommand("copy")}catch(c){b=!1}a.$(".shareDialog__copyButton").each(function(c,d){if(b)$(d).on("click",function(b){try{document.execCommand("copy",!1,a.$("#"+$(b.target).attr("data-clipboard-target")).select()),v4(a,b)}catch(c){}});else new ZeroClipboard(d),$(d).on("click",function(b){return v4(a,b)})})}
function v4(a,b){b=$(b.target);b.text(a.X.format("shareDesignDialogCopiedButton"));(b=b.data("event"))&&a.trigger(b)}f.Mn=function(){if(this.qZ){var a=this.$(".shareDialog__shareMessage").val(),a=a?this.l_.getTweetLength(a):0;this.$(".shareDialog__characterCount").text(this.X.format("shareDesignDialogCharacterCount",a));a=140<a;this.$el.toggleClass("shareDialog--withTwitterWarning",a);this.$(".shareDialog__shareButton").prop("disabled",a)}};
f.render=function(){var a=this;kp.prototype.render.call(this);this.$(".content").html(oca({oH:this.X.format("shareDesignDialogPeople"),eI:this.X.T9(),oG:this.X.link(),ZE:this.X.format("shareDesignDialogEmbed"),Ij:this.X.Ij(),gh:this.gh,Fl:this.Fl,Mm:this.Mm,Qm:this.X.Qm(),Pm:this.X.Pm(),Nm:this.X.Nm(),Om:this.X.Om(),wn:this.X.wn(),vn:this.X.vn(),Bx:this.Bx,bm:this.NQ,uo:this.X.uo(),gw:this.gw,In:this.X.In(),ro:this.X.ro(),Cn:this.X.Cn(),ah:this.X.ah(),Oe:this.Oe,Jn:this.qq.Jn(),nc:this.nc,l$:uca}).toString());
var b=S3({className:"shareDialog",options:this.g9});b.on(V3,function(b){a.VV=b;a.$(".shareDialog__tabContent--on").find(".textInput").focus()});var c=this.$(".shareDialog__inviteRole");c.append(b.$el);c.before(this.rz.$el);b=S3({className:"shareDialog",options:this.o4});b.on(V3,function(b){return a.pO(b)});this.$(".shareDialog__linkRole").append(b.$el);this.$(".shareDialog__tabContent").not("[data-id\x3dpeopleTab]").find("select, input, button").prop("tabIndex",-1);tca(this);return this};
f.show=function(){window.addEventListener("message",this.tX);this.wu.$el.appendTo($("body"));return kp.prototype.show.call(this)};f.remove=function(){window.removeEventListener("message",this.tX);this.wu.remove();kp.prototype.remove.call(this)};f.hide=function(){this.Od.hide()};f.J3=function(a){var b=a.data&&void 0!==a.data.oauthResp;a.origin&&a.origin===window.location.origin&&b&&(a=Oa(Fw,"oauthResp",a.data),this.trigger("oauthResp",a))};
function a4(a,b){a.$(".shareDialog__inviteButton").prop("disabled",!b);a.$(".shareDialog__inviteRole \x3e button").prop("disabled",!b)}function j4(a){return a.$(".shareDialog__captchaContainer")}function gca(a){var b=a.X.format("shareDesignDialogCaptchaMessage");a.kf(k4,NZ,b)}function l4(a){var b=a.X.Ga("shareDesignDialogCaptchaFailure",a.qI);a.kf(vca,OZ,b)}
function Xba(a,b,c,d){var e=a.$(".shareDialog__acl"),g=$(s4({email:a.X.format("shareDesignDialogAllMembers"),name:b.D.Lb()||a.X.format("shareDesignDialogDefaultBrandName")}).toString()),h=w4({D:b.D,size:40});g.find(".shareDialog__aclMemberAvatar").append(h.render().$el);h=S3({className:"shareDialog",options:x4(a,b.ED.rv())});h.on(V3,function(c){return u4(a,b.D.u(),c)});g.find(".shareDialog__aclMemberRole").append(h.$el);e.append(g);c.forEach(function(b){var c=$(s4({email:b.TA.fj(),name:b.TA.Oa().Lb()||
b.TA.Oa().oh()}).toString()),d=y4({user:b.TA.Oa(),size:40});c.find(".shareDialog__aclMemberAvatar").append(d.render().$el);d=S3({className:"shareDialog",options:x4(a,b.ED.rv()),disabled:b.disabled});d.on(V3,function(c){return u4(a,b.TA.Oa().u(),c)});c.find(".shareDialog__aclMemberRole").append(d.$el);e.append(c)});0<d&&a.$(".shareDialog__folders").text(a.X.Vc(d))}
function b4(a,b,c){null!=c&&a.$(".shareDialog__shareEmbed").val(c);b?a.$(".shareDialog__embedOverlay").removeClass("shareDialog__embedOverlay--visible"):a.$(".shareDialog__embedOverlay").addClass("shareDialog__embedOverlay--visible")}
function mca(a,b,c){kp.prototype.E9.call(a,a.X.format("shareDesignDialogInviteMembersTitle"));var d=[a.X.format("shareDesignDialogInviteMemberBenefit1"),a.X.format("shareDesignDialogInviteMemberBenefit2"),a.X.format("shareDesignDialogInviteMemberBenefit3")];b=wca({ws:soydata.VERY_UNSAFE.ordainSanitizedHtml(a.X.ws(c,"/brand/members")),Dv:a.uy?a.X.format("shareDesignDialogInviteMemberButtonAlternate"):a.X.Dv(),Ev:a.X.Ev(),Cv:a.X.Cv(),Z3:a.HC?d:[],xg:Gx.sizes.get("50").na(),Tr:b});b.on(z4,function(){return a.ok()});
a.$(".content").html(b.$el);return b}function q4(a){var b=a.X.format("shareDesignDialogUpdateError");a.kf(xca,OZ,b)}function $ba(a,b){var c=".shareDialog__"+b.toLowerCase(),d=a.$el.find(c);y(d,"{}'s button isn't present",b);a=a.$el.find(c).offset();return{x:a.left,y:a.top}}function n4(a,b){var c=b.join(", ");b=a.X.format("shareDesignDialogValidateEmailError",b.length,c);a.kf(o4,OZ,b)}function m4(a){a.$(".buttonSubmittable").toggleClass("submitting",!1)}
function x4(a,b){return b===$q?[{value:$q,text:a.X.format("shareDesignDialogOwnerRole"),selected:!0}]:[{value:fr,text:Oe(a.X),selected:b===fr},{value:br,text:Qe(a.X),selected:qr[b]>=qr[br]&&qr[b]<qr[fr]},{value:Yq,text:a.X.format("shareDesignDialogNoneRole"),selected:b===Yq}]}f.kf=function(a,b,c){this.jg(a);KZ({message:c,type:b,v:a.za,wb:!1}).$el.prependTo(this.$(".shareDialog__error"))};f.jg=function(a){a=this.$("."+a.za);a.length&&LZ(a).remove()};
var Nba={za:"shareDialog__emptyDesignError"},k4={za:"shareDialog__captchaMessageWarning"},vca={za:"shareDialog__captchaFailError"},Mba={za:"shareDialog__emailInvalidError"},o4={za:"shareDialog__emailInvalidError"},p4={za:"shareDialog__emailQuotaError"},Vba={za:"shareDialog__loadError"},xca={za:"shareDialog__updateError"},d4="buttonTwitter",f4="buttonFacebook",V0="socialTab",uca={gJ:"peopleTab",iJ:V0,LINK:"linkTab",EMBED:"embedTab"};function A4(){}f=A4.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;var $0="UPDATE_PUBLIC_PERMISSIONS";function bca(a){return X(new Zl("social_share_flow_load_authorisation_dialog"),"medium",a.toString().toLowerCase())}function eca(a){return X(new Zl("social_share_flow_load_authorise_confirm"),"medium",a.toString().toLowerCase())}function dca(a){return X(new Zl("social_share_flow_load_authorise_cancel"),"medium",a.toString().toLowerCase())}function Yba(a,b){return X(X(X(new Zl("social_share_flow_share_now"),"message",a),"facebook",-1<b.indexOf("FACEBOOK")),"twitter",-1<b.indexOf("TWITTER"))}
function yca(a){return X(new Zl("social_share_flow_payment"),"amount",a)}function e4(a){return X(X(X(new Zl("design_shared"),"location","sharebutton"),"access_level","view"),"medium",a.toString().toLowerCase())}function B4(a){return X(new Zl("social_share_flow_view_social_media"),"medium",a.toString().toLowerCase())};function C4(a,b){this.ma=a.ma;this.D=a.D;this.i=a.i;this.aa=a.aa;this.Z=a.Z;this.fb=a.fb;this.dc=a.dc;this.tb=a.tb;this.j=a.j;this.H=a.H;this.et=a.et;this.Ea=Rc(a.i);this.Rb=new fU;this.Dd=a.Dd;this.mk=this.nx=null;this.rK=b;this.ML=this.O=null;this.TN=a.TN;this.SN=null;this.A_=a.G.get(zca);this.W=new If(a.G);this.view=null;this.G=a.G}f=C4.prototype;f.IJ=function(){var a=this,b=this.rK();b.on("ok",function(){return a.lw()});b.on("cancel",function(){return a.lw()});return b};
function Aca(a){var b=YU({D:a.D.u(),Aj:a.aa,mf:a.fb,Xe:!1,Ya:cd(a.i),G:a.G,j:a.j}),c=Pc(a.i),b={Kg:(new $U({j:a.j,ma:a.ma,ua:a.D.u(),aa:a.aa,Z:a.Z,tb:a.tb,i:a.i,jf:!1,Of:c.Of(),Mg:c.Mg(),view:new ZU({td:b.Bb,Zi:b.view}),Rb:a.Rb,ob:D4(a.Dd).ob,bf:a.D.ei()})).init(),G9:new E4({H:a.H,Ea:Rc(a.i),X:c,view:new k2}),complete:Bca({j:a.j,X:c}),error:Cca({j:a.j,X:c})};b.error.on("back",function(){a.trigger(X3);a.remove()});b.Kg.on("paymentComplete",function(){return F4(a)});b.Kg.on("paymentError",function(){return G4(a,
H4)});return b}function Jba(a){return Dca(a,function(){return new M1({Od:new ez({style:fz,H:a.H}),H:a.H,id:"exportDialog"})})}function Dca(a,b){return new C4(a,b)}f.show=function(a,b){this.nx=a;this.mk=b;this.O=Aca(this);this.view=this.IJ();Eca(this);this.view.render({Qo:this.Ea.Qo(),Ug:this.Ea.Ug()})};
function Eca(a){var b=["ONE_USE","ROYALTY_FREE","EXTENDED"];Fca(a,b).then(function(){var c=a.aa.Oz(a.D.u()).catch(Nk,function(){return null}).catch(function(){throw I4;}),d=D4(a.Dd),d=uj(a.aa,new Ej({document:d.ob,Zb:d.Zb,O:[1],$F:!0,aG:!0})).catch(function(a){if(a instanceof Ok)throw J4;throw I4;});P.all([c,d]).spread(function(c,d){a.O.Kg.fa=c;d.RB&&gU(a.Rb,{items:d.items,cf:b,Tv:d.Sl,hm:!!a.W.G.get(og)});Gca(a,d.RB)}).catch(function(b){G4(a,b)})}).catch(function(){return G4(a,K4)})}
function Zba(a){if(a.A_){var b=new Xy({user:a.ma,D:a.D.u(),limit:Object.keys(xw).length});a.ML=my(a.dc,b).then(function(a){return a.Dt});a.SN=a.TN.load()}}function Hca(a,b){y(a.SN,"MomentTimezone must've been loaded");return a.SN.then(function(){var c=moment.tz.guess();y(c,"failed to guess timezone");return jy(a.dc,new Vy({user:a.ma,D:a.D.u(),platform:b,pf:"DEFAULT",timeZone:c})).then(function(a){return a.Nx})})}
function Ica(a,b){y(a.ML,"target queues must've been fetched on init");return a.ML.then(function(c){var d=c.map(function(a){return a.platform}),e=b.filter(function(a){return!d.some(function(b){return b===a})}).map(function(b){return Hca(a,b)});return P.all(e).then(function(a){return a.concat(c)})})}function Fca(a,b){return L4(a.Dd,b).then(function(){return A_(a.Dd)})}function Gca(a,b){Jca(a,b).then(function(){return F4(a)})}
function Jca(a,b){return b?(0<jU(a.Rb)?(N1(a.view,a.O.Kg).then(function(){return d2(a.O.Kg)}),a.j.va(yca(jU(a.Rb)))):g2(a.O.Kg),P.reject()):P.resolve()}
function F4(a){y(a.nx,"shareMessage must be defined when sharing");y(a.mk,"platforms must be defined when sharing");N1(a.view,a.O.G9);O1(a.view,a.et.next());a.view.vx();var b=D4(a.Dd);(a.A_?Ica(a,a.mk).then(function(c){return new My({user:a.ma,D:a.D.u(),document:b.ob,Zb:b.Zb,message:""===a.nx?null:a.nx,action:"UPLOAD_NOW",Dt:c.map(function(a){return a.id}),pI:!1})}):P.resolve(new My({user:a.ma,D:a.D.u(),document:b.ob,Zb:b.Zb,message:""===a.nx?null:a.nx,action:"UPLOAD_NOW",DK:a.mk.map(function(a){return new Cy({platform:a,
pf:"DEFAULT"})}),pI:!1}))).then(function(b){var d=a.dc;return qj(d.N,d.url,Ny(b)).get(0).then(La).then(Qy)}).then(function(b){return M4(a,b.id,1E3)}).then(function(b){if(b.length===a.mk.length)a.onComplete(b);else if(b.length){var d=a.mk.filter(function(a){return!b.some(function(b){return b.platform===a})});G4(a,N4,d,b)}else G4(a,K4)}).catch(function(){return G4(a,K4)})}
function M4(a,b,c){var d=new Ty({id:b,zba:!1});return P.delay(c).then(function(){return a.dc.vM(d)}).then(function(d){var g=!0,h=[];d.am.Wx.forEach(function(a){"NEW"===a.status||"IN_PROGRESS"===a.status?g=!1:"SUCCESS"===a.status&&h.push({platform:a.platform,url:a.url})});return g?P.resolve(h):M4(a,b,Math.min(1.6*c,3E4))})}f.onComplete=function(a){var b=this;this.O.complete.mk=a;N1(this.view,this.O.complete);this.j.va(new Zl("social_share_flow_complete"));a.forEach(function(a){return Ql(b.j,e4(a.platform))})};
function G4(a,b,c,d){y(a.mk);Kca(a.O.error,b,c||a.mk,d);N1(a.view,a.O.error);a.view.nA();a.j.va(new Zl("social_share_flow_error"))}f.lw=function(){this.trigger(Y3);this.remove();this.j.va(new Zl("social_share_flow_close"))};f.remove=function(){var a=this;this.view.remove().then(function(){_.values(a.O).forEach(function(a){return a.remove()})})};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;var X3="BACK",Y3="CLOSE",zca=new Ff("gl",!1);function Z3(){}Z3.prototype.load=function(){return window.hasOwnProperty("moment")&&window.moment.tz?P.resolve():P.resolve($.ajax({dataType:"script",cache:!0,url:"https://static.canva.com/static/lib/moment-timezone-with-data-0.5.13.min.js"})).return()};function O4(a,b){var c=this;this.mk=[];this.j=a.j;this.X=a.X;this.view=b;this.view.on("viewSocialMedia",function(a){return c.j.va(B4(a))})}function Bca(a){var b=new P4;return new O4(a,b)}O4.prototype.sl=function(){return this.view};O4.prototype.remove=function(){this.view.remove()};
O4.prototype.refresh=function(){var a=this;this.view.render({buttons:this.mk.map(function(b){switch(b.platform){case "FACEBOOK":return{v:"buttonFacebook",text:Je(a.X),url:b.url};case "TWITTER":return{v:"buttonTwitter",text:Ke(a.X),url:b.url}}})});return P.resolve()};O4.prototype.ln=function(){return{title:this.X.format("shareDesignDialogCompleteTitle")}};
function P4(){var a=this;P1.call(this,{className:"shareDialog",events:{"click .buttonFacebook":function(){return a.trigger("viewSocialMedia","FACEBOOK")},"click .buttonTwitter":function(){return a.trigger("viewSocialMedia","TWITTER")}}})}r(P4,P1);
P4.prototype.render=function(a){var b=this.el,c;c='\x3cdiv class\x3d"shareDialog__socialCompleteButtons"\x3e';a=goog.asserts.assertArray(a.buttons,"expected parameter 'buttons' of type list\x3c[classes: string, text: string, url: string]\x3e.");for(var d=a.length,e=0;e<d;e++){var g=a[e];c+=n_({tagName:"a",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:g.v,text:g.text,href:g.url})}c=soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/div\x3e");b.innerHTML=
c;return this};P4.prototype.hp=function(a){return L1(a).toString()};var H4="PAYMENT",K4="SHARING",N4="PLATFORM",J4="VERSION_CONFLICT",I4="UNKNOWN";function Q4(a,b){var c=this;this.j=a.j;this.X=a.X;this.model=null;this.view=b;this.view.on("back",function(){return c.trigger("back")});this.view.on("viewSocialMedia",function(a){return c.j.va(B4(a))})}function Cca(a){var b=new R4;return new Q4(a,b)}f=Q4.prototype;f.sl=function(){return this.view};f.remove=function(){this.view.remove()};
function Kca(a,b,c,d){c=S4(c);switch(b){case H4:a.model={title:a.X.format("shareDesignDialogPaymentErrorTitle"),message:a.X.format("shareDesignDialogPaymentError"),bd:a.X.tq(),Yg:"shareDialog__doneButton"};break;case K4:a.model={title:Le(a.X),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Me(a.X,c)),bd:Ne(a.X),Yg:"shareDialog__backButton"};break;case N4:y(d);b=S4(d.map(function(a){return a.platform}));a.model={title:Le(a.X),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Me(a.X,c)),CC:a.X.format("shareDesignDialogPlatformSuccess",
b),bd:Ne(a.X),Yg:"shareDialog__backButton buttonSecondary",nI:d.map(function(b){switch(b.platform){case "FACEBOOK":return{v:"buttonFacebook",text:Je(a.X),url:b.url};case "TWITTER":return{v:"buttonTwitter",text:Ke(a.X),url:b.url}}})};break;case J4:a.model={title:Le(a.X),message:a.X.format("shareDesignDialogVersionConflictError"),bd:a.X.tq(),Yg:"shareDialog__doneButton"};break;case I4:a.model={title:Le(a.X),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Me(a.X,c)),bd:a.X.tq(),Yg:"shareDialog__doneButton"};
break;default:throw new TypeError("unexpected SocialErrorType: "+b);}}function S4(a){return a.map(function(a){a:switch(a){case "FACEBOOK":a="Facebook";break a;case "TWITTER":a="Twitter";break a;default:throw new TypeError("unexpected Platform: "+a);}return a}).join(", ")}f.refresh=function(){y(this.model);this.view.render(this.model);return P.resolve()};f.ln=function(){return{title:this.model.title}};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;
function R4(){var a=this;P1.call(this,{className:"shareDialog error",events:{"click .shareDialog__doneButton":function(){return a.trigger("done")},"click .shareDialog__backButton":function(){return a.trigger("back")},"click .buttonFacebook":function(){return a.trigger("viewSocialMedia","FACEBOOK")},"click .buttonTwitter":function(){return a.trigger("viewSocialMedia","TWITTER")}}})}r(R4,P1);
R4.prototype.render=function(a){var b=this.el;soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");var c=a.message;soy.asserts.assertType(null==a.CC||a.CC instanceof goog.soy.data.SanitizedContent||goog.isString(a.CC),"successMessage",a.CC,"null|string|undefined");var d=a.CC;soy.asserts.assertType(goog.isString(a.bd)||a.bd instanceof goog.soy.data.SanitizedContent,"buttonText",
a.bd,"string|goog.soy.data.SanitizedContent");var e=a.bd;soy.asserts.assertType(goog.isString(a.Yg)||a.Yg instanceof goog.soy.data.SanitizedContent,"buttonClasses",a.Yg,"string|goog.soy.data.SanitizedContent");var g=a.Yg;soy.asserts.assertType(null==a.nI||goog.isArray(a.nI),"successButtons",a.nI,"?Array\x3c{classes: string, text: string, url: string}\x3e|undefined");a=a.nI;c="\x3cp"+(d?' class\x3d"shareDialog__socialError"':"")+"\x3e"+soy.$$escapeHtml(c)+"\x3c/p\x3e"+(d?"\x3cp\x3e"+soy.$$escapeHtml(d)+
"\x3c/p\x3e":"")+'\x3cdiv class\x3d"shareDialog__socialCompleteButtons"\x3e'+n_({v:g,text:e});if(a)for(d=a.length,e=0;e<d;e++)g=a[e],c+=n_({tagName:"a",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:g.v,text:g.text,href:g.url});a=soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/div\x3e");b.innerHTML=a;return this};R4.prototype.hp=function(a){return L1(a).toString()};function E4(a){j2.call(this,a);this.X=a.X}r(E4,j2);E4.prototype.ln=function(){return{title:this.X.format("shareDesignDialogSharingTitle")}};function T4(a){var b=this;hc.call(this,a);a.on("click",".shareDialog__inviteMemberButton",function(a){a=$(a.target).closest(".shareDialog__inviteMemberContainer");a=(new U4(a)).fj();b.trigger(V4,a)})}r(T4,hc);
function wca(a){var b=$,c;soy.asserts.assertType(a.ws instanceof soydata.SanitizedHtml||a.ws instanceof soydata.UnsanitizedText||goog.isString(a.ws),"inviteMembersHtml",a.ws,"soydata.SanitizedHtml");var d=a.ws;soy.asserts.assertType(goog.isString(a.Dv)||a.Dv instanceof goog.soy.data.SanitizedContent,"inviteMemberButton",a.Dv,"string|goog.soy.data.SanitizedContent");var e=a.Dv;soy.asserts.assertType(goog.isString(a.Ev)||a.Ev instanceof goog.soy.data.SanitizedContent,"inviteMemberError",a.Ev,"string|goog.soy.data.SanitizedContent");
var g=a.Ev;soy.asserts.assertType(goog.isString(a.Cv)||a.Cv instanceof goog.soy.data.SanitizedContent,"inviteMemberBenefitsTitle",a.Cv,"string|goog.soy.data.SanitizedContent");var h=a.Cv;c=goog.asserts.assertArray(a.Z3,"expected parameter 'inviteMemberBenefits' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(a.xg)||a.xg instanceof goog.soy.data.SanitizedContent,"avatarUrl",a.xg,"string|goog.soy.data.SanitizedContent");var k=a.xg;a=goog.asserts.assertArray(a.Tr,"expected parameter 'emails' of type list\x3cstring\x3e.");
for(var d='\x3cdiv class\x3d"shareDialog__inviteMembersView"\x3e\x3cdiv class\x3d"shareDialog__inviteMembersLabel"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteMembers"\x3e',l=a.length,m=0;m<l;m++)var n=a[m],d=d+('\x3cdiv class\x3d"shareDialog__inviteMemberContainer" data-email\x3d"'+soy.$$escapeHtmlAttribute(n)+'"\x3e\x3cdiv class\x3d"shareDialog__inviteMember"\x3e\x3cimg class\x3d"avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(k))+'"/\x3e\x3cspan class\x3d"shareDialog__inviteMemberEmail"\x3e'+
soy.$$escapeHtml(n)+"\x3c/span\x3e"+n_({v:"shareDialog__inviteMemberButton buttonSubmittable",text:e})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteMemberError" data-error\x3d'+soy.$$escapeHtmlAttributeNospace(g)+"\x3e\x3c/div\x3e\x3c/div\x3e");d+="\x3c/div\x3e";if(0<c.length){d+='\x3cdiv class\x3d"shareDialog__inviteBenefitsContainer"\x3e\x3cdiv class\x3d"shareDialog__inviteBenefitsTitle"\x3e'+soy.$$escapeHtml(h)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteBenefitList"\x3e';e=c.length;
for(g=0;g<e;g++)d+='\x3cdiv class\x3d"shareDialog__inviteBenefit"\x3e'+soy.$$escapeHtml(c[g])+"\x3c/div\x3e";d+="\x3c/div\x3e\x3c/div\x3e"}c=soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/div\x3e");b=b(c.toString());return new T4(b)}function Lca(a,b,c){a=W4(a,b);a.XI.empty();a.lx(!0,c);a.dD.prop("disabled",!0)}function Mca(a,b,c,d){W4(a,b).lx(!1,c);d&&window.setTimeout(function(){return a.trigger(z4)},1E3)}
function W4(a,b){a=a.$el.find('.shareDialog__inviteMemberContainer[data-email\x3d"'+b+'"]');return new U4(a)}var V4="INVITE_MEMBER",z4="OK";function U4(a){this.$el=a;this.dD=a.find(".shareDialog__inviteMemberButton");this.XI=a.find(".shareDialog__inviteMemberError")}r(U4,gc);U4.prototype.fj=function(){return this.$el.data("email")};U4.prototype.lx=function(a,b){b&&this.dD.text(b);this.dD.toggleClass("submitting",a)};U4.prototype.kf=function(){this.XI.text(this.XI.data("error").toString())};function X4(a,b){var c=this;this.D=a.D;this.j=a.j;this.Z=a.Z;this.cc=a.cc;this.lr=a.lr;this.X=a.X;this.HG=a.HG;this.On=a.On;this.view=b;this.view.on(V4,function(a){return Nca(c,a)})}function nca(a,b){new X4(a,b)}
function Nca(a,b){Lca(a.view,b,a.X.format("shareDesignDialogiInviteMemberInvitingButton"));a.sR().then(function(){var c=Jx(Kx((new Ix).wj(a.D.u()),"Shared_Design_Invite_Accept_Invitation"),[Object.freeze(Df(Hx,{email:b,role:sm}))]);c.resend=!0;return a.Z.dZ(c)}).tap(function(){a.j.va(rm(b,"design_shared_dialog"))}).then(function(){a.HG--;Mca(a.view,b,a.X.format("shareDesignDialogInviteMemberSentButton"),0===a.HG);a.On()}).catch(function(){var c=W4(a.view,b);c.kf();c.lx(!1);c.dD.prop("disabled",!1)})}
X4.prototype.sR=function(){var a=this;if(!this.D.ei())return P.resolve();var b=Dx((new Bx).Lo(this.D.u()));this.D.Lb()||Cx(b,this.lr+"′s team");return Nw(this.Z,b).tap(function(){return fy(a.cc)}).tap(function(){return gy(a.cc)})};function Kba(){return window.twttr&&window.twttr.txt?P.resolve():P.resolve($.ajax({dataType:"script",cache:!0,url:"https://static.canva.com/static/lib/twitter-text-1.9.4.min.js"}))};function Y4(a){this.$el=a}r(Y4,gc);function Z4(a){w(a.hasClass("mask2"),'$el must have "mask2" in its classList');return new Y4(a)}Y4.prototype.show=function(){this.vt(!0);this.$el.hasClass("mask2--blur")&&$4(this,!0)};Y4.prototype.hide=function(){this.vt(!1);this.$el.hasClass("mask2--blur")&&$4(this,!1);return Cf(this.$el[0])};Y4.prototype.vt=function(a){this.$el.toggleClass("mask2--visible",a);$("body").toggleClass("mask2Visible",a)};Y4.prototype.qh=function(){return this.$el.hasClass("mask2--visible")};
function $4(a,b){a.$el.siblings(".mask2Background").toggleClass("mask2Background--blurred",b)};function VZ(a,b){var c=this;hc.call(this,a);this.eD=b;this.iX=this.W5.bind(this);this.$el.on("click",function(a){return c.Jf(a)});this.eD.on("keyup",this.iX)}r(VZ,hc);f=VZ.prototype;f.remove=function(){hc.prototype.remove.call(this);this.eD.off("keyup",this.iX)};f.show=function(){var a=this;il(function(){return Z4(a.$el).show()})};f.hide=function(){return Z4(this.$el).hide()};f.qh=function(){return Z4(this.$el).qh()};f.Jf=function(a){!$(a.target).closest(".dialog2__content").length&&a5(this)&&this.trigger(c_)};
f.W5=function(a){27===a.keyCode&&a5(this)&&this.trigger(c_)};function a5(a){return!!a.$el.find(".dialog2__closeButton").length}var c_="CLOSE";function b5(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");
var e=a.v;soy.asserts.assertType(null==a.Im||goog.isBoolean(a.Im)||1===a.Im||0===a.Im,"dark",a.Im,"boolean|null|undefined");var g=a.Im;soy.asserts.assertType(null==a.blur||goog.isBoolean(a.blur)||1===a.blur||0===a.blur,"blur",a.blur,"boolean|null|undefined");a=a.blur;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"mask2'+(d?" mask2--visible":"")+(null==(b=g)||b?" mask2--dark":"")+(null==(b=a)||b?" mask2--blur":"")+(e?" "+soy.$$escapeHtmlAttribute(e):"")+'"\x3e'+soy.$$escapeHtml(c)+
"\x3c/div\x3e")}
function UZ(a){var b;a=a||{};soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.cD||goog.isBoolean(a.cD)||1===a.cD||0===a.cD,"withShadow",
a.cD,"boolean|null|undefined");var e=a.cD;soy.asserts.assertType(null==a.bD||goog.isBoolean(a.bD)||1===a.bD||0===a.bD,"withRoundedCorners",a.bD,"boolean|null|undefined");var g=a.bD;soy.asserts.assertType(null==a.aD||goog.isBoolean(a.aD)||1===a.aD||0===a.aD,"withCloseButton",a.aD,"boolean|null|undefined");var h=a.aD;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var k=a.v;soy.asserts.assertType(null==a.$D||
a.$D instanceof goog.soy.data.SanitizedContent||goog.isString(a.$D),"contentClasses",a.$D,"null|string|undefined");a=a.$D;return soydata.VERY_UNSAFE.ordainSanitizedHtml(b5({visible:d,v:soydata.$$markUnsanitizedTextForInternalBlocks("dialog2"+(k?" "+k:"")),content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"dialog2__container"\x3e\x3cdiv class\x3d"dialog2__box'+(null==(b=e)||b?" dialog2__box--withShadow":"")+(null==(b=g)||b?" dialog2__box--withRoundedBorders":"")+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+(null==(b=h)||b?'\x3cbutton class\x3d"dialog2__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3crect fill-opacity\x3d".2" fill\x3d"#000" width\x3d"24" height\x3d"24" rx\x3d"12"/\x3e\x3cpath d\x3d"M4 4h16v16H4"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M16.5 8.406l-.906-.906L12 11.094 8.406 7.5l-.906.906L11.094 12 7.5 15.594l.906.906L12 12.906l3.594 3.594.906-.906L12.906 12"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/button\x3e":"")+'\x3cdiv class\x3d"dialog2__content"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}))};function c5(a){var b=this;this.view=a;this.view.on(c_,function(){return b.lw()})}c5.prototype.lw=function(){this.close()};c5.prototype.close=function(){var a=this;return this.view.hide().then(function(){return a.view.remove()})};function d5(a){this.user=a.user;this.profiles=a.profiles;this.ta=a.ta;this.ap=this.user.aA()}d5.prototype.getItem=function(a){var b=this;return this.ap&&this.ap[a]?P.resolve(this.ap[a]):this.aA().then(function(c){var d=null;c[a]||(d=b.ta&&b.ta.getItem(b.user.u()+"_"+a));return c[a]||d&&JSON.parse(d)||null})};d5.prototype.setItem=function(a,b){this.ta&&this.ta.setItem(this.user.u()+"_"+a,b);this.ap&&(this.ap[a]=b);return Mw(this.profiles,a,b)};
d5.prototype.removeItem=function(a){this.ta&&this.ta.removeItem(this.user.u()+"_"+a);this.ap&&delete this.ap[a];return Mw(this.profiles,a,null)};d5.prototype.aA=function(){var a=this;return Lw(this.profiles).then(function(b){return a.ap=b})};function Oca(a){this.view=a.view;this.Bb=a.Bb}
function caa(a){var b=new K0({Xd:a.Xd}),c=Ie(a.X),d=$;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"emptyPlaceholder",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString("shareDialog__emailInput"),"classes","shareDialog__emailInput","null|string|undefined");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tagListInput '+soy.$$escapeHtmlAttribute("shareDialog__emailInput")+'"\x3e\x3cdiv class\x3d"tagListInput__inputContainerWrapper"\x3e\x3cinput type\x3d"text" class\x3d"tagListInput__input" placeholder\x3d"'+
soy.$$escapeHtmlAttribute(c)+'" autocomplete\x3d"off" autocorrect\x3d"off" autocapitalize\x3d"off" spellcheck\x3d"false" /\x3e\x3c/div\x3e\x3c/div\x3e');d=d(c.toString());d=new n2(d);c=a.G.get(jba)?a.X.format("shareDesignDialogInviteEmailPlaceholder"):"";a={FI:b,ER:Pca,KN:Qca(a.ua,a.Z),LN:Rca,JN:Sca,FE:Tca,oL:Ie(a.X),$N:c,uq:a.uq};a=new y2(a,d);return new Oca({view:d,Bb:a})}function Pca(a){return a.fj()||""}
function Rca(a,b){function c(a,b){return-1!==b.toLowerCase().replace(/ |@/g,"").indexOf(a.toLowerCase().replace(/ |@/g,""))}return c(a,b.Oa().oh())||c(a,b.Oa().Lb())||c(a,b.fj())}function Qca(a,b){var c=null,d=Rx(Qx((new Px).wj(a))).Tg(100);return b.Hz(d).then(function(a){c=a.EF();if(a.Kb())return b.Hz(d.xj(a.Kb()))}).then(function(a){a&&(c=c.concat(a.EF()));return c})}
function Sca(a,b){var c=$,d=a.Oa().Lb()||"",e=a.fj()||"";a=a.Oa().fv()&&a.Oa().fv().sizes.get("50").na()||"";soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"avatarUrl",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"lead",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"desc",e,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isNumber(b),"modelId",b,"number");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"menuListElement" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x3cimg class\x3d"avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(a))+'" /\x3e\x3cdiv class\x3d"menuListElement__right"\x3e\x3cspan class\x3d"lead"\x3e'+soy.$$escapeHtml(d)+'\x3c/span\x3e\x3cspan class\x3d"desc"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e");c=
c(b.toString());return new HQ(c,!0,!1)}function Tca(a){return a&&a.Oa().Lb()||""};function Uca(a){var b=this;this.view=a;this.bK=null;a.on(e5,function(){Fa(null!=b.bK,"A callback must be provided");b.bK();b.view.hide()});a.on(f5,function(){return a.hide()})}
function baa(a){var b=a.i.format("shareDesignDialogConnectYourAccount"),c=a.i.format("shareDesignDialogConnectYourAccountButton");a=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"connectAccountMessage",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"connectButtonLabel",c,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(b5({content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"connectAccountPopup"\x3e'+
soy.$$escapeHtml(b)+n_({text:c,v:"connectAccountPopup__connectButton",block:!0})+"\x3c/div\x3e"),Im:!1}));b=a(b.toString());b=new g5(b);return{Bb:new Uca(b),view:b}}function cca(a,b){a.view.setPosition(b);a.view.show()}function aca(a,b){a.bK=b};function g5(a){var b=this;hc.call(this,a);a.on("click",".connectAccountPopup__connectButton",function(){return b.trigger(e5)});a.on("click",function(a){return b.Jf(a)})}r(g5,hc);g5.prototype.setPosition=function(a){this.$el.find(".connectAccountPopup").css({left:a.x,top:a.y})};g5.prototype.show=function(){Z4(this.$el).show()};g5.prototype.hide=function(){Z4(this.$el).hide()};g5.prototype.Jf=function(a){!$(a.target).closest(".connectAccountPopup").length&&this.trigger(f5)};var e5="CONNECT",f5="CLOSE";function h5(a,b,c){hc.call(this,a);this.Or=b;this.cR=c}r(h5,hc);function i5(a,b,c,d){var e=this;this.view=b;this.yb=c;this.IC=d;this.j=a.j;this.Et=a.Et;h3(this.IC,function(a){return i3(e.Et,a).then(function(){return e.nO(a)})})}
function aaa(a){var b=a.X.format("shareDesignDialogTeamInvitesTitle"),c={Hj:a.qf.Hj(),qd:a.qf.qd(),ir:a.qf.ir(),SV:j3(a.ij),So:a.qf.So()},d=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"title",b,"string|goog.soy.data.SanitizedContent");c=goog.asserts.assertObject(c,"expected parameter 'teamInviteFormModel' of type [addAnotherButtonLabel: string, emailInputPlaceholder: string, inputModel: list\x3c[modelId: float|int]\x3e, submitButtonLabel: string, upgradeMessage: string].");b=
soydata.VERY_UNSAFE.ordainSanitizedHtml(UZ({v:"shareTeamInvitesDialog",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"shareTeamInvitesDialog__content"\x3e\x3cdiv class\x3d"shareTeamInvitesDialog__title"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+k3(c)+"\x3c/div\x3e")}));d=d(b.toString());b=new VZ(d,$(document));c=new l3(d.find(".teamInviteForm"));d=new h5(d,b,c);b=new c5(d.Or);c=a.pK(d.cR);a=new i5(a,d,b,c);return{view:d,Bb:a}}
i5.prototype.show=function(){this.j.va(new Zl("team_invites_dialog_freeform_shown"));this.view.Or.show()};i5.prototype.Le=function(){this.IC.Le()};i5.prototype.nO=function(a){var b=this;a.forEach(function(a){return b.j.va(rm(a,"design_shared_dialog_freeform"))});this.view.Or.hide().then(function(){return b.view.Or.remove()})};function j5(a){this.Go=a.Go;this.Xp=!1}j5.prototype.send=function(a,b){return this.init().then(function(c){return new P(function(d,e){c.sendSMS(a,b,{},function(a){if(a)return e(a instanceof Error?a:Error(a));d()})})})};j5.prototype.init=function(){var a=this;return this.Xp?P.resolve(k5()):Vca().then(function(b){return new P(function(c,d){b.init(a.Go,{},function(e){if(e)return d(e instanceof Error?e:Error(e));a.Xp=!0;c(b)})})})};
function Vca(){return document.getElementById("branch_snippet")?P.resolve(k5()):new P(function(a,b){var c=document.createElement("script");c.id="branch_snippet";c.src="https://cdn.branch.io/branch-latest.min.js";c.async=!0;c.onload=function(){return a(k5())};c.onerror=function(){b(Error("Unable to load the branch API"))};document.body.appendChild(c)})}function k5(){Fa("undefined"!==typeof window.branch);return window.branch};function Wca(a){this.document=a.document;this.Hb=a.Hb;this.QR=a.QR}function N0(a){return new Wca({document:a.document,Hb:a.Hb,QR:gA})}function L4(a,b){var c;a.document.isEmpty()?c="EMPTY_DOC":a.Hb.Mv()?bq(a.document)?c="UPLOADING":0===b.length&&(c="LICENSE_NO_OPTIONS"):c="SAVING";return c?P.reject(c):P.resolve()}function A_(a){if(!a.Hb.gj())return P.resolve();a.Hb.save();return a.QR(O.my).bind(a).catch(function(){throw this.Hb.Mv()?"SAVING":"VERSION_CONFLICT";})}
function D4(a){return{ob:a.Hb.hc(),Zb:a.Hb.fe()}};function l5(a){this.view=a.view;this.H=a.H;this.vN=a.vN;this.Ea=Rc(a.i);this.et=a.et;this.EG=P.resolve();this.Xb=a.Xb;this.dP=a.dP;this.he=a.he||!1;this.La=a.La;this.ta=a.ta;this.document=a.document;this.Hb=a.Hb;this.Rb=a.Rb;this.At=Infinity;this.lq=this.mq=!1;this.ne=a.ne;this.ud=a.ud;this.j=a.j;this.qP=a.qP;this.Ol=null;this.Z=a.Z;this.aa=a.aa;this.cf=a.cf;this.fu=a.fu;this.Dd=a.Dd;this.O={error:a.O.error,Kg:a.O.Kg,zp:a.O.zp,e3:null};this.FL=a.FL;this.ZJ=this.Lj=this.yz=null;this.W=a.W;this.G=a.G;
this.xc=a.xc;this.view.on("cancel",this.cancel.bind(this));this.view.on("ok",this.ok.bind(this));this.view.on("retry",this.PV.bind(this))}
function D_(a){function b(){return new m5({dc:a.dc,G:a.G,j:a.j,Hb:a.Hb,i:a.i,he:!!a.he,Jl:a.Jl,H:a.H,W:a.W})}var c=Rc(a.i),d=cd(a.i),e=(new M1({Od:new ez({style:fz,H:a.H}),H:a.H,id:"exportDialog"})).render({Qo:c.Qo(),Ug:c.Ug()}),g=["ONE_USE","ROYALTY_FREE","EXTENDED"],h=ay(a.La).ja().u(),k=new fU,d=YU({D:h,Aj:a.aa,Xe:!1,mf:a.fb,Ya:d,j:a.j}),h={error:(new F2({Ea:c,view:new G2})).init(),Kg:(new $U({j:a.j,aa:a.aa,Z:a.Z,tb:a.tb,Xb:a.Xb,i:a.i,ma:by(a.La).u(),ua:h,jf:!0,view:new ZU({td:d.Bb,Zi:d.view}),
Rb:k,ob:a.Hb.hc(),bf:ay(a.La).ja().ei(),G:a.G,xc:a.xc})).init(),zp:new j2({H:a.H,Ea:c,view:new k2})},l=zba(a);return new l5({view:e,i:a.i,j:a.j,Hb:a.Hb,document:a.document,La:a.La,dc:a.dc,ud:a.ud,aa:a.aa,Z:a.Z,fb:a.fb,tb:a.tb,H:a.H,ta:a.ta,he:a.he,vN:function(){return new D2({i:a.i,view:new E2({H:a.H}),YQ:g})},Xb:a.Xb,qP:function(b){return new Q1({j:a.j,Tm:b})},cf:g,et:new l2(Xc(a.i)),ne:a.ne,Rb:k,Dd:a.Dd,O:h,FL:function(d){return a.$V?P.resolve(new n5({dN:"PDF"===a.ne.format,Ea:c})):d.mq||d.lq?P.resolve(b()):
Aba(l,{fU:function(){d.ok()}}).then(function(a){return a||b()})},X5:a.X5,dP:!!a.$V,fu:a.fu,W:a.W,G:a.G,xc:a.xc})}f=l5.prototype;f.remove=function(){this.yz&&this.yz.cancel();this.view.remove().bind(this).then(function(){_.values(this.O).forEach(function(a){a&&a.remove()})})};f.iR=function(a){this.dP||(1>$("#canvaDownloadIframe").length&&$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"),$("#canvaDownloadIframe").attr("src",a),this.he&&Rl(this.j,"download","export_dialog","first_time_publish"))};
f.vx=function(){var a;if(Infinity>this.At){var b=moment.duration(this.At);a=Math.floor(b.asHours());b=b.minutes();a=0<a?this.Ea.format("publishViewExportingHoursRemainingLicenseHeader",a,b):this.Ea.format("publishViewExportingMinutesRemainingLicenseHeader",b);b=this.Ea.format("publishViewExportingLicensePurchaseDetails");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"title",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b)||b instanceof
goog.soy.data.SanitizedContent,"message",b,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch3\x3e"+soy.$$escapeHtml(a)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(b)+"\x3c/p\x3e").toString()}else a=this.et.next();O1(this.view,a);this.EG.then(this.view.vx.bind(this.view))};f.nA=function(){this.EG.then(this.view.nA.bind(this.view))};
f.start=function(){return new P(function(a){this.Lj=null;this.ZJ=a;this.Ol=this.qP(this.ne.format);this.EG=new P(function(a){this.H.setTimeout(a,650)}.bind(this));this.PV()}.bind(this))};f.PV=function(){L4(this.Dd,this.cf).bind(this).then(this.G3).then(this.W3).then(this.g1).then(this.B3).then(this.EZ.bind(this,"PRINT")).catch(this.CQ)};f.G3=function(){if(!this.Hb.gj())return P.resolve();this.O.zp.hF="SAVING";N1(this.view,this.O.zp);this.Ol.track("save");return A_(this.Dd)};
f.W3=function(){this.O.zp.hF="EXPORTING";N1(this.view,this.O.zp);this.Ol.track("prepare")};f.CQ=function(a){this.nA();var b=this.O.error;b.Fw=kba(b,a);N1(this.view,this.O.error);this.Ol.track("error",{errorType:a})};f.A1=function(){this.At=Infinity;this.vx();N1(this.view,this.O.zp);this.EZ("SCREEN").bind(this).catch(this.CQ)};
f.g1=function(){var a=this.Hb.fe(),b=new Ej({document:this.Hb.hc(),Zb:a,O:this.ne.O,$F:!0,aG:!0}),c=ay(this.La).ja().u(),b=uj(this.aa,b).catch(function(a){if(a instanceof Ok)throw"VERSION_CONFLICT";throw"BACKGROUND";}),c=tj(this.aa,new qi({tm:[c],Y:null,limit:1})).catch(function(){throw"BACKGROUND";});return P.all([b,c]).bind(this).spread(function(b,c){if(b.Zb!==a)throw"VERSION_CONFLICT";gU(this.Rb,{items:b.items,cf:this.cf,Tv:b.Sl,hm:!!this.W.G.get(og)});this.At=kU(this.Rb);this.O.Kg.fa=0<c.Xt.length?
c.Xt[0]:null;return b.RB})};f.B3=function(a){return a?(0<jU(this.Rb)?Xca(this):Yca(this)).bind(this).then(function(a){this.mq=0<=a.cf.indexOf("ROYALTY_FREE");this.lq=0<=a.cf.indexOf("EXTENDED");this.At=a.At}).then(this.N9):(this.vx(),P.resolve())};function Yca(a){Fa(0===jU(a.Rb),"cannot purchase premium elements in background");return g2(a.O.Kg).bind(a).catch(function(){this.CQ("BACKGROUND_PAYMENT")})}
function Xca(a){return new P(function(a){gZ(this.Xb,"contextTipRoyaltyFreePaymentOption");this.nA();Zca(this).bind(this).then(function(){N1(this.view,this.O.Kg).bind(this).then(function(){return d2(this.O.Kg)}).then(function(a){a||dZ(this.Xb,"contextTipRoyaltyFreePaymentOption")});this.Ol.track("payment");this.O.Kg.once("clickDraft",this.A1.bind(this));this.O.Kg.once("paymentComplete",a)})}.bind(a))}f.N9=function(){this.vx();N1(this.view,this.O.zp)};
function Zca(a){return $ca(a).bind(a).then(function(a){if(a)return ada(this).bind(this).then(this.r4)})}function o5(a){return"hasSeenPublishPaymentLicensesOnboarding:"+by(a.La).u()}function $ca(a){var b=o5(a),c=!!by(a.La).aA().hasSeenPublishPaymentLicensesOnboarding,b=a.ta&&!!Co(a.ta,b);return P.resolve(!c&&!b&&0<jU(a.Rb))}f.r4=function(){var a=o5(this);this.ta&&Ko(this.ta,a);Mw(this.Z,"hasSeenPublishPaymentLicensesOnboarding",!0)};
function ada(a){return new P(function(a){this.Ol.track("onboard_licenses");this.EG.bind(this).then(function(){var c=this.vN().init();c.show();c.on("complete",a)})}.bind(a))}
f.EZ=function(a){var b=this.Hb.hc(),c=this.Hb.fe();this.Ol.track("export",{exportType:a});var d=this.ne.format,e=this.ne.Es,g;a:switch(a){case "SCREEN":case "CUSTOM":g="SCREEN";break a;case "PRINT":g="PRINT";break a;default:throw Error("unknown export type: "+a);}var h=new ew({type:a,format:d,Es:e,SA:g,pu:!!this.ne.pu,Kr:!!this.ne.Kr,gt:!!this.ne.gt,Mx:this.ne.Mx,O:this.ne.O}),k=h.SA===Lg;a=new Rv({Wh:b,NK:c,PQ:h,zh:"WEB_1"});Fa(null==this.yz);return this.yz=this.ud.eE(a).bind(this).tap(function(a){0<
a.qB.fF.length&&(this.Lj=a.qB.fF[0].url,this.FL(this).bind(this).then(function(a){a.qQ(this.Lj);a.tQ(this.mq,this.lq);this.view.$el.toggleClass("exportDialog--exportComplete",!0);N1(this.view,a);if(a.VD){var b=a.VD;this.view.$(".dialog").addClass(b)}this.Ol.track("complete");this.iR(this.Lj);var b=this.j,c=Gl("Download Design",{format:h.format,watermark:k,destination:"download",design:b.De,template:b.aj,transparent_background:h.gt,crop_marks:h.Kr,page_count:h.O.length,is_print_pdf:this.fu.dW});b.track("design_publish",
c);this.O.e3=a}))}).catch(P.CancellationError,function(){}).finally(function(){this.yz=null}).catch(function(){return P.reject("EXPORTING")})};f.cI=function(){(this.mq||this.lq)&&fZ(this.Xb)};f.cancel=function(){this.Ol.PC("cancel");this.finally()};f.ok=function(){this.Ol.PC("ok");this.finally()};f.finally=function(){Fa(null!=this.ZJ);this.ZJ(this.Lj);this.cI();this.remove()};function m5(){}m5=P1.extend({className:"exporting complete"});f=m5.prototype;
f.events=function(){return{"click .openUploadsTab":this.C5,"click .button--homepageHint":this.x5}};f.initialize=function(a){this.dc=a.dc;this.G=a.G;this.i=a.i;this.Ea=Rc(a.i);this.Pa=Vc(a.i);this.j=a.j;this.lq=this.mq=!1;this.Lj=null;this.he=a.he;this.Jl=a.Jl;this.H=a.H;this.W=a.W;var b=N_,c=a.Hb;a=a.i;a.Qf||(a.Qf=new Fe(a.config));this.yQ=new b({location:"publish",Hb:c,Qf:a.Qf});this.listenTo(this.yQ,{shareClicked:this.xQ,emailSend:this.W2,shareViewResize:this.xu})};
f.refresh=function(){this.render();return P.resolve()};
f.render=function(){var a=this.el,b,c=this.mn();soy.asserts.assertType(c.lz instanceof soydata.SanitizedHtml||c.lz instanceof soydata.UnsanitizedText||goog.isString(c.lz),"downloadStartedHtml",c.lz,"soydata.SanitizedHtml");b=c.lz;soy.asserts.assertType(goog.isBoolean(c.qC)||1===c.qC||0===c.qC,"showLicenseHint",c.qC,"boolean");var d=!!c.qC;soy.asserts.assertType(c.LA instanceof soydata.SanitizedHtml||c.LA instanceof soydata.UnsanitizedText||goog.isString(c.LA),"licenseHint",c.LA,"soydata.SanitizedHtml");
var e=c.LA;soy.asserts.assertType(goog.isBoolean(c.he)||1===c.he||0===c.he,"showHomepageHints",c.he,"boolean");var g=!!c.he;soy.asserts.assertType(goog.isString(c.yv)||c.yv instanceof goog.soy.data.SanitizedContent,"hintSeeAllDesigns",c.yv,"string|goog.soy.data.SanitizedContent");c=c.yv;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"+(g?"":'\x3cdiv class\x3d"socialShare"\x3e\x3c/div\x3e')+(d?'\x3cp class\x3d"feedback feedback--success"\x3e'+
soy.$$escapeHtml(e)+"\x3c/p\x3e":"")+(g?n_({tagName:"a",href:"/",v:"button--homepageHint",text:c}):""));a.innerHTML=b;this.$(".socialShare").html(this.yQ.render().el);return this};f.qQ=function(a){this.Lj=a};f.tQ=function(a,b){this.mq=a;this.lq=b};f.C5=function(){OM.call($("#objectPanel .uploads a"),this.i);this.close()};f.x5=function(){Rl(this.j,"see_your_designs","export_complete_dialog","first_time_publish")};f.xu=function(){this.trigger("contentResize")};
f.close=function(){this.trigger("done");this.he&&Sl(this.j,"export_complete","export_dialog","first_time_publish")};f.xQ=function(){Fa(null!=this.Jl);this.close();this.H.setTimeout(this.Jl,300)};
f.W2=function(a){var b=this;this.$(".shareViaEmailForm button").addClass("sending");Pl(this.j);oy(this.dc,new $y({ob:wb.hc(),mode:a.mode,Ye:a.Ye,Tr:a.V2,XC:"publish"})).bind(this).finally(function(){this.$(".shareViaEmailForm button").removeClass("sending")}).then(function(){this.$(".shareViaEmailForm button").addClass("sent");this.H.setTimeout(this.trigger.bind(this,"done"),600)}).catch(function(){this.yQ.trigger("emailSendingError",b.Ea.format("publishViewEmailSendingError"))})};f.hp=function(a){return L1(a).toString()};
f.ln=function(){return{title:this.Ea.format("publishViewDesignReady")}};
f.mn=function(){if(null==this.Lj)throw Error("export url must be set");var a="";if(this.mq&&this.lq)var a=this.Pa.Gd(),b=this.Pa.Dc(),a=this.Ea.format("publishViewUnlimitedUseCombinedHint",a,b);else this.mq?a=Se(this.Ea,this.Pa.Dc()):this.lq&&(a=Se(this.Ea,this.Pa.Gd()));return{lz:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Ea.format("publishViewDownloadStarted",this.Lj)),qC:!!a,LA:soydata.VERY_UNSAFE.ordainSanitizedHtml(a),he:this.he,yv:this.Ea.yv()}};function n5(){}n5=P1.extend({className:"exporting complete"});
f=n5.prototype;f.initialize=function(a){this.Ea=a.Ea;this.Lj=null;this.dN=a.dN};f.qQ=function(a){this.Lj=a};f.tQ=function(){};f.refresh=function(){this.render();return P.resolve()};f.render=function(){this.el.innerHTML=lba(this.mn());window.setTimeout(function(){this.trigger("done")}.bind(this),1E3);return this};f.events=function(){return{"click .useExportButton":function(){this.trigger("done")}}};f.mn=function(){return{message:this.Ea.format("publishViewExportCompleteEmbedded"),Ug:this.Ea.Ug()}};
f.hp=function(a){return L1(a).toString()};f.ln=function(){return{title:this.dN?this.Ea.format("publishViewExportCompletePdf"):this.Ea.format("publishViewExportCompleteImage")}};function nX(a,b){this.GO=a.GO;this.Z=a.Z;this.i=a.i;this.view=b}
nX.prototype.confirm=function(){var a=this;return new P(function(b,c){if(!a.GO)return b(!0);Lw(a.Z).then(function(d){if(d.neverShowReplacePageContentWarning)return b(!0);np(a.view).then(function(c){if(a.view.FG){Mw(a.Z,"neverShowReplacePageContentWarning",!0);var d=$("#documentFileMenuUndoButton"),h=d.offset();(new aZ({af:$(document),Se:$("body"),Ry:a.i.format("editorReplaceContentContextTipText"),bd:a.i.format("editorReplaceContentContextTipButtonText"),width:265,style:"contextTipOnboarding topArrow"})).qx(h.left-
4,h.top+ +d.height()+4,!1)}b(2===c)}).catch(function(a){return c(a)})})})};function mX(a){kp.call(this,{className:"replaceContentDialog",H:a.H,hf:!1,title:a.OR});this.FG=!1;var b=$,c;c=a.D2;var d=a.M4,e=a.W8;a=a.NR;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"doNotReplaceButton",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"neverShowAgainLabel",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,
"replaceButton",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"warningText",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e"+n_({v:"replaceContentDialog__cancelButton buttonSecondary",text:c})+n_({v:"replaceContentDialog__replaceButton",text:e})+'\x3cdiv\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" /\x3e'+soy.$$escapeHtml(d)+"\x3c/label\x3e\x3c/div\x3e");
this.content=b(c.toString())}r(mX,kp);mX.prototype.events=function(){return _.extend(kp.prototype.events.call(this),{"click .replaceContentDialog__replaceButton":this.ok,"click .replaceContentDialog__cancelButton":this.cancel,'click input[type\x3d"checkbox"]':this.t$})};mX.prototype.render=function(){kp.prototype.render.call(this);return this};mX.prototype.t$=function(a){this.FG=a.target.checked};function e1(){}e1=Backbone.View.extend({className:"linearProgress"});f=e1.prototype;
f.IJ=function(a){this.CZ=(100/a.length).toFixed(4)+"%";return $("\x3cul\x3e"+a.map(function(a){return'\x3cli class\x3d"stage '+a.v.join(" ")+'"\x3e\x3cspan class\x3d"label"\x3e\x3cspan class\x3d"text"\x3e'+a.label+'\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"wipe"\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"bar"\x3e\x3c/span\x3e\x3cspan class\x3d"light"\x3e\x3c/span\x3e\x3c/li\x3e'}).join("")+"\x3c/ul\x3e")};f.initialize=function(a){this.CZ="0%";this.$el.html(this.IJ(a.Z9))};
f.render=function(a){if("error"===a)return this.$el.addClass("out"),this.$el.addClass("error"),this;var b=this.$el.find(".stage."+a);if(b.hasClass("active"))return this;b.addClass("preparing");window.setTimeout(function(){b.addClass("active").removeClass("preparing")},800);b.prevAll().addClass("past").removeClass("active");return this};
f.show=function(a){a.append(this.$el);var b=this;this.$(".stage:first-child").addClass("appear").addClass("preparing");window.setTimeout(function(){b.$(".stage:first-child").addClass("active").removeClass("preparing")},1E3);this.$(".stage:not(:first-child)").each(function(a){var d=$(this);d.css("width",b.CZ);window.setTimeout(function(){d.addClass("appear")},100*a)})};f.remove=function(){};function vS(){}vS=Backbone.View.extend({tagName:"div",className:"fxPanel"});f=vS.prototype;f.events=function(){var a={};a["click .preset"]=this.J1;a["click .presets .scrollLeft"]=this.l9;a["click .presets .scrollRight"]=this.m9;a["input .range .trackContainer \x3e input[type\x3drange]"]=this.lX;a["change .range .trackContainer \x3e input[type\x3drange]"]=this.lX;a["click .hex"]=this.C1;a["click .toggleAdvanced"]=this.s$;return a};
f.initialize=function(a){this.aP=a.aP;this.pD=this.model.filter.name;this.GH=null;this.YM=!1;this.eY={};this.RR=this.bo=0;this.zf=a.zf;this.listenTo(this.model,"change",this.refresh);this.listenTo(M,"beforeOperationStackPop",this.KB);this.listenTo(T,"hideContextualControlsRequested",this.remove);this.render()};
f.render=function(){var a=this;$("#editorLogo").addClass("noAnimate");$(".imageToolbarCrop").removeClass("enabled").addClass("disabled");this.$el.html(this.template({advancedOptionsMsg:he(this.zf),filterCodeMsg:this.zf.format("editorToolbarFilterCode")}));this.$el.addClass("toolbar--fx");kJ(this.model);window.setTimeout(function(){bda(a);cda(a);p5(a);a.refresh()},300);this.GH=this.model.MQ;return this};
f.remove=function(){$("#editorLogo").removeClass("noAnimate");this.KB();$(".imageToolbarCrop").removeClass("disabled").addClass("enabled");this.model&&rD(this.model);Backbone.View.prototype.remove.call(this)};function wS(a,b){a.$el.css("top",b.bottom+23).css("left",b.left)}
f.refresh=function(){this.pD=this.model.filter.name;this.fba||dda(this);eda(this);q5(this);var a="Normal"==this.model.filter.name,b=!this.model.eN();this.$el.toggleClass("hideIntensity",a);this.$el.toggleClass("disableIntensity",b);this.$el.find(".range_intensity .sliderInput").prop("disabled",b||a);p5(this)};function r5(){return"intensity brightness contrast saturation tint blur x-process vignette".split(" ")}
function bda(a){var b=a.$el.find(".presets .presetsButtons");b.empty();$("#editorLogo").addClass("noAnimate");var c=a.model.Ic();if(c){var c=c[nD].na(),d=$(_.template('\x3cli class\x3d"preset preset_Normal"\x3e\x3cdiv class\x3d"image"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan class\x3d"title"\x3e\x3c%- label %\x3e\x3c/span\x3e\x3c/li\x3e')({label:ie(a.zf,"Normal")})),e=d.find("img");e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,
a=new V(0,0,a,b);Dm(a,new V(0,0,60,60));e.css(a.serialize());e.css("opacity",1)});aD(bD,e,c);b.append(d);b.find("."+s5(a.pD)).addClass("active")}a.aP.sort(function(b,c){b=ie(a.zf,b.name);c=ie(a.zf,c.name);return b<c?-1:1}).forEach(function(c,d){var e=$('\x3cli class\x3d"preset '+fda(a,c)+'"\x3e\x3c/li\x3e');b.append(e);window.setTimeout(function(){gda(a,e,c)},300*d)})}
function gda(a,b,c){a.model.cL(c,!0,function(d){var e=$('\x3cimg src\x3d"'+d.src+'" /\x3e');e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,a=new V(0,0,a,b);Dm(a,new V(0,0,60,60));e.css(a.serialize());e.css("opacity",1)});var g=$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e'),h=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),k=$('\x3cdiv class\x3d"image"\x3e\x3c/div\x3e');h.css("background-image","radial-gradient("+d.T$+")");k.append(g);g.append(e);
g.append(h);b.append(k);b.append($('\x3cspan class\x3d"title"\x3e\x3c/span\x3e').text(ie(a.zf,c.name)));c.name===a.pD&&b.addClass("active")})}
function q5(a){var b=a.$el.find(".presets .presetsButtons");b.find(".preset").removeClass("active");b.find("."+s5(a.pD)).addClass("active");0===a.bo?a.$el.find(".scrollLeft").addClass("disabled"):a.$el.find(".scrollLeft").removeClass("disabled");a.bo===a.$el.find(".preset").length-5?a.$el.find(".scrollRight").addClass("disabled"):a.$el.find(".scrollRight").removeClass("disabled")}
function cda(a){function b(a){var b=0,c=100;"vignette"!==a&&"intensity"!==a&&(b=-100,c=100);return $('\x3cinput class\x3d"sliderInput" type\x3d"range" step\x3d"1" min\x3d"'+b+'" max\x3d"'+c+'" value\x3d"0" /\x3e')}var c=a.$el.find(".ranges");c.empty();r5().forEach(function(d){var e=je(a.zf,d),e=$(_.template('\x3cli class\x3d"range \x3c%- rangeClass %\x3e"\x3e\x3clabel\x3e\x3c%- rangeName %\x3e\x3c/label\x3e\x3c/li\x3e')({rangeClass:t5(d),rangeName:e})),g=b(d),h=$("\x3cspan\x3e").addClass("rangeTrack"),
k=$('\x3cspan class\x3d"valueDisplay"\x3e0\x3c/span\x3e'),l=$('\x3cdiv class\x3d"trackContainer"\x3e\x3c/div\x3e');l.append(g);l.append(h);("vignette"!=d?[0]:[]).forEach(function(a){var b=$('\x3cspan class\x3d"snapGuide"\x3e\x3c/span\x3e');b.css("margin-left",a);l.append(b)});e.append(l);e.append(k);c.append(e)})}function dda(a){var b=a.$el.find(".ranges");r5().forEach(function(c){b.find("."+t5(c)+" input").val(a.model.getByName(c.replace(/[^a-z]/gi,""))||0)})}
function eda(a){var b=a.$el.find(".ranges");r5().forEach(function(c){var d=b.find("."+t5(c)+" .valueDisplay");c=parseInt(a.model.getByName(c.replace(/[^a-z]/gi,"")),10);isNaN(c)&&(c=0);d.html(0<c?"+"+c:""+c)})}function p5(a){a.$el.find("input.hex").val(a.model.filter.qa())}function fda(a,b){var c=s5(b.name);a.eY[c]=b;return c}function s5(a){return"preset_"+a.replace(/[^a-z0-9]/gi,"")}function t5(a){return"range_"+a.replace(/[^a-z0-9]/gi,"")}
f.J1=function(a){var b=this,c=$(a.target);c.hasClass("preset")||(c=c.parents(".preset").first());c.hasClass("active")||(c.addClass("transitioning"),window.setTimeout(function(){c.removeClass("transitioning").addClass("active")},50));a=c.attr("class").split(/\s+/).filter(function(a){return/preset_[a-z0-9]+/gi.test(a)});if(1===a.length){a=a[0];if("preset_Normal"==a)oJ(this.model);else{var d=this.eY[a];window.setTimeout(function(){nJ(b.model,d)},150)}window.clearTimeout(this.RR)}};
f.lX=function(a){function b(){$.data(d,"FxPanelView:snapRange",0);$.data(d,"FxPanelView:snapReset",0)}var c=this,d=a.target;a=d.valueAsNumber;var e=/(?:^|\s)range_(\S+)/.exec(d.parentNode.parentNode.className),g=$.data(d,"FxPanelView:snapRange")||0,h=$.data(d,"FxPanelView:snapReset")||0;0<a*g&&14>=a*g?(a=0,d.value=a,0==h&&(h=window.setTimeout(b,750),$.data(d,"FxPanelView:snapReset",h))):0!=a&&$.data(d,"FxPanelView:snapRange",0>a?1:-1);e&&(this.model.SH(e[1],a),window.clearTimeout(this.RR),this.RR=
window.setTimeout(function(){c.model.update(!0)},400))};f.C1=function(){function a(){d.off("blur");d.off("keypress");var a=d.val().replace(/[^a-z0-9]/gi,"");d.val(a).blur();var b=c.model,a=ZI(a);isNaN(a.blur*a.brightness*a.contrast*a.saturation*a.rf*a.vignette*a.Yf)||(b.filter=a,b.Fj=!0,b.update(!0));c.YM=!1}function b(b){13==b.which&&a()}if(!this.YM){this.YM=!0;var c=this,d=this.$el.find("input.hex");d.val(this.model.qa()).select().focus();d.on("blur",a);d.on("keypress",b)}};
f.l9=function(){0!==this.bo&&(this.bo-=3,u5(this))};f.m9=function(){var a=parseInt($(".preset").length,10);this.bo<a-5&&(this.bo+=3,u5(this))};function u5(a){var b=-72*a.bo;a.$el.find(".preset").css("-webkit-transform","translateX("+b+"px)").css("transform","translateX("+b+"px)");q5(a)}
f.s$=function(){var a=this;this.$el.hasClass("showAdvanced")?(this.$el.find(".toggleAdvanced .text").text(he(this.zf)),this.$el.find(".filterCode").removeClass("big").addClass("compact"),this.$el.removeClass("in").removeClass("showAdvanced")):(this.$el.find(".toggleAdvanced .text").text(this.zf.format("editorToolbarFilterOptionSimpler")),this.$el.addClass("showAdvanced"),P.delay(300).then(function(){a.$el.addClass("in")}),this.$el.find(".filterCode").removeClass("compact").addClass("big"))};
f.KB=function(){var a=K.Da().Wa()[0],b=this.model.MQ,c=!a,d=_.isEqual(b,this.GH);c||d||(a={placeholderIndex:a.Hc(),elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{filter:b},old:{filter:this.GH}},M.register(new Y(11,a)),this.GH=b)};f.template=_.template('\x3cul class\x3d"presets"\x3e\x3cli class\x3d"scrollLeft"\x3e\x26#xe000;\x3c/li\x3e\x3cli class\x3d"presets_container"\x3e\x3cul class\x3d"presetsButtons"\x3e\x3c/ul\x3e\x3c/li\x3e\x3cli class\x3d"scrollRight"\x3e\x26#xe000;\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"rangesContainer"\x3e\x3cul class\x3d"ranges"\x3e\x3c/ul\x3e\x3cdiv\x3e\x3cdiv class\x3d"toggleAdvanced"\x3e\x3cspan class\x3d"text"\x3e\x3c%- advancedOptionsMsg %\x3e\x3c/span\x3e \x3cspan class\x3d"arrow"\x3e\x26#xe000;\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"filterCode compact"\x3e\x3cspan class\x3d"text"\x3e\x3c%- filterCodeMsg %\x3e #\x3c/span\x3e\x3cinput name\x3d"hex" class\x3d"hex" maxlength\x3d"16"/\x3e\x3c/div\x3e');function v5(a){return("YEARLY"===a.Bj?1:12)*a.da}function hda(){this.md=window.pricingPlans}function J0(a){return aj(a.md.paidMonthly)}var U0=0;function S0(a){var b=Map,c=U0,d;d=[J0(a),aj(a.md.paidYearly)];c=[c,d];a=[aj(a.md.paidMonthlyImagesPro),aj(a.md.paidYearlyImagesPro)];return new b([c,[1,a]])};function ida(a){this.plan=a.Zn;this.title=a.title;this.pricePerMonthText=a.s8;this.summaryText=a.f$;this.billingCycleText=a.$0}
function w5(a,b){function c(a,c){if("MONTHLY"===c)return b.format("canvaForWorkUpgradePlanSummaryMonthlyPerUser",a);if("YEARLY"===c)return b.format("canvaForWorkUpgradePlanSummaryYearlyPerUser",a);throw Error("unrecognised BillingInterval");}var d=a.slice(0).sort(function(a,b){return v5(b)-v5(a)})[0];return a.map(function(a){var g;if("MONTHLY"===a.Bj)g=b.format("canvaForWorkUpgradePlanMonthly");else if("YEARLY"===a.Bj)g=b.format("canvaForWorkUpgradePlanYearly");else throw Error("unrecognised plan billing interval");
var h=c(Math.round(a.da/("YEARLY"===a.Bj?12:1)*100)/100,"MONTHLY"),k;k="YEARLY"===a.Bj?b.format("canvaForWorkUpgradePlanPercentSaving",((v5(d)-v5(a))/v5(d)*100).toFixed(0)/100):c(v5(a),"YEARLY");return new ida({Zn:a,title:g,s8:h,f$:k,$0:"YEARLY"===a.Bj?b.format("canvaForWorkUpgradePlanBilledYearly",a.da):""})})};function x5(){}x5=Backbone.View.extend({className:"priceOptions",tagName:"ul"});f=x5.prototype;f.initialize=function(a){this.Cb=a.Cb};f.events=function(){return{click:this.D1}};f.render=function(){this.$el.html(this.Cb.map(this.t8).join(""));return this};f.D1=function(a){a=$(a.target).closest("li");y5(this,a.index())};
function y5(a,b){a.$(".priceOption--selected").removeClass("priceOption--selected");0<=b&&b<a.Cb.length&&(a.$("li").eq(b).addClass("priceOption--selected"),a.$("li").eq(b).find("input").prop("checked",!0),a.trigger("selectPlan",a.Cb[b].plan))}f.PH=function(){function a(a){switch(a.Bj){case "MONTHLY":return a.da;case "YEARLY":return v5(a);default:throw Error("unknown billing interval");}}var b=[].concat(this.Cb).sort(function(b,d){return a(b.plan)-a(d.plan)}),b=this.Cb.indexOf(b[0]);y5(this,b)};
f.uQ=function(a){this.Cb=a;this.render();this.PH()};f.t8=_.template('\x3cli class\x3d"priceOption"\x3e\x3cinput name\x3d"priceOptionPlan" type\x3d"radio"\x3e\x3cspan class\x3d"priceOptionTitle"\x3e\x3c%- title %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionPricePerMonth"\x3e\x3c%- pricePerMonthText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionSummary"\x3e\x3c%- summaryText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionBillingCycle"\x3e\x3c%- billingCycleText %\x3e\x3c/span\x3e\x3c/li\x3e');function z5(a){this.r3=a.q3;this.j4=a.i4;this.br=a.DZ.map(function(a){return new A5(a)});this.br.forEach(function(a){this.listenTo(a,{willAdvance:this.BV,advance:this.e7,finish:this.g7,reset:this.h7,die:this.f7})},this);this.WO=a.WO.map(function(a){return _.defaults({},a,{position:"leftTop",li:0})});this.rY=!1;this.hI=new B5({aO:a.DZ.length,xe:a.xe})}f=z5.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenToOnce;
f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
function Bp(a){var b=[],c=[],d=a.xe;b.push([{le:"#documentFileMenuButton",Vg:10},{le:".dropdownMenuPopoverContainer .documentResizePaneButton",eU:!0,li:500,rm:305,Vg:18}]);c.push({le:".documentResizeButton",vD:-170,li:500,text:d.format("starOnboardingStepResizingText"),title:d.format("starOnboardingStepResizingTitle"),We:jf(d)});b.push([{le:"#objectPanel menu .uploads a",wr:"#objectPanel.stage6",rm:15,Vg:15},{le:"#resultsUpload .newUploadsFolder",us:"#objectPanel:not(.stage6)",bP:function(){$("#objectPanel").find(".uploadsFolder[data-system-folder\x3dUNFOLDERED].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},
li:500}]);c.push({le:"#resultsUpload .newUploadsFolderThumbnail",li:500,text:d.format("starOnboardingStepPhotoFoldersText"),title:d.format("starOnboardingStepPhotoFoldersTitle"),We:jf(d)});a.ez&&(b.push([{le:"#objectPanel menu .layout a",wr:"#objectPanel.stage2",rm:15,Vg:15},{le:"#resultsLayout .layoutsControls .tabDropdown",Vg:10,us:"#objectPanel:not(.stage2)",li:500},{le:".layoutsTabMenu__item--teamTemplates",us:"#objectPanel:not(.stage2)",rm:22,Vg:16,li:100}]),c.push({le:".layoutsTabMenu__item--teamTemplates",
Sba:100,text:d.format("starOnboardingStepTeamTemplatesText"),title:d.format("starOnboardingStepTeamTemplatesTitle"),We:jf(d)}));b.push([{le:"#objectPanel menu .backgrounds a",wr:"#objectPanel.stage5",rm:15,Vg:15},{le:"#resultsBackground .pinnedPalette .colorPaletteEntry:eq(0)",WL:!0,us:"#objectPanel:not(.stage5)",AN:!0,li:500}]);c.push({le:"#resultsBackground .pinnedPalette .colorPaletteEntry",text:d.format("starOnboardingStepBrandKitText"),title:d.format("starOnboardingStepBrandKitTitle"),We:jf(d)});
b.push([{le:"#objectPanel menu .uploads a",wr:"#objectPanel.stage6",rm:15,Vg:15},{le:"#resultsUpload .uploadsFolder[data-system-folder\x3dLOGOS] .uploadsFolderThumbnail",us:"#objectPanel:not(.stage6)",bP:function(){$("#objectPanel").find(".uploadsFolder[data-system-folder\x3dUNFOLDERED].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},li:500}]);c.push({le:"#resultsUpload .uploadsFolder[data-system-folder\x3dLOGOS] .uploadsFolderThumbnail",li:500,text:d.format("starOnboardingStepLogoText"),
title:d.format("starOnboardingStepLogoTitle"),We:jf(d)});a.E8&&(b.push([{le:".publishToStreamSwitch",rm:5,Vg:5,WL:!0},{le:".switchPublishTemplate",li:500}]),c.push({le:".docPublisherPopOver .switchPublishTemplate",position:"rightTop",text:d.format("starOnboardingStepTemplatifyText"),title:d.format("starOnboardingStepTemplatifyTitle"),We:jf(d)}));var e="C4W_UPGRADED_USER"===a.uh;a=e?[d.format("starOnboardingActionSetupTeam"),hf(d)]:[d.format("starOnboardingActionGotoTeamSpace"),hf(d)];b=new z5({q3:{iT:[d.format("starOnboardingActionFindTheStars")],
qg:d.format("starOnboardingFirstScreenSubtitle"),title:d.format("starOnboardingFirstScreenTitle"),YP:"",xe:d},i4:{iT:a,qg:d.format("starOnboardingLastScreenSubtitle"),title:d.format("starOnboardingLastScreenTitle"),YP:e?"starFinderSplashScreenNewUser":void 0,xe:d},DZ:b,WO:c,xe:d});b.once("finish",function(a){"solo"===a?(null!=U&&U.track("upgrade_onboarding_finish_solo"),window.location="/brand/create/featuredoc"):"team"===a?(null!=U&&U.track("upgrade_onboarding_finish_team"),window.location="/brand/members"):
"stream"===a?(null!=U&&U.track("upgrade_onboarding_finish_invited"),window.location="/team-stream"):"play"===a&&null!=U&&U.track("upgrade_onboarding_finish_invited")});return b}f.start=function(){var a=this;jda(this).then(function(){a.hI.render().$el.appendTo(document.body);kda(a)})};f.remove=function(){this.stopListening();this.hI.remove();this.br.forEach(function(a){a.remove()})};f.BV=function(a){this.br.forEach(function(b){b!==a&&b.toggle(!1)})};
f.e7=function(a){this.BV(a);this.rY||(this.rY=!0,C5(a.eh))};f.g7=function(a){function b(){a.toggle(!1);D5(d.hI)}function c(){E5(d)}var d=this,e=this.br.indexOf(a),g=this.WO[e];P.delay(g.li).then(function(){var a=new F5(g);a.yi($(g.le));d.listenToOnce(a,"hide",b);d.listenToOnce(a,"remove",c)});G5(this)};function E5(a){a.br.every(function(a){return H5(a)})?lda(a).then(a.remove.bind(a)):I5(a)}f.h7=function(){I5(this)};f.f7=function(){D5(this.hI);E5(this)};
function I5(a){a.br.forEach(function(a){H5(a)||a.toggle(!0)})}function G5(a){a.br.filter(function(a){return!H5(a)}).forEach(function(a,c){a.iC(2*c+1)})}function kda(a){G5(a);a.br.forEach(function(a){a.start()})}function jda(a){var b=new J5(a.r3);b.render().show();a.listenToOnce(b,"next",function(){b.remove()});return new P(function(c){a.listenToOnce(b,"remove",function(){null!=U&&U.track("upgrade_onboarding_start_stars");c()})})}
function lda(a){var b,c=new J5(a.j4);c.render().show();a.listenToOnce(c,"next",function(a){b=a;c.remove()});return new P(function(d){a.listenToOnce(c,"remove",function(){a.trigger("finish",b);d()})})};function F5(){}F5=qz.extend({className:"starFinderPopOver"});F5.prototype.initialize=function(a){a=_.defaults({},a,{vD:0,rm:0,We:a.We});qz.prototype.initialize.call(this,a);this.options=a};F5.prototype.Jp=function(){return rX};F5.prototype.render=function(){qz.prototype.render.call(this);this.$(".buttonContainer .buttonBlock").removeClass("buttonBlock");this.$(".content").prepend($("\x3cp\x3e").text(this.options.text));return this};
F5.prototype.gm=function(){qz.prototype.gm.call(this);var a=this.$(".dialog");a.css("left",parseInt(a.css("left"),10)+this.options.vD).css("top",parseInt(a.css("top"),10)+this.options.Vg);return this};function B5(){}B5=Backbone.View.extend({className:"starFinderProgress"});B5.prototype.initialize=function(a){this.aO=a.aO;this.xe=a.xe};B5.prototype.render=function(){this.$el.html(this.template({progressTitle:this.xe.y8()}));for(var a=0;a<this.aO;a++)this.$(".starFinderProgressList").append(this.e4());return this};function D5(a){a.$("li:not(.starFinderProgressItemOn)").first().addClass("starFinderProgressItemOn")}B5.prototype.e4=_.template('\x3cli class\x3d"starFinderProgressItem"\x3e\x26starf;\x3c/li\x3e');
B5.prototype.template=_.template('\x3ch2 class\x3d"starFinderProgressTitle"\x3e\x3c%- progressTitle %\x3e\x3c/h2\x3e\x3col class\x3d"starFinderProgressList"\x3e\x3c/ol\x3e');function J5(){}J5=Backbone.View.extend({className:"starFinderSplashScreen"});f=J5.prototype;f.events=function(){return{"click .buttonNext":this.A5}};f.initialize=function(a){this.H=hl;this.options=a;this.Od=new ez({H:this.H,style:fz});this.qg=a.qg;this.title=a.title;this.xe=a.xe};
f.render=function(){var a=$(this.T0());this.$el.html(this.template(this.si()));this.$(".starFinderAstronautPlaceholder").replaceWith(a);this.options.iT.forEach(function(a,c){a=$(this.b1({text:a}));a.toggleClass("buttonSecondary",0<c);this.$(".starFinderButtonWrapper").append(a)},this);this.options.YP&&this.$el.addClass(this.options.YP);return this};
f.show=function(){var a=this,b=qD(bD,this.$(".starFinderStarImage img").prop("src")),c=qD(bD,this.$(".starFinderAstronaut img").prop("src"));this.Od.show(this.$el);P.all([b,c]).then(function(){a.$(".starFinderStarAndAstronaut").addClass("loaded")})};f.remove=function(){var a=this;this.$el.addClass("starFinderSplashScreenDisappearing");this.Od.hide();this.H.setTimeout(function(){a.trigger("remove");Backbone.View.prototype.remove.call(a)},300)};
f.si=function(){return{subtitle:this.options.qg,title:this.options.title,specialInstructionsTitle:this.xe.W9(),specialInstructionsHtml:this.xe.U9(),specialInstructionsQuestionText:this.xe.V9(),responseSolo:this.xe.format("starOnboardingSpecialInstructionsResponseSolo"),responseTeam:this.xe.format("starOnboardingSpecialInstructionsResponseTeam"),brandMembersPath:"/brand/members"}};
f.A5=function(a){var b=$(a.target),c;b.hasClass("starFinderSplashScreenButton")&&b.hasClass("buttonSecondary")?c="play":b.hasClass("starFinderSplashScreenButton")?c="stream":b.hasClass("starOnboardingUserSoloButton")?c="solo":b.hasClass("starOnboardingUserTeamButton")&&(c="team");this.trigger("next",c);a.preventDefault()};f.T0=_.template('\x3cdiv class\x3d"starFinderStarAndAstronaut"\x3e\x3cdiv class\x3d"starFinderStarOuter"\x3e\x3cdiv class\x3d"starFinderStarInner"\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderStarImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/star.png"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderAstronaut"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/astronaut.png"\x3e\x3c/div\x3e\x3c/div\x3e');
f.b1=_.template('\x3cbutton class\x3d"button buttonNext starFinderSplashScreenButton"\x3e\x3c%- text %\x3e\x3c/button\x3e');f.template=_.template('\x3cdiv class\x3d"starFinderBackground"\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderContent"\x3e\x3cdiv class\x3d"starFinderAstronautPlaceholder"\x3e\x3c/div\x3e\x3ch2 class\x3d"starFinderTitle"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cp class\x3d"starFinderSubtitle"\x3e\x3c%- subtitle %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderButtonWrapper"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderSpecialInstructions"\x3e\x3ch2\x3e\x3c%- specialInstructionsTitle %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%\x3d specialInstructionsHtml %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderSpecialInstructionsUserSelect"\x3e\x3ch3\x3e\x3c%- specialInstructionsQuestionText %\x3e\x3c/h3\x3e\x3cul\x3e\x3cli class\x3d"starOnboardingUserSolo"\x3e\x3ca href\x3d"/brand/create/featuredoc" class\x3d"button buttonNext starOnboardingUserSoloButton"\x3e\x3c%- responseSolo %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"starOnboardingUserTeam"\x3e\x3ca href\x3d"\x3c%- brandMembersPath %\x3e" class\x3d"button buttonNext starOnboardingUserTeamButton"\x3e\x3c%- responseTeam %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e');function A5(a){this.active=!1;this.Dm=0;this.eh=new K5(a[0]);L5(this);this.sP=0;this.wC=a;this.$k=new tP({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});a=_.throttle(this.O5.bind(this),100,{trailing:!1});this.$k.on("attrModified",a);this.$k.on("subtreeModified",a)}f=A5.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;f.start=function(){this.eh.show();this.active=!0};f.remove=function(){this.stopListening();vP(this.$k);this.eh.remove();this.active=!1};function H5(a){return a.Dm===a.wC.length}f.iC=function(a){this.sP=a;0===this.Dm&&this.eh.iC(a)};function L5(a){a.listenTo(a.eh,"advance",a.d7);a.listenTo(a.eh,"die",a.i7)}f.toggle=function(a){H5(this)||(this.active=a,this.eh.toggle(a))};
f.d7=function(){function a(){c.$k.observe(document.body)}function b(){c.active?c.trigger("advance",c):c.reset(!0)}if(this.active){var c=this;vP(this.$k);this.Dm++;this.eh.remove();H5(this)?this.trigger("finish",this):(this.trigger("willAdvance",this),M5(this).then(b).then(a).catch(function(){}))}};f.i7=function(){this.active&&(vP(this.$k),this.eh.remove(),this.toggle(!1),this.Dm=this.wC.length,this.trigger("die",this))};
f.O5=function(){var a;if(a=this.active&&0<this.Dm){var b=N5(this.eh);if(H5(this)||!b.is(":visible"))a=!1;else if(a=this.wC[this.Dm].us)a=0<$(a).length?!1:!0;else{a=b.get(0);var b=b.offset(),b=document.elementFromPoint(b.left,b.top),c=this.eh.el;a=a===b||c===b||b&&$.contains(a,b)||b&&$.contains(c,b)}a=!a}a&&this.reset()};f.reset=function(a){vP(this.$k);this.Dm=0;this.eh.remove();M5(this);a||this.trigger("reset",this)};
function M5(a){var b=_.extend({},a.wC[a.Dm],{filled:a.Dm===a.wC.length-1});a.eh=new K5(b);L5(a);a.sP&&a.iC(a.sP);return a.eh.show()};function K5(){}K5=Backbone.View.extend({className:"starFinderStarContainer starFinderStarHidden starFinderStarInactive"});K5.prototype.events=function(){return{"click .starFinderStar":this.Jf}};K5.prototype.initialize=function(a){a=_.defaults({},a,{vD:0,rm:0,Vg:0,eU:!1,filled:!1,WL:!1,AN:!1,position:3,li:0});this.fN=!1;this.options=a;this.xH=0;this.Ns=this.Ns.bind(this);this.ZA=this.ZA.bind(this);this.nw=_.throttle(this.nw.bind(this),100);$(document).on("click",this.nw);$(window).on("resize",this.nw)};
K5.pS=1600;K5.jJ=500;f=K5.prototype;f.render=function(){this.$el.toggleClass("starFinderStarInert",this.options.eU);this.$el.toggleClass("starFinderStarFilled",this.options.filled);this.$el.html(this.template({filled:this.options.filled}));return this};
f.OY=function(){function a(){var a=d.outerWidth();if(-1<[2,0].indexOf(c.options.position))return Math.round(e.left-a+c.options.vD);if(-1<[3,1].indexOf(c.options.position))return Math.round(e.left+d.outerWidth()-c.options.rm)}function b(){var a=d.outerHeight();if(-1<[2,3].indexOf(c.options.position))return Math.round(e.top+c.options.Vg);if(-1<[0,1].indexOf(c.options.position))return Math.round(e.top+a/2+c.options.Vg)}var c=this,d=N5(this),e=d.offset();0<d.length&&this.$(".starFinderStar").css("left",
a()).css("top",b())};f.remove=function(){$(document).off("click",this.nw);$(window).off("resize",this.nw);N5(this).off("click",this.Ns).off("mousedown",this.ZA);window.clearInterval(this.xH);Backbone.View.prototype.remove.call(this)};
f.show=function(){this.render().$el.appendTo(document.body);if(this.options.us&&0<$(this.options.us).length)return P.resolve();this.$el.toggleClass("starFinderStarInactive",!1);return P.delay(this.options.li).then(function(){this.options.bP&&this.options.bP();if(0===N5(this).length)return this.trigger("die",this),P.reject();O5(this,!0);this.OY();if(this.options.AN)N5(this).off("mousedown",this.ZA).on("mousedown",this.ZA);else N5(this).off("click",this.Ns).on("click",this.Ns);this.options.wr&&0<$(this.options.wr).length&&
this.trigger("advance",this)}.bind(this))};f.iC=function(a,b){function c(){C5(e)}function d(){C5(e);e.iC(a,e.fN)}var e=this,g=0!==this.xH,h=1E3*a;this.fN=!!b;window.clearInterval(this.xH);this.xH=g?window.setInterval(c,h+(K5.pS+(b?2*K5.jJ:0))):window.setTimeout(d,h)};
function C5(a){function b(){d.$el.addClass("starFinderPulsate");return P.delay(K5.pS).then(function(){d.$el.removeClass("starFinderPulsate")})}function c(){O5(d,!1);return P.delay(K5.jJ)}var d=a;a.fN?(O5(d,!0),P.delay(K5.jJ).then(b).then(c)):b()}f.toggle=function(a){this.$el.toggleClass("starFinderStarInactive",!a);O5(this,a);this.options.wr&&0<$(this.options.wr).length&&this.trigger("advance",this)};function N5(a){return $(a.options.le)}
function O5(a,b){a.$el.toggleClass("starFinderStarHidden",!b)}f.Ns=function(){this.trigger("advance",this)};f.ZA=function(){var a=this;N5(this).one("mouseup",function(){a.Ns()})};f.Jf=function(){function a(a){var d=N5(b).offset();a=new jQuery.Event(a);a.clientX=d.left;a.clientY=d.top;return a}var b=this;this.options.WL?(N5(b).trigger(a("mousedown")).trigger(a("mouseup")),b.options.AN||b.Ns()):N5(this).click()};f.nw=function(){P.delay(300).bind(this).then(this.OY)};f.template=_.template('\x3cdiv class\x3d"starFinderStar"\x3e\x3c%\x3d filled ? "\x26starf;" : "\x26star;" %\x3e\x3c/div\x3e');function mda(){}function DM(a){return Object.freeze(Df(mda,a))}function KN(a){if(a.magic)return Object.freeze(Df(P5,a.magic))}function P5(){}P5.prototype.Jb=function(){return this.color};P5.prototype.re=function(){return this.thumbnail};function vW(a,b,c){function d(){return b.map(function(b){return vW(a,b,c)})}function e(){return Object.keys(b).reduce(function(a,d){a[d]=vW(d,b[d],c);return a},{})}return Array.isArray(b)?d():"object"===typeof b&&null!==b?e():a&&-1<a.toLowerCase().indexOf("color")&&"string"===typeof b?c[b]||b:b};function HV(a,b){(b=b.serialize())&&Q5(a,b)}function Q5(a,b){_.each(a,function(a){"object"===typeof a&&null!==a&&Q5(a,b)});"mediaId"in a&&"mediaVersion"in a&&(a.origin=b)};function R5(){}R5=kp.extend({className:"createTeamDialog"});R5.prototype.events=function(){return _.extend(kp.prototype.events.call(this),{"click .createTeamDialogCreate":this.trigger.bind(this,"createTeam")})};R5.prototype.initialize=function(a){this.md=a.md;this.YR=aj(this.md.md.paidYearly);this.Bk=a.Bk;kp.prototype.initialize.call(this,{H:hl,hf:!0,Cr:!0,Qe:!0})};
R5.prototype.render=function(){kp.prototype.render.call(this);var a=moment().add(this.YR.Uf,"days").format("LL"),b=(v5(this.YR)/12).toFixed(2),c=this.YR.Uf;this.$(".dialog").html(this.dK({createTeamWelcomeDescription:this.Bk.g2(b),createTeamWelcomeTitleHtml:this.Bk.h2(c),createTrialPeriodPoint1Html:ef(this.Bk),createTrialPeriodPoint2Html:ff(this.Bk,a),createTrialPeriodPoint3Html:gf(this.Bk),createYourTeam:this.Bk.i2()}));return this};R5.prototype.dK=_.template('\x3cdiv class\x3d"createTeamContent"\x3e\x3ch2\x3e\x3c%\x3d createTeamWelcomeTitleHtml %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%- createTeamWelcomeDescription %\x3e\x3c/p\x3e\x3cul\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint1Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- createTrialPeriodPoint2Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint3Html %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"createTeamActions"\x3e\x3cbutton class\x3d"button createTeamDialogCreate"\x3e\x3c%- createYourTeam %\x3e\x3c/button\x3e\x3c/div\x3e');function S5(a){w(0<a.size,"invalid avatar size {}",a.size);Backbone.View.call(this,{className:"avatar"});this.xg=a.xg||null;this.Bs=a.Bs||null;this.Qb=a.Qb||null;this.size=a.size;this.Tp=!!a.Tp;this.Dq=!!a.Dq;this.Jo=!!a.Jo;this.lp=!!a.lp}r(S5,Backbone.View);
S5.prototype.render=function(){var a=this.xg&&this.Bs,b=!!this.Bs;this.$el.css({width:this.size+"px",height:this.size+"px",lineHeight:this.size/2+"px"});this.xg&&this.$el.css("backgroundImage","url("+this.xg+")");a?(this.$el.addClass("avatar--composite"),this.$el.css("fontSize",this.size/4+"px")):b&&(this.$el.addClass("avatar--brand"),this.$el.css("fontSize",this.size/2+"px"));this.Bs&&this.$el.attr("data-letter",this.Bs);this.Qb&&(this.$el.css("backgroundColor",this.Qb.qa()),208<this.Qb.gv()&&this.$el.addClass("avatar--light"));
this.$el.toggleClass("avatar--whiteBorder",this.Jo);this.$el.toggleClass("avatar--darkBorder",this.lp);this.$el.toggleClass("avatar--glow",this.Tp);this.$el.toggleClass("avatar--pointer",this.Dq);return this};function T5(a){return(a.Lb()||"Brand").toUpperCase().trim().replace(/^THE\s+/,"").charAt(0)}function U5(a){a=a.Cp();return xn(a?"#"+a:"#b0b0b0")}
function V5(a,b){a=a.fv().sizes;Fa(0<a.size,"avatar bundle is empty");var c=b*(window.devicePixelRatio||1);return _.chain([].concat(ma(a.values()))).sortBy(function(a){return Math.abs(a.Pp()-c)}).sortBy(function(a){return a.Pp()<c}).first().value().na()}function y4(a){var b=V5(a.user,a.size);a=new S5({xg:b,size:a.size,Tp:a.Tp,Dq:a.Dq,Jo:a.Jo,lp:a.lp});a.render();return a}function w4(a){var b=T5(a.D),c=U5(a.D);a=new S5({Bs:b,Qb:c,size:a.size,Tp:a.Tp,Dq:a.Dq,Jo:a.Jo,lp:a.lp});a.render();return a};function W5(a){this.XF=a.XF;this.Z=a.Z;this.tL=a.tL}W5.prototype.create=function(a){return qj(this.XF,"/teams",{displayName:a}).spread(function(a){return Pw(a.brand)})};function X5(a){Backbone.View.call(this,{className:"active brand"});this.Rd=a.Rd;var b;b={D:a.D,user:a.user,size:60,Jo:!0};if(b.D.ei())b=y4(b);else{var c=V5(b.user,b.size),d=T5(b.D),e=U5(b.D);b=new S5({xg:c,Bs:d,Qb:e,size:b.size,Tp:b.Tp,Dq:b.Dq,Jo:b.Jo,lp:b.lp});b.render()}this.xJ=b;this.D=a.D;this.user=a.user;this.YG=!!a.YG;this.hz=a.hz}r(X5,Backbone.View);
X5.prototype.render=function(){var a=this.el,b;b=this.D.Lb()||this.Rd.zB();var c=this.user.Lb(),d=this.hz?void 0:"/"+this.user.oh(),e=this.Rd.ica(),g=this.Rd.Fca(),h=this.YG;soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"profilePageUrl",d,"null|string|undefined");soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"displayName",c,"null|string|undefined");soy.asserts.assertType(null==b||b instanceof goog.soy.data.SanitizedContent||
goog.isString(b),"brandName",b,"null|string|undefined");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"settings",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"viewProfile",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(h)||1===h||0===h,"openInNewTab",h,"boolean");h=!!h;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"activeUser"\x3e\x3cdiv class\x3d"userDisplayName"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"teamDisplayName"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"userMenuBrandActions"\x3e\x3ca href\x3d"/account"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(e)+"\x3c/a\x3e"+(d?'\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(g)+"\x3c/a\x3e":"")+"\x3c/div\x3e");a.innerHTML=b;this.$el.children().first().append(this.xJ.$el);return this};function Y5(){}Y5=Backbone.View.extend({tagName:"li",className:"brand"});Y5.prototype.initialize=function(a){this.xJ=a.yr.D.ei()?y4({user:a.user,size:36}):w4({D:a.yr.D,size:36});this.yr=a.yr;this.Rd=a.Rd};Y5.prototype.render=function(){this.$el.html(this.template({personal:this.yr.D.ei(),personalLabel:this.Rd.Oba(),displayName:this.yr.D.Lb(),url:this.yr.url}));this.$(".left").append(this.xJ.$el);return this};Y5.prototype.template=_.template('\x3ca href\x3d"\x3c%- url %\x3e"\x3e\x3cdiv class\x3d"left"\x3e\x3c/div\x3e\x3cdiv class\x3d"right"\x3e\x3c% if (personal) { %\x3e\x3c%- personalLabel %\x3e\x3c% } else { %\x3e\x3c%- displayName %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/a\x3e');function Z5(){}Z5=Backbone.View.extend({className:"brandListWrapper"});Z5.prototype.initialize=function(a){this.tm=a.tm;this.user=a.user;this.Rd=a.Rd};Z5.prototype.render=function(){var a=$('\x3cul class\x3d"brandList"\x3e');this.$el.html(a);this.tm.forEach(function(b){(new Y5({yr:b,user:this.user,Rd:this.Rd})).render().$el.appendTo(a)}.bind(this));return this};function $5(){}$5=Backbone.View.extend({className:"actions",tagName:"ul"});$5.prototype.initialize=function(a){this.Rd=a.Rd;this.rC=!!a.rC};$5.prototype.render=function(){this.$el.toggleClass("singleAction",!this.rC);this.$el.html(this.template({showUpgradeButton:this.rC,upgrade:this.Rd.UC(),signOut:this.Rd.signOut()}));return this};$5.prototype.events=function(){return{"click #upgrade":this.trigger.bind(this,"upgrade")}};$5.prototype.template=_.template('\x3c% if (showUpgradeButton) { %\x3e\x3ca class\x3d"button buttonSmall" id\x3d"upgrade"\x3e\x3c%- upgrade %\x3e\x3c/a\x3e\x3c% } %\x3e\x3ca class\x3d"button buttonLink" href\x3d"/logout"\x3e\x3c%- signOut %\x3e\x3c/a\x3e');function a6(){}a6=qz.extend({className:"userMenuContainer"});
a6.prototype.initialize=function(a){this.Sh=a.Sh;this.user=a.user;this.Rd=a.Rd;this.CS=a.CS;this.pZ=a.pZ;this.K0=new X5({Rd:a.Rd,D:this.CS.D,user:a.user,YG:a.YG,hz:a.hz});this.bT=null;var b=$("\x3cdiv\x3e\x3c/div\x3e");b.append(this.K0.render().$el);var c=new $5({Rd:a.Rd,rC:a.rC});this.listenTo(c,{remove:this.remove,upgrade:this.trigger.bind(this,"upgrade")});this.pZ&&(this.bT=$('\x3cspan class\x3d"brandListLoadingSpinner"\x3e'),b.append(this.bT));b.append(c.render().$el);qz.prototype.initialize.call(this,
{content:b,position:["leftTop",xp],Mf:a.Mf})};a6.prototype.show=function(){this.Sh.now();return qz.prototype.show.call(this)};function b6(a,b){this.S7=(this.XS="PUBLIC"!==a)?a:"*";this.m$=b}b6.prototype.init=function(a){window.addEventListener("message",function(b){b=b.data;b.isCanvaApi&&(a[b.type]||$.noop)(b)},!1);this.sendMessage({type:"Init",authenticated:this.XS})};b6.prototype.sendMessage=function(a){a.isCanvaApi=!0;this.m$.postMessage(a,this.S7)};function nda(a,b,c,d,e,g,h){function k(a){a.preventDefault();hh();fa?(N.sendMessage({type:"PublishRequested",designId:wb.hc(),untouched:q()}),u()):p()}var l=window.CANVA_EMBED,m=Jb,n=Lb;function p(){var a=!1,b=new kp({H:hl,Cr:!1,content:$('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue autoIncrement"\x3e\x3cspan class\x3d"text"\x3e5%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e'),hf:!1,Qe:!1,title:"Saving your design..."});!fa&&wb.gj()&&(b.show(),
a=!0);gA(2E4).then(function(){a&&b.remove();N.sendMessage({type:"Close",designId:wb.hc(),untouched:q()})},function(){var c=new kp({H:hl,title:"Saving failed",content:$('\x3cp\x3eSorry, but we had some trouble saving your design. You may still be in the middle of uploading some images, someone else might be editing your design at the moment, or our servers might be having issues. Please try again.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOk\x3c/button\x3e\x3c/p\x3e')});
a&&b.remove();c.show()})}function q(){return 1===wb.fe()&&K.isEmpty()}function u(){$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")}function v(){$(document.body).removeClass("modalContentVisible modalContentBlurAndDarkenVisible")}function z(a){var c=a.layout;return c?b.kb(new Hv({id:c,Vp:!1})).then(function(a){return a.uc},function(){return t(a)}):t(a)}function t(a){a=a.pages&&a.pages[0];return lv(a?a.width:0,a?a.height:0,"PIXELS")}function x(a){return new P(function(b){var c=
(Array.isArray(a)&&a||[]).map(La).map(Xm),c=WL(Hb,c);zL(yb,c,!1,b)})}function H(){var k=new W5({XF:Ib,Z:Eb,tL:Jb.G.get(Sf)});return E0(a,{config:a,Rk:Mb,W:Jb,j:U,document:K,getSession:function(){return wb},La:J,mc:ac,ud:Cb,aa:Bb,Z:Eb,Sa:Ab,bj:b,Na:c,cc:Gb,dc:d,tb:e,df:yb,fb:Q,i:Lb,H:hl,md:g,n$:k,ta:L,Xb:Za,mu:ta,so:new A4,G:h,xc:null,sd:null})}function E(){var a={O:_.range(1,K.jc()+1),format:ha?"PDF":"PNG",Es:96};D_({i:n,W:Jb,j:U,Hb:wb,document:K,La:J,dc:d,ud:Cb,aa:Bb,Z:Eb,cc:Gb,fb:Q,tb:e,md:g,H:hl,
ta:L,Xb:Za,ne:a,$V:!0,Dd:N0({document:K,Hb:wb}),G:h,fu:{dW:!1},xc:null,sd:null,Na:c}).start().then(function(a){null!=a&&N.sendMessage({type:"Published",designId:wb.hc(),exportUrl:a,untouched:q()})}).finally(v)}var L=null;try{L=zo()}catch(pa){}var J=Yx(),Q=QT(),S=a.Oz(),N=new b6(l.embedDomain,window.parent),ha=!1,fa=!0,ta=window.availableLocales||{};N.init({setDoneButtonText:function(a){var b=$(".editorActionExport");0!==b.length&&b.text(a.text)},blur:u,close:p,focus:v,publish:function(){try{E()}catch(a){v()}},
loadDocumentFromJson:function(b){var c;try{c=JSON.parse(b.text)}catch(d){return}var g="object"===typeof c&&c||{},k=So(),l=new Hw(Ib);P.all([z(g),x(g.media)]).spread(function(c){var d=by(J).NC();(new sp({sp:k,Tc:Mb,Xb:Za,Z:l,W:m,G:h,i:n,j:U,Ne:T,ta:L,Tk:d,Bu:yz,tb:e,fb:Q,La:J,fa:S})).go(g,c,a,null,H,null);!0===b.killInterface&&(cA=!0,$("#objectPanel").css("display","none"),$("#editorControls").css("display","none"),$("#canvaDocument").css("left","0"))})},setExportEnabled:function(a){fa=!!a.enabled},
setMultipagePdf:function(a){a.enabled?ha=!0:(O_.z2(),PU.w2())},setStaticTitle:function(a){aP.D9(a.title)},upload:function(a){OM.call($("#objectPanel .uploads a"),n);PL(new LL({source:"third_party_editor",J:lc(n),WG:function(a){var d=K.Da().l(),e=K.Da().o(),g=b,h=c,k=g/h;e<h&&(h=e,g*=k);d<g&&(g=d,h*=k);a={type:"image",isBackground:!1,isRecolorable:!1,mediaId:a.u(),mediaVersion:a.Ka().getVersion(),isCutout:!1,width:g,height:h};yg(a).al(K.Da());N.sendMessage({type:"Upload",status:"done"})},progress:(new HL).Lo("third_party_editor")}),
a.dataUri);var b=a.width,c=a.height}});wb?N.sendMessage({type:"Editor",designId:wb.hc()}):N.sendMessage({type:"Editor"});$(".homeLink").click(function(a){a.preventDefault();p()});$("#editorLogo").click(function(a){window.open("https://www.canva.com/about");a.preventDefault();a.stopPropagation();return!1});aP.dU();aP.A2();$("#documentMenuUpgrade").remove();var Za=function(){return new cZ({Z:Eb,i:n,Ok:["contextTipRoyaltyFreePaymentOption"],fE:function(a){return bZ({key:a,i:od(n),af:$(document),Se:$("body")})},
root:$("body")})}();F0.EXPORT=function(){var a=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:k}});a.$el.text("Publish");return a}};function oda(a){soy.asserts.assertType(goog.isString(a.HI)||a.HI instanceof goog.soy.data.SanitizedContent,"videoId",a.HI,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3ciframe class\x3d"presentationLightbox__video" src\x3d"//www.youtube.com/embed/'+soy.$$escapeHtmlAttribute(a.HI)+'?rel\x3d0\x26autoplay\x3d1\x26modestbranding\x3d1\x26fs\x3d0\x26showinfo\x3d0" frameborder\x3d"0"\x3e\x3c/iframe\x3e')}
function pda(a){soy.asserts.assertType(goog.isString(a.$n)||a.$n instanceof goog.soy.data.SanitizedContent,"postUrl",a.$n,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3cdiv class\x3d"presentationLightbox__facebookPost presentationLightbox__social"\x3e\x3cdiv class\x3d"presentationLightbox__inner"\x3e\x3cdiv class\x3d"fb-post" data-href\x3d"'+soy.$$escapeHtmlAttribute(a.$n)+
'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function qda(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.$n)||a.$n instanceof goog.soy.data.SanitizedContent,"postUrl",a.$n,"string|goog.soy.data.SanitizedContent");var c=a.$n;soy.asserts.assertType(goog.isNumber(a.width),"width",a.width,"number");a=a.width;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3ciframe class\x3d"presentationLightbox__video" src\x3d"https://www.facebook.com/plugins/video.php?href\x3d'+soy.$$escapeUri(c)+
"\x26show_text\x3d0\x26width\x3d"+soy.$$escapeUri(a)+'" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+'border:none;overflow:hidden" scrolling\x3d"yes" frameborder\x3d"0" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e')};function c6(a,b){b=void 0===b?$("body"):b;Backbone.View.call(this,{className:"presentationLightbox"});this.Ue=b;this.H=a}r(c6,Backbone.View);f=c6.prototype;f.events=function(){return{"click .presentationLightbox__close":this.VJ}};
f.show=function(){var a=this;this.trigger("show");this.Ue.addClass("modalContentVisible modalContentBlurAndDarkenVisible");this.QF=this.QF.bind(this);this.Ue.on("keyup",this.QF);this.$el.appendTo(this.Ue);this.H.requestAnimationFrame(function(){$("\x3e .mask",a.Ue).addClass("on").on("click",function(){return a.VJ()});a.$el.addClass("playing")})};f.QF=function(a){27===a.which&&(a.stopPropagation(),a.preventDefault(),this.Ue.off("keyup",this.QF),this.VJ())};
f.VJ=function(){var a=this;this.trigger("close");var b=$("\x3e .mask",this.Ue);this.$el.addClass("disappearing");this.H.setTimeout(function(){a.$el.remove()},500);this.Ue.removeClass("modalContentVisible modalContentBlurAndDarkenVisible");b.addClass("off");this.H.setTimeout(function(){b.removeClass("on off white")},500);b.off("click")};f.hf=function(){this.$el.find(".presentationLightbox__close").addClass("presentationLightbox__close--fadeIn")};
f.render=function(a,b){var c=this,d,e=500;switch(a){case "video":this.el.innerHTML=oda({HI:b});this.H.setTimeout(function(){return c.hf()},e);break;case "facebookPost":this.el.innerHTML=pda({$n:b});d=Date.now();FB.XFBML.parse(this.el,function(){var a=c.$el.find(".presentationLightbox__social");e=Math.max(d+2E3-Date.now(),0);c.H.setTimeout(function(){a.addClass("presentationLightbox__social--loaded");c.hf()},e)});break;case "facebookVideo":a=parseInt(.7*$(window).outerWidth(),10);this.el.innerHTML=
qda({$n:b,width:a});this.H.setTimeout(function(){return c.hf()},e);break;case "tweet":this.el.innerHTML=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3cdiv class\x3d"presentationLightbox__tweet presentationLightbox__social"\x3e\x3cdiv class\x3d"presentationLightbox__inner"\x3e\x3c/div\x3e\x3c/div\x3e');var g=this.$el.find(".presentationLightbox__social");d=Date.now();twttr.ready(function(a){function b(){e=
Math.max(d+2E3-Date.now(),0);c.H.setTimeout(function(){g.addClass("presentationLightbox__social--loaded");c.hf()},e);a.events.unbind("rendered",b)}a.events.bind("rendered",b)});$.ajax({url:"https://publish.twitter.com/oembed?url\x3d"+b+"\x26maxwidth\x3d500",dataType:"jsonp",success:function(a){a.html&&g.find(".presentationLightbox__inner").html(a.html)}})}return this};var yC={Vt:/^#(video-)([a-z0-9-]+)$/,yaa:/^(?:https?:\/\/)?support\.canva\.com\/.+/,yS:/(?:https?:\/\/)?(?:www\.)?youtu(?:be\.com\/watch\?(?:.*?&)?v=|\.be\/)([\w\-]+)(?:&?[\w\?=]*)?/,gS:/^(?:https?:\/\/)?www\.facebook\.com\/.+/,h0:/^(?:https?:\/\/)?www\.facebook\.com\/.+\/videos\/.+/,vS:/^(?:https?:\/\/)?(?:www\.)?twitter\.com\/.+/,URL:/^(?:https?:\/\/|[\-0-9a-z]+\.)\S+$/i};function d6(a){this.KU=this.k_=!1;this.sL=!!a;this.wv=this.wv.bind(this)}f=d6.prototype;f.toggle=function(a,b){var c=this;b.filter(this.L3).forEach(function(b){a?(e6(c,b),b.C().on("mousedown",c.wv).on("touchstart",c.wv).on("mouseenter",c.vU).on("mouseleave",c.wU).attr("data-has-link","true")):e6(c,b)})};function e6(a,b){b.C().off("mousedown",a.wv).off("touchstart",a.wv).off("mouseenter",a.vU).off("mouseleave",a.wU).attr("data-has-link","")}f.L3=function(a){a=a.bn();return yC.Vt.test(a)||yC.URL.test(a)};
f.wv=function(a){a.stopPropagation();a.preventDefault();a=$(a.currentTarget).data("canvaElement").bn();if(yC.vS.test(a)&&!this.k_){if(!window.twttr){var b=document.createElement("script");b.innerHTML='window.twttr \x3d (function(d, s, id) {\n          var js, fjs \x3d d.getElementsByTagName(s)[0],\n            t \x3d window.twttr || {};\n          if (d.getElementById(id)) return t;\n          js \x3d d.createElement(s);\n          js.id \x3d id;\n          js.src \x3d "https://platform.twitter.com/widgets.js";\n          fjs.parentNode.insertBefore(js, fjs);\n         \n          t._e \x3d [];\n          t.ready \x3d function(f) {\n            t._e.push(f);\n          };\n         \n          return t;\n        }(document, "script", "twitter-wjs"));';
document.body.appendChild(b)}this.k_=!0}else yC.gS.test(a)&&!this.KU&&(window.FB||(0===$("#fb-root").length&&$("body").append($('\x3cdiv id\x3d"fb-root"\x3e\x3c/div\x3e')),b=document.createElement("script"),b.innerHTML="(function(d, s, id) {\n        var js, fjs \x3d d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) return;\n        js \x3d d.createElement(s); js.id \x3d id;\n        js.src \x3d \"//connect.facebook.net/en_US/sdk.js#xfbml\x3d1\x26amp;version\x3dv2.5\";\n        fjs.parentNode.insertBefore(js, fjs);\n      }(document, 'script', 'facebook-jssdk'));",
document.body.appendChild(b)),this.KU=!0);switch(!0){case yC.yS.test(a):case yC.Vt.test(a):rda(this,a);break;case yC.h0.test(a)&&this.sL:f6(this,"facebookVideo",a);break;case yC.gS.test(a)&&this.sL:f6(this,"facebookPost",a);break;case yC.vS.test(a)&&this.sL:f6(this,"tweet",a);break;default:this.trigger("open"),window.open(a,"_blank")}};
f.vU=function(){var a=$(this);if(!a.hasClass("linkHoverAnimation")){var b=a.data("initialTransform");b||(b=a.css("transform"),a.data("initialTransform",b));a.addClass("linkHoverAnimation").css("transform",b+"scale(1.1)")}};f.wU=function(){var a=$(this),b=a.data("initialTransform");b&&(a.css("transform",b),P.delay(300).then(function(){a.is(":hover")||(a.removeData("initialTransform"),a.removeClass("linkHoverAnimation"))}))};
function rda(a,b){var c={"video-tut2-tip1":"Yy9P90W987c","video-tut2-tip2":"ALLmXFaYzbo","video-tut2-tip3":"JziV33Lgq8c","video-tut2-tip4":"XTTtTbVdjU0"};if("#"===b.charAt(0)){b=b.substring(1);if(!c.hasOwnProperty(b))return;c=c[b]}else c=b.match(yC.yS)[1];b=new c6(hl);b.render("video",c);b.on("show",function(){return a.trigger("open")});b.on("close",function(){return a.trigger("close")});b.show()}
function f6(a,b,c){var d=new c6(hl);d.render(b,c);d.on("show",function(){return a.trigger("open")});d.on("close",function(){return a.trigger("close")});d.show()}f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;function g6(a){this.type=a}f=g6.prototype;f.BD=function(){throw Error("not implemented");};f.CD=function(){throw Error("not implemented");};f.ju=function(){throw Error("not implemented");};f.equals=function(){throw Error("not implemented");};f.matches=function(a){return null!=a&&this.ju().equals(a.ju())};function h6(a,b,c){w(0<=a&&255>=a&&0==a%1);w(0<=b&&255>=b&&0==b%1);w(0<=c&&255>=c&&0==c%1);this.type=1;this.r=a;this.il=b;this.b=c}r(h6,g6);f=h6.prototype;
f.BD=function(){var a=this.r,b=this.il,c=this.b,a=a/255,b=b/255,c=c/255,d=Math.max(a,b,c),e=Math.min(a,b,c),g=(d+e)/2;if(d==e)a=e=0;else{var h=d-e,e=.5<g?h/(2-d-e):h/(d+e);switch(d){case a:a=(b-c)/h+(b<c?6:0);break;case b:a=(c-a)/h+2;break;case c:a=(a-b)/h+4;break;default:throw Error();}a/=6}return new i6(360*a,100*e,100*g)};
f.CD=function(){var a=this.r,b=this.il,c=this.b,a=a/255,b=b/255,c=c/255,d=Math.max(a,b,c),e=Math.min(a,b,c);if(d==e)a=e=0;else{var g=d-e,e=g/d;switch(d){case a:a=(b-c)/g+(b<c?6:0);break;case b:a=(c-a)/g+2;break;case c:a=(a-b)/g+4;break;default:throw Error();}a/=6}return new j6(360*a,100*e,100*d)};f.ju=function(){return this};f.equals=function(a){if(1!=a.type)return!1;a=a.ju();return this.r==a.r&&this.il==a.il&&this.b==a.b};f.toString=function(){return"rgb("+this.r+", "+this.il+", "+this.b+")"};
f.qa=function(){return"#"+(256+this.r).toString(16).slice(-2)+(256+this.il).toString(16).slice(-2)+(256+this.b).toString(16).slice(-2)};function i6(a,b,c){w(0<=a&&360>a,"invalid h: {}",a);w(0<=b&&100>=b,"invalid s: {}",b);w(0<=c&&100>=c,"invalid l: {}",c);this.type=2;this.h=a;this.s=b;this.vl=c}r(i6,g6);f=i6.prototype;f.BD=function(){return this};f.CD=function(){var a=this.s,b=this.vl,a=a/100,b=b/100,c=a*(.5>b?b:1-b),d=b+c;return new j6(this.h,100*(0<b?2*c/d:a),100*d)};
f.ju=function(){var a=this.h,b=this.s,c=this.vl,a=a/360,b=b/100,c=c/100;if(0==b)c=b=a=c;else var d=.5>c?c*(1+b):c+b-c*b,e=2*c-d,c=k6(e,d,a+1/3),b=k6(e,d,a),a=k6(e,d,a-1/3);return new h6(Math.round(255*c),Math.round(255*b),Math.round(255*a))};f.equals=function(a){if(2!=a.type)return!1;a=a.BD();return this.h==a.h&&this.s==a.s&&this.vl==a.vl};f.toString=function(){return"hsl("+this.h.toFixed(3)+", "+this.s.toFixed(3)+"%, "+this.vl.toFixed(3)+"%)"};
function j6(a,b,c){w(0<=a&&360>a,"invalid h: {}",a);w(0<=b&&100>=b,"invalid s: {}",b);w(0<=c&&100>=c,"invalid l: {}",c);this.type=3;this.h=a;this.s=b;this.mr=c}r(j6,g6);f=j6.prototype;f.BD=function(){var a=this.s,b=this.mr,a=a/100,b=b/100,c=(2-a)*b/2;return new i6(this.h,100*(c&&1>c?a*b/(.5>c?2*c:2-2*c):a),100*c)};f.CD=function(){return this};
f.ju=function(){var a=this.h,b=this.s,c=this.mr,a=a/60,b=b/100,c=c/100,d=Math.floor(a),e=a-d,a=c*(1-b),g=c*(1-e*b),b=c*(1-(1-e)*b),d=d%6;return new h6(Math.round(255*[c,g,a,a,b,c][d]),Math.round(255*[b,c,c,g,a,a][d]),Math.round(255*[a,a,b,c,c,g][d]))};f.equals=function(a){if(3!=a.type)return!1;a=a.CD();return this.h==a.h&&this.s==a.s&&this.mr==a.mr};f.toString=function(){return"hsv("+this.h.toFixed(3)+", "+this.s.toFixed(3)+"%, "+this.mr.toFixed(3)+"%)"};new h6(0,0,0);new h6(255,255,255);
var sda=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/,tda=/^hsv\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/,uda=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/,vda=/^#([a-f\d])([a-f\d])([a-f\d])$/i,wda=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function k6(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a};var xda=[{family:"Aileron Thin",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-LightItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-LightItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Light.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Light.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-ThinItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-ThinItalic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Thin.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Thin.otf"}}},{family:"Aileron Regular",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-BoldItalic.ttf",
otf:"https://static.canva.com/static/webfonts/Aileron-BoldItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Bold.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Bold.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Italic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Italic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Regular.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Regular.otf"}}},{family:"Aileron Heavy",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-BlackItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-BlackItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Black.ttf",
otf:"https://static.canva.com/static/webfonts/Aileron-Black.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-HeavyItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-HeavyItalic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Heavy.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Heavy.otf"}}},{family:"Aleo Light",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-LightItalic.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-LightItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Light.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Light.woff"}}},{family:"Aleo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Aleo-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Regular.woff"}}},{family:"Allerta Stencil",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AllertaStencil-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AllertaStencil-Regular.woff"}}},{family:"Antic",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Antic-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Antic-Regular.woff"}}},{family:"Aqua",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/aqua.ttf",woff:"https://static.canva.com/static/webfonts/aqua.woff"}}},{family:"Arialle",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Archivo Narrow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Regular.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Italic.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Bold.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Bold.woff"}}},
{family:"Archivo Black",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoBlack.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoBlack.woff"}}},{family:"Code",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CodeLight.ttf",woff:"https://static.canva.com/static/webfonts/CodeLight.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CodeBold.ttf",woff:"https://static.canva.com/static/webfonts/CodeBold.woff"}}},{family:"Carter One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CarterOne.ttf",woff:"https://static.canva.com/static/webfonts/CarterOne.woff"}}},{family:"Cooper Hewitt",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Book.ttf",
otf:"https://static.canva.com/static/webfonts/CooperHewitt-Book.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-BookItalic.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-BookItalic.otf"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-BoldItalic.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-BoldItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Bold.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-Bold.otf"}}},{family:"Cooper Hewitt Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Thin.ttf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-ThinItalic.ttf"},
boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-LightItalic.ttf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Light.ttf"}}},{family:"Cooper Hewitt Heavy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Heavy.ttf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-HeavyItalic.ttf"}}},{family:"Fredoka One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/FredokaOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/FredokaOne-Regular.woff"}}},{family:"Hammersmith One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/HammersmithOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/HammersmithOne.woff"}}},{family:"Helveticish",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Josefin Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/JosefinSans.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Italic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Bold.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-Bold.woff"}}},{family:"Josefin Slab",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Regular.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Italic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Bold.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-Bold.woff"}}},{family:"Lato",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Regular.woff"}}},{family:"Lato Hairline",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-ThinItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-ThinItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Thin.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Thin.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-HairlineItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-HairlineItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Hairline.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Hairline.woff"}}},{family:"Lato Heavy",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-BlackItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-BlackItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Black.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Black.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-HeavyItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-HeavyItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Heavy.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-Heavy.woff"}}},{family:"League Gothic",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LeagueGothic-Regular.ttf",otf:"https://static.canva.com/static/webfonts/LeagueGothic-Regular.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LeagueGothic-Italic.ttf",otf:"https://static.canva.com/static/webfonts/LeagueGothic-Italic.otf"}}},{family:"League Spartan",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LeagueSpartan-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LeagueSpartan-Bold.woff"}}},{family:"Limelight",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Limelight-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Limelight.woff"}}},{family:"Montserrat Hairline",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Hairline.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Hairline.woff"}}},{family:"Montserrat Light",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Light.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Light.woff"}}},{family:"Montserrat",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Montserrat-Regular.woff"}}},{family:"Oswald",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Oswald-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Oswald-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Oswald-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Oswald-Bold.woff"}}},{family:"Peace Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Peace-Sans.ttf",woff:"https://static.canva.com/static/webfonts/Peace-Sans.woff"}}},{family:"Pirou",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Pirou-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Pirou-Regular.woff"}}},
{family:"PT Sans",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-BoldItalic.woff"}}},{family:"Quicksand",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Bold.ttf",
otf:"https://static.canva.com/static/webfonts/Quicksand-Bold.otf"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-BoldItalic.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-BoldItalic.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Italic.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-Italic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Regular.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-Regular.otf"}}},{family:"Noto Sans Devanagari",testString:"देवनागरी",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/NotoSansDevanagari-Regular.ttf",woff:"https://static.canva.com/static/webfonts/NotoSansDevanagari-Regular.woff"}}},
{family:"Nunito Light",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Light.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Light.woff"}}},{family:"Nunito",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Bold.woff"}}},{family:"Norwester",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Norwester.ttf",woff:"https://static.canva.com/static/webfonts/Norwester.woff"}}},{family:"Raleway",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Raleway.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Bold.woff"}}},{family:"Raleway Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Thin.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Thin.woff"}}},{family:"Raleway Heavy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Heavy.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Heavy.woff"}}},{family:"Roboto Condensed",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Italic.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Italic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Bold.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Regular.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Regular.woff"}}},{family:"Rosario",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Rosario-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-Italic.woff"}}},{family:"Rubik One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RubikOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rubik-One.woff"}}},{family:"Rubik Mono",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RubikMonoOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rubik-Mono-One.woff"}}},
{family:"Amaranth",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-Italic.woff"}}},{family:"Anton",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Anton.ttf",
woff:"https://static.canva.com/static/webfonts/Anton.woff"}}},{family:"Arimo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Crushed",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Crushed.ttf",
woff:"https://static.canva.com/static/webfonts/Crushed-Regular.woff"}}},{family:"Economica",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Economica-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Economica-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Bold.woff"}}},
{family:"Exo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-700-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-regular.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-700.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Bold.woff"}}},{family:"Exo Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-100.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Thin.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-100-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-ThinItalic.woff"}}},{family:"Gruppo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Gruppo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Gruppo.woff"}}},{family:"Glacial Indifference",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Italic.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Italic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Bold.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Bold.woff"}}},{family:"Gidole",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Gidole-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Gidole-Regular.woff"}}},{family:"Julius Sans One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JuliusSansOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/JuliusSansOne-Regular.woff"}}},{family:"Kite One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/KiteOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/KiteOne-Regular.woff"}}},
{family:"Kollektif",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-BoldItalic.woff"}}},{family:"Lilita One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LilitaOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/LilitaOne.woff"}}},{family:"Open Sans Light",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-LightItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-LightItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Light.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Light.woff"}}},{family:"Open Sans",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Italic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-BoldItalic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans.woff"}}},{family:"Open Sans Extra Bold",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-ExtraBoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBold.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-ExtraBold.woff"}}},{family:"Racing Sans One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RacingSansOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/RacingSansOne-Regular.woff"}}},{family:"Roboto",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Regular.woff"}}},{family:"Ubuntu",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Ubuntu.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-BoldItalic.woff"}}},{family:"Unity Display",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/UnityDisplay-Bold.ttf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/UnityDisplay-Roman.ttf"}}},{family:"Unity Text",
styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/UnityText-Bold.ttf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/UnityText-Roman.ttf"}}},{family:"Six Caps",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SixCaps.ttf",woff:"https://static.canva.com/static/webfonts/SixCaps.woff"}}},{family:"Sifonn",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sifonn-Basic.ttf",woff:"https://static.canva.com/static/webfonts/Sifonn-Basic.woff"}}},{family:"Sifonn Outline",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sifonn-Basic-Outline.ttf",woff:"https://static.canva.com/static/webfonts/Sifonn-Basic-Outline.woff"}}},
{family:"Signika",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Signika-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Signika-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Signika-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Signika-Regular.woff"}}},{family:"Source Sans Pro",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-BoldIt.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-BoldIt.otf.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-It.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-It.otf.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/SourceSansPro-Regular.otf.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-Bold.otf.woff"}}},{family:"Text Me One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/TextMeOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/TextMeOne-Regular.woff"}}},{family:"Tenor Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/TenorSans.ttf",woff:"https://static.canva.com/static/webfonts/TenorSans.woff"}}},{family:"Abril Fatface",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AbrilFatface-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/AbrilFatface-Regular.woff"}}},{family:"Alegreya SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Italic.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Italic.woff"}}},
{family:"Alfa Slab One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AlfaSlabOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AlfaSlabOne-Regular.woff"}}},{family:"Alike",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Alike-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Alike-Regular.woff"}}},{family:"Anonymous Pro",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Italic.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-BoldItalic.woff"}}},{family:"Arvo",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arvo.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-Italic.woff"},
boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-BoldItalic.woff"}}},{family:"Bebas Neue",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/BebasNeueBold.ttf",woff:"https://static.canva.com/static/webfonts/BebasNeueBold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/BebasNeueRegular.ttf",woff:"https://static.canva.com/static/webfonts/BebasNeueRegular.woff"}}},{family:"Bodoni FLF",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Italic.ttf",
woff:"https://static.canva.com/static/webfonts/BodoniFLF-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Bold.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Roman.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-Roman.woff"}}},{family:"Cinzel",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Cinzel-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Cinzel-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Cinzel-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Cinzel-Bold.woff"}}},{family:"Droid Serif",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif.ttf",
woff:"https://static.canva.com/static/webfonts/DroidSerif.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-Bold.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-Italic.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-Italic.woff"}}},{family:"Forum",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Forum-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Forum-Regular.woff"}}},{family:"Granaina",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Granaina-Limpia.ttf",woff:"https://static.canva.com/static/webfonts/Granaina-Limpia.woff"}}},{family:"Glegoo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Glegoo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Glegoo-Regular.woff"}}},{family:"IM Fell English SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/IMFeENsc28P.ttf",woff:"https://static.canva.com/static/webfonts/IM_FELL_English_SC.woff"}}},{family:"IM Fell Double Pica",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/IMFeDPit28P.ttf",woff:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Italic.woff"},
regular:{ttf:"https://static.canva.com/static/truetypefonts/IMFeDPrm28P.ttf",woff:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Roman.woff"}}},{family:"Libre Baskerville",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Italic.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Bold.woff"}}},{family:"Lora",
styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Lora-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Lora-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lora.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lora-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lora-BoldItalic.woff"}}},{family:"Lustria",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Lustria-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lustria-Regular.woff"}}},
{family:"Luthier",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Regular.woff"}}},{family:"Nixie One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/NixieOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/NixieOne-Regular.woff"}}},{family:"Playfair Display",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Italic.ttf",
woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Italic.woff"}}},{family:"Playfair Display Black",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BlackItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-BlackItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Black.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Black.woff"}}},{family:"Playfair Display SC",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Bold.woff"}}},{family:"Prata",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Prata-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Prata-Regular.woff"}}},{family:"PT Serif",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/PTSerif-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Regular.woff"}}},{family:"Quando",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Quando-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Quando-Regular.woff"}}},{family:"Quattrocento",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Quattrocento-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Quattrocento.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Quattrocento-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Quattrocento-Bold.woff"}}},{family:"Sanchez",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Sanchez-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Sanchez-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Sanchez-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Sanchez-Regular.woff"}}},{family:"Source Serif Pro",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/SourceSerifPro-Regular.otf.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/SourceSerifPro-Bold.otf.woff"}}},{family:"Old Standard",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Italic.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Bold.woff"}}},
{family:"Times Neue Roman",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-bolditalic.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-bolditalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-italic.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-regular.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-bold.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-bold.woff"}}},{family:"Trocchi",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Trocchi-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Trocchi.woff"}}},{family:"Ultra",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ultra.ttf",woff:"https://static.canva.com/static/webfonts/Ultra.woff"}}},{family:"Vidaloka",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Vidaloka-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Vidaloka-Regular.woff"}}},{family:"Voga",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Voga-Medium.ttf",woff:"https://static.canva.com/static/webfonts/Voga-Medium.woff"}}},{family:"Vollkorn",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Vollkorn-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Italic.woff"}}},{family:"Cantora One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CantoraOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/CantoraOne-Regular.woff"}}},{family:"Coustard",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Coustard-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Coustard.woff"}}},{family:"Emilys Candy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/EmilysCandy-Regular.ttf",woff:"https://static.canva.com/static/webfonts/EmilysCandy-Regular.woff"}}},{family:"Glass Antiqua",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GlassAntiqua-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GlassAntiqua-Regular.woff"}}},{family:"Graduate",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Graduate-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Graduate-Regular.woff"}}},
{family:"Ribeye",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ribeye-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Ribeye-Regular.woff"}}},{family:"Vast Shadow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VastShadow-Regular.ttf",woff:"https://static.canva.com/static/webfonts/VastShadow-Regular.woff"}}},{family:"Gochi Hand",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GochiHand-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GochiHand-Regular.woff"}}},{family:"Over The Rainbow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/OvertheRainbow.ttf",woff:"https://static.canva.com/static/webfonts/OvertheRainbow.woff"}}},
{family:"Permanent Marker",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PermanentMarker.ttf",woff:"https://static.canva.com/static/webfonts/PermanentMarker.woff"}}},{family:"Sacramento",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sacramento-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Sacramento-Regular.woff"}}},{family:"Schoolbell",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Schoolbell.ttf",woff:"https://static.canva.com/static/webfonts/Schoolbell.woff"}}},{family:"Shadows Into Light Two",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ShadowsIntoLight.ttf",
woff:"https://static.canva.com/static/webfonts/ShadowsIntoLightTwo-Regular.woff"}}},{family:"Amatic SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AmaticSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AmaticSC-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/AmaticSC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AmaticSC-Bold.woff"}}},{family:"Architects Daughter",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchitectsDaughter.ttf",woff:"https://static.canva.com/static/webfonts/ArchitectsDaughter.woff"}}},{family:"Cabin Sketch",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CabinSketch-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/CabinSketch-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CabinSketch-Bold.ttf",woff:"https://static.canva.com/static/webfonts/CabinSketch-Bold.woff"}}},{family:"Coming Soon",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ComingSoon.ttf",woff:"https://static.canva.com/static/webfonts/ComingSoon.woff"}}},{family:"Allura",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Allura-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Allura-Regular.woff"}}},{family:"Clicker Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ClickerScript-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/ClickerScript-Regular.woff"}}},{family:"Courgette",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Courgette-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Courgette-Regular.woff"}}},{family:"Dear Joe",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DearJoe5.ttf",woff:"https://static.canva.com/static/webfonts/DearJoe5.woff"}}},{family:"Engagement",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Engagement-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Engagement-Regular.woff"}}},{family:"Euphoria Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/EuphoriaScript-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/EuphoriaScript-Regular.woff"}}},{family:"Great Vibes",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GreatVibes-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GreatVibes-Regular.woff"}}},{family:"Kaushan Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/KaushanScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/KaushanScript-Regular.woff"}}},{family:"Marta",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Marta-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Marta-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Marta-Italic.woff"}}},{family:"Merriweather",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-BoldItalic.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-Italic.woff"}}},{family:"Mr Dafoe",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/MrDafoe-Regular.ttf",woff:"https://static.canva.com/static/webfonts/MrDafoe-Regular.woff"}}},{family:"Niconne",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Niconne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Niconne-Regular.woff"}}},{family:"Parisienne",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Parisienne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Parisienne-Regular.woff"}}},
{family:"Pinyon Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PinyonScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PinyonScript.woff"}}},{family:"Dr Sugiyama",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DrSugiyama-Regular.ttf",woff:"https://static.canva.com/static/webfonts/DrSugiyama-Regular.woff"}}},{family:"Grand Hotel",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GrandHotel-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GrandHotel-Regular.woff"}}},{family:"Knewave",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Knewave-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Knewave-Regular.woff"}}},{family:"Pacifico",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Pacifico.ttf",woff:"https://static.canva.com/static/webfonts/Pacifico-Regular.woff"}}},{family:"Princess Sofia",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PrincessSofia-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PrincessSofia.woff"}}},{family:"Satisfy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Satisfy-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Satisfy.woff"}}},{family:"Streamster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Streamster.ttf",
woff:"https://static.canva.com/static/webfonts/Streamster.woff"}}},{family:"Yellowtail",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Yellowtail-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Yellowtail.woff"}}},{family:"Berkshire Swash",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/BerkshireSwash-Regular.ttf",woff:"https://static.canva.com/static/webfonts/BerkshireSwash-Regular.woff"}}},{family:"Black Ops One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/BlackOpsOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/BlackOpsOne-Regular.woff"}}},{family:"Chewy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Chewy.ttf",
woff:"https://static.canva.com/static/webfonts/Chewy.woff"}}},{family:"Creepster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Creepster-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Creepster-Regular.woff"}}},{family:"Diplomata SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DiplomataSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/DiplomataSC-Regular.woff"}}},{family:"Germania One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GermaniaOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GermaniaOne-Regular.woff"}}},{family:"Megrim",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Megrim.ttf",
woff:"https://static.canva.com/static/webfonts/Megrim.woff"}}},{family:"Rye",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Rye-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rye-Regular.woff"}}},{family:"UnifrakturMaguntia",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/UnifrakturMaguntia-Book.ttf",woff:"https://static.canva.com/static/webfonts/UnifrakturMaguntia.woff"}}},{family:"Codystar",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Codystar-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Codystar.woff"}}},{family:"Crafty Girls",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CraftyGirls.ttf",
woff:"https://static.canva.com/static/webfonts/CraftyGirls.woff"}}},{family:"Hitchcut",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Hitchcut.ttf",woff:"https://static.canva.com/static/webfonts/Hitchcut.woff"}}},{family:"Lobster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Lobster.ttf",woff:"https://static.canva.com/static/webfonts/Lobster.woff"}}},{family:"Lobster Two",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Regular.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Italic.woff"}}},{family:"Oleo Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/OleoScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OleoScript-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/OleoScript-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OleoScript-Bold.woff"}}},{family:"Londrina Shadow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LondrinaShadow-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/LondrinaShadow-Regular.woff"}}},{family:"Londrina Sketch",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LondrinaSketch-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LondrinaSketch-Regular.woff"}}},{family:"Oregano",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Oregano-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Oregano-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Oregano-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Oregano-Italic.woff"}}},{family:"Sniglet",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sniglet-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Sniglet.woff"}}},{family:"Special Elite",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SpecialElite.ttf",woff:"https://static.canva.com/static/webfonts/SpecialElite-Regular.woff"}}},{family:"Sunday",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sunday.ttf",woff:"https://static.canva.com/static/webfonts/Sunday.woff"}}},{family:"Vampiro One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VampiroOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/VampiroOne-Regular.woff"}}},{family:"VT323",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VT323-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/VT323-Regular.woff"}}},{family:"Waterlily",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Waterlily.ttf",woff:"https://static.canva.com/static/webfonts/Waterlily.woff"}}},{family:"Brusher",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Brusher-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Brusher-Regular.woff"}}},{family:"Playlist Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Playlist-Script.ttf",woff:"https://static.canva.com/static/webfonts/Playlist-Script.woff"}}},{family:"Selima",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Selima.ttf",
woff:"https://static.canva.com/static/webfonts/Selima.woff"}}},{family:"Sensei",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sensei-Medium.ttf",woff:"https://static.canva.com/static/webfonts/Sensei-Medium.woff"}}},{family:"Edo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Edo.ttf",woff:"https://static.canva.com/static/webfonts/Edo.woff"}}},{family:"M Plus Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-thin.woff",ttf:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-thin.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-light.woff",ttf:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-light.ttf"}}},
{family:"M Plus Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-regular.woff",ttf:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-regular.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-medium.woff",ttf:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-medium.ttf"}}},{family:"M Plus Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-bold.woff",ttf:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-black.woff",ttf:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-black.ttf"}}},
{family:"M Plus Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusHeavy/mplus-1p-heavy.woff",ttf:"https://static.canva.com/static/fonts/MPlusHeavy/mplus-1p-heavy.ttf"}}},{family:"Noto Sans Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Thin.woff",otf:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Thin.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Light.woff",otf:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Light.otf"}}},{family:"Noto Sans Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-DemiLight.woff",
otf:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-DemiLight.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-Regular.woff",otf:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-Regular.otf"}}},{family:"Noto Sans Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Medium.woff",otf:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Medium.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Bold.woff",otf:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Bold.otf"}}},{family:"Noto Sans Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansBlack/NotoSansJP-Black.woff",
otf:"https://static.canva.com/static/fonts/NotoSansBlack/NotoSansJP-Black.otf"}}},{family:"Kodomo Rounded Gothic Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded-Light.woff",otf:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded-Light.otf"},bold:{woff:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded.woff",otf:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded.otf"}}},{family:"Bokutachi Gothic Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/BokutachiGothicRegular/BokutachinoGothic2Regular.woff",
otf:"https://static.canva.com/static/fonts/BokutachiGothicRegular/Boku2-Regular.otf"},bold:{woff:"https://static.canva.com/static/fonts/BokutachiGothicRegular/BokutachinoGothic2Bold.woff",otf:"https://static.canva.com/static/fonts/BokutachiGothicRegular/Boku2-Bold.otf"}}},{family:"Yasashisa Gothic",styles:{regular:{woff:"https://static.canva.com/static/fonts/YasashisaGothic/YasashisaGothic.woff",otf:"https://static.canva.com/static/fonts/YasashisaGothic/YasashisaGothic.otf"}}},{family:"Logo Type Gothic",styles:{regular:{woff:"https://static.canva.com/static/fonts/LogoTypeGothic/07LogoTypeGothic7.woff",ttf:"https://static.canva.com/static/fonts/LogoTypeGothic/07LogoTypeGothic7.ttf"}}},
{family:"Genjyuu Gothic Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-ExtraLight.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-ExtraLight.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-Light.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-Light.ttf"}}},{family:"Genjyuu Gothic Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Normal.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Normal.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Regular.woff",
ttf:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Regular.ttf"}}},{family:"Genjyuu Gothic Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Medium.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Medium.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Bold.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Bold.ttf"}}},{family:"Genjyuu Gothic Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicHeavy/GenJyuuGothic-Heavy.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicHeavy/GenJyuuGothic-Heavy.ttf"}}},
{family:"M Plus Rounded Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-thin.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-thin.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-light.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-light.ttf"}}},{family:"M Plus Rounded Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-regular.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-regular.ttf"},
bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-medium.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-medium.ttf"}}},{family:"M Plus Rounded Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-bold.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-black.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-black.ttf"}}},{family:"M Plus Rounded Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedHeavy/rounded-mplus-1p-heavy.woff",
ttf:"https://static.canva.com/static/fonts/MPlusRoundedHeavy/rounded-mplus-1p-heavy.ttf"}}},{family:"Ipaex Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/IpaexMincho/ipaexm.woff",ttf:"https://static.canva.com/static/fonts/IpaexMincho/Ipaexm.ttf"}}},{family:"Aozora Mincho Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoRegular.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoRegular.ttf"},bold:{woff:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoMedium.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoMedium.ttf"}}},
{family:"Aozora Mincho Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMincho-bold.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMincho-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMinchoHeavy.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMinchoHeavy.ttf"}}},{family:"Kokoro Minchoutai",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokoroMinchoutai/Kokoro.woff",otf:"https://static.canva.com/static/fonts/KokoroMinchoutai/Kokoro.otf"}}},{family:"Hannari Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/HannariMincho/HannariMincho.woff",
otf:"https://static.canva.com/static/fonts/HannariMincho/Hannari.otf"}}},{family:"Yasashisa Antique",styles:{regular:{woff:"https://static.canva.com/static/fonts/YasashisaAntique/07YasashisaAntique.woff",otf:"https://static.canva.com/static/fonts/YasashisaAntique/07YasashisaAntique.otf"}}},{family:"Dejima Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/DejimaMincho/dejima-mincho-r227.woff",ttf:"https://static.canva.com/static/fonts/DejimaMincho/dejima-mincho-r227.ttf"}}},{family:"Koku Maru Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokuMaruMincho/KokuMaruMinchoKana-Regular.woff",otf:"https://static.canva.com/static/fonts/KokuMaruMincho/KokuMaruMinchoKana-Regular.otf"}}},
{family:"Koku Mincho Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokuMinchoRegular/font_1_kokumr_1.00_rls.woff",ttf:"https://static.canva.com/static/fonts/KokuMinchoRegular/font_1_kokumr_1.00_rls.ttf"}}},{family:"Hanazono Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/HanazonoMincho/HanaMinA.woff",ttf:"https://static.canva.com/static/fonts/HanazonoMincho/HanaMinA.ttf"}}},{family:"Checkpoint",styles:{regular:{woff:"https://static.canva.com/static/fonts/Checkpoint/CPFont.woff",otf:"https://static.canva.com/static/fonts/Checkpoint/CPFont.otf"}}},{family:"Nicomoji Plus",styles:{regular:{woff:"https://static.canva.com/static/fonts/NicomojiPlus/nicomoji-plus_1.11.woff",
ttf:"https://static.canva.com/static/fonts/NicomojiPlus/nicomoji-plus_1.11.ttf"}}},{family:"Light Novel Pop",styles:{regular:{woff:"https://static.canva.com/static/fonts/LightNovelPop/LightNovelPop.woff",otf:"https://static.canva.com/static/fonts/LightNovelPop/LightNovelPop.otf"}}},{family:"Uzura",styles:{regular:{woff:"https://static.canva.com/static/fonts/Uzura/uzura.woff",ttf:"https://static.canva.com/static/fonts/Uzura/uzura.ttf"}}},{family:"Cinecaption",styles:{regular:{woff:"https://static.canva.com/static/fonts/Cinecaption/cinecaption227.woff",ttf:"https://static.canva.com/static/fonts/Cinecaption/cinecaption227.TTF"}}},{family:"Jiyucho",styles:{regular:{woff:"https://static.canva.com/static/fonts/Jiyucho/Jiyucho.woff",
otf:"https://static.canva.com/static/fonts/Jiyucho/Jiyucho.otf"}}},{family:"Tanuki",styles:{regular:{woff:"https://static.canva.com/static/fonts/Tanuki/TanukiMagic.woff",ttf:"https://static.canva.com/static/fonts/Tanuki/TanukiMagic.ttf"}}},{family:"Hanazome",styles:{regular:{woff:"https://static.canva.com/static/fonts/Hanazome/HanazomeFont.woff",ttf:"https://static.canva.com/static/fonts/Hanazome/HanazomeFont.ttf"}}},{family:"Fuiji",styles:{regular:{woff:"https://static.canva.com/static/fonts/Fuiji/HuiFontP.woff",ttf:"https://static.canva.com/static/fonts/Fuiji/HuiFontP29.ttf"}}},{family:"Nagayama Kai",styles:{regular:{woff:"https://static.canva.com/static/fonts/NagayamaKai/nagayama_kai08.woff",
otf:"https://static.canva.com/static/fonts/NagayamaKai/nagayama_kai08.otf"}}},{family:"Kouzan",styles:{regular:{woff:"https://static.canva.com/static/fonts/Kouzan/KouzanGyoushoOTF.woff",otf:"https://static.canva.com/static/fonts/Kouzan/KouzanBrushFontGyousyoOTF.otf"}}}];var Q0="WARNING",P0="ERROR";function l6(a){this.page=a.page;this.element=a.element;this.content=a.content;this.Fz=a.Fz}l6.prototype.R=function(){return this.page};l6.prototype.getElement=function(){return this.element};l6.prototype.getContent=function(){return this.content};
function yda(a){var b,c,d,e;a.forEach(function(a){null!=a.page&&(w(null==b),b=a.page);null!=a.element&&(w(null==c),c=a.element);null!=a.content&&(w(null==d),d=a.content);null!=a.Fz&&(w(null==e),e=a.Fz)});return new l6({page:b,element:c,content:d,Fz:e})}function m6(a){this.context=a.context;this.type=a.type;this.level=a.level}m6.prototype.getContext=function(){return this.context};m6.prototype.lc=function(){return this.type};function n6(a,b){this.context=[];this.Ow=[];this.media=b;this.g$=a}function O0(a,b){var c=new Set;xda.forEach(function(a){return c.add(a.family)});b=new n6(c,b);zda(b,a);return b.Ow}function zda(a,b){b.O.forEach(function(b,d){o6(a,new l6({page:d}),function(){Ada(a,b)})})}
function Ada(a,b){b.elements.forEach(function(b,d){o6(a,new l6({element:d}),function(){switch(b.type){case "TEXT":Fa(b instanceof Or);p6(a,b);break;case "IMAGE":Fa(b instanceof Kr);q6(a,b);a.check(0===d||!b.Gb,"IS_BACKGROUND_REQUIRES_FIRST_ELEMENT",P0);break;case "SVG":Fa(b instanceof Sr);Bda(a,b);break;case "GRID":Fa(b instanceof Xr);Cda(a,b);break;case "GRAPHIC":a.error("GRAPHIC_ELEMENT_NOT_HANDLED");break;case "SHAPE":break;case "GROUP":break;default:a.error("UNKNOWN_ELEMENT_TYPE")}})})}
function p6(a,b){a.check(0<b.xl.length,"LINE_LENGTHS_REQUIRED",P0);if(b.color)try{var c=b.color;if("#"===c.slice(0,1)){var d;if(d=vda.exec(c))new h6(17*parseInt(d[1],16),17*parseInt(d[2],16),17*parseInt(d[3],16));else if(d=wda.exec(c))new h6(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));else throw Error("not a hexadecimal color: "+c);}else switch(c.slice(0,4)){case "hsl(":var e=sda.exec(c);w(!!e,"Invalid HSL color: {}",c);new i6(+e[1],+e[2],+e[3]);break;case "hsv(":var g=tda.exec(c);w(!!g,
"Invalid HSV color: {}",c);new j6(+g[1],+g[2],+g[3]);break;case "rgb(":var h=uda.exec(c);w(!!h,"Invalid RGB color: {}",c);new h6(+h[1],+h[2],+h[3]);break;default:throw Error("cannot parse color: "+c);}}catch(k){a.error("COLOR_NOT_CONVERTIBLE_TO_RGB")}null!=b.hl||null==b.fontFamily||a.g$.has(b.fontFamily)||a.error("FONT_NOT_SUPPORTED")}function q6(a,b){!1!==b.hb&&null!=b.ba&&null!=b.ca&&r6(a,b.ba,b.ca);a.check(!b.filter,"HAS_FILTER",Q0)}
function Bda(a,b){r6(a,b.ba,b.ca);a.check(b.Bi,"SVG_METADATA_REQUIRED",P0);b.Uc.forEach(function(b){o6(a,new l6({Fz:b.index}),function(){a.check("inherit"!==b.color,"FILL_COLOR_INHERIT",P0)})});b.contents.forEach(function(b,d){o6(a,new l6({content:d}),function(){switch(b.type){case "TEXT":a.check(null!=b.top,"TOP_REQUIRED",P0);a.check(null!=b.left,"LEFT_REQUIRED",P0);a.check(null!=b.lineHeight,"LINE_HEIGHT_REQUIRED",P0);p6(a,b);break;case "IMAGE":q6(a,b)}})})}
function Cda(a,b){b.contents.forEach(function(b,d){o6(a,new l6({content:d}),function(){null!=b.ba&&null!=b.ca&&r6(a,b.ba,b.ca);a.check(!b.filter,"HAS_FILTER",Q0)})})}function r6(a,b,c){null!=b&&null!=c&&a.media.find(function(a){return a.id===b&&a.version===c})||a.error("MEDIA_NOT_RESOLVED")}function o6(a,b,c){a.context.push(b);c();a.context.pop()}n6.prototype.error=function(a){s6(this,a,P0)};function s6(a,b,c){a.Ow.push(new m6({context:yda(a.context),level:c,type:b}))}
n6.prototype.check=function(a,b,c){if(a)return!0;s6(this,b,c);return!1};function t6(){}t6=Backbone.View.extend({className:"teamBillingSignup"});f=t6.prototype;f.events=function(){return{"click .teamBillingCreditCardRevert":this.trigger.bind(this,"revert"),"click .teamBillingCreditCardSubmit":this.trigger.bind(this,"submit"),"click .teamBillingRetryButton":this.trigger.bind(this,"retry")}};
f.initialize=function(a){this.compact=a.compact;this.Zi=a.Zi;this.Bw=a.Bw;this.listenTo(this.Bw,"selectPlan",this.trigger.bind(this,"selectPlan"));this.z8=u6.d2(Jc(a.i));this.Uf=a.Uf;this.i=a.i;this.rg=ed(a.i)};
f.render=function(){var a=moment().add(this.Uf,"days").format("LL"),b;b=this.i;b.Bk||(b.Bk=new df(b.config));b=b.Bk;this.$el.html(Dda({compact:this.compact,claim:this.rg.UC(this.Uf),lE:ef(b),mE:ff(b,a),nE:gf(b),Su:this.rg.Su(),Ov:this.rg.Ov(),Pw:this.rg.Pw(),Hx:this.rg.Hx()}).toString());this.compact||this.z8.render().$el.appendTo(this.$(".teamBillingPromoItems"));this.Bw.render().$el.appendTo(this.$(".teamBillingPriceOptions"));this.Zi.render();this.$(".teamBillingCreditCardContainer").prepend(this.Zi.$el);
return this};f.PH=function(){this.Bw.PH()};f.kf=function(a){this.$(".teamBillingCreditCardSubmit").removeClass("buttonSpinner");alert(a)};f.xx=function(a){a=void 0===a?"":a;this.$(".teamBillingTotalText").html(a)};function v6(a,b){a=a.$(".teamBillingCreditCardRevert");b?a.show():a.hide()}f.Bh=function(a){this.$el.toggleClass("enabled",a)};f.uQ=function(a){this.Bw.uQ(a)};f.kQ=function(a){this.$(".teamBillingClaim").text(a)};function w6(a){this.j=a.j;this.aa=a.aa;this.Z=a.Z;this.D=a.D;this.UA=null;this.PW=!1;this.Cd=null;this.td=a.td;this.listenTo(this.td,{input:this.L5,requestSubmit:this.Il});this.ip=a.ip;this.Ww=null;this.Ax=a.Ax;this.fa=a.fa||null;this.i=a.i;this.view=a.view;this.listenTo(this.view,{selectPlan:this.L$,retry:this.U6,revert:this.W6,submit:this.Il})}f=w6.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;function x6(a,b){return v5(b)-v5(a)}f.appendTo=function(a){this.view.render();a.append(this.view.$el);this.view.PH();v6(this.view,!1);this.td.refresh()};f.remove=function(){this.stopListening();this.td.remove();this.view.remove()};f.Bh=function(a){this.view.Bh(a)};f.kQ=function(a){this.view.kQ(a)};
function y6(a){var b=a.D.u();a.Bh(!1);(function(){return a.fa?P.resolve(a.fa):a.aa.Oz(b).catch(Nk,function(){return null})})().bind(a).then(function(a){a&&a.Vh&&(this.Cd=a.Vh,this.td.ax(this.ip).sk(this.Cd))}).catch(function(){var a=this.view;a.$el.html(Eda({ou:a.rg.ou(),Sx:a.rg.Sx()}).toString())}).finally(function(){this.Bh(!0)})}function Fda(a){var b=Sx(new Px).wj(a.D.u());a.Z.Hz(b).bind(a).then(function(a){this.UA=a.getCount();this.xx()}).catch(function(){this.PW=!0;this.xx()})}
f.xx=function(){Fa(null!=this.Ww,"A plan must be selected");var a=ed(this.i);if(this.PW)a=this.view,a.$(".teamBillingTotalText").text(a.rg.format("teamBillingSignupTotalPriceError"));else if(null!==this.UA)if(1===this.UA)this.view.xx();else{var b=this.Ww.da*this.UA;if("YEARLY"===this.Ww.Bj)b=a.format("teamBillingSignupPerYear",b);else if("MONTHLY"===this.Ww.Bj)b=a.format("teamBillingSignupPerMonth",b);else throw Error("unrecognised billing interval");a=a.em(this.UA,b);this.view.xx(a)}};
f.L5=function(a){this.Cd&&v6(this.view,a)};f.U6=function(){y6(this)};f.W6=function(){this.Cd&&(this.td.sk(this.Cd),v6(this.view,!1))};
f.Il=function(){this.Bh(!1);this.view.$(".teamBillingCreditCardSubmit").toggleClass("buttonSpinner",!0);this.td.kV().bind(this).then(function(){this.j.track("credit_card_submitted",{location:"upgrade_dialog"})}).then(function(){if(!this.Ax){var a=this.aa,b=new gj({D:this.D.u(),Zn:this.Ww.id});y(b.D,"brand required");return qj(a.N,"/billing/brands/"+b.D+"/subscription",hj(b)).catch(rj).get(0).then(jj).catch(a.xs,a.Uj)}}).then(function(a){this.trigger("signup",a)}).catch(oj,function(a){this.j.track("upgrade_onboarding_card_error",
{message:a.message});a=PT(cd(this.i),a);this.view.kf(a)}).catch(function(){this.view.kf("An error occured while trying to subscribe")}).finally(function(){this.Bh(!0)});this.j.track("upgrade_onboarding_card_submit")};f.L$=function(a){this.Ww=a;this.xx()};function Eda(a){soy.asserts.assertType(goog.isString(a.ou)||a.ou instanceof goog.soy.data.SanitizedContent,"billingError",a.ou,"string|goog.soy.data.SanitizedContent");var b=a.ou;soy.asserts.assertType(goog.isString(a.Sx)||a.Sx instanceof goog.soy.data.SanitizedContent,"tryAgain",a.Sx,"string|goog.soy.data.SanitizedContent");a=a.Sx;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"teamBillingRetry"\x3e'+soy.$$escapeHtml(b)+'\x3cbr/\x3e\x3cbutton type\x3d"button" class\x3d"button teamBillingRetryButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/p\x3e")}
function Dda(a){soy.asserts.assertType(goog.isString(a.claim)||a.claim instanceof goog.soy.data.SanitizedContent,"claim",a.claim,"string|goog.soy.data.SanitizedContent");var b=a.claim;soy.asserts.assertType(goog.isString(a.lE)||a.lE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint1",a.lE,"string|goog.soy.data.SanitizedContent");var c=a.lE;soy.asserts.assertType(goog.isString(a.mE)||a.mE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint2",a.mE,"string|goog.soy.data.SanitizedContent");
var d=a.mE;soy.asserts.assertType(goog.isString(a.nE)||a.nE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint3",a.nE,"string|goog.soy.data.SanitizedContent");var e=a.nE;soy.asserts.assertType(goog.isString(a.Hx)||a.Hx instanceof goog.soy.data.SanitizedContent,"startTrial",a.Hx,"string|goog.soy.data.SanitizedContent");var g=a.Hx;soy.asserts.assertType(goog.isString(a.Pw)||a.Pw instanceof goog.soy.data.SanitizedContent,"revertCard",a.Pw,"string|goog.soy.data.SanitizedContent");var h=
a.Pw;soy.asserts.assertType(goog.isString(a.Su)||a.Su instanceof goog.soy.data.SanitizedContent,"encryption",a.Su,"string|goog.soy.data.SanitizedContent");var k=a.Su;soy.asserts.assertType(goog.isBoolean(a.compact)||1===a.compact||0===a.compact,"compact",a.compact,"boolean");var l=!!a.compact;soy.asserts.assertType(goog.isString(a.Ov)||a.Ov instanceof goog.soy.data.SanitizedContent,"itemsTitle",a.Ov,"string|goog.soy.data.SanitizedContent");a=a.Ov;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"teamBillingOptionsContainer"\x3e\x3cdiv class\x3d"teamBillingOptions"\x3e\x3cdiv class\x3d"teamBillingInformation"\x3e\x3ch2 class\x3d"teamBillingClaim"\x3e'+
soy.$$escapeHtml(b)+"\x3c/h2\x3e\x3cul\x3e\x3cli\x3e"+soy.$$escapeHtml(c)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(d)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(e)+'\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingPriceOptions"\x3e\x3c/div\x3e\x3cform class\x3d"teamBillingForm"\x3e\x3cdiv class\x3d"teamBillingCreditCardContainer"\x3e\x3cdiv class\x3d"teamBillingTotalText"\x3e\x3c/div\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock teamBillingCreditCardSubmit"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e'+
soy.$$escapeHtml(g)+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock buttonPlain teamBillingCreditCardRevert"\x3e'+soy.$$escapeHtml(h)+'\x3c/button\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e\x3cp class\x3d"teamBillingSecurityMessage"\x3e'+soy.$$escapeHtml(k)+"\x3c/p\x3e\x3c/div\x3e"+(l?"":'\x3cdiv class\x3d"teamBillingPromoItems"\x3e\x3ch4\x3e'+soy.$$escapeHtml(a)+"\x3c/h4\x3e\x3c/div\x3e"))};function u6(){}u6=Backbone.View.extend({tagName:"ul",className:"textIconList"});u6.prototype.initialize=function(a){this.items=a.items};
u6.prototype.render=function(){this.$el.html(this.items.map(function(a){soy.asserts.assertType(goog.isString(a.icon)||a.icon instanceof goog.soy.data.SanitizedContent,"icon",a.icon,"string|goog.soy.data.SanitizedContent");var b=a.icon;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(goog.isBoolean(a.$p)||1===a.$p||0===a.$p,"isHtml",a.$p,"boolean");var d=!!a.$p;
soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");a=a.content;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"textIconItem" '+(b?'data-icon\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+"\x3e\x3ch3\x3e"+soy.$$escapeHtml(c)+"\x3c/h3\x3e"+(d?soy.$$escapeHtml(a):"\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e")).toString()}).join(""));return this};
u6.d2=function(a){return new u6({items:[{title:a.format("canvaForWorkUpgradeTeamBrandKitsTitle"),content:a.format("canvaForWorkUpgradeTeamBrandKitsDescription"),icon:"teamBrandKits",$p:!1},{title:a.format("canvaForWorkUpgradeMagicallyResizeTitle"),content:a.format("canvaForWorkUpgradeMagicallyResizeDescription"),icon:"magicResize",$p:!1},{title:a.format("canvaForWorkUpgradeLayoutCreatorsTitle"),content:a.format("canvaForWorkUpgradeLayoutCreatorsDescription"),icon:"layoutCreators",$p:!1},{title:a.format("canvaForWorkUpgradePhotoFoldersTitle"),
content:a.format("canvaForWorkUpgradePhotoFoldersDescription"),icon:"photoFolders",$p:!1}]})};function z6(){}z6=Backbone.View.extend({className:"promotion"});z6.prototype.initialize=function(a){this.model=a.model};z6.prototype.events=function(){var a=this;return{"click .upgradeDialogFeaturePromo__button":function(){a.trigger("next",a.model.lk)},"click .upgradeDialogFeaturePromo__footerLink":function(){a.trigger("footerLinkClicked")}}};
z6.prototype.render=function(){var a=this.model;soy.asserts.assertType(a.lb instanceof soydata.SanitizedHtml||a.lb instanceof soydata.UnsanitizedText||goog.isString(a.lb),"headingHtml",a.lb,"soydata.SanitizedHtml");var b=a.lb;soy.asserts.assertType(goog.isString(a.hd)||a.hd instanceof goog.soy.data.SanitizedContent,"imageUrl",a.hd,"string|goog.soy.data.SanitizedContent");var c=a.hd;soy.asserts.assertType(goog.isString(a.Ph)||a.Ph instanceof goog.soy.data.SanitizedContent,"buttonLabel",a.Ph,"string|goog.soy.data.SanitizedContent");
var d=a.Ph;soy.asserts.assertType(null==a.body||a.body instanceof goog.soy.data.SanitizedContent||goog.isString(a.body),"body",a.body,"null|string|undefined");var e=a.body;soy.asserts.assertType(null==a.ZF||a.ZF instanceof goog.soy.data.SanitizedContent||goog.isString(a.ZF),"imageAlt",a.ZF,"null|string|undefined");var g=a.ZF;soy.asserts.assertType(null==a.Wg||goog.isArray(a.Wg),"benefitList",a.Wg,"?Array\x3cstring\x3e|undefined");var h=a.Wg;soy.asserts.assertType(null==a.Lz||a.Lz instanceof goog.soy.data.SanitizedContent||
goog.isString(a.Lz),"footerLink",a.Lz,"null|string|undefined");var k=a.Lz,a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogFeaturePromo promoBody"\x3e\x3cdiv class\x3d"upgradeDialogFeaturePromo__content"\x3e\x3ch2 class\x3d"upgradeDialogFeaturePromo__heading"\x3e'+soy.$$escapeHtml(b)+"\x3c/h2\x3e"+(e?'\x3cp class\x3d"upgradeDialogFeaturePromo__body"\x3e'+soy.$$escapeHtml(e)+"\x3c/p\x3e":"")+(h?Gda(a):"")+'\x3cdiv class\x3d"upgradeDialogFeaturePromo__footer"\x3e'+n_({v:"upgradeDialogFeaturePromo__button",
text:d})+(k?'\x3cdiv\x3e\x3ca href\x3d"#" class\x3d"upgradeDialogFeaturePromo__footerLink"\x3e'+soy.$$escapeHtml(k)+"\x3c/a\x3e\x3c/div\x3e":"")+'\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"upgradeDialogFeaturePromo__image" src\x3d'+soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeMediaUri(c))+" "+(g?"alt\x3d"+soy.$$escapeHtmlAttributeNospace(g):"")+" /\x3e\x3c/div\x3e").toString();this.$el.html(a);return this};function A6(a){this.we=a.we;this.zx=void 0;this.yb=null;this.Uf=a.Uf||0;this.Vi=void 0===a.Vi||a.Vi;this.Dr=void 0===a.Dr||a.Dr;this.Qe=void 0===a.Qe||a.Qe;this.j=a.j;this.a3=_.once(function(){y6(a.we);Fda(a.we)});this.we.once("signup",this.b7.bind(this));this.ha=a.Hy;this.rg=a.rg;this.Si=a.Si;this.pH=a.pH;this.Ws=a.Ws;this.lk=a.Wp}var NR=0,vY=1,Jo=2,F_=3,qX=4,Go=8,FM=9,Ho=10,Lo=11,G_=12;
function T0(a){var b=YU({Aj:a.aa,D:a.D.u(),mf:a.fb,Xe:!0,Ya:cd(a.i),j:a.j}),c=a.Ws,d=c.has(a.Wp)&&c.get(a.Wp).length?c.get(a.Wp)[0].Uf:30,e=a.j,g=a.aa,h=a.Z,k=a.D,l=b.Bb,m=a.ip,n=a.Ax,p=a.i,b=b.view,q=a.i,c=c.get(a.Wp),c=w5(c.sort(x6),Jc(q)),c=new x5({Cb:c}),b=new t6({compact:!0,Zi:b,Bw:c,i:q,Uf:d}),e=new w6({j:e,aa:g,Z:h,D:k,td:l,ip:m,Ax:n,i:p,view:b});return new A6({pH:"/brand/onboarding/upgrader",j:a.j,Dr:a.Dr,Vi:a.Vi,Hy:Jc(a.i),rg:ed(a.i),Qe:a.Qe,Uf:d,we:e,Si:a.Si,Ws:a.Ws,Wp:a.Wp})}f=A6.prototype;
f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenToOnce;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.remove=function(){this.yb&&this.yb.remove()};
f.show=function(a){var b=this;if(this.Si){var c=Hda(this,this.we,a||7);c.on("next",function(c){var e=/\/design\//.test(location.pathname)?qm("editor",a,c):qm("homepage",a,c),g=b.we,h=b.Ws.get(c),h=w5(h.sort(x6),Jc(g.i));g.view.uQ(h);b.zx&&1===c&&(b.zx.$el.addClass("upgradeDialogSignup--imagesPro"),b.we.kQ(b.rg.format("teamBillingSignupUpgradeImagesPro",b.Uf)));b.j.va(e)});c.on("footerLinkClicked",function(){return Ida(b)});this.zx=new Backbone.View({className:"upgradeDialogSignup"});this.yb=new kz({iF:["upgradeDialog"],
Vi:this.Vi,Qe:this.Qe,O:[c,this.zx]});this.yb.on("hide",function(){b.yb.remove();b.yb=null;b.we.remove();b.trigger("hide")});this.a3();this.yb.show();B6(this);this.we.appendTo(this.zx.$el);this.zx.$el.append(Jda({AG:this.ha.format("canvaForWorkUpgradeQuoteMeganKelleyContent"),zG:this.ha.format("canvaForWorkUpgradeQuoteMeganKelleyCite"),LE:this.ha.format("canvaForWorkUpgradeQuoteDonnaMoritzContent"),KE:this.ha.format("canvaForWorkUpgradeQuoteDonnaMoritzCite"),xI:this.ha.format("canvaForWorkUpgradeQuoteTravisBernardContent"),
wI:this.ha.format("canvaForWorkUpgradeQuoteTravisBernardCite")}).toString())}else Kda(this)};function Kda(a){var b=new C6({ha:a.ha});a.yb=new kz({iF:["upgradeDialog"],Vi:a.Vi,Qe:a.Qe,O:[b]});a.yb.on("hide",function(){a.yb.remove();a.yb=null;a.trigger("hide")});a.yb.show();B6(a)}function Ida(a){a.once("hide",function(){return a.show(7)});a.yb.hide()}f.b7=function(){this.Dr&&this.yb&&this.yb.remove();this.trigger("signup")};
function B6(a){/\/design\//.test(location.pathname)?a.j&&a.j.va(pm(a.Si)):a.j&&a.j.va(nm(a.Si))}
function Hda(a,b,c){var d=a.ha.format("canvaForWorkFeatureUpgradeButtonLabel");switch(c){case 5:return new z6({we:b,model:{Ph:d,lb:a.ha.Ga("canvaForWorkFeatureUpgradeUnlimitedFoldersHeadingHtml"),body:ze(a.ha),hd:"https://static.canva.com/static/images/upgrade_dialog_feature_folders.png",Wg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],lk:U0}});case Jo:return new z6({we:b,model:{Ph:d,lb:a.ha.Ga("canvaForWorkFeatureUpgradeResizeHeadingHtml"),body:ze(a.ha),hd:"https://static.canva.com/static/images/upgrade_dialog_feature_resize.png",Wg:[Ee(a.ha),De(a.ha),
Ae(a.ha),Ce(a.ha)],lk:U0}});case qX:return new z6({we:b,model:{Ph:d,lb:a.ha.Ga("canvaForWorkFeatureUpgradeTemplatesHeadingHtml"),body:ze(a.ha),hd:"https://static.canva.com/static/images/upgrade_dialog_feature_templates.png",Wg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],lk:U0}});case F_:return new z6({we:b,model:{Ph:d,lb:a.ha.Ga("canvaForWorkFeatureUpgradeTransparentBackgroundsHeadingHtml"),body:ze(a.ha),hd:"https://static.canva.com/static/images/upgrade_dialog_feature_transparent_bg.png",Wg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],lk:U0}});case 6:return new z6({we:b,
model:{Ph:d,lb:a.ha.Ga("canvaForWorkFeatureUpgradeCollaborateHeadingHtml"),body:ze(a.ha),hd:"https://static.canva.com/static/images/upgrade_dialog_feature_teams.png",Wg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],lk:U0}});case Go:return new z6({we:b,model:{Ph:d,lb:a.ha.Ga("canvaForWorkFeatureUpgradeExclusiveMediaHeadingHtml"),body:ze(a.ha),hd:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",Wg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],lk:U0}});case FM:return new z6({we:b,model:{Ph:d,lb:Ee(a.ha),body:ze(a.ha),hd:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",
Wg:[De(a.ha),Ae(a.ha),Be(a.ha),Ce(a.ha)],lk:U0}});case G_:return new z6({we:b,model:{Ph:d,lb:a.ha.Ga("canvaForWorkFeatureUpgradeAnimatorHeadingHtml"),body:a.ha.format("canvaForWorkFeatureUpgradeAnimatorBody"),hd:"https://static.canva.com/static/images/upgrade_dialog_feature_animator.png",Wg:[a.ha.format("canvaForWorkFeatureUpgradeAnimatorBenefit1"),a.ha.format("canvaForWorkFeatureUpgradeAnimatorBenefit2"),a.ha.format("canvaForWorkFeatureUpgradeAnimatorBenefit3"),a.ha.format("canvaForWorkFeatureUpgradeAnimatorBenefit4")],
lk:U0}});case Ho:case Lo:c=z6;var e=a.ha.Ga("canvaForWorkFeatureUpgradeFreeContentHeadingHtml",4E5),g=a.ha.format("canvaForWorkFeatureUpgradeImagesProBody"),h;h=a.ha.format("canvaForWorkFeatureUpgradeImagesProBenefit1",4E5);return new c({we:b,model:{Ph:d,lb:e,body:g,hd:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",Wg:[h,a.ha.format("canvaForWorkFeatureUpgradeImagesProBenefit2"),a.ha.format("canvaForWorkFeatureUpgradeImagesProBenefit3"),a.ha.format("canvaForWorkFeatureUpgradeImagesProBenefit4")],
lk:1,Lz:a.ha.format("canvaForWorkFeatureUpgradeImagesFooterLink")}});case NR:case vY:case 7:return new z6({we:b,model:{Ph:d,lb:a.ha.Ga("canvaForWorkFeatureUpgradeGeneralHeadingHtml"),body:a.ha.format("canvaForWorkFeatureUpgradeIncreaseProductivity"),hd:"https://static.canva.com/static/images/upgrade_dialog_feature_general.png",Wg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],lk:U0}});default:throw Error("Not a recognised feature: "+c);}};function C6(a){Backbone.View.call(this,{className:"upgradeDialogMember"});this.ha=a.ha}r(C6,Backbone.View);C6.prototype.events=function(){return{"click .upgradeDialogMember__button":this.trigger.bind(this,"next")}};C6.prototype.render=function(){this.$el.html(Lda({MC:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.ha.format("canvaForWorkUpgradeMemberTitleHtml")),aw:this.ha.aw(),tq:this.ha.format("canvaForWorkUpgradeMemberOkButton")}).toString());return this};function Lda(a){soy.asserts.assertType(a.MC instanceof soydata.SanitizedHtml||a.MC instanceof soydata.UnsanitizedText||goog.isString(a.MC),"titleHtml",a.MC,"soydata.SanitizedHtml");var b=a.MC;soy.asserts.assertType(goog.isString(a.aw)||a.aw instanceof goog.soy.data.SanitizedContent,"memberLabel",a.aw,"string|goog.soy.data.SanitizedContent");var c=a.aw;soy.asserts.assertType(goog.isString(a.tq)||a.tq instanceof goog.soy.data.SanitizedContent,"okButton",a.tq,"string|goog.soy.data.SanitizedContent");
a=a.tq;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch2\x3e"+soy.$$escapeHtml(b)+'\x3c/h2\x3e\x3cp class\x3d"upgradeDialogMember__label"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"+n_({v:"upgradeDialogMember__button",text:a}))}
function Gda(a){a=goog.asserts.assertArray(a.Wg,"expected parameter 'benefitList' of type list\x3cstring\x3e.");var b="";if(0<a.length){for(var b=b+'\x3cul class\x3d"upgradeDialogFeaturePromo__benefitList"\x3e',c=a.length,d=0;d<c;d++)var e=a[d],b=b+('\x3cli class\x3d"upgradeDialogFeaturePromoBenefit"\x3e'+HX({za:"upgradeDialogFeaturePromoBenefit__icon"})+'\x3cspan class\x3d"upgradeDialogFeaturePromoBenefit__text"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e\x3c/li\x3e");b+="\x3c/ul\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function Jda(a){soy.asserts.assertType(goog.isString(a.AG)||a.AG instanceof goog.soy.data.SanitizedContent,"meganKelleyQuote",a.AG,"string|goog.soy.data.SanitizedContent");var b=a.AG;soy.asserts.assertType(goog.isString(a.zG)||a.zG instanceof goog.soy.data.SanitizedContent,"meganKelleyCite",a.zG,"string|goog.soy.data.SanitizedContent");var c=a.zG;soy.asserts.assertType(goog.isString(a.LE)||a.LE instanceof goog.soy.data.SanitizedContent,"donnaMoritzQuote",a.LE,"string|goog.soy.data.SanitizedContent");
var d=a.LE;soy.asserts.assertType(goog.isString(a.KE)||a.KE instanceof goog.soy.data.SanitizedContent,"donnaMoritzCite",a.KE,"string|goog.soy.data.SanitizedContent");var e=a.KE;soy.asserts.assertType(goog.isString(a.xI)||a.xI instanceof goog.soy.data.SanitizedContent,"travisBernardQuote",a.xI,"string|goog.soy.data.SanitizedContent");var g=a.xI;soy.asserts.assertType(goog.isString(a.wI)||a.wI instanceof goog.soy.data.SanitizedContent,"travisBernardCite",a.wI,"string|goog.soy.data.SanitizedContent");
a=a.wI;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogQuotes"\x3e\x3cblockquote\x3e'+soy.$$escapeHtml(b)+"\x3ccite\x3e"+soy.$$escapeHtml(c)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(d)+"\x3ccite\x3e"+soy.$$escapeHtml(e)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(g)+"\x3ccite\x3e"+soy.$$escapeHtml(a)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3c/div\x3e")};$(function(a,b){function c(){K&&wb?(wb.$v(K.serialize()),setInterval(function(){K&&wb&&nu(wb,K.serialize())&&K.trigger("change")},3E5)):setTimeout(c,15E3)}function d(){var a=new A4,b=l.vg.get("branchToken",null),c=null;b&&(c=new j5({Go:b}));b=new d5({user:by(m),profiles:Eb,ta:N});return E0(l,{config:l,Rk:Mb,W:Jb,j:U,document:K,getSession:function(){return wb},La:m,mc:ac,aa:Bb,ud:Cb,fb:ha,Z:Eb,Sa:Ab,bj:S,mca:Fb,cc:Gb,dc:L,tb:J,Na:Q,df:yb,i:Lb,H:hl,md:ta,n$:Za,ta:N,Xb:fa,mu:k,Si:t,ip:x,so:a,G:u,xc:c,
sd:b})}function e(a){var b=a.font;return b&&(a=OA(Kb,b.family||""))?{fontFamily:a.family,fontSize:b.Pp(),bold:b.bold,italic:b.italic}:null}function g(a){return function(b){return b.getName()===a}}function h(){var a=K,b=xb.id,c,d;try{d=a.serialize()}catch(e){E.log("Failed DocumentContent serialization",{error:e});return}try{c=Er(d)}catch(e){U&&Xl(b,!1,!1,"DESERIALIZATION_FAILED");E.log("Failed DocumentContentProto deserialization",{error:e});return}try{var g=[],h=window.mediaMap;Object.keys(h).forEach(function(a){Object.keys(h[a]).forEach(function(b){g.push({id:a,
version:Number(b)})})});var k=O0(c,g),l=k.some(function(a){return a.level===P0}),m=k.some(function(a){return a.level===Q0});l?U&&Xl(b,!1,m,"DOCUMENT_CHECK_FAILED"):U&&Xl(b,!0,m)}catch(e){U&&Xl(b,!1,!1,"UNKNOWN_EXCEPTION_THROWN"),E.log("Failed document check",{error:e})}}var k=window.availableLocales||{},l=new jh(b||window.viewConfig),m=Yx(),n=by(m).NC(),p=ay(m).Dp(),q=l.Oz();$("body").toggleClass("highDpi",O.iS);if(!window.cmsg)throw Error("window['cmsg'] isn't defined");Lb=new kc;var u=Hf();Jb=new If(u);
TN&&$("html").addClass("touch");Mda();Nda();b=window.csrfTokens;var v=new Ck(window.httpServiceConfig);Ib=v;var z=ol(new Vk(v));a=new jl("canva.editor.load",z.Sh,z,z.J7);a.va("init-start");vg=new AI({config:new MI,N:Ib,EW:new vI});vg.init().then(function(){$("#objectPanel .content .buttonFacebook").prop("disabled",!1)});U=im();var t=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canUpgrade),x=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canEditCreditCard),H=yo({G:u,Tk:n});
Mb=new Eo({j:U,W:Jb,ta:Oo(n),Bg:H,qK:function(){var a=S0(ta),b=ay(m).ja();return T0({aa:Bb,Z:Eb,j:U,D:b,Ws:a,Wp:U0,fb:ha,Ax:!1,Dr:!1,Si:t,ip:x,i:Lb,G:u,La:m,W:Jb})}});var E=lE();Ab=kq(E);Cb=new uw(Ib);Bb=new mj(Ib);ac=new jK;Fb=new Wx;Gb=new ey;Db=new OE(Ib);yb=new xL(window.mediaMap,Db);zb=new xL(window.fontMediaMap,Db);Hb=new VL(Ib,Db,ac,yb,new iM,new TL(2),z,fl);Eb=new Hw(Ib);var L=new hy(Ib),J=new GE(Ib),Q=new D6(Ib),S=new Eu(v),N=null;try{N=zo()}catch(Hg){}var ha=QT(),fa=new cZ({Z:Eb,i:Lb,Ok:[dN,
"contextTipRoyaltyFreePaymentOption"],fE:function(a){return bZ({key:a,i:od(Lb),af:$(document),Se:$("body")})},root:$("body")}),ta=new hda,Za=new W5({XF:Ib,Z:Eb,tL:Jb.G.get(Sf)});cc=window.localStorage?new co(window.localStorage,by(m).u()):new co;Kb=new IJ(GJ,{ac:Db,KI:window.WebFont,df:zb,H:hl,locale:window.cmsg.localePrecedence[0]||window.cmsg.fallback});Kb.on("fontLoadFailed",function(a){a&&U.track("font_load_failed",{font_name:a})});Jb.G.get(Qf)&&OJ();window.scrollTo(0,0);var pa=function(){var a=
ay(m).Dp();return(a=a&&a.KC)&&a[0]?a[0].LC||[]:[]}(),ba={};$J(Kb,pa,function(){var a=Oda(pa);Jb.G.get(Qf)&&0<a.length&&(Kb.nP=a,ba={title:pa.filter(g("title")).map(e)[0],subtitle:pa.filter(g("subtitle")).map(e)[0],body:pa.filter(g("body")).map(e)[0]},Object.keys(ba).forEach(function(a){ba[a]||delete ba[a]}))});var Aa=window.csession,xb=window.cdoc,v=bv(window.cdocType);if(xb){(new sp({sp:So(),Tc:Mb,Bg:H,Xb:fa,Z:Eb,W:Jb,G:u,i:Lb,j:U,Ne:T,ta:N,Tk:n,Bu:yz,tb:J,fb:ha,La:m,fa:q})).go(xb,v,l,p,d,a);window.history.replaceState("",
document.title,window.location.pathname+window.location.search);var pb=VO(Aa,xb,U);setTimeout(c,15E3);var vc=xb.id,se=Date.now(),n=window.CANVA_EMBED,Md=b.session;b=!!navigator.sendBeacon;p=new hA({N:Ib,zO:se,De:vc,oa:pb,mL:n,dR:Hb,BJ:b,fL:Md});$(window).resize(Yz).on("beforeunload",p.VP.bind(p)).on("offline",Pda).on("online",Qda);if(!n&&b)$(window).on("unload",function(){var a=Math.floor((Date.now()-se)/1E3)+"",a=JSON.stringify({docId:vc,session:Aa,durationSecs:a,syncMetrics:pb.SZ.serialize()});
navigator.sendBeacon("/session/editor/"+encodeURIComponent(vc)+"?close\x26csrfToken\x3d"+encodeURIComponent(Md),a)})}Yz();window.CANVA_EMBED&&nda(l,S,Q,L,J,ta,u);dc=new Un($("#canvaDocument"));dc.render();U&&xb&&Ol(xb.id,xb.designType);if(U&&.1>Math.random())T.on("documentRendered",function(){h()});a.va("init-end")});
function Oda(a){return a.sort(function(a){for(var c={},d=0;d<a.length;d++)c[a[d]]=d;return function(a,b){a=a.getName();b=b.getName();return c[a]-c[b]||a.localeCompare(b)}}(["title","subtitle","body"])).map(function(a){var c;a.font&&(c=a.font.family);return OA(Kb,c||"")}).filter(Boolean)}function Nda(){$(document).on("mouseover","a",function(){"#"==$(this).attr("href")&&$(this).removeAttr("href")})}
function Xz(a){Nb||(Nb=new d6(Jb.G.get(bg)),Nb.on("open",function(){T.trigger("pausePresentationOnExit",!0)}),Nb.on("close",function(){T.trigger("pausePresentationOnExit",!1)}));Nb.toggle(a,K.ia())}
function Mda(){function a(a){a.stopPropagation();a.preventDefault();b();$("#touchDevice").addClass("on");dO();U&&Yl(U,"touch_device_notice")}function b(){document.removeEventListener("touchstart",a,!0);document.removeEventListener("mousedown",b)}TN&&(document.addEventListener("touchstart",a,!0),document.addEventListener("mousedown",b))}var E6=0;function Pda(){Tb&&kaa();clearTimeout(E6);E6=setTimeout(function(){gO()},12E4)}
function Qda(){if(Tb){var a=Tb;a.cN=!1;LV(a,a.Mu)}clearTimeout(E6);wb.gj()||fO()};$(document).on("wheel",".disableAncestorScroll",function(a){var b=a.originalEvent&&a.originalEvent.deltaY,c=a.currentTarget,d=0>b&&0===c.scrollTop,b=0<b&&Math.ceil(c.scrollTop+c.getBoundingClientRect().height)===c.scrollHeight;(d||b)&&a.preventDefault()});function ez(a){this.H=a.H;this.element=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e').toString());this.element.addClass(F6(a.style));this.element.on("click",".modalContentMask",function(a){this.trigger("maskClick",a)}.bind(this));this.style=a.style;this.uD=""}f=ez.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;
function F6(a){switch(a){case fz:return"modalContentBlurAndDarken";case rz:return"modalContentDarken";case rX:return"modalContentClear";case d0:return"modalContentNone";default:throw Error();}}f.hide=function(){$("body").removeClass(this.uD).attr("data-modal-levels",$("body").attr("data-modal-levels")-1);"0"===$("body").attr("data-modal-levels")&&$("body").css("margin-right","");this.element.removeClass("modalContentOn");this.H.setTimeout(function(){this.element.detach()}.bind(this),300)};
f.show=function(a){this.element.children(":not(.modalContentMask)").remove();this.element.append(a).appendTo("body");il(function(){var a=this,c=parseInt($("body").attr("data-modal-levels"),10)||0,d=window.innerWidth-$(window).width();$("body").attr("data-modal-levels",c+1);0===c&&$("body").css("margin-right",d);this.element.addClass("modalContentOn");["modalContentVisible",F6(this.style)+"Visible"].forEach(function(c){$("body").hasClass(c)||(a.uD+=c+" ")});$("body").addClass(this.uD)}.bind(this))};
var fz="BLUR_AND_DARKEN",rz="DARKEN",rX="CLEAR",d0="NONE";function lE(){return"undefined"!==typeof Rollbar?new G6:new H6}function G6(){}G6.prototype.log=function(a,b){b=void 0===b?{}:b;Rollbar.log(a,b.error,b.data)};function H6(){}H6.prototype.log=function(a,b){b=void 0===b?{}:b;var c=b.error;console[c instanceof Error?"error":"log"](a,c,b.data)};function JW(a){soy.asserts.assertType(goog.isString(a.xt)||a.xt instanceof goog.soy.data.SanitizedContent,"showMoreInfo",a.xt,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Vf)||1===a.Vf||0===a.Vf,"unlistedPrice",a.Vf,"boolean");var b=!!a.Vf;soy.asserts.assertType(null==a.xf||goog.isBoolean(a.xf)||1===a.xf||0===a.xf,"crownTag",a.xf,"boolean|null|undefined");var c=a.xf;soy.asserts.assertType(null==a.da||a.da instanceof goog.soy.data.SanitizedContent||goog.isString(a.da),
"price",a.da,"null|string|undefined");var d=a.da;return soydata.VERY_UNSAFE.ordainSanitizedHtml((d?I6({wx:!0,Vf:b,xf:c,da:d}):"")+Rda(a))}
function Rda(a){soy.asserts.assertType(goog.isString(a.xt)||a.xt instanceof goog.soy.data.SanitizedContent,"showMoreInfo",a.xt,"string|goog.soy.data.SanitizedContent");var b=a.xt;soy.asserts.assertType(goog.isBoolean(a.Vf)||1===a.Vf||0===a.Vf,"unlistedPrice",a.Vf,"boolean");var c=!!a.Vf;soy.asserts.assertType(null==a.da||a.da instanceof goog.soy.data.SanitizedContent||goog.isString(a.da),"price",a.da,"null|string|undefined");a=a.da;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"searchResultItem__info info"\x3e'+
(a?I6({wx:!1,Vf:c,da:a}):"")+'\x3cspan class\x3d"moreInfo" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3ei\x3c/span\x3e\x3c/span\x3e')}
function I6(a){soy.asserts.assertType(goog.isBoolean(a.Vf)||1===a.Vf||0===a.Vf,"unlistedPrice",a.Vf,"boolean");var b=!!a.Vf;soy.asserts.assertType(goog.isBoolean(a.wx)||1===a.wx||0===a.wx,"showFreeClass",a.wx,"boolean");var c=!!a.wx;soy.asserts.assertType(null==a.xf||goog.isBoolean(a.xf)||1===a.xf||0===a.xf,"crownTag",a.xf,"boolean|null|undefined");var d=a.xf;soy.asserts.assertType(goog.isString(a.da)||a.da instanceof goog.soy.data.SanitizedContent,"price",a.da,"string|goog.soy.data.SanitizedContent");
a=a.da;c=c?"price free":"price";b=""+(b?'\x3cspan class\x3d"price poa"\x3e\x3cspan class\x3d"inner"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/span\x3e":d?ZY({label:a,za:c}):'\x3cspan class\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function ZY(a){soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");var b=a.za;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");a=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"crownTag'+(b?" "+soy.$$escapeHtmlAttribute(b):"")+'"\x3e\x3cdiv class\x3d"crownTag__content"\x3e'+rp({za:"crownTag__icon",
color:"#F3B600"})+'\x3cspan class\x3d"crownTag__label"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e")};function J6(a,b){this.$el=a;this.className=b}r(J6,gc);function Fz(){var a=$("body");return new J6(a,"enterFullscreen")}J6.prototype.vp=function(){this.$el.addClass(this.className);var a=this.$el.get(0),b=a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.requestFullscreen;y(b,"browser doesn't implement Element::requestFullscreen");b.call(a)};
J6.prototype.exitFullscreen=function(){this.$el.removeClass(this.className);var a=document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.exitFullscreen;y(a,"browser doesn't implement Document::exitFullscreen");a&&a.call(document)};function Bz(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)};function K6(a,b){switch(b){case "PENDING":return"PENDING";case "FAILED":return"FAILED";case "EXPORTED":return"EXPORTED";default:throw new TypeError('expected PrintExportStatus for property "'+a+'", found: '+JSON.stringify(b));}}function L6(a){this.vj=a.vj;this.Vj=a.Vj}function Sda(a){return new L6({vj:A("widthMicrons",a),Vj:A("heightMicrons",a)})}
function M6(a){this.Ad=a.Ad;this.type=a.type;this.vb=a.vb;this.JO=a.JO;this.finish=a.finish;this.Zv=a.Zv;this.fz=a.fz;this.KX=a.KX;this.oz=a.oz;this.hA=a.hA}M6.prototype.lc=function(){return this.type};M6.prototype.Rj=function(){return this.vb};M6.prototype.gn=function(){return this.JO};
function Tda(a){return new M6({Ad:C("sku",a),type:Pa(N6,"type",a),vb:Oa(Sda,"paperSize",a),JO:Pa(O6,"paperType",a),finish:Pa(P6,"finish",a),Zv:A("maxPages",a),fz:Ma("dimensionsFlippable",a),KX:A("paperWeight",a),oz:Ma("ecoFriendly",a),hA:Ma("hasEnvelope",a)})}
function P6(a,b){switch(b){case "GLOSS":return"GLOSS";case "SILK":return"SILK";case "MATTE":return"MATTE";case "SOFT_TOUCH":return"SOFT_TOUCH";case "UNCOATED":return"UNCOATED";default:throw new TypeError('expected PaperFinish for property "'+a+'", found: '+JSON.stringify(b));}}
function O6(a,b){switch(b){case "STANDARD":return"STANDARD";case "PREMIUM":return"PREMIUM";case "ECO_FRIENDLY":return"ECO_FRIENDLY";case "DELUXE":return"DELUXE";default:throw new TypeError('expected PaperType for property "'+a+'", found: '+JSON.stringify(b));}}
function N6(a,b){switch(b){case "POSTER":return"POSTER";case "BUSINESS_CARD":return"BUSINESS_CARD";case "POSTCARD":return"POSTCARD";case "LETTERHEAD":return"LETTERHEAD";case "FLYER":return"FLYER";case "INVITATION":return"INVITATION";default:throw new TypeError('expected PrintProductType for property "'+a+'", found: '+JSON.stringify(b));}}function Uda(a){this.m_=a.m_;this.IX=a.IX;this.JX=a.JX;this.UU=a.UU}
function Vda(a){return new Uda({m_:Oa(Q6,"typeSpec",a),IX:Oa(R6,"paperSizeSpec",a),JX:Oa(S6,"paperTypeSpec",a),UU:Oa(T6,"finishSpec",a)})}function U6(a){this.Ja=a.Ja;this.wh=a.wh;this.currency=a.currency;this.DG=a.DG;this.wG=a.wG}U6.prototype.pl=function(){return this.Ja};function Wda(a){return new U6({Ja:Pa(V6,"shippingMethod",a),wh:A("priceCents",a),currency:C("currency",a),DG:B("minTotalQuantity",a),wG:B("maxTotalQuantity",a)})}
function Xda(a){this.Is=a.Is;this.Ds=a.Ds;this.Ot=a.Ot;this.currency=a.currency}function Yda(a){return new Xda({Is:A("minQuantity",a),Ds:A("maxQuantity",a),Ot:A("unitPriceCents",a),currency:C("currency",a)})}function Y0(a){this.id=a.id;this.version=a.version}Y0.prototype.u=function(){return this.id};Y0.prototype.getVersion=function(){return this.version};function Zda(a){return{id:ib("id",a.id),version:db("version",a.version)}}function $da(a){return new Y0({id:C("id",a),version:A("version",a)})}
function Y6(a){this.IL=a.IL;this.NL=a.NL;this.qN=a.qN;this.url=a.url}Y6.prototype.na=function(){return this.url};function Z6(a){return new Y6({IL:Pa(aea,"fileRole",a),NL:A("firstSheet",a),qN:A("lastSheet",a),url:C("url",a)})}function $6(a,b){switch(b){case "PROOF":return"PROOF";case "PRINT":return"PRINT";case "PREPRESS":return"PREPRESS";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected FileRole for property "'+a+'", found: '+JSON.stringify(b));}}
function aea(a,b){switch(b){case "PROOF":return"PROOF";case "PRINT":return"PRINT";case "PREPRESS":return"PREPRESS";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected FileRole for property "'+a+'", found: '+JSON.stringify(b));}}
function a7(a){this.id=a.id;this.version=a.version;this.D=a.D;this.user=a.user;this.ff=a.ff;this.ng=a.ng;this.wp=a.wp;this.product=a.product;this.kY=a.kY;this.Ve=a.Ve;this.mZ=a.mZ;this.ld=a.ld;this.wf=a.wf;this.wh=a.wh;this.mY=a.mY;this.zU=a.zU;this.$H=a.$H;this.currency=a.currency;this.status=a.status;this.OU=a.OU;this.wB=a.wB;this.gF=a.gF;this.NX=a.NX;this.gz=a.gz;this.document=a.document;this.AQ=a.AQ;this.files=a.files||[];this.Ie=a.Ie;this.LX=a.LX;this.PY=a.PY;this.QY=a.QY;this.Um=a.Um;this.zS=
a.zS;this.mC=a.mC||[]}f=a7.prototype;f.u=function(){return this.id};f.getVersion=function(){return this.version};f.ja=function(){return this.D};f.Oa=function(){return this.user};f.Mp=function(){return this.ng};f.Lp=function(){return this.product};f.jc=function(){return this.ld};f.mV=function(){return this.$H};f.nh=function(){return this.status};f.getDocument=function(){return this.document};f.ic=function(){return this.files};
function b7(a){return new a7({id:C("id",a),version:A("version",a),D:C("brand",a),user:C("user",a),ff:C("region",a),ng:C("productSku",a),wp:D("envelopeSku",a),product:F(Tda,"product",a),kY:F(Vda,"productDescription",a),Ve:A("copies",a),mZ:A("sheetCount",a),ld:A("pageCount",a),wf:A("creationDate",a),wh:A("priceCents",a),mY:A("productPriceCents",a),zU:B("envelopePriceCents",a),$H:A("shippingPriceCents",a),currency:C("currency",a),status:Pa(bea,"status",a),OU:D("failureMessage",a),wB:Pa(cea,"paymentStatus",
a),gF:Pa(K6,"exportStatus",a),NX:Qa(dea,"partnerStatus",a),gz:Ma("dimensionsFlipped",a),document:Oa($da,"document",a),AQ:F(eea,"shippingDetails",a),files:G(Z6,"files",a),Ie:D("invoice",a),LX:D("partner",a),PY:D("reprintParent",a),QY:Qa(fea,"reprintType",a),Um:Ma("finalized",a),zS:Ma("accepted",a),mC:G(gea,"sheets",a)})}
function bea(a,b){switch(b){case "CREATED":return"CREATED";case "PROCESSING":return"PROCESSING";case "FAILED":return"FAILED";case "SHIPPED":return"SHIPPED";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PrintOrderStatus for property "'+a+'", found: '+JSON.stringify(b));}}function fea(a,b){switch(b){case "UNCHARGED":return"UNCHARGED";case "CHARGED":return"CHARGED";default:throw new TypeError('expected ReprintType for property "'+a+'", found: '+JSON.stringify(b));}}
function hea(a,b){switch(b){case "PENDING":return"PENDING";case "SUSPENDED":return"SUSPENDED";case "APPROVED":return"APPROVED";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PrintReviewStatus for property "'+a+'", found: '+JSON.stringify(b));}}function iea(a,b){switch(b){case "PENDING":return"PENDING";case "PAID":return"PAID";case "EXEMPT":return"EXEMPT";default:throw new TypeError('expected PrintPaymentStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function cea(a,b){switch(b){case "PENDING":return"PENDING";case "PAID":return"PAID";case "EXEMPT":return"EXEMPT";default:throw new TypeError('expected PrintPaymentStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function dea(a,b){switch(b){case "RECEIVED":return"RECEIVED";case "ERRORS":return"ERRORS";case "IN_PRINTING":return"IN_PRINTING";case "IN_BINDERY":return"IN_BINDERY";case "PACKAGING":return"PACKAGING";case "SHIPPING":return"SHIPPING";case "SHIPPED":return"SHIPPED";case "HOLD":return"HOLD";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PartnerStatus for property "'+a+'", found: '+JSON.stringify(b));}}function jea(a){this.XL=a.XL;this.back=a.back}
function kea(a){return{front:db("front",a.XL),back:eb("back",a.back)}}function gea(a){return new jea({XL:A("front",a),back:B("back",a)})}function c7(a){this.Ud=a.Ud;this.Ja=a.Ja;this.BX=a.BX;this.MX=a.MX;this.pT=a.pT;this.d_=a.d_;this.e_=a.e_;this.LU=a.LU}c7.prototype.pl=function(){return this.Ja};
function eea(a){return new c7({Ud:F(d7,"address",a),Ja:Pa(V6,"shippingMethod",a),BX:Qa(lea,"packageType",a),MX:D("partnerShippingMethod",a),pT:D("carrier",a),d_:D("trackingNumber",a),e_:D("trackingUrl",a),LU:D("facility",a)})}function e7(a,b){switch(b){case "STANDARD":return"STANDARD";case "EXPRESS":return"EXPRESS";default:throw new TypeError('expected ShippingMethod for property "'+a+'", found: '+JSON.stringify(b));}}
function V6(a,b){switch(b){case "STANDARD":return"STANDARD";case "EXPRESS":return"EXPRESS";default:throw new TypeError('expected ShippingMethod for property "'+a+'", found: '+JSON.stringify(b));}}function lea(a,b){switch(b){case "LIGHT":return"LIGHT";case "FULL":return"FULL";default:throw new TypeError('expected PackageType for property "'+a+'", found: '+JSON.stringify(b));}}
function f7(a){this.name=a.name;this.zk=a.zk;this.sj=a.sj;this.Vd=a.Vd;this.Dh=a.Dh;this.rb=a.rb;this.uf=a.uf;this.kk=a.kk}f=f7.prototype;f.getName=function(){return this.name};f.wM=function(){return this.zk};f.xM=function(){return this.sj};f.bs=function(){return this.Vd};f.Oj=function(){return this.rb};f.yM=function(){return this.uf};f.sM=function(){return this.kk};
function g7(a){return{name:ib("name",a.name),street1:ib("street1",a.zk),street2:I("street2",a.sj),city:ib("city",a.Vd),subdivision:I("subdivision",a.Dh),countryCode:ib("countryCode",a.rb),zipCode:ib("zipCode",a.uf),phone:ib("phone",a.kk)}}function d7(a){return new f7({name:C("name",a),zk:C("street1",a),sj:D("street2",a),Vd:C("city",a),Dh:D("subdivision",a),rb:C("countryCode",a),uf:C("zipCode",a),kk:C("phone",a)})}
function h7(a){this.document=a.document;this.ng=a.ng;this.wp=a.wp;this.Ve=a.Ve;this.ld=a.ld;this.Ja=a.Ja;this.ec=a.ec;this.ff=a.ff;this.currency=a.currency;this.mC=a.mC||[];this.wd=a.wd}f=h7.prototype;f.getDocument=function(){return this.document};f.Mp=function(){return this.ng};f.jc=function(){return this.ld};f.pl=function(){return this.Ja};f.tv=function(){return this.ec};
function mea(a){return{document:cb.required("document",Zda(a.document)),productSku:ib("productSku",a.ng),envelopeSku:I("envelopeSku",a.wp),copies:db("copies",a.Ve),pageCount:eb("pageCount",a.ld),shippingMethod:lb(e7,"shippingMethod",a.Ja),shippingAddress:jb(g7,"shippingAddress",a.ec),region:ib("region",a.ff),currency:I("currency",a.currency),sheets:kb(kea,"sheets",a.mC),priceToken:I("priceToken",a.wd)}}function i7(a){this.order=a.order}i7.prototype.cn=function(){return this.order};
function nea(a){return new i7({order:Oa(b7,"order",a)})}function oea(a){return{fileRole:lb($6,"fileRole",a.IL),firstSheet:db("firstSheet",a.NL),lastSheet:db("lastSheet",a.qN),bucket:ib("bucket",a.bucket),key:ib("key",a.key)}}function j7(a){this.id=a.id;this.version=a.version;this.wB=a.wB;this.Ie=a.Ie;this.currency=a.currency;this.Ja=a.Ja;this.ec=a.ec;this.ng=a.ng;this.wp=a.wp;this.FY=a.FY;this.Ve=a.Ve;this.Um=a.Um;this.TY=a.TY;this.cY=a.cY;this.action=a.action}f=j7.prototype;f.u=function(){return this.id};
f.getVersion=function(){return this.version};f.pl=function(){return this.Ja};f.tv=function(){return this.ec};f.Mp=function(){return this.ng};
function pea(a){return{id:ib("id",a.id),version:eb("version",a.version),paymentStatus:mb(iea,"paymentStatus",a.wB),invoice:I("invoice",a.Ie),currency:I("currency",a.currency),shippingMethod:mb(e7,"shippingMethod",a.Ja),shippingAddress:jb(g7,"shippingAddress",a.ec),productSku:I("productSku",a.ng),envelopeSku:I("envelopeSku",a.wp),removeEnvelopeSku:hb("removeEnvelopeSku",a.FY),copies:eb("copies",a.Ve),finalized:hb("finalized",a.Um),reviewUpdate:jb(qea,"reviewUpdate",a.TY),prepressFile:jb(oea,"prepressFile",
a.cY),action:mb(rea,"action",a.action)}}function rea(a,b){switch(b){case "CANCEL":return"CANCEL";case "SUBMIT_TO_PARTNER":return"SUBMIT_TO_PARTNER";default:throw new TypeError('expected UpdateOrderAction for property "'+a+'", found: '+JSON.stringify(b));}}function qea(a){return{reviewStatus:lb(hea,"reviewStatus",a.dca),suspendReasons:$a.de("suspendReasons",a.tca),suspendComment:I("suspendComment",a.sca)}}function k7(a){this.order=a.order}k7.prototype.cn=function(){return this.order};
function sea(a){return new k7({order:Oa(b7,"order",a)})}function l7(a){this.id=a.id;this.Iq=a.Iq||[];this.JL=a.JL||[]}l7.prototype.u=function(){return this.id};function m7(a){this.order=a.order}m7.prototype.cn=function(){return this.order};function tea(a){return new m7({order:Oa(b7,"order",a)})}function n7(a){this.id=a.id;this.D=a.D;this.Ud=a.Ud}n7.prototype.u=function(){return this.id};n7.prototype.ja=function(){return this.D};
function o7(a){return new n7({id:C("id",a),D:C("brand",a),Ud:Oa(d7,"address",a)})}function p7(a){this.D=a.D;this.user=a.user}p7.prototype.ja=function(){return this.D};p7.prototype.Oa=function(){return this.user};function uea(a){this.qJ=a.qJ||[]}function vea(a){return new uea({qJ:G(o7,"addresses",a)})}function q7(a){this.id=a.id;this.D=a.D;this.user=a.user;this.Ud=a.Ud}q7.prototype.u=function(){return this.id};q7.prototype.ja=function(){return this.D};q7.prototype.Oa=function(){return this.user};
function wea(a){this.VY=a.VY;this.Ud=a.Ud}function xea(a){return new wea({VY:Oa(o7,"savedAddress",a),Ud:Oa(d7,"address",a)})}function r7(a){this.order=a.order;this.xd=a.xd}r7.prototype.cn=function(){return this.order};r7.prototype.rv=function(){return this.xd};function yea(a){return{order:ib("order",a.order),role:lb($6,"role",a.xd)}}function zea(a){this.zs=a.zs}function Aea(a){return new zea({zs:A("jobId",a)})}function s7(a){this.order=a.order;this.zs=a.zs}s7.prototype.cn=function(){return this.order};
function t7(a){this.status=a.status;this.url=a.url;this.files=a.files||[]}t7.prototype.nh=function(){return this.status};t7.prototype.na=function(){return this.url};t7.prototype.ic=function(){return this.files};function Bea(a){return new t7({status:Pa(K6,"status",a),url:D("url",a),files:G(Z6,"files",a)})}function u7(a){this.id=a.id;this.Uh=a.Uh||[]}u7.prototype.u=function(){return this.id};function Cea(a){return new u7({id:C("id",a),Uh:Ha.de("countries",a)})}function v7(a){this.fc=a.fc}
v7.prototype.Rz=function(){return this.fc};function Dea(a){this.JB=a.JB||[]}function Eea(a){return new Dea({JB:G(Cea,"regions",a)})}function Fea(a){this.KO=a.KO||new Map;this.sw=a.sw||new Map;this.IO=a.IO||new Map;this.vH=a.vH||new Map}function w7(a){return new Fea({KO:Sa(S6,"paperTypes",a),sw:Sa(R6,"paperSizes",a),IO:Sa(T6,"paperFinishes",a),vH:Sa(Q6,"productTypes",a)})}function x7(a){this.type=a.type;this.name=a.name}x7.prototype.lc=function(){return this.type};x7.prototype.getName=function(){return this.name};
function Q6(a){return new x7({type:Pa(N6,"type",a),name:C("name",a)})}function y7(a){this.type=a.type;this.weight=a.weight;this.TW=a.TW;this.KW=a.KW;this.name=a.name;this.description=a.description}y7.prototype.lc=function(){return this.type};y7.prototype.getName=function(){return this.name};y7.prototype.Ge=function(){return this.description};
function S6(a){return new y7({type:Pa(O6,"type",a),weight:A("weight",a),TW:B("minWeight",a),KW:B("maxWeight",a),name:C("name",a),description:C("description",a)})}function z7(a){this.vj=a.vj;this.Vj=a.Vj;this.JK=a.JK;this.IK=a.IK;this.GE=a.GE;this.name=a.name}z7.prototype.getName=function(){return this.name};function R6(a){return new z7({vj:A("widthMicrons",a),Vj:A("heightMicrons",a),JK:A("displayWidth",a),IK:A("displayHeight",a),GE:Pa(Gea,"displayUnits",a),name:D("name",a)})}
function Gea(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";default:throw new TypeError('expected PaperSizeUnits for property "'+a+'", found: '+JSON.stringify(b));}}function A7(a){this.finish=a.finish;this.name=a.name;this.description=a.description}A7.prototype.getName=function(){return this.name};A7.prototype.Ge=function(){return this.description};function T6(a){return new A7({finish:Pa(P6,"finish",a),name:C("name",a),description:C("description",a)})}
function B7(a){this.Ub=a.Ub;this.vb=a.vb;this.gz=a.gz;this.doctype=a.doctype}B7.prototype.qv=function(){return this.Ub};B7.prototype.Rj=function(){return this.vb};function Hea(a){return new B7({Ub:C("productType",a),vb:C("paperSize",a),gz:Ma("dimensionsFlipped",a),doctype:D("doctype",a)})}function C7(a){this.fc=a.fc}C7.prototype.Rz=function(){return this.fc};function Iea(a){this.oP=a.oP||[];this.uH=a.uH}function Jea(a){return new Iea({oP:G(Hea,"productSizes",a),uH:Oa(w7,"productAttributes",a)})}
function D7(a){this.Ad=a.Ad;this.ae=a.ae;this.vb=a.vb;this.ef=a.ef;this.Ub=a.Ub;this.oz=a.oz;this.hA=a.hA;this.Zv=a.Zv;this.fz=a.fz}D7.prototype.Rj=function(){return this.vb};D7.prototype.dn=function(){return this.ef};D7.prototype.qv=function(){return this.Ub};function Kea(a){return new D7({Ad:C("sku",a),ae:C("paper",a),vb:C("paperSize",a),ef:C("paperFinish",a),Ub:C("productType",a),oz:Ma("ecoFriendly",a),hA:Ma("hasEnvelope",a),Zv:A("maxPages",a),fz:Ma("dimensionsFlippable",a)})}
function Lea(a){this.Ad=a.Ad;this.Cb=a.Cb||[]}function Mea(a){return new Lea({Ad:C("sku",a),Cb:G(Yda,"prices",a)})}function Nea(a){this.Ad=a.Ad;this.lY=a.lY;this.Is=a.Is;this.Ds=a.Ds;this.Ot=a.Ot;this.currency=a.currency}function Oea(a){return new Nea({Ad:C("sku",a),lY:C("productPaperSize",a),Is:A("minQuantity",a),Ds:A("maxQuantity",a),Ot:A("unitPriceCents",a),currency:C("currency",a)})}function E7(a){this.Zc=a.Zc||[];this.AU=a.AU||[];this.zQ=a.zQ||[];this.wd=a.wd}E7.prototype.HF=function(){return this.Zc};
function Pea(a){return new E7({Zc:G(Mea,"products",a),AU:G(Oea,"envelopes",a),zQ:G(Wda,"shipping",a),wd:D("priceToken",a)})}function F7(a){this.fc=a.fc;this.currency=a.currency;this.Ub=a.Ub;this.Iq=a.Iq||[]}F7.prototype.Rz=function(){return this.fc};F7.prototype.qv=function(){return this.Ub};function G7(a){this.Zc=a.Zc||[];this.ff=a.ff;this.attributes=a.attributes;this.Cb=a.Cb}G7.prototype.HF=function(){return this.Zc};
function Qea(a){return new G7({Zc:G(Kea,"products",a),ff:C("region",a),attributes:Oa(w7,"attributes",a),Cb:F(Pea,"prices",a)})};function H7(a,b){a=a.find(function(a){return a.Is<=b&&b<=a.Ds});y(a,"No QuantityPrice available for the specified copies '{}'",b);return a.Ot}function I7(a,b){w(0<a.length,"Expected at least one ShippingPrice");a=a.filter(function(a){return a.DG<=b.pk&&b.pk<=a.wG}).filter(function(a){return a.Ja===b.Ja}).sort(function(a,b){return a.wh-b.wh})[0];if(null==a)throw Error("No shipping prices found for shipping method '"+b.Ja+"' and order quantity '"+b.pk+"'");return a};function D6(a){this.N=a;this.path="/print"}D6.prototype.iE=function(a){return qj(this.N,this.path+"/orders",mea(a)).catch(rj).get(0).then(La).then(nea)};D6.prototype.BI=function(a){return qj(this.N,this.path+"/orders/"+a.id,pea(a)).catch(rj).get(0).then(La).then(sea)};
D6.prototype.cn=function(a){var b=this.path+"/orders/"+a.id,c=[];0<a.Iq.length&&c.push("projection\x3d"+encodeURIComponent(a.Iq.toString()));0<a.JL.length&&c.push("fileRoles\x3d"+encodeURIComponent(a.JL.toString()));a=0<c.length?b+"?"+c.join("\x26"):b;return sj(this.N,a).catch(rj).get(0).then(La).then(tea)};
function Rea(a,b){var c=a.path+"/addresses";b=["brand\x3d"+encodeURIComponent(b.D),"user\x3d"+encodeURIComponent(b.user)].join("\x26");return sj(a.N,c+"?"+b).catch(rj).get(0).then(La).then(vea)}function Sea(a,b){return qj(a.N,a.path+"/orders/"+b.order+"/fileimports",yea(b)).catch(rj).get(0).then(La).then(Aea)}function Tea(a,b){return sj(a.N,a.path+"/orders/"+b.order+"/fileimports/"+b.zs).catch(rj).get(0).then(La).then(Bea)}
function M3(a){var b=new v7({fc:null}),b=[a.path+"/regions?",b.fc?"country\x3d"+encodeURIComponent(b.fc):""].join("");return sj(a.N,b).catch(rj).get(0).then(La).then(Eea)}function Uea(a){var b=new C7({fc:null}),b=a.path+"/products/sizes?"+[null!=b.fc?"country\x3d"+encodeURIComponent(b.fc):""].filter(function(a){return!!a}).join("\x26");return sj(a.N,b).catch(rj).get(0).then(La).then(Jea)}
function Vea(a,b){b=a.path+"/products?"+[null!=b.fc?"country\x3d"+encodeURIComponent(b.fc):"",null!=b.currency?"currency\x3d"+encodeURIComponent(b.currency):"",null!=b.Ub?"productType\x3d"+encodeURIComponent(b.Ub):"",0<b.Iq.length?"projection\x3d"+encodeURIComponent(b.Iq.toString()):""].filter(function(a){return!!a}).join("\x26");return sj(a.N,b).catch(rj).get(0).then(La).then(Qea)};function L0(){}function z3(a){a=a.map(function(a){return Wea(a)});return P.all(a).then(function(a){return a.every(function(a){return a})})}function Wea(a){var b=a.Hp(),c=a.nr.map(function(a){return a.validate(b,void 0)});return P.all(c).then(function(b){var c=a.Gp();b=la(b);for(var g=b.next();!g.done;g=b.next())if(g=g.value,!g.valid)return c.uk(g.message),!1;c.jg();return!0})};function K0(a){this.Xd=a.Xd;this.KS=a.KS||!1}
K0.prototype.validate=function(a){var b=null;if(0===a.length&&this.KS)return new P(function(a){return a({valid:!0,message:b})});255<=a.length?b=this.Xd.format("formValidatorInvalidEmailTooLong"):1>a.length?b=this.Xd.format("formValidatorInvalidEmailTooShort"):/^(([^<>()[\]\\.,;:\s@\']+(\.[^<>()[\]\\.,;:\s@\']+)*)|(\'.+\'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)||(b=this.Xd.format("formValidatorInvalidEmailSyntax"));return new P(function(a){return a({valid:null==
b,message:b})})};function J7(a){this.UM=a.UM}J7.prototype.validate=function(a){var b=null!==a&&void 0!==a&&("number"!==typeof a||!isNaN(a))&&("string"!==typeof a||/\S+/.test(a)),c=b?null:this.UM;return new P(function(a){return a({valid:b,message:c})})};function K7(a){this.Xd=a.Xd;this.PN=a.PN||0;this.maxLength=a.maxLength||Number.MAX_VALUE}K7.prototype.validate=function(a){var b=null;a.length<this.PN?b=this.Xd.format("formValidatorInvalidStringLengthTooShort",this.PN):a.length>this.maxLength&&(b=this.Xd.format("formValidatorInvalidStringLengthTooLong",this.maxLength));return new P(function(a){return a({valid:null==b,message:b})})};function haa(a,b,c){function d(a){var b=new Set;a.ia().forEach(function(a){if(100!==a.Fa&&!(a instanceof wC)){var c=a.pa();if(a.constructor===sC)for(var d=a.gg(),e=0;e<d;e++){var g=a.hn(e).clone().translate(c.F(),c.w());b.add(g)}else if(c){if(a=LC(a))if(c.translate(a.F(),a.w()),100===a.Fa)return;b.add(c)}}});return b}var e=a.kb();a=function(a,b){return b.map(function(b){b=y(a.O[b],"Cannot get bounding boxes for invalid page index {}.",b);return d(b)})}(a,b);var g={M7:Rg(e.sb).width,G7:Rg(e.sb).height,
xr:function(a,b){return Rg(a.sb).width*(O_.aJ/b.vj)}(e,c)};return a.every(function(a){return Xea(a,g)})}function Xea(a,b){function c(b,c){var d={origin:b,direction:[c[0]-b[0],c[1]-b[1]]};b=Array.from(a).map(function(a){return Yea(d,a)}).filter(function(a){return 2===a.length}).map(function(a){var b=a[0],c=a[1];a=(b+c)/2;b=1.04*(c-b)/2;return[a-b,a+b]});return Zea(new Set(b))}var d=-b.xr,e=b.M7+b.xr,g=b.G7+b.xr;b=-b.xr;return c([b,d],[e,d])&&c([e,d],[e,g])&&c([b,g],[e,g])&&c([b,d],[b,g])}
function Yea(a,b){var c=a.origin;a=a.direction;w(0===a[0]!==(0===a[1]),"axisAlignedRay must be an axis-aligned ray, but its direction vector is {}",a);if(0!==a[0]){if(c[1]<b.w()||c[1]>b.wa())return[];var d=(b.F()-c[0])/a[0];b=(b.Za()-c[0])/a[0];return d<b?[d,b]:[b,d]}if(c[0]<b.F()||c[0]>b.Za())return[];d=(b.w()-c[1])/a[1];b=(b.wa()-c[1])/a[1];return d<b?[d,b]:[b,d]}
function Zea(a){var b=[0,1];a=Array.from(a);a.sort(function(a,b){return a[0]-b[0]});for(var c=b[0],d=0;d<a.length;d++){var e=a[d];if(!(e[1]<c)){if(e[0]>c)break;c=e[1];if(c>=b[1])return!0}}return!1};function L7(a){this.Gy=a.Gy}L7.prototype.validate=function(a){var b=null;[/P\.?\s*O(\.|\s)\s*BOX/i,/POST\s+OFFICE\s+BOX/i].some(function(b){return b.test(a)})&&(b=this.Gy);return new P(function(a){return a({valid:null==b,message:b})})};function M7(a){eT.apply(this,arguments)}r(M7,eT);function N7(a){return new M7(a)}M7.prototype.mh=function(){return this.$el.find(".printableDoctypeOption__label").text().toString()};function $ea(a){soy.asserts.assertType(goog.isString(a.Kk)||a.Kk instanceof goog.soy.data.SanitizedContent,"cancelButtonText",a.Kk,"string|goog.soy.data.SanitizedContent");var b=a.Kk;soy.asserts.assertType(goog.isString(a.fp)||a.fp instanceof goog.soy.data.SanitizedContent,"confirmButtonText",a.fp,"string|goog.soy.data.SanitizedContent");var c=a.fp;soy.asserts.assertType(goog.isString(a.oq)||a.oq instanceof goog.soy.data.SanitizedContent,"moreInfoLinkText",a.oq,"string|goog.soy.data.SanitizedContent");
var d=a.oq;soy.asserts.assertType(goog.isString(a.bw)||a.bw instanceof goog.soy.data.SanitizedContent,"moreInfoLinkUrl",a.bw,"string|goog.soy.data.SanitizedContent");var e=a.bw;soy.asserts.assertType(a.mt instanceof soydata.SanitizedHtml||a.mt instanceof soydata.UnsanitizedText||goog.isString(a.mt),"saveACopyMessage",a.mt,"soydata.SanitizedHtml");var g=a.mt;soy.asserts.assertType(goog.isBoolean(a.wo)||1===a.wo||0===a.wo,"showCancelButton",a.wo,"boolean");var h=!!a.wo;soy.asserts.assertType(goog.isBoolean(a.xo)||
1===a.xo||0===a.xo,"showResizeForPrintIllustration",a.xo,"boolean");var k=!!a.xo;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var l=a.title;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var m=a.v;soy.asserts.assertType(null==a.JE||goog.isArray(a.JE),"doctypeOptions",a.JE,"?Array\x3c!soydata.SanitizedHtml|string\x3e|undefined");
var n=a.JE;soy.asserts.assertType(null==a.pp||a.pp instanceof soydata.SanitizedHtml||a.pp instanceof soydata.UnsanitizedText||goog.isString(a.pp),"doctypeSelectContent",a.pp,"?soydata.SanitizedHtml|string|undefined");a=a.pp;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"updateDoctype'+(m?" "+soy.$$escapeHtmlAttribute(m):"")+'"\x3e'+(k?'\x3cdiv class\x3d"updateDoctype__image"\x3e\x3c/div\x3e':"")+"\x3ch2 class\x3d'updateDoctype__title'\x3e"+soy.$$escapeHtml(l)+"\x3c/h2\x3e\x3cdiv\x3e"+
(n&&a?OS({v:"updateDoctype__printableDoctypeSelect",Rq:a,options:n}):"")+"\x3c/div\x3e\x3cp class\x3d'updateDoctype__error'\x3e\x3c/p\x3e\x3cdiv class\x3d\"updateDoctype__buttons\"\x3e"+(h?n_({v:"updateDoctype__buttonCancel buttonSecondary",text:b}):"")+n_({v:"updateDoctype__buttonConfirm buttonSubmittable",text:c})+'\x3c/div\x3e\x3cp class\x3d"updateDoctype__saveNote"\x3e'+soy.$$escapeHtml(g)+' \x3ca target\x3d"_blank" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(e))+'" class\x3d"updateDoctype__moreInfoLink"\x3e'+
soy.$$escapeHtml(d)+"\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e")};function O7(a,b){var c=this;hc.call(this,a);a.on("click",".updateDoctype__buttonConfirm",function(){c.trigger(P7)});a.on("click",".updateDoctype__buttonCancel",function(){c.trigger(Q7)});this.v8=b}r(O7,hc);
function afa(a){var b=a.w8.map(function(a){var b=$;soy.asserts.assertType(a.description instanceof goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"!soydata.SanitizedHtml|string");var e=a.description;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var g=a.label;
soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var h=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox__option printableDoctypeOption '+(h?" listbox__option--selected":"")+'" data-value\x3d"'+soy.$$escapeHtmlAttribute(a.value)+
'"\x3e\x3cdiv class\x3d"printableDoctypeOption__content"\x3e\x3cdiv class\x3d"printableDoctypeOption__label"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3cdiv class\x3d"printableDoctypeOption__description"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");b=b(a.toString());return XS(N7(b))});a=$($ea({JE:b,Kk:a.Kk,fp:a.fp,pp:a.pp,oq:a.oq,bw:a.bw,mt:a.mt,wo:a.wo,xo:a.xo,title:a.title}).toString());return bfa(a)}
function bfa(a){var b=US(a.find(".updateDoctype__printableDoctypeSelect"),{Mh:N7});return new O7(a,b)}function R7(a,b){a.$el.find(".updateDoctype__buttonConfirm").toggleClass("submitting",b)}O7.prototype.uk=function(a){var b=this.$el.find(".updateDoctype__error");b.html(a.toString());il(function(){b.addClass("updateDoctype__error--visible")})};O7.prototype.jg=function(){this.$el.find(".updateDoctype__error").removeClass("updateDoctype__error--visible")};var Q7="CANCEL",P7="CONFIRM";function S7(a,b){var c=this;this.view=b;this.j=a.j;this.wg=a.wg;this.jp=a.jp;this.Sa=a.Sa;this.jz=a.jz;this.qp=a.qp;this.i=a.i;this.wc=a.wc;this.Hq=a.Hq;this.Qs=a.Qs;this.mP=a.mP;b.on(Q7,function(){return c.IG()});b.on(P7,function(){return cfa(c)})}
function dfa(a){var b=a.Hq.map(function(b,c){return{label:b.Ub.name,description:T7(a.wc,b.vb),value:""+c,selected:0===c}}),b=afa({Kk:a.i.Kk(),fp:a.i.format("updateDoctypeUpdateFormatButtonText"),w8:b,oq:a.i.oq(),bw:"https://support.canva.com/canva-print/preparing-your-design-for-print/resizing-for-print/",mt:a.i.Ga("updateDoctypeSaveACopyMessageHtml"),wo:a.wo,xo:a.xo,title:a.i.format("updateDoctypeChoosePrintFormat"),pp:b&&b[0]?b[0].label:void 0}),c=new gT(b.v8);return{Bb:efa({j:a.j,wg:a.wg,jp:a.jp,
jz:a.jz,Sa:a.Sa,qp:a.qp,i:a.i,Qs:a.Qs,Hq:a.Hq,mP:c,wc:a.wc},b),view:b}}function efa(a,b){return new S7(a,b)}S7.prototype.IG=function(){var a=this.jp,b=this.wg,a=X(X(X(new Zl("print_resize_cancelled"),"section","editor"),"location",b),"template",a);this.j.va(a)};
function cfa(a){var b=parseInt(a.mP.rc(),10),c=a.Hq[b],d=c.me;a.view.jg();R7(a.view,!0);ffa(a,d);return gfa(a).then(function(){return a.Qs(c)}).then(function(){var b=a.jp,c=a.wg,b=X(X(X(X(new Zl("print_resize_succeeded"),"section","editor"),"location",c),"template",b),"target_template",d);a.j.va(b)}).then(function(){}).catch(function(){a.view.uk(a.i.Ga("updateDoctypeBackupErrorHtml","https://support.canva.com/troubleshooting"))}).catch(function(){var b=a.jp,c=a.wg,b=X(X(X(X(new Zl("print_resize_failed"),
"section","editor"),"location",c),"template",b),"target_template",d);a.j.va(b);a.view.uk(a.i.Ga("updateDoctypeResizeErrorHtml","https://support.canva.com/troubleshooting"))}).finally(function(){return R7(a.view,!1)})}function gfa(a){var b=a.i.format("updateDoctypeOriginalSizeDesignName",a.qp).substr(0,255),b=new At({id:a.jz.u(),title:b});return a.Sa.duplicate(b).catch(function(){throw new U7;})}
function ffa(a,b){var c=a.jp,d=a.wg;b=X(X(X(X(new Zl("print_resize_button_clicked"),"section","editor"),"location",d),"template",c),"target_template",b);a.j.va(b)}function U7(){}r(U7,Error);function L3(a,b){switch(a){case "US":return hfa.get(b);case "CA":return ifa.get(b);case "AU":return jfa.get(b);case "NZ":return kfa.get(b);case "EU":return lfa.get(b);case "MX":return mfa.get(b);case "IN":return nfa.get(b);default:throw Error("Unknown print region '"+a+"'.");}}
var hfa=new Map([["posterUS","POSTER"],["TABQqupS2LE","LETTERHEAD"],["resume","LETTERHEAD"],["usLetter","LETTERHEAD"],["foodDrinkMenu","FLYER"],["realEstateFlyer","FLYER"],["certificate","FLYER"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACjUwMYSIM","INVITATION"],["TACRzIDOAWk","INVITATION"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TACRsibVUu4","POSTCARD"],["TACRzKTiVOc",
"POSTCARD"],["TACRsaKlUIo","POSTCARD"],["TACRzCdizdA","POSTCARD"],["TACRsgErAyo","POSTCARD"]]),ifa=new Map([["posterUS","POSTER"],["TABQqupS2LE","LETTERHEAD"],["resume","LETTERHEAD"],["usLetter","LETTERHEAD"],["foodDrinkMenu","FLYER"],["realEstateFlyer","FLYER"],["certificate","FLYER"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACjUwMYSIM","INVITATION"],["TACRzIDOAWk","INVITATION"],["TACRzD6R1Mo",
"BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TACRsibVUu4","POSTCARD"],["TACRzKTiVOc","POSTCARD"],["TACRsaKlUIo","POSTCARD"],["TACRzCdizdA","POSTCARD"],["TACRsgErAyo","POSTCARD"]]),jfa=new Map([["TACiRRRQ1rQ","FLYER"],["TACixUyoqp0","FLYER"],["poster","POSTER"],["TABQqtmBi1w","LETTERHEAD"],["a4","LETTERHEAD"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TACjUwMYSIM","INVITATION"],["businessCard",
"BUSINESS_CARD"],["TABQqt5Z4RU","POSTCARD"],["TACjUzwty98","POSTCARD"]]),kfa=new Map([["TACiRRRQ1rQ","FLYER"],["TACixUyoqp0","FLYER"],["poster","POSTER"],["TABQqtmBi1w","LETTERHEAD"],["a4","LETTERHEAD"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TACjUwMYSIM","INVITATION"],["businessCard","BUSINESS_CARD"],["TABQqt5Z4RU","POSTCARD"],["TACjUzwty98","POSTCARD"]]),lfa=new Map([["poster","POSTER"],["TACRzD6R1Mo",
"BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TABQqtmBi1w","LETTERHEAD"],["a4","LETTERHEAD"],["TACiRRRQ1rQ","FLYER"],["TACixUyoqp0","FLYER"],["TACiRn71mUI","INVITATION"],["TACixRR28vY","INVITATION"],["card","INVITATION"],["TABQqt5Z4RU","POSTCARD"],["TACjUzwty98","POSTCARD"]]),mfa=new Map([["posterUS","POSTER"],["TABQqupS2LE","FLYER"],["resume","FLYER"],["usLetter","FLYER"],["foodDrinkMenu","FLYER"],["realEstateFlyer","FLYER"],["certificate","FLYER"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw",
"INVITATION"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACjUwMYSIM","INVITATION"],["TACRzIDOAWk","INVITATION"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TACRsibVUu4","POSTCARD"],["TACRzKTiVOc","POSTCARD"],["TACRsaKlUIo","POSTCARD"],["TACRzCdizdA","POSTCARD"],["TACRsgErAyo","POSTCARD"]]),nfa=new Map([["TACQ-jGq9fY","POSTER"]]);function ofa(a){return X(new Zl("print_checkout_payment"),"order_id",a)};function V7(a,b){switch(b){case "STANDARD":return a.format("printOrderShippingMethodStandardType");case "EXPRESS":return a.format("printOrderShippingMethodExpressType");default:throw Error("Expected a ShippingMethod, but got '"+b+"'");}}function W7(a,b){switch(b){case "STANDARD":return a.format("printOrderShippingMethodStandardDescription");case "EXPRESS":return a.format("printOrderShippingMethodExpressDescription");default:throw Error("Expected a ShippingMethod, but got '"+b+"'");}}
function T7(a,b){var c=b.JK,d=b.IK,e=b.name;switch(b.GE){case "INCHES":return null==e?a.Ga("printOrderPaperDimensionsInchesHtml",c,d):a.format("printOrderNamedPaperDimensionsInches",e,c,d);case "CENTIMETERS":return null==e?a.Ga("printOrderPaperDimensionsCentimetresHtml",c,d):a.format("printOrderNamedPaperDimensionsCentimetres",e,c,d);default:throw Error("paper dimensions not translated for units: "+b.GE);}};function X7(a){soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.description||a.description instanceof
goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"?soydata.SanitizedHtml|string|undefined");var d=a.description;soy.asserts.assertType(a.label instanceof goog.soy.data.SanitizedContent||a.label instanceof soydata.SanitizedHtml||a.label instanceof soydata.UnsanitizedText||goog.isString(a.label),"label",a.label,"!soydata.SanitizedHtml|string");var e=a.label;soy.asserts.assertType(null==
a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var g=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox__option orderSummaryOption'+(c?" "+soy.$$escapeHtmlAttribute(c):"")+(g?" listbox__option--selected":"")+'"'+(b?" "+soy.$$filterHtmlAttributes(b):
"")+' data-value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"orderSummaryOption__content"\x3e\x3cdiv class\x3d"orderSummaryOption__label"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e"+(d?'\x3cdiv class\x3d"orderSummaryOption__description"\x3e'+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+"\x3c/div\x3e\x3c/div\x3e")}
function Y7(a){soy.asserts.assertType(goog.isString(a.xi)||a.xi instanceof goog.soy.data.SanitizedContent,"shippingLabel",a.xi,"string|goog.soy.data.SanitizedContent");var b=a.xi;soy.asserts.assertType(goog.isString(a.da)||a.da instanceof goog.soy.data.SanitizedContent,"price",a.da,"string|goog.soy.data.SanitizedContent");a=a.da;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shippingSelectionLabel"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+soy.$$escapeHtml(b)+'\x3c/span\x3e\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+
soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e")};function Z7(a){eT.apply(this,arguments)}r(Z7,eT);function $7(a){return new Z7(a)}Z7.prototype.mh=function(){return soydata.VERY_UNSAFE.ordainSanitizedHtml(this.$el.find(".paperSizeOption__label").prop("outerHTML"))};function a8(a){eT.apply(this,arguments)}r(a8,eT);
function b8(a){var b=$;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(a.Ts instanceof goog.soy.data.SanitizedContent||a.Ts instanceof soydata.SanitizedHtml||a.Ts instanceof soydata.UnsanitizedText||goog.isString(a.Ts),"pageCountDescription",a.Ts,"!soydata.SanitizedHtml|string");var d=a.Ts;soy.asserts.assertType(goog.isString(a.rB)||a.rB instanceof goog.soy.data.SanitizedContent,
"pageCountLabel",a.rB,"string|goog.soy.data.SanitizedContent");var e=a.rB;soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var g=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml(X7({label:e,value:a.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-page-count-label\x3d"'+
soy.$$escapeHtmlAttribute(e)+'"'),v:c,description:d,selected:g}));b=b(a.toString());return c8(b)}function c8(a){return new a8(a)}a8.prototype.mh=function(){return this.$el.attr("data-page-count-label").toString()};function d8(a){eT.apply(this,arguments)}r(d8,eT);
function pfa(a){var b=$,c;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");c=a.v;soy.asserts.assertType(null==a.Nt||a.Nt instanceof goog.soy.data.SanitizedContent||goog.isString(a.Nt),"unitPrice",a.Nt,"null|string|undefined");var d=a.Nt;soy.asserts.assertType(goog.isString(a.jw)||a.jw instanceof goog.soy.data.SanitizedContent,"numberOfCopies",a.jw,"string|goog.soy.data.SanitizedContent");var e=a.jw;soy.asserts.assertType(goog.isString(a.da)||
a.da instanceof goog.soy.data.SanitizedContent,"price",a.da,"string|goog.soy.data.SanitizedContent");var g=a.da;soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var h=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=a.value;c=soydata.VERY_UNSAFE.ordainSanitizedHtml(X7({label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"orderQuantityOption__label"\x3e\x3cspan class\x3d"orderQuantityOption__copies"\x3e'+
soy.$$escapeHtml(a)+'\x3c/span\x3e\x3cspan class\x3d"orderQuantityOption__price"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e\x3c/div\x3e"),value:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-copies\x3d"'+soy.$$escapeHtmlAttribute(e)+'" data-price\x3d"'+soy.$$escapeHtmlAttribute(g)+'"'),v:c+" orderQuantityOption",description:d,selected:h}));b=b(c.toString());return e8(b)}function e8(a){return new d8(a)}
d8.prototype.mh=function(){var a=this.$el.attr("data-copies").toString(),b=this.$el.attr("data-price").toString();soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"copies",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==b||b instanceof goog.soy.data.SanitizedContent||goog.isString(b),"price",b,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"orderQuantitySelectionLabel"\x3e\x3cspan class\x3d"orderQuantitySelectionLabel__copies"\x3e'+
soy.$$escapeHtml(a)+"\x3c/span\x3e"+(b?'\x3cspan class\x3d"orderQuantitySelectionLabel__price"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e":"")+"\x3c/div\x3e")};function f8(a){eT.apply(this,arguments)}r(f8,eT);function g8(a){return new f8(a)}f8.prototype.mh=function(){return this.$el.attr("data-label").toString()};function h8(a){eT.apply(this,arguments)}r(h8,eT);function i8(a){return new h8(a)}h8.prototype.mh=function(){return this.$el.attr("data-label").toString()};function j8(a){eT.apply(this,arguments)}r(j8,eT);
function k8(a){var b=$,c;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");c=a.v;soy.asserts.assertType(goog.isString(a.xi)||a.xi instanceof goog.soy.data.SanitizedContent,"shippingLabel",a.xi,"string|goog.soy.data.SanitizedContent");var d=a.xi;soy.asserts.assertType(goog.isString(a.wt)||a.wt instanceof goog.soy.data.SanitizedContent,"shippingDescription",a.wt,"string|goog.soy.data.SanitizedContent");var e=a.wt;
soy.asserts.assertType(goog.isString(a.da)||a.da instanceof goog.soy.data.SanitizedContent,"price",a.da,"string|goog.soy.data.SanitizedContent");var g=a.da;soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var h=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=a.value;c=soydata.VERY_UNSAFE.ordainSanitizedHtml(X7({label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"shippingOption__label"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+
soy.$$escapeHtml(d)+'\x3c/span\x3e\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e\x3c/div\x3e"),value:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(d)+'" data-price\x3d"'+soy.$$escapeHtmlAttribute(g)+'"'),v:c,description:e,selected:h}));b=b(c.toString());return l8(b)}function l8(a){return new j8(a)}j8.prototype.mh=function(){return Y7({xi:this.$el.attr("data-label").toString(),da:this.$el.attr("data-price").toString()})};function m8(a){var b=this;hc.call(this,a);a.on("click",".licensesMore",function(){return b.trigger(n8)});a.on("change",".mediaLicenses__licenseSelect",function(){return b.trigger(o8)})}r(m8,hc);m8.prototype.DQ=function(a){var b=$(".licensesMore");a.yi(b)};var n8="CLICK_LICENSES_MORE",o8="LICENSE_SELECT";
function p8(a){soy.asserts.assertType(goog.isBoolean(a.ie)||1===a.ie||0===a.ie,"showOneTimeUse",a.ie,"boolean");soy.asserts.assertType(goog.isString(a.jd)||a.jd instanceof goog.soy.data.SanitizedContent,"oneTimeUse",a.jd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Lc)||a.Lc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Lc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.je)||1===a.je||0===a.je,"showRoyaltyFree",
a.je,"boolean");soy.asserts.assertType(goog.isString(a.Dc)||a.Dc instanceof goog.soy.data.SanitizedContent,"royaltyFree",a.Dc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Nc)||a.Nc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",a.Nc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Pg)||1===a.Pg||0===a.Pg,"showExtended",a.Pg,"boolean");soy.asserts.assertType(goog.isString(a.Gd)||a.Gd instanceof goog.soy.data.SanitizedContent,
"extended",a.Gd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Wd)||a.Wd instanceof goog.soy.data.SanitizedContent,"extendedDescription",a.Wd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.$d)||a.$d instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.$d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(a.Mj instanceof soydata.SanitizedHtml||a.Mj instanceof soydata.UnsanitizedText||goog.isString(a.Mj),
"fullInformationHtml",a.Mj,"soydata.SanitizedHtml");var b=a.Mj,b=soydata.VERY_UNSAFE.ordainSanitizedHtml(R1(a)+'\x3cp class\x3d"licensesDetails__fullInformation outro"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"),b=$(b.toString());qz.call(this,{className:"licensesPopOver",content:b,We:a.confirm,position:xp})}r(p8,qz);function q8(a,b){var c=this;this.view=b;this.Ab=a.Ab;this.Aa=a.Aa;this.Pa=a.Pa;this.qb=new Map([].concat(ma(new Map([["a","a"],["b","b"]]))));this.view.on(n8,function(){return c.dO()});this.view.on(o8,function(){throw Error("License selection not yet implemented.");})}function qfa(a){return{NA:Ue(a.Aa),ni:a.Ab.map(function(b){return rfa({media:b,Aa:a.Aa,Pa:a.Pa,qb:a.qb})})}}
q8.prototype.dO=function(){function a(a){return c.Ab.some(function(c){return b(c,a)})}function b(a,b){return a.Cw.some(function(a){return a.type==b})}var c=this,d={confirm:We(this.Aa),ie:a("ONE_USE"),jd:this.Pa.jd(),Lc:this.Pa.Lc(),je:a("ROYALTY_FREE"),Dc:this.Pa.Dc(),Nc:this.Pa.Nc(),Pg:a("EXTENDED"),Gd:this.Pa.Gd(),Wd:this.Pa.Wd(),$d:this.Pa.$d(),Mj:Xe(this.Pa,sfa)};this.view.DQ(new p8(d))};
function rfa(a){var b=0<a.media.zc.length,c=b?a.media.zc[0].type:null;return{F8:a.Aa.dt(),sg:a.media.sg,iN:!/\.png$/.test(a.media.sg),title:a.media.IN,Gr:a.Aa.Gr(a.media.$g),iH:c?r8(c,a.Pa):null,wz:b?tfa(a.media.zc[0].QN,a.Aa):null,ct:b?null:a.media.Cw.map(function(b){var c=a.Aa,g=a.Pa,h=a.qb.get(a.media.ba),c=c.wl(b.da),g=b.type?r8(b.type,g):null;return{selected:b.type===h,text:g+" - "+c,value:b.type}})}}
function r8(a,b){switch(a){case "ONE_USE":return b.jd();case "ROYALTY_FREE":return b.Dc();case "EXTENDED":return b.Gd();default:throw Error("Unknown LicenseType '"+a+"'.");}}function tfa(a,b){if(null==a||Infinity===a)return null;var c=moment.duration(a,"minutes");a=Math.floor(c.asHours());c=c.minutes();return a?b.format("paymentPageLicenseRemainingHours",a):Ve(b,c)}q8.prototype.destroy=function(){this.view.remove()};var sfa=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca href\x3d"https://about.canva.com/license-agreements/" target\x3d"_blank"\x3eabout.canva.com/license-agreements\x3c/a\x3e');function ufa(a,b){var c=this;this.yb=a;this.OW=b;this.yb.once("remove",function(){return c.OW.destroy()})}function vfa(a){return np(a.yb).then(function(){return a.OW.qb})};function s8(a,b){var c=this;this.view=b;this.fa=a.fa||null;this.aa=a.aa;this.gb=a.gb;this.yc=a.yc;this.ih=a.ih;this.qb=a.qb;this.Ab=a.Ab;this.Ia=a.Ia;this.ce=a.ce;this.dQ=a.dQ;this.FX=[];this.JG=null;this.view.on(t8,function(){return wfa(c)});this.view.on(u8,function(){c.eo();null!=c.JG&&c.JG()})}function xfa(a,b){return a.reduce(function(a,d){return a+(0<d.zc.length?0:v8(d,b).da)},0)}
function v8(a,b){var c=b.get(a.ba)||"ONE_USE";b=a.Cw.find(function(a){return a.type===c});return y(b||a.Cw[0],'No pricing options found for media "{}"',a.ba)}function yfa(a,b){return new s8(a,b)}s8.prototype.destroy=function(){this.view.remove()};
function zfa(a,b){a=a.Ab.filter(function(a){return 0===a.zc.length}.bind(a)).map(function(a){var b=v8(a,this.qb);return new fi({jq:new Yh({media:a.ba,version:a.ca,document:this.yc().id,ak:b.type})})}.bind(a));return[].concat([new fi({jP:new ai({order:b})}),new fi({kP:new ci({order:b})})],ma(a))}
function w8(a,b){function c(a,e){var g=this,h=this.yc();return wj(this.aa,new Fi({mode:"DESIGN",De:new Ei({document:h.id,Zb:h.version,O:b,Ub:"MEDIA"}),Y:a,limit:50})).then(function(a){if(!a.Y)return a.Zc;var b=Math.min(2*e,1E3);return P.delay(e).then(function(){return c.call(g,a.Y,b)}).then(function(b){return[].concat(ma(a.Zc),ma(b))})})}return c.call(a,null,50).then(function(a){return a.map(function(a){return a.media})})}
function x8(a,b){a.ce=b;y8(a,z8({fa:a.fa,gb:a.gb,qb:a.qb,Ab:a.Ab,ce:a.ce}))}s8.prototype.nv=function(){return this.Ab};function Afa(a,b,c){a.FX=b;a.ce=c;Bfa(a.view);return a.ih().then(function(){return w8(a,b)}).then(function(b){a.Ab=b;y8(a,z8({fa:a.fa,gb:a.gb,qb:a.qb,Ab:a.Ab,ce:a.ce}))})}s8.prototype.ND=function(a){return z8({fa:this.fa,qb:this.qb,Ab:this.Ab,ce:a}).em};
function z8(a){var b=a.ce.iY+a.ce.lP,c=a.fa&&a.fa.Yv||0,d=xfa(a.Ab,a.qb),e=Math.min(d,c),g=a.gb?Cfa({gb:a.gb,ce:a.ce}):0;return{Bm:c,Ej:e,yG:d,em:Number((d-e+b-g).toFixed(2)),EE:a.gb?{R0:g,gb:a.gb}:null,Rf:a.ce.lP}}
function Cfa(a){var b=[].concat(ma(new Set(a.gb.yD))).reduce(function(b,c){switch(c){case "PRINT_PRODUCT":return b+a.ce.iY;case "PRINT_SHIPPING":return b+a.ce.lP;default:throw Error("Cannot process discount of type '"+c+"'");}},0);switch(a.gb.type){case "AMOUNT":var c=y(a.gb.Vo,"AMOUNT discount must have an amount.");return Math.min(b,c.value);case "PERCENTAGE":return c=y(a.gb.vh,"PERCENTAGE discount must have a percentage.")/100,Number(Math.min(b,c*b).toFixed(2));default:throw Error("Unknown discount type '"+
a.gb.type+"'.");}}
function y8(a,b){var c=a.Ia.Ej(b.Ej);a.view.$el.find(".printOrderSummary__creditUsed").empty().append(c);c=pf(a.Ia,b.Bm);a.view.$el.find(".printOrderSummary__creditUsedLabel").empty().append(c);var c=a.view,d=a.Ia.da(b.yG);0!==b.yG?c.$el.find(".printOrderSummary__premiumImagesLink").show():c.$el.find(".printOrderSummary__premiumImagesLink").hide();c.$el.find(".printOrderSummary__premiumImagesTotalPrice").empty().append(d);c=a.Ia.da(b.em);a.view.$el.find(".printOrderSummary__orderTotalPrice").empty().append(c);c=
0<b.Rf?a.Ia.da(b.Rf):a.Ia.format("printOrderSummaryPriceFree");a.view.$el.find(".printOrderSummary__shippingPrice").empty().append(c);c=!!b.EE;a.view.$el.find(".printOrderSummary__couponDiscountInfo").toggleClass("printOrderSummary__info--hidden",!c);if(b.EE){c=a.view;a:{var e=b.EE.gb,d=a.Ia,g=e.bh,h=new Set(e.yD),h=1===h.size&&h.has("PRINT_SHIPPING")?d.format("printOrderSummaryDiscountShipping"):1===h.size&&h.has("PRINT_PRODUCT")?d.format("printOrderSummaryDiscountPrints"):d.format("printOrderSummaryDiscountOrder");
switch(e.type){case "PERCENTAGE":e=y(e.vh,"PERCENTAGE discount must have a percentage.");d=d.format("printOrderSummaryPercentageCouponDiscountLabel",g,e,h);break a;case "AMOUNT":e=y(e.Vo,"AMOUNT discount must have an amount.");d=d.format("printOrderSummaryAmountCouponDiscountLabel",g,e.value,h);break a;default:throw Error("Unknown discount type "+e.type+".");}}c.$el.find(".printOrderSummary__couponDiscountLabel").empty().append(d);c=a.Ia.da(b.EE.R0);a.view.$el.find(".printOrderSummary__couponDiscountAmount").empty().append(c)}c=
a.view;0<b.yG?c.slideDown(c.$el.find(".printOrderSummary__premiumImagesInfo")):c.slideUp(c.$el.find(".printOrderSummary__premiumImagesInfo"));a=a.view;b.Ej?a.slideDown(a.$el.find(".printOrderSummary__creditInfo")):a.slideUp(a.$el.find(".printOrderSummary__creditInfo"))}function wfa(a){A8(a.view,!0);w8(a,a.FX).then(function(b){a.dQ({Ab:b,qb:new Map})}).finally(function(){return A8(a.view,!1)})}s8.prototype.eo=function(){this.gb=null;y8(this,z8({fa:this.fa,gb:this.gb,qb:this.qb,Ab:this.Ab,ce:this.ce}))};
function Dfa(a,b){w(!a.JG,"onDiscountRemoved: listener already registered");a.JG=b};function B8(a){var b=this;hc.call(this,a);this.$el.on("click",".printOrderSummary__premiumImagesLink",function(a){a.preventDefault();$(a.currentTarget).hasClass("printOrderSummary__premiumImagesLink--loading")||b.trigger(t8)});this.$el.on("click",".printOrderSummary__removeCouponLink",function(a){a.preventDefault();b.trigger(u8)})}r(B8,hc);function A8(a,b){a.$el.find(".printOrderSummary__premiumImagesLink").toggleClass("printOrderSummary__premiumImagesLink--loading",b)}
B8.prototype.slideDown=function(a){a.hasClass("printOrderSummary__info--hidden")&&(a.css("display","none"),a.removeClass("printOrderSummary__info--hidden"),a.slideDown())};B8.prototype.slideUp=function(a){a.slideUp(function(){a.addClass("printOrderSummary__info--hidden");a.css("display","")})};
function Bfa(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimage src\x3d"https://static.canva.com/static/images/loading_spinner_dark.png" /\x3e').toString());a.$el.find(".printOrderSummary__premiumImagesTotalPrice").empty().append(b)}var t8="CLICK_PREMIUM_IMAGES_LINK",u8="REMOVE_COUPON";function Efa(a){soy.asserts.assertType(goog.isString(a.bd)||a.bd instanceof goog.soy.data.SanitizedContent,"buttonText",a.bd,"string|goog.soy.data.SanitizedContent");var b=a.bd;soy.asserts.assertType(goog.isString(a.ul)||a.ul instanceof goog.soy.data.SanitizedContent,"inputPlaceholder",a.ul,"string|goog.soy.data.SanitizedContent");var c=a.ul;soy.asserts.assertType(null==a.Yg||a.Yg instanceof goog.soy.data.SanitizedContent||goog.isString(a.Yg),"buttonClasses",a.Yg,"null|string|undefined");var d=a.Yg;
soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var e=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var g=a.disabled;soy.asserts.assertType(null==a.vA||a.vA instanceof goog.soy.data.SanitizedContent||goog.isString(a.vA),"inputClasses",a.vA,"null|string|undefined");var h=a.vA;soy.asserts.assertType(null==
a.dG||a.dG instanceof goog.soy.data.SanitizedContent||goog.isString(a.dG),"inputValue",a.dG,"null|string|undefined");a=a.dG;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"inputWithButton'+(e?" "+soy.$$escapeHtmlAttribute(e):"")+'"\x3e'+K1({v:"inputWithButton__input "+h,disabled:g,placeholder:c,value:a})+n_({v:"inputWithButton__button buttonSecondary "+d,disabled:g,text:b})+"\x3c/div\x3e")};function C8(a,b){var c=this;hc.call(this,a);this.Zi=b;a.on("click",".paymentForm__applyCouponButton",function(){c.trigger(D8)})}r(C8,hc);function E8(a,b){w1(a.$el.find(".paymentForm__cardInputContainer")).uk(b)}function F8(a,b){w1(a.$el.find(".paymentForm__couponInputContainer")).uk(b)}function G8(a){w1(a.$el.find(".paymentForm__couponInputContainer")).jg()}C8.prototype.Sz=function(){return this.$el.find(".paymentForm__couponCodeInput").val().toString().trim()};
function H8(a,b){a.$el.find(".paymentForm__applyCouponButton").toggleClass("submitting",b)}var D8="APPLY_COUPON";function I8(a,b,c){var d=this;this.view=b;this.td=c;this.fa=a.fa;this.gb=null;this.aa=a.aa;this.ua=a.ua;this.ma=a.ma;this.Ya=a.Ya;this.bq=!1;this.Aa=a.Aa;this.Lf=a.Lf;Dfa(this.Lf,function(){return d.eo()});this.view.on(D8,function(){return Ffa(d)})}f=I8.prototype;f.destroy=function(){this.td.remove();this.view.remove()};f.sk=function(a){this.td.sk(a)};
f.EB=function(a){var b=this;return P.resolve().then(function(){Fa(!b.bq,"Cannot pay invoice while processing a payment");b.bq=!0;var c=!1;w1(b.view.$el.find(".paymentForm__cardInputContainer")).jg();G8(b.view);return b.GN().then(function(){return b.hE(a)}).then(function(a){return Gfa(b,a.Ie)}).then(function(a){return b.nH(a)}).then(function(){c=!0}).catch(J8,function(){var a=b.Aa.Ga("paymentPageDiscountErrorHtml","https://support.canva.com/troubleshooting");F8(b.view,a)}).catch(KT,function(){return b.fA()}).catch(oj,
function(a){return b.Uj(a)}).catch(function(){return b.fA()}).then(function(){return c}).finally(function(){b.bq=!1})})};f.hE=function(a){a=new Qh({D:this.ua,items:zfa(this.Lf,a),currency:"USD"});return this.aa.hE(a)};function Gfa(a,b){return a.gb?xj(a.aa,new gi({Ie:b,gb:a.gb.id,eo:!1})).catch(function(){throw new J8;}).then(function(){return b}):P.resolve(b)}f.nH=function(a){return xj(this.aa,new gi({Ie:a,action:"PAY_SYNCHRONOUS",eo:!1}))};
f.GN=function(){var a=this;return P.resolve().then(function(){if(K8(a.fa?a.fa.Vh:null))return a.td.pM()})};function K8(a){if(!a)return!0;var b=new Date,c=b.getUTCMonth()+1,b=b.getUTCFullYear();return a.Uu<b||a.Uu===b&&a.dF<c}f.fA=function(){var a=Te(this.Aa);E8(this.view,a)};f.Uj=function(a){a=PT(this.Ya,a);E8(this.view,a)};
function Ffa(a){function b(){var a=new Ni({D:this.ua,user:this.ma,bh:this.view.Sz()});return qj(this.aa.N,"/billing/discounts",{brand:ib("brand",a.D),user:ib("user",a.user),couponCode:ib("couponCode",a.bh)}).catch(rj).get(0).then(La).then(Pi).then(function(a){return a.gb})}G8(a.view);H8(a.view,!0);(function(){var a=new Qi({D:this.ua,user:this.ma,bh:this.view.Sz(),limit:1});return yj(this.aa,a).then(function(a){return a.GK[0]})}).call(a).then(function(c){return c||b.call(a)}).then(function(b){a.gb=
b;var d=a.Lf;d.gb=b;y8(d,z8({fa:d.fa,gb:d.gb,qb:d.qb,Ab:d.Ab,ce:d.ce}));a.view.$el.find(".paymentForm__couponCodeInput").val("")}).catch(function(){var b=a.Aa.format("paymentPageCouponError");F8(a.view,b)}).finally(function(){return H8(a.view,!1)})}f.eo=function(){this.gb=null};function J8(){}r(J8,Error);function L8(a){switch(a){case "POSTER":return{GB:[1,2,3,4,5,6,7,8,9,10],Iu:1};case "BUSINESS_CARD":return{GB:[50,100,150,200,250,500,1E3,1500,2E3],Iu:50};case "POSTCARD":return{GB:[1,5,10,25,50,100,150,200,250,500,1E3],Iu:50};case "LETTERHEAD":return{GB:[25,50,100,150,200,250,500,1E3],Iu:25};case "FLYER":case "INVITATION":return{GB:[1,5,10,25,50,100,150,200,250,500,1E3],Iu:25};default:throw Error("Expected PrintProductType, found "+a);}}function M8(a){return L8(a).GB};function X0(a){gc.apply(this,arguments)}r(X0,gc);function N8(a){return a.$el.find(".page--printMarkingsEnabled").toArray().map(function(a){return new O8($(a))})}X0.prototype.rt=function(a){N8(this).forEach(function(b){return b.rt(a)})};X0.prototype.jC=function(a){N8(this).forEach(function(b){return b.jC(a)})};function O8(a){gc.apply(this,arguments)}r(O8,gc);O8.prototype.rt=function(a){this.$el.find(".page__bleedAreaLine").toggleClass("page__printLine--highlight",a)};
O8.prototype.jC=function(a){this.$el.find(".page__safeAreaLine").toggleClass("page__printLine--highlight",a)};function P8(a){gc.apply(this,arguments)}r(P8,gc);function Q8(a,b,c){w(!R8(a,b),"Cannot add page with name {}. A page with that name already exists.",b);b=$(S8({name:b}).toString());b=new T8(b);b.po(c);a.$el.append(b.$el)}
function U8(a,b){return new P(function(c){var d=Hfa(a),e=a.R(b);y(e,"No page with name the name '{}' exists.",b);var g=d.o();a.ea(g);il(function(){a.ut(!0);e.ut(!0);d.ut(!0);var b=e.o(),b=b===g?P.resolve():Ifa(a,b);d.vt(!1);e.vt(!0);b=b.then(function(){d.ut(!1);e.ut(!1);a.ut(!1);a.$el.height("")});c(b)})})}function R8(a,b){return 0<a.$el.children('[data-page-name\x3d"'+b+'"]').length}
P8.prototype.R=function(a){var b=this.$el.children('[data-page-name\x3d"'+a+'"]');w(2>b.length,"Must contain at most one page with name '{}', but contains {}",a,b.length);return 1===b.length?new T8(b):null};P8.prototype.Fb=function(){return this.$el.children(".pagesPanel__page").toArray().map(function(a){return new T8($(a))})};function Hfa(a){a=a.$el.children(".pagesPanel__page--visible");w(1===a.length,"There must be exactly one current page, but there are {}",a.length);return new T8(a)}
P8.prototype.ea=function(a){this.$el.height(a)};P8.prototype.ut=function(a){this.$el.toggleClass("pagesPanel--swapping",a)};function Ifa(a,b){var c=Cf(a.$el[0]);a.ea(b);return c}function T8(a){gc.apply(this,arguments)}r(T8,gc);f=T8.prototype;f.getName=function(){return this.$el.attr("data-page-name").toString()};f.po=function(a){this.$el.empty();this.$el.append(a)};f.qh=function(){return this.$el.hasClass("pagesPanel__page--visible")};
f.vt=function(a){this.$el.toggleClass("pagesPanel__page--visible",a)};f.ut=function(a){this.$el.toggleClass("pagesPanel__page--swapping",a)};f.o=function(){return this.$el.outerHeight()};function V8(a){soy.asserts.assertType(a.O instanceof soydata.SanitizedHtml||a.O instanceof soydata.UnsanitizedText||goog.isString(a.O),"pages",a.O,"soydata.SanitizedHtml");var b=a.O;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.zv||goog.isBoolean(a.zv)||1===a.zv||0===a.zv,"horizontal",a.zv,"boolean|null|undefined");a=a.zv;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"pagesPanel'+
(c?" "+soy.$$escapeHtmlAttribute(c):"")+(a?" pagesPanel--horizontal":"")+'"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e")}
function S8(a){soy.asserts.assertType(goog.isString(a.name)||a.name instanceof goog.soy.data.SanitizedContent,"name",a.name,"string|goog.soy.data.SanitizedContent");var b=a.name;soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,
"visible",a.visible,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"pagesPanel__page'+(a.visible?" pagesPanel__page--visible":"")+'" data-page-name\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e'+(c?soy.$$escapeHtml(c):"")+"\x3c/div\x3e")};function W8(a){gc.apply(this,arguments)}r(W8,gc);function Z0(){var a=$(".editorSideDrawer");return new W8(a)}W8.prototype.vt=function(a){if(a===this.qh())return P.resolve();this.$el.toggleClass("editorSideDrawer--hidden",!a);return Cf(this.$el[0])};W8.prototype.po=function(a){this.$el.find(".editorSideDrawer__content").empty().append(a)};W8.prototype.qh=function(){return!this.$el.hasClass("editorSideDrawer--hidden")};W8.prototype.tr=function(a){return a(this.$el.find(".editorSideDrawer__content"))};
function X8(a,b){a.$el.find(".editorSideDrawer__loadingSpinnerContainer").toggleClass("editorSideDrawer__loadingSpinnerContainer--loading",b)};function Jfa(a){var b=goog.asserts.assertObject(a.i,"expected parameter 'messages' of type [addAdditionalAddressFieldButtonText: string, cityLabel: string, contactNumberLabel: string, countryLabel: string, fullNameLabel: string, stateLabel: string, streetAddressLabel: string, zipcodeLabel: string].");soy.asserts.assertType(null==a.Ud||goog.isObject(a.Ud),"address",a.Ud,"null|undefined|{city: string, countryCode: string, name: string, phone: string, street1: string, street2: (null|string|undefined), subdivisionCode: (null|string|undefined), zipCode: string}");
var c=a.Ud,d=goog.asserts.assertArray(a.bE,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");soy.asserts.assertType(null==a.Ct||goog.isArray(a.Ct),"subdivisionOptions",a.Ct,"?Array\x3c{disabled: (boolean|null|undefined), selected: (boolean|null|undefined), text: string, value: (null|string|undefined)}\x3e|undefined");a=a.Ct;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressDetails__address addressDetails__shippingAddress"\x3e\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+
q1({v:"addressDetailsAddress__nameInput",label:b.YL,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+K1({value:null==c?null:c.name}))})+q1({v:"addressDetailsAddress__phoneInput",label:b.cK,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+K1({value:null==c?null:c.kk}))})+"\x3c/div\x3e"+q1({v:"addressDetailsAddress__street1Input",label:b.VQ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+K1({value:null==c?null:c.zk}))})+s1({v:"addressDetailsAddress__hiddenAddressInput",
content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+q1({v:"addressDetailsAddress__street2Input",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+K1({value:null==c?null:c.sj}))}))})+s1({v:"addressDetailsAddress__street2ButtonContainer",visible:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+q1({input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cbutton class\x3d"button buttonLink addressDetailsAddress__expandAddressButton"\x3e'+
KX()+soy.$$escapeHtml(b.oJ)+"\x3c/button\x3e")}))})+'\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+q1({v:"addressDetailsAddress__cityInput",label:b.SJ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+K1({value:null==c?null:c.Vd}))})+q1({v:"addressDetailsAddress__country",label:b.hK,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+m_({options:d,disabled:1>=d.length}))})+'\x3c/div\x3e\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+(a?q1({v:"addressDetailsAddress__subdivision",
label:b.TQ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+m_({v:"addressDetailsAddress__subdivisionSelect",options:a}))}):"")+q1({v:"addressDetailsAddress__zipCodeInput",label:b.ZR,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+K1({value:null==c?null:c.uf}))})+"\x3c/div\x3e\x3c/div\x3e")}
function Y8(a){var b=goog.asserts.assertObject(a.Ud,"expected parameter 'address' of type [city: string, countryName: string, name: string, phone: string, street1: string, street2: null|string, subdivisionName: null|string, zipCode: string].");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");a=a.v;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressSummary'+(a?" "+soy.$$escapeHtmlAttribute(a):
"")+'"\x3e\x3cdiv class\x3d"addressSummary__column"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b.name)+'\x3c/div\x3e\x3cdiv class\x3d"addressSummary__phone"\x3e'+soy.$$escapeHtml(b.kk)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"addressSummary__column"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b.zk)+"\x3c/div\x3e"+(b.sj?"\x3cdiv\x3e"+soy.$$escapeHtml(b.sj)+"\x3c/div\x3e":"")+"\x3cdiv\x3e"+soy.$$escapeHtml(b.Vd)+"\x3c/div\x3e"+(b.OZ?"\x3cdiv\x3e"+soy.$$escapeHtml(b.OZ)+"\x3c/div\x3e":"")+"\x3cdiv\x3e"+soy.$$escapeHtml(b.uf)+
"\x3c/div\x3e\x3cdiv\x3e"+soy.$$escapeHtml(b.c2)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")};function Z8(a){var b=this;hc.call(this,a);a.on("click",".addressDetailsAddress__expandAddressButton",function(a){a=new $8($(a.target).closest(".addressDetails__address"));b.trigger(a9,a)});a.on("change",".addressDetailsAddress__country select",function(a){a=new $8($(a.target).closest(".addressDetails__address"));b.trigger(b9,a.Oj())})}r(Z8,hc);function c9(a){return new $8(a.$el.find(".addressDetails__shippingAddress"))}var a9="CLICK_ADD_APARTMENT",b9="CHANGE_COUNTRY";
function $8(a){gc.apply(this,arguments)}r($8,gc);f=$8.prototype;f.bs=function(){return this.$el.find(".addressDetailsAddress__cityInput .textInput").val().toString().trim()};f.getName=function(){return this.$el.find(".addressDetailsAddress__nameInput .textInput").val().toString().trim()};f.sM=function(){return this.$el.find(".addressDetailsAddress__phoneInput .textInput").val().toString().trim()};f.wM=function(){return this.$el.find(".addressDetailsAddress__street1Input .textInput").val().toString().trim()};
f.xM=function(){return this.$el.find(".addressDetailsAddress__street2Input .textInput").val().toString().trim()};function d9(a){a=a.$el.find(".addressDetailsAddress__subdivision select");return a.find("option").filter(":selected").is("[value]")?a.val().toString():null}f.yM=function(){return this.$el.find(".addressDetailsAddress__zipCodeInput .textInput").val().toString().trim()};f.Oj=function(){return this.$el.find(".addressDetailsAddress__country select").val()};function e9(a,b){var c=this;this.view=b;this.ua=a.ua;this.ag=a.ag;this.ej=a.ej;this.ts=a.ts;this.El=a.El;this.cr=a.cr;this.Vw=a.Vw;this.ma=a.ma;this.Na=a.Na;this.S$=Kfa(this,{ag:a.ag,ts:a.ts,El:a.El,cr:a.cr});this.view.on(a9,function(a){a.$el.find(".addressDetailsAddress__hiddenAddressInput").addClass("settingContainer__hiddenInputs--visible");a.$el.find(".addressDetailsAddress__street2ButtonContainer").removeClass("settingContainer__hiddenInputs--visible")});this.view.on(b9,function(a){if(!c.ts){var b=
D1({rb:a,Lg:c.Vw});a=c.view;b=$(m_({options:b,v:"addressDetailsAddress__subdivisionSelect"}).toString());a.$el.find(".addressDetailsAddress__subdivisionSelect").replaceWith(b)}})}
function Lfa(a){var b=null!=a.ec?$w("countryCode",a.ec.rb):null,c=-1!==["NZ","EU"].indexOf(a.jY),d=b&&a.Uh.has(b)?{Vd:a.ec.Vd,rb:a.ec.rb,name:a.ec.name,kk:a.ec.kk,zk:a.ec.zk,sj:a.ec.sj,b$:a.ec.Dh,uf:a.ec.uf}:null,e=b&&a.Uh.has(b)?b:Array.from(a.Uh)[0],b=C1({Uh:a.Uh,u9:e}),g;c||(g=D1({rb:e,Lg:a.$c.Vw(),QH:d&&d.b$}));var c=a.v,h={O0:{oJ:a.$c.oJ(),SJ:a.$c.SJ(),cK:a.$c.cK(),hK:a.$c.hK(),YL:a.$c.YL(),TQ:a.$c.TQ(),VQ:a.$c.VQ(),ZR:a.Uh.has("US")?a.$c.ZR():a.$c.format("addressDetailsPostcodeLabel")},N0:a.$c.heading(),
WP:a.$c.WP(),px:a.Cc.px()},e=a.Me.sc(4,5),k=g,l=a.sba;g=$;soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"classes",c,"null|string|undefined");h=goog.asserts.assertObject(h,"expected parameter 'messages' of type [addressDetailsHeading: string, addressMessages: [addAdditionalAddressFieldButtonText: string, cityLabel: string, contactNumberLabel: string, countryLabel: string, fullNameLabel: string, stateLabel: string, streetAddressLabel: string, zipcodeLabel: string], saveAddressLabel: string, shippingAddressHeading: string].");
soy.asserts.assertType(null==d||goog.isObject(d),"shippingAddress",d,"null|undefined|{city: string, countryCode: string, name: string, phone: string, street1: string, street2: (null|string|undefined), subdivisionCode: (null|string|undefined), zipCode: string}");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",e,"string|goog.soy.data.SanitizedContent");b=goog.asserts.assertArray(b,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
soy.asserts.assertType(null==k||goog.isArray(k),"subdivisionOptions",k,"?Array\x3c{disabled: (boolean|null|undefined), selected: (boolean|null|undefined), text: string, value: (null|string|undefined)}\x3e|undefined");soy.asserts.assertType(null==l||goog.isBoolean(l)||1===l||0===l,"hideSaveAddress",l,"boolean|null|undefined");d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressDetails'+(c?" "+soy.$$escapeHtmlAttribute(c):"")+'"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+
soy.$$escapeHtml(e)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(h.N0)+"\x3c/h1\x3e\x3c/div\x3e"+o1({heading:h.px,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+p1({Ua:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+Jfa({i:h.O0,Ud:d,bE:b,Ct:k})+(l?"":q1({input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3clabel\x3e\x3cinput type\x3d"checkbox" class\x3d"addressDetails__saveAddressCheckbox"/\x3e'+soy.$$escapeHtml(h.WP)+
"\x3clabel\x3e")})))}))})+"\x3c/div\x3e");d=g(d.toString());d=new Z8(d);b=a.ua;c=a.ag;e=a.ej;g=a.jY;var k=a.El,l=a.Na,h=a.$c.Vw(),m=a.cr;a=a.ma;return{Bb:new e9({ua:b,ag:c,ej:e,ts:-1!==["NZ","EU"].indexOf(g),El:k,Na:l,Vw:h,cr:m,ma:a},d),view:d}}
function Kfa(a,b){var c={Gp:function(){return w1(c9(a.view).$el.find(".addressDetailsAddress__subdivision"))},Hp:function(){return d9(c9(a.view))},nr:[b.ag]};return[].concat([{Gp:function(){return w1(c9(a.view).$el.find(".addressDetailsAddress__cityInput"))},Hp:function(){return c9(a.view).bs()},nr:[b.ag]},{Gp:function(){return w1(c9(a.view).$el.find(".addressDetailsAddress__nameInput"))},Hp:function(){return c9(a.view).getName()},nr:[b.ag]},{Gp:function(){return w1(c9(a.view).$el.find(".addressDetailsAddress__phoneInput"))},
Hp:function(){return c9(a.view).sM()},nr:[b.ag]},{Gp:function(){return w1(c9(a.view).$el.find(".addressDetailsAddress__street1Input"))},Hp:function(){return c9(a.view).wM()},nr:[b.ag,b.cr,b.El]},{Gp:function(){return w1(c9(a.view).$el.find(".addressDetailsAddress__street2Input"))},Hp:function(){return c9(a.view).xM()},nr:[b.cr,b.El]}],ma(b.ts?[]:[c]),[{Gp:function(){return w1(c9(a.view).$el.find(".addressDetailsAddress__zipCodeInput"))},Hp:function(){return c9(a.view).yM()},nr:[b.ag]}])}
e9.prototype.tv=function(){var a=c9(this.view),b;this.ts||(b=y(d9(a),"subdivision must be present"));return new f7({Vd:a.bs(),rb:a.Oj(),name:a.getName(),kk:a.sM(),zk:a.wM(),sj:a.xM(),Dh:b,uf:a.yM()})};
function Mfa(a){if(!a.view.$el.find(".addressDetails__saveAddressCheckbox")[0].checked)return P.resolve();var b=new q7({D:a.ua,user:a.ma,Ud:a.tv()});a=a.Na;return qj(a.N,a.path+"/addresses/"+b.D,{id:I("id",b.id),brand:I("brand",b.D),user:I("user",b.user),address:cb.required("address",g7(b.Ud))}).catch(rj).get(0).then(La).then(xea)}e9.prototype.destroy=function(){this.view.remove()};function f9(a){soy.asserts.assertType(a.Nr instanceof goog.soy.data.SanitizedContent||a.Nr instanceof soydata.SanitizedHtml||a.Nr instanceof soydata.UnsanitizedText||goog.isString(a.Nr),"desc",a.Nr,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3clabel class\x3d"designProofReview__checkboxLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"designProofReview__checkbox" /\x3e\x3cspan class\x3d"designProofReview__checkboxDescription"\x3e'+soy.$$escapeHtml(a.Nr)+"\x3c/span\x3e\x3c/label\x3e")}
;function g9(a){var b=this;hc.call(this,a);this.$el.on("change",".designProofReview__checkbox",function(){b.trigger(h9)});this.$el.on("click",".designProofReview__checkoutButton",function(){b.trigger(i9)});this.$el.on("click",".designProofReview__supportLink",function(){b.trigger(j9)})}r(g9,hc);function Nfa(a){var b=$(i1({v:"designProofReview__progressbar",progress:0,DB:n1}).toString()),b=k1(b);a.$el.find(".designProofReview__progressbarContainer").prepend(b.$el)}
g9.prototype.iR=function(a){var b=this.$el.find(".designProofReview__autoDownloadIframe");1>b.length&&(b=$("\x3ciframe /\x3e",{"class":"designProofReview__autoDownloadIframe"}),this.$el.append(b));b.attr("src",a)};function Ofa(a){return a.$el.find(".designProofReview__checkbox").toArray().map(function(a){return a.checked})}var h9="CHANGE_REVIEW_ITEM",j9="CLICK_SUPPORT_LINK",i9="CONTINUE_TO_CHECKOUT";function k9(a,b){var c=this;this.view=b;this.j=a.j;this.i=a.i;this.Na=a.Na;this.GL=a.GL;this.pB=a.pB;this.MO=null;this.fO=a.fO;b.on(h9,function(){return Pfa(c)});b.on(i9,function(){return c.fO()});b.on(j9,function(){var a=new Zl("print_review_support");c.j.va(a)})}function Qfa(a){var b=a.$i;return{su:b.su(),Ar:b.Ar(Rfa),yu:b.yu(),description:b.description(),AE:"https://support.canva.com/troubleshooting/downloading/",ev:b.ev(),heading:b.heading(),sc:a.Me.sc(3,5),Uw:b.Uw()}}
function Sfa(a,b){return new k9(a,b)}function Tfa(a,b){return a.GL.iI(function(a){var d=this;return Tea(this.Na,new s7({order:this.pB,zs:b})).then(function(e){if("FAILED"===e.status)throw Error("export with jobId '"+b+"' failed for proof of order '"+d.pB+"'");"EXPORTED"===e.status&&a(e)})}.bind(a))}
function Ufa(a){var b=new r7({order:a.pB,xd:"PROOF"});Nfa(a.view);a.MO=Sea(a.Na,b).cancellable().then(function(b){return Tfa(a,b.zs)}).then(function(b){b=b.url;var d=a.i.Ga("designProofReviewManualDownloadInfoHtml",b,"designProofReview__manualDownloadLink"),e=a.view;(new j1(e.$el.find(".designProofReview__progressbar"))).remove();e.$el.find(".designProofReview__progressbarContainer").addClass("designProofReview__progressbarContainer--hidden");e=a.view;e.$el.find(".designProofReview__manualDownload").empty().append(d.getContent()).removeClass("designProofReview__manualDownload--hidden");
e.$el.find(".designProofReview__manualDownloadLink").attr("download","download").attr("target","_blank");e.$el.find(".designProofReview__actionButtons").removeClass("designProofReview__actionButtons--hidden");e.$el.find(".designProofReview__checklist").removeClass("designProofReview__checklist--hidden");a.view.iR(b)}).catch(P.CancellationError,$.noop)}
function Pfa(a){Ofa(a.view).every(function(a){return a})?a.view.$el.find(".designProofReview__checkoutButton").prop("disabled",!1):a.view.$el.find(".designProofReview__checkoutButton").prop("disabled",!0)}k9.prototype.destroy=function(){null!=this.MO&&this.MO.cancel();this.view.remove()};var Rfa="https://about.canva.com/terms-of-use/";var l9=new Ff("lz",!1),m9=new Ff("nu",!1),Vfa=new Ff("pu",!1);function n9(a){this.kR=a.kR;this.fk=a.fk;this.wc=a.wc;this.Ia=a.Ia;this.tc=a.tc;this.Ub=a.Ub;this.Ql=a.Ql;this.yd=a.yd;this.Wl=a.Wl;this.Ah=a.Ah;this.zd=a.zd;this.dX=function(){};this.cX=function(){};this.bX=function(){};this.eX=function(){};this.Mw=a.Mw;this.G=a.G}
function o9(a){var b,c=Hf();if(null!=a.eQ)b=y(a.tc.Cb.find(function(b){return b.Ad===a.eQ}),"product price not found for sku {}",a.eQ);else if(null!=a.cC){var d=y(Wfa(a.tc,a.cC),"Selected paper size is missing from the product model");b=a.tc.Cb.filter(function(b){return a.tc.Lp(b.Ad).vb===d});if(0===b.length)throw Error('No products have the selected paper size "{}".',a.cC);b=p9(b)}else b=p9(a.tc.Cb);var e=Xfa(a.tc.HF()),g=q9(a.fk,b);null!=a.yd&&w(-1!==g.indexOf(a.yd),'orderQuantity: "{}" is not applicable for the product: "{}"',
a.yd,b.Ad);var h=c.get(Vfa)?Yfa(a.Ub):L8(a.Ub).Iu,g=-1!==g.indexOf(h)?h:g[0],g=a.yd||g,h=I7(a.zd,{pk:g,Ja:a.fQ});return new n9({fk:a.fk,wc:a.wc,Ia:a.Ia,tc:a.tc,Ub:a.Ub,Ql:a.Ql,Mw:a.Mw,yd:g,Wl:b,kR:e,Ah:h,zd:a.zd,G:c})}function p9(a){function b(a){return Math.min.apply(Math,[].concat(ma(a.map(function(a){return a.Ot}))))}return _.sortBy(a,function(a){return b(a.Cb)})[0]}
function q9(a,b){return a.filter(function(a){return-1<b.Cb.findIndex(function(b){return b.Is<=a&&a<=b.Ds})}).sort(function(a,b){return a-b})}function r9(a){return a.tc.Lp(a.Wl.Ad)}function s9(a,b){return a.tc.Cb.filter(function(c){c=a.tc.Lp(c.Ad);return(!b.vb||c.vb===b.vb)&&(!b.ae||c.ae===b.ae)&&(!b.ef||c.ef===b.ef)})}
function Zfa(a,b,c){var d=new Map;b.forEach(function(b){var g=0,h=a.tc.Lp(b.Ad);null!=c.ae&&(g+=h.ae===c.ae?2:0);null!=c.ef&&(g+=h.ef===c.ef?1:0);d.has(g)||d.set(g,[]);d.get(g).push(b)});return d.get(Math.max.apply(Math,[].concat(ma(d.keys()))))||b}
function u9(a,b,c){var d=s9(a,b);Fa(0<d.length,"Could not find product prices for the specified options");var e=r9(a),d=Zfa(a,d,{ef:null==b.ef?e.ef:null,ae:null==b.ae?e.ae:null}),d=p9(d),e=q9(a.fk,d);a.Wl=d;null!=b.cH?(e=-1!==e.indexOf(b.cH),w(e,'Required order quantity "{0}" is not valid for product "{1}".',b.cH,d.Ad),a.yd=b.cH):-1===e.indexOf(a.yd)&&(a.yd=e[0]);v9(a,c)}
function v9(a,b){switch(b){case "PAPER_SIZE":a.dX();v9(a,"PAPER_TYPE");break;case "PAPER_TYPE":a.cX();v9(a,"PAPER_FINISH");break;case "PAPER_FINISH":a.bX();v9(a,"ORDER_QUANTITY");break;case "ORDER_QUANTITY":a.eX();break;default:throw Error("Expected OrderOptionName: found "+b);}}function $fa(a,b){a.dX=b}function aga(a,b){a.cX=b}function bga(a,b){a.bX=b}function cga(a,b){a.eX=b}function dga(a,b){a.Ah=I7(a.zd,{Ja:b,pk:a.yd})}n9.prototype.removeDuplicates=function(a){return Array.from(new Set(a))};
function ega(a){var b=a.tc.Cb.map(function(b){return a.tc.Lp(b.Ad).vb});return a.removeDuplicates(b)}function fga(a){var b=r9(a).vb,c=s9(a,{vb:b}).map(function(b){return a.tc.Lp(b.Ad).ae});Fa(0<c.length,'Could not find applicable paper types for PaperSize:"{}"',b);return a.removeDuplicates(c)}
function gga(a){var b=r9(a),c=b.vb,b=b.ae,d=s9(a,{vb:c,ae:b}).map(function(b){return a.tc.Lp(b.Ad).ef});Fa(0<d.length,'Could not find applicable paper finishes for PaperSize: "{}" \x26 PaperType: "{}"',c,b);return a.removeDuplicates(d)}function w9(a){switch(a){case "STANDARD":return 1;case "PREMIUM":return 2;case "ECO_FRIENDLY":return 3;case "DELUXE":return 4;default:throw Error("Expected PaperType but found "+a);}}
function x9(a){switch(a){case "MATTE":return 1;case "GLOSS":return 2;case "UNCOATED":return 3;case "SOFT_TOUCH":return 4;case "SILK":return 5;default:throw Error("Expected PaperFinish but found "+a);}}
function y9(a){var b=fga(a).sort(function(b,c){b=a.tc.gn(b).type;c=a.tc.gn(c).type;return w9(b)-w9(c)}),c=r9(a).ae;Fa(-1!==b.indexOf(c),'paper type: "{}" is not applicable',c);return b.map(function(b){var e=a.tc.gn(b),g=$;b={lH:e.name,selected:b===c,kH:e.description,value:b};soy.asserts.assertType(null==b.v||b.v instanceof goog.soy.data.SanitizedContent||goog.isString(b.v),"classes",b.v,"null|string|undefined");e=b.v;soy.asserts.assertType(goog.isString(b.kH)||b.kH instanceof goog.soy.data.SanitizedContent,
"paperTypeDescription",b.kH,"string|goog.soy.data.SanitizedContent");var h=b.kH;soy.asserts.assertType(goog.isString(b.lH)||b.lH instanceof goog.soy.data.SanitizedContent,"paperTypeLabel",b.lH,"string|goog.soy.data.SanitizedContent");var k=b.lH;soy.asserts.assertType(null==b.selected||goog.isBoolean(b.selected)||1===b.selected||0===b.selected,"selected",b.selected,"boolean|null|undefined");var l=b.selected;soy.asserts.assertType(goog.isString(b.value)||b.value instanceof goog.soy.data.SanitizedContent,
"value",b.value,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(X7({label:k,value:b.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(k)+'"'),v:e,description:h,selected:l}));g=g(b.toString());return g8(g)})}
function z9(a){var b=gga(a).sort(function(b,c){b=a.tc.dn(b).finish;c=a.tc.dn(c).finish;return x9(b)-x9(c)}),c=r9(a).ef;Fa(-1!==b.indexOf(c),'paper finish: "{}" is not applicable',c);return b.map(function(b){var e=a.tc.dn(b),g=$;b={qw:e.description,jH:e.name,selected:b===c,value:b};soy.asserts.assertType(null==b.v||b.v instanceof goog.soy.data.SanitizedContent||goog.isString(b.v),"classes",b.v,"null|string|undefined");e=b.v;soy.asserts.assertType(b.qw instanceof goog.soy.data.SanitizedContent||b.qw instanceof
soydata.SanitizedHtml||b.qw instanceof soydata.UnsanitizedText||goog.isString(b.qw),"paperFinishDescription",b.qw,"!soydata.SanitizedHtml|string");var h=b.qw;soy.asserts.assertType(goog.isString(b.jH)||b.jH instanceof goog.soy.data.SanitizedContent,"paperFinishLabel",b.jH,"string|goog.soy.data.SanitizedContent");var k=b.jH;soy.asserts.assertType(null==b.selected||goog.isBoolean(b.selected)||1===b.selected||0===b.selected,"selected",b.selected,"boolean|null|undefined");var l=b.selected;soy.asserts.assertType(goog.isString(b.value)||
b.value instanceof goog.soy.data.SanitizedContent,"value",b.value,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(X7({label:k,value:b.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(k)+'"'),v:e,description:h,selected:l}));g=g(b.toString());return i8(g)})}
function A9(a,b){var c=q9(a.fk,a.Wl);Fa(-1!==c.indexOf(a.yd),'order quantity "{}" is not applicable',a.yd);var d=a.Wl.Cb;null==b&&(b=pfa);return c.map(function(c){var g=H7(d,c)/100,h=g*c;return b({jw:a.Ia.jw(c),da:a.Ia.da(h),Nt:a.Ia.Nt(g),selected:c===a.yd,value:c.toString()})})}
function hga(a){var b=ega(a),c=r9(a).vb;Fa(-1!==b.indexOf(c),'Paper size: "{}" is not applicable',c);return _.sortBy(b,function(b){return a.tc.Rj(b).vj}).map(function(b){var e={rw:T7(a.wc,a.tc.Rj(b)),selected:b===c,value:b};b=$;var g;soy.asserts.assertType(null==e.v||e.v instanceof goog.soy.data.SanitizedContent||goog.isString(e.v),"classes",e.v,"null|string|undefined");g=e.v;soy.asserts.assertType(e.rw instanceof goog.soy.data.SanitizedContent||e.rw instanceof soydata.SanitizedHtml||e.rw instanceof
soydata.UnsanitizedText||goog.isString(e.rw),"paperSizeLabel",e.rw,"!soydata.SanitizedHtml|string");var h=e.rw;soy.asserts.assertType(null==e.selected||goog.isBoolean(e.selected)||1===e.selected||0===e.selected,"selected",e.selected,"boolean|null|undefined");var k=e.selected;soy.asserts.assertType(goog.isString(e.value)||e.value instanceof goog.soy.data.SanitizedContent,"value",e.value,"string|goog.soy.data.SanitizedContent");e=e.value;g=soydata.VERY_UNSAFE.ordainSanitizedHtml(X7({v:g+" paperSizeOption",
label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cspan class\x3d"paperSizeOption__label"\x3e'+soy.$$escapeHtml(h)+"\x3c/span\x3e"),value:e,selected:k}));b=b(g.toString());return $7(b)})}
function B9(a){var b=a.yd,c=a.zd.filter(function(a){return a.DG<=b&&b<=a.wG});if(0===c.length)throw Error("No shipping prices found for order quantity '"+b+"'.");return c.sort(function(a,b){return a.wh-b.wh}).map(function(b){a:{if("STANDARD"===b.Ja){if(a.G.get(l9)){b=C9({xi:a.wc.format("printOrderFreeStandardShippingType"),wt:W7(a.wc,b.Ja),da:vf(a.wc),value:b.Ja,selected:b.Ja===a.Ah.Ja,disabled:!1,LZ:!0});break a}if(a.G.get(m9)){b=C9({xi:V7(a.wc,b.Ja),wt:W7(a.wc,b.Ja),da:wf(a.wc),value:b.Ja,selected:b.Ja===
a.Ah.Ja,disabled:!1,LZ:!1});break a}}b=a.Mw({xi:V7(a.wc,b.Ja),wt:W7(a.wc,b.Ja),da:a.Ia.da(b.wh/100),value:b.Ja,selected:b.Ja===a.Ah.Ja,disabled:!1})}return b})}function Xfa(a){a=a.map(function(a){return a.Zv});a=_.uniq(a);Fa(1===a.length,'All products must have same value for the property "maxPages", found "{}"',a);return 2===a[0]}
function iga(a){var b=a.Ah.Ja;switch(b){case "STANDARD":return a.G.get(l9)?a.wc.format("printOrderFreeStandardShippingLabel"):a.wc.format("printOrderShippingMethodStandard");case "EXPRESS":return a.wc.format("printOrderShippingMethodExpress");default:throw Error("Expected a ShippingMethod, but got '"+b+"'");}}function jga(a){if("STANDARD"===a.Ah.Ja){if(a.G.get(l9))return vf(a.wc);if(a.G.get(m9))return wf(a.wc)}return a.Ia.da(a.Ah.wh/100)}n9.prototype.qv=function(){return this.Ub};
function D9(a){this.Zc=a.Zc;this.attributes=a.attributes;this.Cb=a.Cb}function kga(a){w(0<a.Zc.length,"Must have at least one product");var b=new Map(a.Zc.map(function(a){return[a.Ad,a]}));return new D9({attributes:a.attributes,Cb:a.Cb,Zc:b})}f=D9.prototype;f.HF=function(){return Array.from(this.Zc.values())};f.Lp=function(a){return y(this.Zc.get(a),'Invalid product sku: "{}"',a)};f.Rj=function(a){return y(this.attributes.sw.get(a),'Invalid paper size id: "{}"',a)};
f.dn=function(a){return y(this.attributes.IO.get(a),'Invalid paper finish id: "{}"',a)};f.gn=function(a){return y(this.attributes.KO.get(a),'Invalid paper type id: "{}"',a)};f.qv=function(a){return y(this.attributes.vH.get(a),'Invalid product type id: "{}"',a)};function Wfa(a,b){for(var c=la(a.attributes.sw.keys()),d=c.next();!d.done;d=c.next()){var d=d.value,e=a.attributes.sw.get(d);if(e.vj===b.vj&&e.Vj===b.Vj)return d}return null};function lga(a){soy.asserts.assertType(goog.isString(a.rk)||a.rk instanceof goog.soy.data.SanitizedContent,"selectYourPrintOptions",a.rk,"string|goog.soy.data.SanitizedContent");var b=a.rk;soy.asserts.assertType(null==a.ri||a.ri instanceof goog.soy.data.SanitizedContent||goog.isString(a.ri),"selectYourShippingOption",a.ri,"null|string|undefined");var c=a.ri;soy.asserts.assertType(a.Tn instanceof soydata.SanitizedHtml||a.Tn instanceof soydata.UnsanitizedText||goog.isString(a.Tn),"paperSizeListboxHtml",
a.Tn,"soydata.SanitizedHtml");var d=a.Tn;soy.asserts.assertType(null==a.jk||a.jk instanceof soydata.SanitizedHtml||a.jk instanceof soydata.UnsanitizedText||goog.isString(a.jk),"pageCountListboxHtml",a.jk,"?soydata.SanitizedHtml|string|undefined");var e=a.jk;soy.asserts.assertType(a.Un instanceof soydata.SanitizedHtml||a.Un instanceof soydata.UnsanitizedText||goog.isString(a.Un),"paperTypeListboxHtml",a.Un,"soydata.SanitizedHtml");var g=a.Un;soy.asserts.assertType(a.Sn instanceof soydata.SanitizedHtml||
a.Sn instanceof soydata.UnsanitizedText||goog.isString(a.Sn),"paperFinishListboxHtml",a.Sn,"soydata.SanitizedHtml");var h=a.Sn;soy.asserts.assertType(a.Pn instanceof soydata.SanitizedHtml||a.Pn instanceof soydata.UnsanitizedText||goog.isString(a.Pn),"orderQuantityListboxHtml",a.Pn,"soydata.SanitizedHtml");var k=a.Pn;soy.asserts.assertType(a.vo instanceof soydata.SanitizedHtml||a.vo instanceof soydata.UnsanitizedText||goog.isString(a.vo),"shippingListboxHtml",a.vo,"soydata.SanitizedHtml");a=a.vo;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__selectPrintOptions"\x3e'+
soy.$$escapeHtml(b)+"\x3c/div\x3e"+soy.$$escapeHtml(d)+(e?soy.$$escapeHtml(e):"")+soy.$$escapeHtml(g)+soy.$$escapeHtml(h)+soy.$$escapeHtml(k)+(c?'\x3cdiv class\x3d"printOrderSummary__selectShippingOptions"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e"+soy.$$escapeHtml(a):""))}
function mga(a){soy.asserts.assertType(goog.isString(a.Ja)||a.Ja instanceof goog.soy.data.SanitizedContent,"shippingMethod",a.Ja,"string|goog.soy.data.SanitizedContent");var b=a.Ja;soy.asserts.assertType(null==a.da||a.da instanceof soydata.SanitizedHtml||a.da instanceof soydata.UnsanitizedText||goog.isString(a.da),"price",a.da,"?soydata.SanitizedHtml|string|undefined");a=a.da;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__shippingLabel"\x3e\x3cspan class\x3d"printOrderSummary__shippingMethod"\x3e'+
soy.$$escapeHtml(b)+'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__price"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e")};function E9(a,b,c){hc.call(this,a);this.Lf=b;this.lj=c.lj;this.ii=c.ii;this.ji=c.ji;this.hi=c.hi;this.Kf=c.Kf;this.yk=c.yk}r(E9,hc);
function F9(a){var b=a.heading,c=G9(a.z7),d=a.CX&&G9(a.CX),e=G9(a.P7),g=G9(a.Q7),h=G9(a.R7),k=G9(a.H9),l,m=a.W7,n;soy.asserts.assertType(null==m.cE||m.cE instanceof goog.soy.data.SanitizedContent||goog.isString(m.cE),"couponDiscountAmount",m.cE,"null|string|undefined");l=m.cE;soy.asserts.assertType(null==m.dE||m.dE instanceof goog.soy.data.SanitizedContent||goog.isString(m.dE),"couponDiscountLabel",m.dE,"null|string|undefined");var p=m.dE;soy.asserts.assertType(goog.isString(m.Ej)||m.Ej instanceof
goog.soy.data.SanitizedContent,"creditUsed",m.Ej,"string|goog.soy.data.SanitizedContent");var q=m.Ej;soy.asserts.assertType(goog.isString(m.pE)||m.pE instanceof goog.soy.data.SanitizedContent,"creditUsedLabel",m.pE,"string|goog.soy.data.SanitizedContent");var u=m.pE;soy.asserts.assertType(goog.isString(m.yw)||m.yw instanceof goog.soy.data.SanitizedContent,"premiumImagesPriceLabel",m.yw,"string|goog.soy.data.SanitizedContent");var v=m.yw;soy.asserts.assertType(goog.isString(m.qH)||m.qH instanceof goog.soy.data.SanitizedContent,
"premiumImagesTotalPrice",m.qH,"string|goog.soy.data.SanitizedContent");var z=m.qH;soy.asserts.assertType(goog.isString(m.Kw)||m.Kw instanceof goog.soy.data.SanitizedContent,"removeCouponText",m.Kw,"string|goog.soy.data.SanitizedContent");var t=m.Kw;soy.asserts.assertType(m.Kt instanceof soydata.SanitizedHtml||m.Kt instanceof soydata.UnsanitizedText||goog.isString(m.Kt),"totalLabelHtml",m.Kt,"soydata.SanitizedHtml");var x=m.Kt;soy.asserts.assertType(goog.isString(m.em)||m.em instanceof goog.soy.data.SanitizedContent,
"totalPrice",m.em,"string|goog.soy.data.SanitizedContent");var H=m.em;soy.asserts.assertType(null==m.aI||goog.isObject(m.aI),"shippingPriceDetails",m.aI,"null|undefined|{label: string, price: string}");m=m.aI;l=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__paymentSummary"\x3e'+(m?'\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cspan\x3e'+soy.$$escapeHtml(m.label)+'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__shippingPrice"\x3e'+soy.$$escapeHtml(m.da)+"\x3c/span\x3e\x3c/div\x3e":
"")+'\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__premiumImagesInfo printOrderSummary__info--hidden"\x3e\x3cspan\x3e'+soy.$$escapeHtml(v)+'\x3c/span\x3e\x3ca class\x3d"printOrderSummary__premiumImagesLink" href\x3d"#"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/icon-info.svg" /\x3e\x3c/a\x3e\x3cspan class\x3d"printOrderSummary__premiumImagesTotalPrice"\x3e'+soy.$$escapeHtml(z)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__creditInfo printOrderSummary__info--hidden"\x3e\x3cspan class\x3d"printOrderSummary__creditUsedLabel"\x3e'+
soy.$$escapeHtml(u)+'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__creditUsed"\x3e'+soy.$$escapeHtml(q)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__couponDiscountInfo'+(p&&l?"":" printOrderSummary__info--hidden")+'"\x3e\x3cdiv\x3e\x3cspan class\x3d"printOrderSummary__couponDiscountLabel"\x3e'+soy.$$escapeHtml(null==(n=p)?"":n)+'\x3c/span\x3e\x3cdiv class\x3d"printOrderSummary__removeCouponLinkContainer"\x3e\x3ca href\x3d"#" class\x3d"printOrderSummary__removeCouponLink"\x3e'+
soy.$$escapeHtml(t)+'\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan\x3e-\x3cspan class\x3d"printOrderSummary__couponDiscountAmount"\x3e'+soy.$$escapeHtml(null==(n=l)?"":n)+'\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cspan\x3e'+soy.$$escapeHtml(x)+'\x3c/span\x3e\x3cstrong class\x3d"printOrderSummary__orderTotalPrice"\x3e'+soy.$$escapeHtml(H)+"\x3c/strong\x3e\x3c/div\x3e\x3c/div\x3e");a={heading:b,Pn:c,jk:d,Sn:e,Tn:g,Un:h,vo:k,xB:l,rk:a.rk,ri:a.ri,aH:H9,bH:I9};
soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");b=a.heading;soy.asserts.assertType(a.Pn instanceof soydata.SanitizedHtml||a.Pn instanceof soydata.UnsanitizedText||goog.isString(a.Pn),"orderQuantityListboxHtml",a.Pn,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.jk||a.jk instanceof soydata.SanitizedHtml||a.jk instanceof soydata.UnsanitizedText||goog.isString(a.jk),"pageCountListboxHtml",
a.jk,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(a.Sn instanceof soydata.SanitizedHtml||a.Sn instanceof soydata.UnsanitizedText||goog.isString(a.Sn),"paperFinishListboxHtml",a.Sn,"soydata.SanitizedHtml");soy.asserts.assertType(a.Tn instanceof soydata.SanitizedHtml||a.Tn instanceof soydata.UnsanitizedText||goog.isString(a.Tn),"paperSizeListboxHtml",a.Tn,"soydata.SanitizedHtml");soy.asserts.assertType(a.Un instanceof soydata.SanitizedHtml||a.Un instanceof soydata.UnsanitizedText||
goog.isString(a.Un),"paperTypeListboxHtml",a.Un,"soydata.SanitizedHtml");soy.asserts.assertType(a.vo instanceof soydata.SanitizedHtml||a.vo instanceof soydata.UnsanitizedText||goog.isString(a.vo),"shippingListboxHtml",a.vo,"soydata.SanitizedHtml");soy.asserts.assertType(a.xB instanceof soydata.SanitizedHtml||a.xB instanceof soydata.UnsanitizedText||goog.isString(a.xB),"paymentSummaryHtml",a.xB,"soydata.SanitizedHtml");c=a.xB;soy.asserts.assertType(goog.isString(a.rk)||a.rk instanceof goog.soy.data.SanitizedContent,
"selectYourPrintOptions",a.rk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==a.ri||a.ri instanceof goog.soy.data.SanitizedContent||goog.isString(a.ri),"selectYourShippingOption",a.ri,"null|string|undefined");soy.asserts.assertType(goog.isString(a.aH)||a.aH instanceof goog.soy.data.SanitizedContent,"orderFormListboxesPanelPageName",a.aH,"string|goog.soy.data.SanitizedContent");d=a.aH;soy.asserts.assertType(goog.isString(a.bH)||a.bH instanceof goog.soy.data.SanitizedContent,"orderFormReviewPanelPageName",
a.bH,"string|goog.soy.data.SanitizedContent");e=a.bH;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary"\x3e\x3cdiv class\x3d"printOrderSummary__header"\x3e\x3ch1 class\x3d"printOrderSummary__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__content"\x3e\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cdiv class\x3d"printOrderSummary__orderPreview"\x3e\x3c/div\x3e\x3c/div\x3e'+V8({v:"printOrderSummary__pagesPanel",O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+
S8({v:"printOrderSummary__listboxesPagesPanel",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+lga(a)),name:d,visible:!0})+S8({v:"printOrderSummary__orderFormReviewPanel",name:e,visible:!1}))})+'\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__footer"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/div\x3e")}function G9(a){return OS({v:a.v+" printOrderSummary__listbox",disabled:a.disabled,options:a.options.map(function(a){return XS(a)}),Rq:a.Rq})}
function J9(a){var b=new B8(a.find(".printOrderSummary__paymentSummary")),c=US(a.find(".printOrderSummary__paperSizeListbox"),{Mh:$7}),d=US(a.find(".printOrderSummary__paperFinishListbox"),{Mh:i8}),e=US(a.find(".printOrderSummary__orderQuantityListbox"),{Mh:e8}),g=US(a.find(".printOrderSummary__paperTypeListbox"),{Mh:g8}),h=0<a.find(".printOrderSummary__pageCountListbox").length?US(a.find(".printOrderSummary__pageCountListbox"),{Mh:c8}):null,k;k=a.find(".printOrderSummary__shippingListbox .shippingSelectionLabel__freeShipping")?
K9:l8;k=US(a.find(".printOrderSummary__shippingListbox"),{Mh:k});return new E9(a,b,{lj:c,ii:d,hi:e,ji:g,Kf:h,yk:k})}E9.prototype.fg=function(){var a=this.$el.find(".printOrderSummary__pagesPanel");return new P8(a)};
E9.prototype.BP=function(a){var b=$,c={yq:a.yq,zq:a.zq,Aq:a.Aq,Bq:a.Bq,xq:a.xq,Ja:a.Ja,Rf:a.Rf},c=c||{};soy.asserts.assertType(null==c.Bq||c.Bq instanceof soydata.SanitizedHtml||c.Bq instanceof soydata.UnsanitizedText||goog.isString(c.Bq),"paperTypeHtml",c.Bq,"?soydata.SanitizedHtml|string|undefined");a=c.Bq;soy.asserts.assertType(null==c.zq||c.zq instanceof soydata.SanitizedHtml||c.zq instanceof soydata.UnsanitizedText||goog.isString(c.zq),"paperFinishHtml",c.zq,"?soydata.SanitizedHtml|string|undefined");
var d=c.zq;soy.asserts.assertType(null==c.Aq||c.Aq instanceof soydata.SanitizedHtml||c.Aq instanceof soydata.UnsanitizedText||goog.isString(c.Aq),"paperSizeHtml",c.Aq,"?soydata.SanitizedHtml|string|undefined");var e=c.Aq;soy.asserts.assertType(null==c.yq||c.yq instanceof soydata.SanitizedHtml||c.yq instanceof soydata.UnsanitizedText||goog.isString(c.yq),"pageCountHtml",c.yq,"?soydata.SanitizedHtml|string|undefined");var g=c.yq;soy.asserts.assertType(null==c.xq||c.xq instanceof soydata.SanitizedHtml||
c.xq instanceof soydata.UnsanitizedText||goog.isString(c.xq),"orderQuantityHtml",c.xq,"?soydata.SanitizedHtml|string|undefined");var h=c.xq;soy.asserts.assertType(null==c.Ja||c.Ja instanceof soydata.SanitizedHtml||c.Ja instanceof soydata.UnsanitizedText||goog.isString(c.Ja),"shippingMethod",c.Ja,"?soydata.SanitizedHtml|string|undefined");var k=c.Ja;soy.asserts.assertType(null==c.Rf||c.Rf instanceof soydata.SanitizedHtml||c.Rf instanceof soydata.UnsanitizedText||goog.isString(c.Rf),"shippingPrice",
c.Rf,"?soydata.SanitizedHtml|string|undefined");c=c.Rf;a=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cdiv class\x3d'printOrderSummary__orderFormReview'\x3e"+(e?"\x3cdiv\x3e"+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+(a?"\x3cdiv\x3e"+soy.$$escapeHtml(a)+"\x3c/div\x3e":"")+(d?"\x3cdiv\x3e"+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+(g?"\x3cdiv\x3e"+soy.$$escapeHtml(g)+"\x3c/div\x3e":"")+(h?"\x3cdiv\x3e"+soy.$$escapeHtml(h)+"\x3c/div\x3e":"")+(k&&c?mga({Ja:k,da:c}):"")+"\x3c/div\x3e");b=b(a.toString());this.fg().R(I9).po(b)};
E9.prototype.aR=function(){U8(this.fg(),I9)};E9.prototype.$Q=function(){U8(this.fg(),H9)};function L9(a){return!!a&&!a.$el.hasClass("printOrderSummary__listbox--hidden")}var I9="ORDER_REVIEW",H9="LISTBOXES";function M9(a,b,c,d){var e=this;this.view=b;this.Wm=a.Wm;this.kh=a.kh;this.Vm=a.Vm;this.Lf=c;this.lj=d.lj;this.ii=d.ii;this.ji=d.ji;this.hi=d.hi;this.yk=d.yk;this.Kf=d.Kf;this.ya=a.ya;this.tk=a.tk;this.Nn=a.Nn;this.FH=P.resolve();null!=this.Kf&&jT(this.Kf,function(){e.Nn(e.jc());N9(e)});jT(this.lj,function(){var a=e.lj.rc();u9(e.ya,{vb:a},"PAPER_SIZE");e.tk(e.Rj());O9(e)});jT(this.ii,function(){var a=e.ya,b=e.ii.rc();u9(a,{vb:r9(a).vb,ae:r9(a).ae,ef:b},"PAPER_FINISH");O9(e)});jT(this.ji,function(){var a=
e.ya,b=e.ji.rc();u9(a,{vb:r9(a).vb,ae:b},"PAPER_TYPE");O9(e)});jT(this.hi,function(){var a=e.hi,b=parseInt(a.rc(),10);Fa(!isNaN(b),'Expected a number but got "{}"',a.rc());var a=e.ya,c=r9(a);u9(a,{vb:c.vb,ae:c.ae,ef:c.ef,cH:b},"ORDER_QUANTITY");O9(e)});jT(this.yk,function(){return nga(e)});$fa(this.ya,this.K8.bind(this));aga(this.ya,this.J8.bind(this));bga(this.ya,this.I8.bind(this));cga(this.ya,this.L8.bind(this))}
function P9(a,b){var c=new gT(b.lj),d=new gT(b.ii),e=new gT(b.ji),g=new gT(b.hi),h=b.Kf,h=h&&new gT(h),k=new gT(b.yk),l=Q9({Rf:a.ya.Ah,Ve:a.ya.yd,Cb:a.ya.Wl.Cb}),l=yfa({fa:a.fa,aa:a.aa,ih:a.ih,yc:a.yc,qb:a.qb,Ab:a.Ab,Ia:a.Ia,ce:l,dQ:function(b){var c;c=a.Pa;b={Aa:a.Aa,Pa:c,Ab:b.Ab,qb:b.qb};var d=qfa(b),e=$,g;g=g||{};soy.asserts.assertType(d.NA instanceof soydata.SanitizedHtml||d.NA instanceof soydata.UnsanitizedText||goog.isString(d.NA),"licensingOptionsText",d.NA,"soydata.SanitizedHtml");for(var h=
d.NA,d=goog.asserts.assertArray(d.ni,"expected parameter 'purchaseLicenses' of type list\x3c[contributedBy: null|string, expirationLabel: null|string, isThumbnailCover: bool, paidLicenseTypeLabel: null|string, purchaseOptions: list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e|null, purchasedText: string, thumbnailUrl: null|string, title: null|string]\x3e."),h='\x3csection class\x3d"mediaLicenses__info"\x3e\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"mediaLicenses__itemList"\x3e\x3cdiv class\x3d"mediaLicenses__items"\x3e',
k=d.length,l=0;l<k;l++)var x=d[l],h=h+('\x3cdiv class\x3d"mediaLicenses__license"\x3e\x3cdiv class\x3d"mediaLicenses__licenseThumbnail"\x3e\x3cdiv class\x3d"mediaLicenses__licenseThumbnailInner '+(x.iN?"mediaLicenses__licenseThumbnail--cover":"mediaLicenses__licenseThumbnail--contain")+'"'+(x.sg?'style\x3d"'+(g.Yb?"/*"+g.Yb+"*//*"+g.Yb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(x.sg))+"');\"":"")+'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mediaLicenses__licenseInfo"\x3e'+
(x.title?'\x3cdiv class\x3d"mediaLicenses__licenseTitle"\x3e'+soy.$$escapeHtml(x.title)+"\x3c/div\x3e":"")+(x.Gr?'\x3cdiv class\x3d"mediaLicenses__licenseContributor"\x3e'+soy.$$escapeHtml(x.Gr)+"\x3c/div\x3e":"")+'\x3c/div\x3e\x3cdiv class\x3d"mediaLicenses__licensePrice"\x3e'+(x.ct?soy.$$escapeHtml(x.ct[0].text):'\x3cdiv class\x3d"mediaLicenses__licenseState"\x3e'+soy.$$escapeHtml(x.F8)+"\x3c/div\x3e"+(x.iH?'\x3cdiv class\x3d"mediaLicenses__licenseType"\x3e'+soy.$$escapeHtml(x.iH)+(x.wz?" - "+soy.$$escapeHtml(x.wz):
"")+"\x3c/div\x3e":""))+"\x3c/div\x3e\x3c/div\x3e");g=soydata.VERY_UNSAFE.ordainSanitizedHtml(h+"\x3c/div\x3e\x3c/section\x3e");e=e(g.toString());e=new m8(e);b=new q8(b,e);c=new kp({className:"mediaLicenses__dialog",content:e.$el,H:hl,title:c.format("licenseDialogTitle")});c=new ufa(c,b);return vfa(c)}},b.Lf);return new M9({Vm:a.Vm,Wm:a.Wm,kh:a.kh,Nn:a.Nn,ya:a.ya,tk:a.tk},b,l,{hi:g,Kf:h,ii:d,lj:c,ji:e,yk:k})}f=M9.prototype;f.Le=function(){this.tk(this.Rj());this.Nn(this.jc());N9(this)};
function R9(a){var b;if(a.ya.kR){b=a.Ia;var c=a.bZ||1;Fa(1===c||2===c,'defaultPageCount can be either 1 or 2, but found "{}"',c);b=[b8({rB:b.format("printOrderSummarySingleSidedPrint"),Ts:b.format("printOrderSummarySingleSidedPrintDescription"),selected:1===c,value:"1"}),b8({rB:b.format("printOrderSummaryDoubleSidedPrint"),Ts:b.format("printOrderSummaryDoubleSidedPrintDescription"),selected:2===c,value:"2"})]}else b=null;b=b&&S9({v:"printOrderSummary__pageCountListbox",options:b,disabled:a.Vm});var c=
S9({v:"printOrderSummary__orderQuantityListbox",options:a.U8?A9(a.ya,a.U8):A9(a.ya)}),d=S9({v:"printOrderSummary__paperFinishListbox",options:z9(a.ya)}),e=S9({v:"printOrderSummary__paperSizeListbox",options:hga(a.ya),disabled:a.Wm}),g=S9({v:"printOrderSummary__paperTypeListbox",options:y9(a.ya)}),h=B9(a.ya),k=S9({v:"printOrderSummary__shippingListbox",options:h}),l=Q9({Rf:a.ya.Ah,Ve:a.ya.yd,Cb:a.ya.Wl.Cb}),l={fa:a.fa,qb:a.qb,Ab:a.Ab,Ia:a.Ia,ce:l,P9:1===h.length},m=z8(l),n=0<m.Rf?l.Ia.da(m.Rf):l.Ia.format("printOrderSummaryPriceFree"),
p=null;l.P9&&(p={label:l.Ia.format("printOrderSummaryShippingPriceLabel"),da:n});l={Ej:l.Ia.Ej(m.Ej),pE:pf(l.Ia,m.Bm),yw:l.Ia.yw(),qH:l.Ia.da(m.yG),Kw:l.Ia.Kw(),Kt:l.Ia.Kt(),em:l.Ia.da(m.em),aI:p};return{heading:oga(a.Ia,a.ya.qv(),a.ya.Ql),z7:c,CX:b,P7:d,Q7:e,R7:g,H9:k,W7:l,rk:a.Ia.rk(),ri:1===h.length?null:a.Ia.ri()}}function S9(a){var b=a.v,c=a.disabled;a=a.options;1===a.length&&(b+=" printOrderSummary__listbox--hidden");return{v:b,disabled:c,options:a,Rq:iT(a)}}
function nga(a){var b=a.yk.rc(),c=y(["STANDARD","EXPRESS"].find(function(a){return a===b}),"Invalid shipping method: {}",b);dga(a.ya,c);x8(a.Lf,T9(a))}f.K8=function(){this.ji.kx(y9(this.ya))};f.J8=function(){this.ii.kx(z9(this.ya))};f.I8=function(){this.hi.kx(A9(this.ya))};f.L8=function(){this.yk.kx(B9(this.ya))};function N9(a){var b=Math.min(a.kh(),a.jc()),b=_.range(1,b+1),c=T9(a);a.FH=Afa(a.Lf,b,c);return a.FH}function O9(a){x8(a.Lf,T9(a))}
f.BP=function(){this.view.BP({yq:L9(this.view.Kf)?kT(this.Kf).mh():null,zq:L9(this.view.ii)?kT(this.ii).mh():null,Aq:L9(this.view.lj)?kT(this.lj).mh():null,Bq:L9(this.view.ji)?kT(this.ji).mh():null,xq:L9(this.view.hi)?kT(this.hi).mh():null,Ja:L9(this.view.yk)?iga(this.ya):null,Rf:L9(this.view.yk)?jga(this.ya):null})};f.aR=function(){this.BP();this.view.aR()};f.$Q=function(){this.view.$Q()};f.Rj=function(){var a=this.ya,a=a.tc.Rj(r9(a).vb);return new L6({vj:a.vj,Vj:a.Vj})};
f.gn=function(){var a=this.ya;return a.tc.gn(r9(a).ae).type};f.dn=function(){var a=this.ya;return a.tc.dn(r9(a).ef).finish};f.Mp=function(){return this.ya.Wl.Ad};f.jc=function(){if(null==this.Kf)return 1;var a=parseInt(this.Kf.rc(),10);Fa(!isNaN(a),'Expected a number but got "{}"',this.Kf.rc());return a};f.pl=function(){return this.ya.Ah.Ja};f.mV=function(){return this.ya.Ah.wh};f.nv=function(){return this.Lf.nv()};f.ND=function(){var a=T9(this);return this.Lf.ND(a)};
function T9(a){return Q9({Rf:a.ya.Ah,Ve:a.ya.yd,Cb:a.ya.Wl.Cb})}function U9(a,b){a.lj.Bh(!a.Wm&&!b);a.ii.Bh(!b);a.hi.Bh(!b);a.ji.Bh(!b);null!=a.Kf&&a.Kf.Bh(!a.Vm&&!b)}f.destroy=function(){this.view.remove();this.Lf.destroy();this.ji.destroy();this.lj.destroy();this.ii.destroy();this.hi.destroy();null!=this.Kf&&this.Kf.destroy()};function Q9(a){return{iY:H7(a.Cb,a.Ve)*a.Ve/100,lP:a.Rf.wh/100}}
function oga(a,b,c){function d(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInUs");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInUs");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInUs");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInUs");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInUs");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInUs");default:throw Error("Expected a PrintProductType, but got '"+
b+"'");}}function e(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInAu");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInAu");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInAu");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInAu");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInAu");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInAu");default:throw Error("Expected a PrintProductType, but got '"+
b+"'");}}function g(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInNz");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInNz");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInNz");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInNz");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInNz");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInNz");default:throw Error("Expected a PrintProductType, but got '"+
b+"'");}}function h(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInEu");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInEu");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInEu");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInEu");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInEu");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInEu");default:throw Error("Expected a PrintProductType, but got '"+
b+"'");}}function k(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInMx");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInMx");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInMx");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInMx");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInMx");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInMx");default:throw Error("Expected a PrintProductType, but got '"+
b+"'");}}function l(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInCa");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInCa");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInCa");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInCa");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInCa");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInCa");default:throw Error("Expected a PrintProductType, but got '"+
b+"'");}}function m(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInIndia");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInIndia");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInIndia");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInIndia");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInIndia");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInIndia");default:throw Error("Expected a PrintProductType, but got '"+
b+"'");}}switch(c){case "US":return d();case "CA":return l();case "AU":return e();case "NZ":return g();case "EU":return h();case "MX":return k();case "IN":return m();default:throw Error("Unknown print region '"+c+"'.");}};function V9(a){gc.apply(this,arguments)}r(V9,gc);function W9(a,b){hc.call(this,a);this.Vn=b}r(W9,hc);W9.prototype.vQ=function(a){a=$(Y8({Ud:a,v:"printPaymentAndConfirmation__shippingAddress"}).toString());this.$el.find(".printPaymentAndConfirmation__shippingAddress").replaceWith(a)};function X9(a,b){this.view=a;this.Vn=b}X9.prototype.vQ=function(a){this.view.vQ(Y9(a))};function Y9(a){var b=z1().get(a.rb),c;a.Dh&&(c=$w("countryCode",a.rb),c=A1(c).get(a.Dh));return{Vd:a.Vd,c2:b,name:a.name,kk:a.kk,zk:a.zk,sj:a.sj,OZ:c,uf:a.uf}}X9.prototype.EB=function(a){return this.Vn.EB(a)};X9.prototype.destroy=function(){this.Vn.destroy();this.view.remove()};function Z9(a){gc.apply(this,arguments)}r(Z9,gc);function $9(a){gc.apply(this,arguments)}r($9,gc);function a$(a){soy.asserts.assertType(goog.isString(a.ad)||a.ad instanceof goog.soy.data.SanitizedContent,"backButtonText",a.ad,"string|goog.soy.data.SanitizedContent");var b=a.ad;soy.asserts.assertType(goog.isString(a.Xi)||a.Xi instanceof goog.soy.data.SanitizedContent,"continueButtonText",a.Xi,"string|goog.soy.data.SanitizedContent");a=a.Xi;return soydata.VERY_UNSAFE.ordainSanitizedHtml(n_({v:"printOrderForm__addressDetailsBackButton settingsFormActions__button buttonSecondary",text:b})+n_({v:"printOrderForm__addressDetailsContinueButton settingsFormActions__button buttonSubmittable",
text:a}))};function b$(a,b,c){var d=this;hc.call(this,a);this.yE=b;this.Ha=c;a.on("click",".printOrderForm__addressDetailsBackButton",function(){d.trigger(c$)});a.on("click",".printOrderForm__addressDetailsContinueButton",function(){d.trigger(d$)});a.on("click",".printOrderForm__paymentAndConfirmationBackButton",function(){d.trigger(e$)});a.on("click",".printOrderForm__paymentAndConfirmationPayNowButton",function(){d.trigger(f$)});a.on("click",".printOrderReceived__viewHomepageButton, .printOrderError__viewDesignButton",
function(){d.trigger(g$)})}r(b$,hc);
function pga(a){var b=a$({ad:a.ad,Xi:a.Xi}),c=a.q2;soy.asserts.assertType(goog.isString(c.su)||c.su instanceof goog.soy.data.SanitizedContent,"checkImagesAndText",c.su,"string|goog.soy.data.SanitizedContent");var d=c.su;soy.asserts.assertType(c.Ar instanceof soydata.SanitizedHtml||c.Ar instanceof soydata.UnsanitizedText||goog.isString(c.Ar),"checkTermsOfUseHtml",c.Ar,"soydata.SanitizedHtml");var e=c.Ar;soy.asserts.assertType(goog.isString(c.yu)||c.yu instanceof goog.soy.data.SanitizedContent,"continueToCheckoutButtonText",
c.yu,"string|goog.soy.data.SanitizedContent");var g=c.yu;soy.asserts.assertType(goog.isString(c.description)||c.description instanceof goog.soy.data.SanitizedContent,"description",c.description,"string|goog.soy.data.SanitizedContent");var h=c.description;soy.asserts.assertType(goog.isString(c.AE)||c.AE instanceof goog.soy.data.SanitizedContent,"designReviewSupportUrl",c.AE,"string|goog.soy.data.SanitizedContent");var k=c.AE;soy.asserts.assertType(goog.isString(c.ev)||c.ev instanceof goog.soy.data.SanitizedContent,
"generatingPdfText",c.ev,"string|goog.soy.data.SanitizedContent");var l=c.ev;soy.asserts.assertType(goog.isString(c.heading)||c.heading instanceof goog.soy.data.SanitizedContent,"heading",c.heading,"string|goog.soy.data.SanitizedContent");var m=c.heading;soy.asserts.assertType(goog.isString(c.sc)||c.sc instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",c.sc,"string|goog.soy.data.SanitizedContent");var n=c.sc;soy.asserts.assertType(goog.isString(c.Uw)||c.Uw instanceof goog.soy.data.SanitizedContent,
"seeUnfixableProblemButtonText",c.Uw,"string|goog.soy.data.SanitizedContent");c=c.Uw;e=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designProofReview"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+soy.$$escapeHtml(n)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(m)+'\x3c/h1\x3e\x3c/div\x3e\x3cp class\x3d"designProofReview__description"\x3e'+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3cdiv class\x3d"designProofReview__manualDownload designProofReview__manualDownload--hidden"\x3e\x3c/div\x3e\x3cdiv class\x3d"designProofReview__checklist designProofReview__checklist--hidden"\x3e'+
f9({Nr:d})+f9({Nr:e})+'\x3c/div\x3e\x3cdiv class\x3d"designProofReview__progressbarContainer"\x3e\x3cp class\x3d"designProofReview__generatingPdf"\x3e'+soy.$$escapeHtml(l)+'\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"designProofReview__actionButtons designProofReview__actionButtons--hidden"\x3e'+n_({tagName:"a",href:k,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:"designProofReview__actionButton buttonSecondary designProofReview__supportLink",text:c})+
n_({v:"designProofReview__actionButton designProofReview__checkoutButton",text:g,disabled:!0})+"\x3c/div\x3e\x3c/div\x3e");d=$;g=h$;a=F9(a.C7);soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"actionButtonsHtml",b,"soydata.SanitizedHtml");soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"designProofReviewHtml",e,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(g)||
g instanceof goog.soy.data.SanitizedContent,"designProofReviewPageName",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"orderSummaryHtml",a,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderForm"\x3e\x3cdiv class\x3d"contentPanel printOrderForm__mainContentPanel"\x3e'+V8({v:"printOrderForm__pagesPanel",O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+
S8({content:e,name:g,visible:!0}))})+'\x3c/div\x3e\x3cdiv class\x3d"printOrderForm__hiddenSidePanel"\x3e\x3cdiv class\x3d"contentPanel"\x3e\x3cdiv class\x3d"printOrderForm__orderSummaryContainer"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e"+t1({v:"printOrderForm__formActions",buttons:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+soy.$$escapeHtml(b))})+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");b=d(b.toString());a=new g9(b.find(".designProofReview"));d=J9(b.find(".printOrderSummary"));return new b$(b,
a,d)}b$.prototype.fg=function(){var a=this.$el.find(".printOrderForm__pagesPanel");return new P8(a)};function i$(a){a=a.$el.find(".printOrderForm__formActions");w(a.hasClass("settingsFormActions"),"the given element {} is not an FormActionsView",a.get(0));return new x1(a)}
function j$(a,b){var c=a.$el.find(".printOrderForm__hiddenSidePanel");if(b===c.hasClass("printOrderForm__hiddenSidePanel--visible"))return P.resolve();c.toggleClass("printOrderForm__hiddenSidePanel--visible",b);return P.all([Cf(c[0]),k$(a)])}
function k$(a){var b=a.$el.find(".printOrderForm__hiddenSidePanel").hasClass("printOrderForm__hiddenSidePanel--visible"),c=a.$el.find(".printOrderForm__mainContentPanel");a=b?0:(a.$el.width()-c.width())/2;c.css("transform","translate3d("+a+"px, 0, 0)");return Cf(c[0])}function l$(a,b){a.$el.find(".printOrderForm__addressDetailsContinueButton").toggleClass("submitting",b)}function m$(a,b){a.$el.find(".printOrderForm__paymentAndConfirmationPayNowButton").toggleClass("submitting",b)}
function n$(a,b){a.$el.find(".printOrderForm__paymentAndConfirmationBackButton").prop("disabled",!b)}var h$="DESIGN_PROOF_REVIEW",e$="BACK_TO_ADDRESS_DETAILS",g$="BACK_TO_DESIGN",c$="BACK_TO_PROOFING",d$="CONTINUE_TO_PAYMENT",f$="SUBMIT_ORDER";function o$(a,b,c,d){var e=this;this.view=b;this.qm=null;this.yE=c;this.Ha=d;this.vB=null;this.j=a.j;this.ua=a.ua;this.aa=a.aa;this.zg=a.zg;this.yc=a.yc;this.order=a.order;this.Cc=a.Cc;this.Na=a.Na;this.wd=a.wd;this.FP=a.FP;this.LP=a.LP;this.JP=a.JP;this.KP=a.KP;this.MP=a.MP;this.Ln=a.Ln;this.dB=a.dB;this.oB=a.oB;this.ma=a.ma;this.view.on(c$,function(){return qga(e)});this.view.on(d$,function(){return rga(e)});this.view.on(e$,function(){U8(e.view.fg(),"ADDRESS_DETAILS");e.Ha.$Q();var a=e.view,b={ad:e.Cc.ad(),
Xi:e.Cc.Xi()},b=$(a$(b).toString());y1(i$(a),b);U9(e.Ha,!1)});this.view.on(f$,function(){return sga(e)});this.view.on(g$,function(){return e.dB()})}
function tga(a){var b=pga({q2:Qfa({$i:a.$i,Me:a.Me}),ad:a.Cc.ad(),Xi:a.Cc.Xi(),C7:R9({fa:a.fa,Vm:!0,Wm:!0,qb:a.qb,Ab:a.Ab,ya:a.ya,Ia:a.Ia,bZ:a.order.ld,zd:a.zd})});return{Bb:uga({fa:a.fa,$c:a.$c,j:a.j,aa:a.aa,ua:a.ua,$i:a.$i,zg:a.zg,ag:a.ag,ej:a.ej,yc:a.yc,Pa:a.Pa,qb:a.qb,Ab:a.Ab,dB:a.dB,Ln:a.Ln,order:a.order,oB:a.oB,ya:a.ya,Aa:a.Aa,Cc:a.Cc,Ia:a.Ia,Na:a.Na,wd:a.wd,FP:function(){return Lfa({$c:a.$c,ua:a.ua,Uh:new Set(a.xh.Uh.map(function(a){return $w("printRegion.countries",a)})),ag:a.ag,ej:a.ej,jY:a.xh.id,
El:a.El,Me:a.Me,Cc:a.Cc,Na:a.Na,ec:a.ec,cr:a.P0,ma:a.ma})},JP:function(b){var d={BO:a.Cc.BO()},e=$,d=goog.asserts.assertObject(d,"expected parameter 'messages' of type [orderErrorHeading: string].");soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"errorMessageHtml",b,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderError"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e'+GX()+'\x3ch1 class\x3d"printFlowPage__heading"\x3e'+
soy.$$escapeHtml(d.BO)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderError__content"\x3e\x3cp class\x3d"printOrderError__confirmationEmailMessage"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());return new Z9(e)},KP:function(b){var d=a.DR,e=a.Zs,g=b.y7;b={A7:e.heading(),KR:e.KR(),JR:e.JR()};d=e.Y1(d);g=e.B7(g);e=$;b=goog.asserts.assertObject(b,"expected parameter 'messages' of type [orderReceivedHeading: string, viewHomepageButtonText: string, viewPrintOrdersButtonText: string].");
soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"confirmationEmailMessageHtml",d,"soydata.SanitizedHtml");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"orderReceivedMessageHtml",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("/account#print-orders")||!1,"printOrdersUrl","/account#print-orders","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString("/")||
!1,"homepageUrl","/","string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderReceived"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e'+HX({za:"printOrderReceived__headerIcon"})+'\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(b.A7)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderReceived__content"\x3e\x3cp class\x3d"printOrderReceived__confirmationEmailMessage"\x3e'+soy.$$escapeHtml(d)+"\x3c/p\x3e"+EZ({v:"printOrderReceived__supportInfoMessage",
message:g})+"\x3c/div\x3e"+t1({buttons:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+n_({tagName:"a",href:"/account#print-orders",v:"printOrderReceived__viewPrintOrdersButton buttonSecondary settingsFormActions__button",text:b.KR})+n_({tagName:"a",href:"/",v:"printOrderReceived__viewHomepageButton buttonSubmittable settingsFormActions__button",text:b.JR}))})+"\x3c/div\x3e");b=e(b.toString());return new $9(b)},LP:function(b){b={fa:a.fa,aa:a.aa,ua:a.ua,Yi:a.Yi,Ya:a.Ya,bf:a.bf,Aa:Tc(a.i),
Lf:b.Lf,Me:a.Me,Cc:a.Cc,mi:a.mi,ec:b.ec,fb:a.fb,ma:a.ma,j:a.j};var d=b.fa,e=b.mi.format("printPaymentAndConfirmationCreditCardDetailsLabel"),g=b.mi.Au(),h=b.Ya,k=b.bf,l=b.Aa,m=b.j,n=!!d&&!K8(d.Vh),d=n?l.format("paymentPageSavedTeamCard",d.Vh.Pv):l.XP(),p={hu:l.hu(),zu:l.zu(),Au:g,Dj:e,Ya:h,pz:n,GC:k?null:d,j:m},e=b.Ya,m={V7:b.mi.heading(),LO:b.mi.LO(),px:b.Cc.px()},k=b.Me.sc(5,5),l=Y9(b.ec),g=b.j,h=$;soy.asserts.assertType(goog.isString(p.hu)||p.hu instanceof goog.soy.data.SanitizedContent,"applyCouponButtonText",
p.hu,"string|goog.soy.data.SanitizedContent");n=p.hu;soy.asserts.assertType(goog.isString(p.zu)||p.zu instanceof goog.soy.data.SanitizedContent,"couponCodeInputPlaceholder",p.zu,"string|goog.soy.data.SanitizedContent");d=p.zu;soy.asserts.assertType(goog.isString(p.Au)||p.Au instanceof goog.soy.data.SanitizedContent,"couponCodeLabel",p.Au,"string|goog.soy.data.SanitizedContent");var q=p.Au;soy.asserts.assertType(goog.isString(p.Dj)||p.Dj instanceof goog.soy.data.SanitizedContent,"creditCardLabel",
p.Dj,"string|goog.soy.data.SanitizedContent");var u=p.Dj;soy.asserts.assertType(goog.isBoolean(p.pz)||1===p.pz||0===p.pz,"editingDisabled",p.pz,"boolean");var v=!!p.pz;soy.asserts.assertType(null==p.v||p.v instanceof goog.soy.data.SanitizedContent||goog.isString(p.v),"classes",p.v,"null|string|undefined");var z=p.v;soy.asserts.assertType(null==p.GC||p.GC instanceof goog.soy.data.SanitizedContent||goog.isString(p.GC),"teamCardMessage",p.GC,"null|string|undefined");p=p.GC;n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentForm'+
(z?" "+soy.$$escapeHtmlAttribute(z):"")+'"\x3e'+p1({Ua:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+q1({label:u,v:"paymentForm__cardInputContainer",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"paymentForm__creditCardEditView'+(v?" paymentForm__creditCardEditView--disabled":"")+'" \x3e\x3c/div\x3e'+(p?'\x3cdiv class\x3d"paymentForm__teamCardMessage"\x3e'+soy.$$escapeHtml(p)+"\x3c/div\x3e":""))})+q1({label:q,v:"paymentForm__couponInputContainer",
input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+Efa({Yg:"paymentForm__applyCouponButton buttonSubmittable",bd:n,v:"paymentForm__couponCode",vA:"paymentForm__couponCodeInput",ul:d}))}))})+"\x3c/div\x3e");m=goog.asserts.assertObject(m,"expected parameter 'messages' of type [paymentAndConfirmationHeading: string, paymentDetailsHeading: string, shippingAddressHeading: string].");soy.asserts.assertType(n instanceof soydata.SanitizedHtml||n instanceof soydata.UnsanitizedText||goog.isString(n),
"paymentFormHtml",n,"soydata.SanitizedHtml");l=goog.asserts.assertObject(l,"expected parameter 'shippingAddressSummary' of type [city: string, countryName: string, name: string, phone: string, street1: string, street2: null|string, subdivisionName: null|string, zipCode: string].");soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",k,"string|goog.soy.data.SanitizedContent");k=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printPaymentAndConfirmation"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+
soy.$$escapeHtml(k)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(m.V7)+"\x3c/h1\x3e\x3c/div\x3e"+o1({heading:m.LO,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+soy.$$escapeHtml(n))})+o1({heading:m.px,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+p1({Ua:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+Y8({Ud:l,v:"printPaymentAndConfirmation__shippingAddress"}))}))})+"\x3c/div\x3e");h=h(k.toString());
k=h.find(".paymentForm");e=(new H1({Ay:!1,Ya:e,j:g})).render();k.find(".paymentForm__creditCardEditView").empty().append(e.$el);e=new C8(k,e);e=new W9(h,e);g=e.Vn;h=g.$el.find(".paymentForm__creditCardEditView").hasClass("paymentForm__creditCardEditView--disabled");h=new G1({Aj:b.aa,D:b.ua,Cd:!b.fa||K8(b.fa.Vh)?null:b.fa.Vh,Xe:!h,mf:b.fb,view:g.Zi,Ya:b.Ya});h.refresh();b=new I8(b,g,h);return{Bb:new X9(e,b),view:e}},MP:function(){var b=a.mi.format("printPaymentAndConfirmationProcessingPayment"),d=
$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"heading",b,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printPaymentProgress"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printPaymentProgress__content"\x3e'+i1({v:"printPaymentProgress__loadingBar",progress:0},void 0)+"\x3c/div\x3e\x3c/div\x3e");
d=d(b.toString());k1(d.find(".printPaymentProgress__loadingBar"));return new V9(d)},ec:a.ec,zd:a.zd,ma:a.ma},b),view:b}}function uga(a,b){var c=Sfa({j:a.j,GL:tm(),i:a.$i,fO:function(){vga(e)},pB:a.order.id,Na:a.Na},b.yE),d=P9({fa:a.fa,aa:a.aa,ih:function(){return P.resolve()},Vm:!0,Wm:!0,kh:function(){return a.order.ld},yc:a.yc,Pa:a.Pa,qb:a.qb,Ab:a.Ab,Nn:function(){},ya:a.ya,Aa:a.Aa,Ia:a.Ia,tk:function(){}},b.Ha),e=new o$(a,b,c,d);return e}
o$.prototype.Le=function(){var a=this;k$(this.view).then(function(){return Ufa(a.yE)});this.Ha.Le()};function vga(a){var b=a.view.fg();if(!R8(b,"ADDRESS_DETAILS")){var c=a.FP(),d=c.view;a.qm=c.Bb;Q8(b,"ADDRESS_DETAILS",d.$el)}U8(b,"ADDRESS_DETAILS").then(function(){a.qm.view.$el.find(".addressDetailsAddress__nameInput input").focus();j$(a.view,!0)});b=X(X(new Zl("print_review_continue_to_checkout"),"section","editor"),"location","print_review");a.j.va(b)}
function qga(a){j$(a.view,!1).then(function(){return U8(a.view.fg(),h$)})}
function rga(a){z3(a.qm.S$).then(function(b){if(b){var c=a.view.fg(),d=a.qm.tv();if(R8(c,"PAYMENT_AND_CONFIRMATION"))a.vB.vQ(d);else{b=a.LP({Lf:a.Ha.Lf,ec:d});var e=b.view;a.vB=b.Bb;Q8(c,"PAYMENT_AND_CONFIRMATION",e.$el)}b=P.all([a.Ha.FH,Mfa(a.qm),a.order.Um?wga(a):a.BI()]);U9(a.Ha,!0);l$(a.view,!0);i$(a.view).jg();b.then(function(){U8(c,"PAYMENT_AND_CONFIRMATION");a.Ha.aR();var b=a.view,d=a.Cc.ad(),e=a.Cc.U7(),l=$;soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,
"backButtonText",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"payNowButtonText",e,"string|goog.soy.data.SanitizedContent");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(n_({v:"printOrderForm__paymentAndConfirmationBackButton settingsFormActions__button buttonSecondary",text:d})+n_({v:"printOrderForm__paymentAndConfirmationPayNowButton settingsFormActions__button buttonSubmittable",text:e}));l=l(d.toString());y1(i$(b),
l)}).then(function(){var b=a.order.id,b=X(new Zl("print_checkout_address"),"order_id",b);a.j.va(b)}).catch(function(a){return!!a&&a instanceof pj&&403===Kk(a)&&!!a.message&&-1!==["shippingAddress.zipCode","address.zipCode"].indexOf(a.message.errorKey)},function(){var b=a.Cc.Ga("printOrderFormUpdateOrderInvalidZipcodeHtml",d.uf);i$(a.view).uk(b);U9(a.Ha,!1)}).catch(function(a){return!!a&&a instanceof pj&&403===Kk(a)&&!!a.message&&-1!==["shippingAddress.phone","address.phone"].indexOf(a.message.errorKey)},
function(){var b=a.Cc.format("printOrderFormUpdateOrderInvalidContactNumber");i$(a.view).uk(b);U9(a.Ha,!1)}).catch(function(){var b=a.view,c=a.Cc.Ga("printOrderFormUpdateOrderErrorHtml","https://support.canva.com/troubleshooting/canva-print");i$(b).uk(c);U9(a.Ha,!1)}).finally(function(){return l$(a.view,!1)})}})}
function wga(a){Fa(a.order.Um,'Order "{}" is already mutable',a.order.id);var b=new h7({Ve:a.Ha.ya.yd,document:a.order.document,ld:a.order.ld,ff:a.order.ff,ng:a.Ha.Mp(),ec:a.qm.tv(),Ja:a.Ha.pl(),wd:a.wd});return a.Na.iE(b).then(function(b){return a.order=p$(a,b.order)}).then(function(){return N9(a.Ha)})}o$.prototype.BI=function(){var a=this,b=new j7({Ve:this.Ha.ya.yd,id:this.order.id,ng:this.Ha.Mp(),ec:this.qm.tv(),Ja:this.Ha.pl()});return this.Na.BI(b).then(function(b){p$(a,b.order);return b})};
o$.prototype.EB=function(a){var b=this;return this.vB.EB(a).then(function(c){c||q$(b,"payment",a);return c})};
function sga(a){var b=a.order,c=ofa(a.order.id);a.j.va(c);m$(a.view,!0);n$(a.view,!1);xga(a).then(function(){return a.EB(a.order.id)}).then(function(c){if(c){var e=a.view.fg();R8(e,"PAYMENT_PROGRESS")||(c=a.MP(),Q8(e,"PAYMENT_PROGRESS",c.$el));return j$(a.view,!1).then(function(){return U8(e,"PAYMENT_PROGRESS")}).then(function(){return yga(a,a.order.id)}).then(function(){var c=a.view.fg(),d=a.KP({y7:b.id});Q8(c,"ORDER_RECEIVED",d.$el);U8(c,"ORDER_RECEIVED");var c=a.zg,d=a.Ha.dn(),e=0<a.Ha.nv().length,
l=b.id,m=a.Ha.gn(),n=b.ng,p=b.Ve,q=a.Ha.pl(),u=b.wh/100,c=X(X(X(X(X(X(X(X(X(new Zl("print_checkout_success"),"template",c),"finish",d),"has_premium_images",e),"order_id",l),"paper",m),"product_sku",n),"quantity",p),"shipping",q),"total_order_price",u);a.j.va(c);a.Ln()})}}).catch(r$,function(){var b=a.view,c=a.Cc.Ga("printOrderFormFinalizeOrderFailureHtml","https://support.canva.com/troubleshooting/canva-print");i$(b).uk(c)}).catch(function(){j$(a.view,!1).then(function(){var b=a.view.fg();if(!R8(b,
"ORDER_ERROR")){var c=a.JP(a.Cc.format("printOrderFormSubmitOrderFailureText"));Q8(b,"ORDER_ERROR",c.$el)}U8(b,"ORDER_ERROR")})}).finally(function(){m$(a.view,!1);n$(a.view,!0)})}function xga(a){return a.order.Um?P.resolve():a.Na.BI(new j7({id:a.order.id,Um:!0})).then(function(b){return p$(a,b.order)}).then(function(b){return a.order=b}).catch(function(){q$(a,"finalize_order",a.order.id);throw new r$;})}
function yga(a,b){return a.oB.iI(function(a){var d=this;return this.Na.cn(new l7({id:b})).then(function(e){if("FAILED"===e.order.gF)throw q$(d,"pdf_export",b),Error("Export failed for order "+b);"EXPORTED"===e.order.gF&&a(e.order)})}.bind(a))}
function q$(a,b,c){var d=a.zg,e=a.Ha.dn(),g=0<a.Ha.nv().length,h=a.Ha.gn(),k=a.Ha.Mp(),l=a.Ha.ya.yd,m=a.Ha.pl(),n=a.Ha.ND();b=X(X(X(X(X(X(X(X(X(X(new Zl("print_checkout_fail"),"template",d),"failure_reason",b),"finish",e),"has_premium_images",g),"order_id",c),"paper",h),"product_sku",k),"quantity",l),"shipping",m),"total_order_price",n);a.j.va(b)}function p$(a,b){if(a.Ha.mV()!==b.$H)throw new s$;return b}
o$.prototype.destroy=function(){this.yE.destroy();this.Ha.destroy();this.qm&&this.qm.destroy();this.vB&&this.vB.destroy();this.view.remove()};function r$(){}r(r$,Error);function s$(){}r(s$,Error);function t$(a,b){var c=this;this.yb=a;this.sH=b;this.yb.once("remove",function(){return c.sH.destroy()})}
function zga(a){var b=new L7({Gy:a.$c.Gy()}),c=tm(),b=tga({fa:a.fa,$c:a.$c,P0:new K7({Xd:a.Xd,maxLength:50}),j:a.j,aa:a.aa,ua:a.ua,Yi:a.Yi,Ya:a.Ya,$i:a.$i,zg:a.zg,ag:new J7({UM:a.Xd.format("formValidatorInvalidEmpty")}),ej:new L0,yc:a.yc,bf:a.bf,Pa:a.Pa,qb:a.qb,Ab:a.Ab,i:a.i,El:b,dB:function(){d.close()},Ln:a.Ln,order:a.order,oB:c,ya:a.ya,Aa:a.Aa,wd:a.wd,Me:a.Me,Cc:a.Cc,Zs:a.Zs,Ia:a.Ia,mi:a.mi,xh:a.xh,Na:a.Na,ec:a.ec,zd:a.zd,fb:a.fb,DR:a.DR,ma:a.ma});a=b.Bb;var b=new u$({sH:b.view,H:hl}),d=new t$(b,
a);return d}t$.prototype.show=function(){this.yb.show();this.sH.Le()};t$.prototype.close=function(){this.yb.ok()};function u$(a){kp.call(this,{className:"printOrderFormDialog",content:a.sH.$el,H:a.H,yo:!1,Qe:!0,hf:!1})}r(u$,kp);function v$(a){var b;b=b||{};var c="";a=goog.asserts.assertArray(a.images,"expected parameter 'images' of type list\x3cstring\x3e.");for(var d=a.length,e=0;e<d;e++)c+='\x3cdiv class\x3d"printProofingPage__resolutionThumbnailWrapper"\x3e\x3cdiv class\x3d"printProofingPage__resolutionThumbnailContainer" style\x3d"'+(b.Yb?"/*"+b.Yb+"*//*"+b.Yb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(a[e]))+"')\"\x3e\x3c/div\x3e\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)}
function w$(a){soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var b=a.content;soy.asserts.assertType(goog.isString(a.ig)||a.ig instanceof goog.soy.data.SanitizedContent,"headingText",a.ig,"string|goog.soy.data.SanitizedContent");var c=a.ig;soy.asserts.assertType(goog.isString(a.sc)||a.sc instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",a.sc,"string|goog.soy.data.SanitizedContent");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printProofingPage"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+soy.$$escapeHtml(a.sc)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(c)+"\x3c/h1\x3e\x3c/div\x3e"+soy.$$escapeHtml(b)+"\x3c/div\x3e")}
function x$(a){soy.asserts.assertType(a.description instanceof goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"!soydata.SanitizedHtml|string");var b=a.description;soy.asserts.assertType(goog.isString(a.Wj)||a.Wj instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",a.Wj,"string|goog.soy.data.SanitizedContent");var c=a.Wj;soy.asserts.assertType(goog.isString(a.qA)||
a.qA instanceof goog.soy.data.SanitizedContent,"imageClass",a.qA,"string|goog.soy.data.SanitizedContent");var d=a.qA;soy.asserts.assertType(goog.isString(a.Hh)||a.Hh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",a.Hh,"string|goog.soy.data.SanitizedContent");var e=a.Hh;soy.asserts.assertType(null==a.wE||a.wE instanceof goog.soy.data.SanitizedContent||goog.isString(a.wE),"descriptionClasses",a.wE,"null|string|undefined");a=a.wE;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"printProofingPage__description'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+soy.$$escapeHtml(b)+'\x3c/p\x3e\x3cdiv class\x3d"printProofingPage__examplesContainer"\x3e\x3cspan class\x3d"printProofingPage__exampleImage '+soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/span\x3e\x3c/div\x3e\x3cp class\x3d"printProofingPage__helpLink"\x3e\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(c))+'" target\x3d"_blank"\x3e'+soy.$$escapeHtml(e)+"\x3c/a\x3e\x3c/p\x3e")};function y$(a){soy.asserts.assertType(goog.isString(a.ad)||a.ad instanceof goog.soy.data.SanitizedContent,"backButtonText",a.ad,"string|goog.soy.data.SanitizedContent");var b=a.ad;soy.asserts.assertType(goog.isString(a.kj)||a.kj instanceof goog.soy.data.SanitizedContent,"nextButtonText",a.kj,"string|goog.soy.data.SanitizedContent");var c=a.kj;soy.asserts.assertType(goog.isString(a.Zo)||a.Zo instanceof goog.soy.data.SanitizedContent,"backButtonClasses",a.Zo,"string|goog.soy.data.SanitizedContent");
var d=a.Zo;soy.asserts.assertType(goog.isString(a.sq)||a.sq instanceof goog.soy.data.SanitizedContent,"nextButtonClasses",a.sq,"string|goog.soy.data.SanitizedContent");a=a.sq;return soydata.VERY_UNSAFE.ordainSanitizedHtml(n_({v:d+" buttonSecondary printEditorForm__button printEditorForm__backButton",text:b})+n_({v:a+" printEditorForm__button printEditorForm__nextButton",text:c}))};function z$(a,b){var c=this;hc.call(this,a);this.Ha=b;a.on("click",".printEditorForm__orderSummaryBeginOrderButton",function(){return c.trigger(A$)});a.on("click",".printEditorForm__orderSummaryCancelOrderButton",function(){c.trigger(B$)});a.on("click",".printEditorForm__imageResolutionProofBackButton",function(){c.trigger(C$)});a.on("click",".printEditorForm__imageResolutionProofContinueButton",function(){c.trigger(D$)});a.on("click",".printEditorForm__bleedAreaProofBackButton",function(){c.trigger(E$)});
a.on("click",".printEditorForm__bleedAreaProofNextButton",function(){c.trigger(F$)});a.on("click",".printEditorForm__safeAreaProofBackButton",function(){c.trigger(G$)});a.on("click",".printEditorForm__safeAreaProofNextButton",function(){c.trigger(H$)})}r(z$,hc);z$.prototype.fg=function(){var a=this.$el.find(".printEditorForm__pagesPanel");return new P8(a)};function I$(a,b){a.$el.find(".printEditorForm__safeAreaProofNextButton").toggleClass("submitting",b)}
function Aga(a){var b=a.$el.find(".printProofingPage__feedbackAlert--highRes"),c=a.$el.find(".printProofingPage__feedbackAlert--lowRes"),d=a.$el.find(".printProofingPage__feedbackAlert--mediumRes");b.addClass("printProofingPage__feedbackAlert--hidden");c.addClass("printProofingPage__feedbackAlert--hidden");d.addClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--lowRes").empty();a.$el.find(".printProofingPage__images--mediumRes").empty()}
function Bga(a,b){a.$el.find(".printProofingPage__feedbackAlert--mediumRes").removeClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--mediumRes").append(v$({images:b}).toString())}function Cga(a,b){a.$el.find(".printProofingPage__feedbackAlert--lowRes").removeClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--lowRes").append(v$({images:b}).toString())}
function J$(a,b){a.$el.find(".printEditorForm__footerButtonsContainer").empty().append(b)}var A$="CLICK_BEGIN_ORDER",B$="CLICK_CANCEL_ORDER",C$="CLICK_IMAGE_RESOLUTION_PROOF_BACK",D$="CLICK_IMAGE_RESOLUTION_PROOF_CONTINUE",E$="CLICK_BLEED_AREA_PROOF_BACK",F$="CLICK_BLEED_AREA_PROOF_NEXT",G$="CLICK_SAFE_AREA_PROOF_BACK",H$="CLICK_SAFE_AREA_PROOF_NEXT";var Dga=new Ff("ni",!1);function K$(){}r(K$,Error);
function L$(a,b,c){var d=this;this.view=b;this.Ha=c;this.j=a.j;this.zg=a.zg;this.Ql=a.Ql;this.yc=a.yc;this.kh=a.kh;this.aa=a.aa;this.ua=a.ua;this.oK=a.oK;this.SK=a.SK;this.TK=a.TK;this.ih=a.ih;this.Zm=a.Zm;this.kv=a.kv;this.PM=null;this.wd=a.wd;this.Pd=a.Pd;this.Nf=a.Nf;this.Na=a.Na;this.BQ=a.BQ;this.hm=a.hm;this.ma=a.ma;this.kB=a.kB;this.jB=a.jB;this.aB=a.aB;this.zA=a.zA;this.G=a.G;b.on(A$,function(){return Ega(d)});b.on(B$,function(){d.j.track("print_order_cancelled");d.aB()});b.on(C$,function(){M$(d)});
b.on(D$,function(){N$(d);d.Zm().rt(!0);var a=new Zl("print_proof_resolution");d.j.va(a)});b.on(E$,function(){Fga(d)});b.on(F$,function(){U8(d.view.fg(),"SAFE_AREA_PROOF");var a=d.view,b=d.Pd.ad(),c=d.Pd.kj(),b=$(y$({Zo:"printEditorForm__safeAreaProofBackButton",ad:b,sq:"printEditorForm__safeAreaProofNextButton buttonSubmittable",kj:c}).toString());J$(a,b);a=d.Zm();a.rt(!1);a.jC(!0);a=new Zl("print_proof_bleed");d.j.va(a)});b.on(G$,function(){N$(d);var a=d.Zm();a.jC(!1);a.rt(!0)});b.on(H$,function(){Gga(d)})}
function Hga(a){var b;if(a.G.get(Dga)){b=a.Pd.format("printEditorFormSupportPromptHeader");var c;c=a.Pd.Ga("printEditorFormSupportPromptDescriptionHtml","https://support.canva.com/canva-print/print-customer-service-policy/print-customer-happiness-policy/");b={hg:b,p2:c}}else b=void 0;c=b;var d=a.Pd.$S(),e=a.Pd.kT(),g={Uy:a.Nf.Ga("printProofingBleedAreaNotCoveredHtml"),description:a.Nf.format("printProofingBleedAreaProofDescription"),ig:a.Nf.format("printProofingCheckBleedAreaHeading"),Wj:"https://support.canva.com/canva-print/white-edges/",
sc:a.Me.sc(2,5),Hh:a.Nf.Hh()},h=a.Nf.format("printProofingImagesAreHighResolutionMessage"),k=a.Nf.Ga("printProofingImagesAreMediumResolutionMessageHtml","https://support.canva.com/canva-print/design-quality-check/"),l=a.Nf.Ga("printProofingImagesAreLowResolutionMessageHtml","https://support.canva.com/canva-print/design-quality-check/"),m=a.Nf.format("printProofingCheckResolutionHeading"),n=a.Me.sc(1,5),p=R9({fa:a.fa,Vm:!1,Wm:!1,qb:a.qb,Ab:[],ya:a.ya,Ia:a.Ia,bZ:1<a.kh()?2:1,zd:a.zd}),q={description:a.Nf.format("printProofingSafeAreaProofDescription"),
ig:a.Nf.format("printProofingCheckSafeAreaHeading"),Wj:"https://support.canva.com/canva-print/preparing-your-design-for-print/safe-area/",sc:a.Me.sc(3,5),Hh:a.Nf.Hh()};b=$;soy.asserts.assertType(goog.isString(g.description)||g.description instanceof goog.soy.data.SanitizedContent,"description",g.description,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g.ig)||g.ig instanceof goog.soy.data.SanitizedContent,"headingText",g.ig,"string|goog.soy.data.SanitizedContent");
var u=g.ig;soy.asserts.assertType(goog.isString(g.Wj)||g.Wj instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",g.Wj,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(g.sc instanceof soydata.SanitizedHtml||g.sc instanceof soydata.UnsanitizedText||goog.isString(g.sc),"pageNumberOfTotal",g.sc,"soydata.SanitizedHtml");var v=g.sc;soy.asserts.assertType(goog.isString(g.Hh)||g.Hh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",g.Hh,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(g.Uy instanceof soydata.SanitizedHtml||g.Uy instanceof soydata.UnsanitizedText||goog.isString(g.Uy),"coverageAlertMessageHtml",g.Uy,"soydata.SanitizedHtml");var z=g.Uy,g=soydata.VERY_UNSAFE.ordainSanitizedHtml(w$({ig:u,sc:v,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+x$(soy.$$assignDefaults({qA:"printProofingPage__exampleImage--bleedImage"},g))+IZ({message:z,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--hidden printProofingPage__feedbackAlert--bleedCoverage",
wb:!1}))}));soy.asserts.assertType(h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"alertHighRes",h,"soydata.SanitizedHtml");soy.asserts.assertType(k instanceof soydata.SanitizedHtml||k instanceof soydata.UnsanitizedText||goog.isString(k),"alertMediumRes",k,"soydata.SanitizedHtml");soy.asserts.assertType(l instanceof soydata.SanitizedHtml||l instanceof soydata.UnsanitizedText||goog.isString(l),"alertLowRes",l,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(m)||
m instanceof goog.soy.data.SanitizedContent,"headingText",m,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(n instanceof soydata.SanitizedHtml||n instanceof soydata.UnsanitizedText||goog.isString(n),"pageNumberOfTotal",n,"soydata.SanitizedHtml");h=soydata.VERY_UNSAFE.ordainSanitizedHtml(w$({ig:m,sc:n,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+CZ({message:h,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--highRes",wb:!1})+IZ({message:l,
v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--lowRes printProofingPage__feedbackAlert--hidden",wb:!1})+'\x3cdiv class\x3d"printProofingPage__imageResolutionThumbnails printProofingPage__images--lowRes"\x3e\x3c/div\x3e'+GZ({message:k,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--mediumRes printProofingPage__feedbackAlert--hidden",wb:!1})+'\x3cdiv class\x3d"printProofingPage__imageResolutionThumbnails printProofingPage__images--mediumRes"\x3e\x3c/div\x3e')}));
p=F9(p);soy.asserts.assertType(goog.isString(q.description)||q.description instanceof goog.soy.data.SanitizedContent,"description",q.description,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(q.ig)||q.ig instanceof goog.soy.data.SanitizedContent,"headingText",q.ig,"string|goog.soy.data.SanitizedContent");k=q.ig;soy.asserts.assertType(goog.isString(q.Wj)||q.Wj instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",q.Wj,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(q.sc instanceof
soydata.SanitizedHtml||q.sc instanceof soydata.UnsanitizedText||goog.isString(q.sc),"pageNumberOfTotal",q.sc,"soydata.SanitizedHtml");l=q.sc;soy.asserts.assertType(goog.isString(q.Hh)||q.Hh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",q.Hh,"string|goog.soy.data.SanitizedContent");q=soydata.VERY_UNSAFE.ordainSanitizedHtml(w$({ig:k,sc:l,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+x$(soy.$$assignDefaults({qA:"printProofingPage__exampleImage--safeArea"},q)))}));
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"beginOrderButtonText",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"cancelOrderButtonText",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"bleedAreaProofPageHtml",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("BLEED_AREA_PROOF")||
!1,"bleedAreaProofPageName","BLEED_AREA_PROOF","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"imageResolutionProofHtml",h,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("IMAGE_RESOLUTION_PROOF")||!1,"imageResolutionProofPageName","IMAGE_RESOLUTION_PROOF","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(p instanceof soydata.SanitizedHtml||p instanceof soydata.UnsanitizedText||
goog.isString(p),"orderSummaryHtml",p,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("ORDER_SUMMARY")||!1,"orderSummaryPageName","ORDER_SUMMARY","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(q instanceof soydata.SanitizedHtml||q instanceof soydata.UnsanitizedText||goog.isString(q),"safeAreaProofPageHtml",q,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("SAFE_AREA_PROOF")||!1,"safeAreaProofPageName","SAFE_AREA_PROOF","string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(null==c||goog.isObject(c),"supportPrompt",c,"null|undefined|{descriptionHtml: (!soydata.SanitizedHtml|string), header: string}");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printEditorForm"\x3e\x3cdiv class\x3d"printEditorForm__content"\x3e'+V8({v:"printEditorForm__pagesPanel",zv:!0,O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S8({content:p,name:"ORDER_SUMMARY",visible:!0})+S8({content:h,name:"IMAGE_RESOLUTION_PROOF"})+S8({content:g,name:"BLEED_AREA_PROOF"})+
S8({content:q,name:"SAFE_AREA_PROOF"}))})+'\x3c/div\x3e\x3cdiv class\x3d"printEditorForm__footer"\x3e'+(null!=c?'\x3cdiv class\x3d"printEditorForm__supportPrompt"\x3e'+HX({za:"printEditorForm__supportPromptIcon"})+'\x3cdiv  class\x3d"printEditorForm__supportPromptText"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(c.hg)+'\x3c/strong\x3e\x3cdiv class\x3d"printEditorForm__supportPromptDescription"\x3e'+soy.$$escapeHtml(c.p2)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e":"")+'\x3cdiv class\x3d"printEditorForm__footerButtonsContainer"\x3e'+
y$({kj:d,sq:"printEditorForm__orderSummaryBeginOrderButton",ad:e,Zo:"printEditorForm__orderSummaryCancelOrderButton"})+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");b=b(c.toString());c=J9(b.find(".printOrderSummary"));b=new z$(b,c);c=P9({fa:a.fa,aa:a.aa,ih:a.ih,Vm:!1,Wm:!1,kh:a.kh,yc:a.yc,Pa:a.Pa,qb:a.qb,Ab:[],Nn:a.Nn,ya:a.ya,Aa:a.Aa,Ia:a.Ia,tk:a.tk},b.Ha);return{Bb:new L$(a,b,c),view:b}}f=L$.prototype;f.Le=function(){this.Ha.Le()};
function M$(a){U8(a.view.fg(),"ORDER_SUMMARY");var b=a.view,c=a.Pd.$S();a=a.Pd.kT();c=$(y$({Zo:"printEditorForm__orderSummaryCancelOrderButton",ad:a,sq:"printEditorForm__orderSummaryBeginOrderButton",kj:c}).toString());J$(b,c)}f.LL=function(){return tj(this.aa,new qi({tm:[this.ua],limit:1})).then(function(a){return la(a.Xt).next().value})};function Iga(a){return Rea(a.Na,new p7({D:a.ua,user:a.ma})).then(function(a){return(a=la(a.qJ).next().value)&&a.Ud})}
f.iE=function(){var a=new h7({Ve:this.Ha.ya.yd,document:this.yc(),ld:this.Ha.jc(),ng:this.Ha.Mp(),ff:this.Ql,Ja:this.Ha.pl(),wd:this.wd});return this.Na.iE(a).then(function(a){return a.order})};
function O$(a){var b=a.view.fg();return a.kv().then(function(b){return P$(a,Q$(a,b))}).finally(function(){U8(b,"IMAGE_RESOLUTION_PROOF");var c=a.view,d=a.Pd.ad(),e=a.Pd.Xi(),d=$(y$({Zo:"printEditorForm__imageResolutionProofBackButton",ad:d,sq:"printEditorForm__imageResolutionProofContinueButton",kj:e}).toString());J$(c,d);a.kB()})}
function N$(a){U8(a.view.fg(),"BLEED_AREA_PROOF");var b=a.view,c=a.Pd.ad(),d=a.Pd.kj(),c=$(y$({Zo:"printEditorForm__bleedAreaProofBackButton",ad:c,sq:"printEditorForm__bleedAreaProofNextButton",kj:d}).toString());J$(b,c);R$(a);a.jB()}
function R$(a){var b=a.Ha.Rj(),c=a.Ha.jc(),c=_.range(0,c),c=(b=a.zA(c,b))?a.Pd.kj():a.Pd.format("printEditorFormContinueAnywayButtonText");a.view.$el.find(".printEditorForm__bleedAreaProofNextButton").empty().append(c);a.view.$el.find(".printProofingPage__feedbackAlert--bleedCoverage").toggleClass("printProofingPage__feedbackAlert--hidden",b)}f.tO=function(){N9(this.Ha)};
f.mO=function(){var a=this,b=this.PM;b&&b.cancel();this.PM=this.ih().cancellable().then(this.kv).then(function(b){return P$(a,Q$(a,b))}).catch(P.CancellationError,$.noop).finally(function(){return a.PM=null})};f.gO=function(){R$(this)};
function Ega(a){1<a.Ha.jc()&&1===a.kh()?(new oz({content:$("\x3cp\x3e"+a.Pd.format("printEditorFormCannotPrintTwoSidesDescription")+"\x3c/p\x3e"),title:a.Pd.format("printEditorFormCannotPrintTwoSides")})).show():O$(a).then(function(){return a.Ha.FH}).then(function(){var b=a.zg,c=a.Ha.dn(),d=0<a.Ha.nv().length,e=a.Ha.gn(),g=a.Ha.Mp(),h=a.Ha.ya.yd,k=a.Ha.pl(),l=a.Ha.ND(),b=X(X(X(X(X(X(X(X(new Zl("print_start_order"),"template",b),"finish",c),"has_premium_images",d),"paper",e),"product_sku",g),"quantity",
h),"shipping",k),"total_order_price",l);a.j.va(b)})}function Fga(a){O$(a).then(function(){a.Zm().rt(!1)})}
function Gga(a){I$(a.view,!0);a.ih().catch(function(){throw new K$;}).then(function(){return P.all([a.LL(),Iga(a),a.iE()])}).then(function(b){var d=la(b);b=d.next().value;var e=d.next().value,d=d.next().value;a.oK({fa:b,Yi:b&&b.Vh,qb:new Map,Ab:a.Ha.nv(),order:d,ec:e}).show()}).catch(K$,function(){(new oz({content:$("\x3cp\x3ePlease try again after the error is resolved\x3c/p\x3e"),title:"Design changes failed to save"})).show()}).catch(pj,function(b){409===b.jI&&a.BQ()}).finally(function(){return I$(a.view,
!1)});var b=new Zl("print_proof_safe_area");a.j.va(b)}f.destroy=function(){this.view.remove()};function Q$(a,b){var c=a.SK,d=a.TK,e=a.Ha.Rj(),g=a.Ha.jc();return b.filter(function(a){return a.xG}).filter(function(a){return a.Us<g}).map(function(a){var b=a.xG.oS.o(),g=a.Ba.o(),b=b/g*(c/e.Vj)*25400,g=a.xG.oS.l(),m=a.Ba.l(),b=Math.min(b,g/m*(d/e.vj)*25400);return{SP:120>b?"LOW":150>b?"MEDIUM":"HIGH",rd:a.xG.ny.url}}).filter(function(a){return"HIGH"!==a.SP})}
function P$(a,b){Aga(a.view);if(0===b.length)a.view.$el.find(".printProofingPage__feedbackAlert--highRes").removeClass("printProofingPage__feedbackAlert--hidden");else{var c=b.filter(function(a){return"LOW"===a.SP});b=b.filter(function(a){return"MEDIUM"===a.SP});0!==c.length&&Cga(a.view,c.map(function(a){return a.rd}));0!==b.length&&Bga(a.view,b.map(function(a){return a.rd}))}}f.jc=function(){return this.Ha.jc()};function S$(a){var b=this;hc.call(this,a);a.on("click",function(){return b.trigger(T$)})}r(S$,hc);S$.prototype.lx=function(a){this.$el.toggleClass("submitting",a)};var T$="CLICK_SEND_TO_PRINT";var Jga=new Ff("pu",!1);function U$(a,b){var c=this;this.view=b;this.ua=a.ua;this.me=a.me;this.j=a.j;this.bj=a.bj;this.Op=a.Op;this.yc=a.yc;this.qM=a.qM;this.mA=a.mA;this.iB=a.iB;this.tH=a.tH;this.IP=a.IP;this.HP=a.HP;this.wi=a.wi;this.tx=a.tx;this.bI=a.bI;this.ZX=this.xh=this.Ee=null;this.Na=a.Na;this.aa=a.aa;this.tr=a.tr;this.JQ=null;this.tf=a.tf;this.Rl=a.Rl;b.on(T$,function(){return Kga(c)})}
function gaa(a){var b=$,c;c=a.v9;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"sendToPrintButtonText",c,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml(n_({v:"editorActionPrint buttonSubmittable",text:c}));b=b(c.toString());b=new S$(b);return{Bb:Lga(a,b),view:b}}
function Lga(a,b){function c(){(new oz({content:$("\x3cp\x3eYour version of this design has become out of sync with the server. Usually this means someone else has started editing it. Reload the page and try again\x3c/p\x3e"),title:"Design out of sync"})).show()}var d=yd(a.i),e=a.G.get(Jga)?Mga:M8;return new U$({tr:a.tr,j:a.j,aa:a.aa,ua:a.ua,me:a.me,bj:a.bj,yc:a.yc,Op:a.Op,mA:a.mA,iB:a.iB,Na:a.Na,HP:function(b){var c=a.j,d=y(b.m2.u(),"The doctype must have an id"),e=a.yc(),m=a.Sa,n=a.fV()||"",p=a.i;
p.pR||(p.pR=new xf(p.config));return dfa({j:c,wg:"publish_print",jp:d,jz:e,Sa:m,qp:n,i:p.pR,Qs:b.Qs,Hq:b.Hq,wc:Cd(a.i),wo:!1,xo:!1,uca:null}).view},IP:function(b){var e=kga({attributes:b.attributes,Zc:b.Zc,Cb:b.x8});return Hga({fa:b.fa,j:a.j,aa:a.aa,ua:a.ua,oK:function(c){var d=c.fa,m;m=a.i;m.$c||(m.$c=new rf(m.config));m=m.$c;var n=a.j,p=a.aa,q=a.ua,u=c.Yi,v=cd(a.i),z;z=a.i;z.$i||(z.$i=new sf(z.config));z=z.$i;var t=b.zg,x=ad(a.i),H=a.yc,E=a.bf,L=Vc(a.i),J=c.qb,Q=c.Ab,S=a.i,N=b.Ln,ha=c.order,fa=
o9({fk:b.fk,wc:Cd(a.i),Ia:wd(a.i),tc:e,Ub:b.Ub,Ql:b.xh.id,Mw:k8,yd:c.order.Ve,eQ:c.order.ng,fQ:c.order.AQ.Ja,zd:b.zd}),ta=Tc(a.i),Za=b.wd,pa=ud(a.i),ba;ba=a.i;ba.Cc||(ba.Cc=new uf(ba.config));ba=ba.Cc;var Aa;Aa=a.i;Aa.Zs||(Aa.Zs=new qf(Aa.config));Aa=Aa.Zs;var xb=wd(a.i),pb=a.i;pb.mi||(pb.mi=new tf(pb.config));return zga({fa:d,$c:m,j:n,aa:p,ua:q,Yi:u,Ya:v,$i:z,zg:t,Xd:x,yc:H,bf:E,Pa:L,qb:J,Ab:Q,i:S,Ln:N,order:ha,ya:fa,Aa:ta,wd:Za,Me:pa,Cc:ba,Zs:Aa,Ia:xb,mi:pb.mi,xh:b.xh,Na:a.Na,ec:c.ec,zd:b.zd,fb:a.fb,
DR:a.tf.fj(),ma:a.tf.u()})},SK:Rg(a.me.sb).height,TK:Rg(a.me.sb).width,zg:b.zg,ih:a.ih,kh:a.kh,Zm:a.Zm,yc:a.yc,kv:a.kv,zA:a.zA,Pa:Vc(a.i),qb:new Map,aB:b.aB,Nn:a.tx,jB:b.jB,kB:b.kB,ya:o9({fk:b.fk,wc:Cd(a.i),Ia:wd(a.i),tc:e,Ub:b.Ub,Ql:b.xh.id,Mw:k8,cC:b.cC,fQ:"STANDARD",zd:b.zd}),Aa:Tc(a.i),Pd:d,Me:ud(a.i),Ia:wd(a.i),Nf:Ad(a.i),Na:a.Na,wd:b.wd,Ql:b.xh.id,tk:a.tk,zd:b.zd,BQ:c,hm:a.hm,ma:a.tf.u(),G:a.G})},wi:a.wi,tx:a.tx,bI:function(){(new oz({content:$("\x3cp\x3e"+d.Ga("printEditorFormErrorStateMessageHtml",
Nga).toString()+"\x3c/p\x3e"),title:d.format("printEditorFormErrorStateHeading")})).show()},tf:a.tf,Rl:a.Rl,qM:e,tH:L3},b)}function V$(a){W$(a,!1).then(function(){null!=a.Ee&&M$(a.Ee)})}f=U$.prototype;f.tO=function(){null!=this.Ee&&this.Ee.tO()};
function iaa(a,b){var c=y(b.u(),"The doctype must have an id");if(a.me.u()!==c){a.me=b;var d=a.Op();a.wi(!1);a.Ee&&(a.Ee.destroy(),a.Ee=null);d.qh()&&(d.$el.find(".editorSideDrawer__content").empty(),X8(d,!0),X$(a).then(function(b){var d=a.tH(b.id,c);return Y$(a,b,d)}).catch(function(){return a.bI()}).finally(function(){return X8(d,!1)}))}}f.mO=function(){null!=this.Ee&&this.Ee.mO()};f.gO=function(){null!=this.Ee&&this.Ee.gO()};
function Kga(a){a.view.lx(!0);var b=a.Op(),c=y(a.me.u(),"The doctype must have an id"),d=b.qh();return X$(a).then(function(b){var g=a.tH(b.id,c);Oga(a,{uc:c,w7:!d,u8:!!g,u$:!0});return d?V$(a):Y$(a,b,g).then(function(){W$(a,!0)})}).catch(function(){return a.bI()}).finally(function(){return a.view.lx(!1)})}function X$(a){return a.xh?P.resolve(a.xh):M3(a.Na).then(function(b){a.xh=y(b.JB[0],"Current country must have a print region.");return a.xh})}
function Y$(a,b,c){var d=a.Op();return c?a.Ee?P.resolve():Pga(a,b,c,d):Qga(a,d)}function Qga(a,b){function c(b){return a.bj.kb(new Hv({id:b.me,Vp:!1})).then(function(c){a.ZX=b.vb;a.Rl(c.uc)})}return Uea(a.Na).then(function(d){var e=d.oP.filter(function(a){return null!=a.doctype}).map(function(a){var b=d.uH.vH.get(a.Ub),c=d.uH.sw.get(a.vb);a=a.doctype;if(!b||!c)throw new Z$;return{Ub:b,vb:c,me:a}}),e=a.HP({m2:a.me,Qs:c,Hq:e});b.po(e.$el)})}
function Pga(a,b,c,d){return P.all([Vea(a.Na,new F7({fc:b.Uh[0],currency:"USD",Ub:c,Iq:["PRICES"]})),a.LL()]).then(function(e){var g=la(e);e=g.next().value;g=g.next().value;if(null==e.Cb)throw Error("Expected FindPrintProductsResponse.prices to be non null");e=a.IP({fa:g,attributes:e.attributes,zg:y(a.me.u(),"documentType must have an id"),aB:function(){return V$(a)},Ln:function(){return V$(a)},jB:function(){return a.wi(!0)},kB:function(){return a.wi(!1)},fk:a.qM(c),xh:b,x8:e.Cb.Zc,Zc:e.Zc,Ub:c,wd:e.Cb.wd,
cC:a.ZX,zd:e.Cb.zQ,fQ:"STANDARD"});g=e.Bb;d.po(e.view.$el);g.Le();a.JQ=d.tr(a.tr);a.Ee=g})}function Oga(a,b){b=X(X(X(X(X(X(new Zl("print_button_click"),"section","editor"),"location","menu_bar"),"template",b.uc),"toggled",b.u$),"side_drawer_opened",b.w7),"print_supported_doc_type",b.u8);a.j.va(b)}function W$(a,b){return a.Op().vt(b).then(function(){if(b)a.Ee&&a.tx(a.Ee.jc());else{if(a.Ee){var c=a.Ee.Zm();c.rt(!1);c.jC(!1)}a.wi(!1);a.mA()}}).then(function(){return a.iB()})}
f.LL=function(){return tj(this.aa,new qi({tm:[this.ua],limit:1})).then(function(a){return la(a.Xt).next().value})};f.destroy=function(){this.view.remove();this.JQ&&this.JQ.remove();this.Ee&&this.Ee.destroy()};var Nga="https://support.canva.com/canva-print/";function Z$(){}r(Z$,Error);function $$(a){j8.apply(this,arguments)}r($$,j8);
function C9(a){var b=$,c;c=a.v;var d=a.xi,e=a.wt,g=a.value,h=a.da,k=a.selected;a=a.LZ;soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"classes",c,"null|string|undefined");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"shippingLabel",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"shippingDescription",e,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(h instanceof goog.soy.data.SanitizedContent||h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"price",h,"!soydata.SanitizedHtml|string");soy.asserts.assertType(null==k||goog.isBoolean(k)||1===k||0===k,"selected",k,"boolean|null|undefined");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"value",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a)||1===a||0===a,"strikethroughPrice",
a,"boolean");a=!!a;c=soydata.VERY_UNSAFE.ordainSanitizedHtml(X7({label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"shippingOption__label shippingOption__freeShipping"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+soy.$$escapeHtml(d)+'\x3c/span\x3e\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+soy.$$escapeHtml(h)+"\x3c/span\x3e\x3c/div\x3e"),value:g,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(d)+
'" data-price\x3d"'+soy.$$escapeHtmlAttribute(h)+'"'+(a?'data-strike-through-price\x3d"true"':"")),v:c,description:e,selected:k}));b=b(c.toString());return K9(b)}function K9(a){return new $$(a)}
$$.prototype.mh=function(){var a;if(0<this.$el.find(".shippingOption__freeShipping").length){a=this.$el.attr("data-label").toString();var b=this.$el.attr("data-price").toString(),c=null!=this.$el.attr("data-strike-through-price");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"shippingLabel",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b instanceof goog.soy.data.SanitizedContent||b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||
goog.isString(b),"price",b,"!soydata.SanitizedHtml|string");soy.asserts.assertType(goog.isBoolean(c)||1===c||0===c,"strikethroughPrice",c,"boolean");c=!!c;a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shippingSelectionLabel shippingSelectionLabel__freeShipping"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e"+(c?'\x3cspan class\x3d"shippingSelectionLabel__price"\x3e\x3cdel\x3e'+soy.$$escapeHtml(b)+"\x3c/del\x3e\x3c/span\x3e":'\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+
soy.$$escapeHtml(b)+"\x3c/span\x3e")+"\x3c/div\x3e")}else a=Y7({xi:this.$el.attr("data-label").toString(),da:this.$el.attr("data-price").toString()});return a};function Mga(a){switch(a){case "INVITATION":return[25,50,100,150,200,250,500,1E3];default:return M8(a)}}function Yfa(a){switch(a){case "INVITATION":return 100;default:return L8(a).Iu}};})();
